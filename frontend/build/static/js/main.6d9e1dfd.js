/*! For license information please see main.6d9e1dfd.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},127:(e,t,n)=>{var r=n(2125);e.exports=function(e,t){return r(e,t,"pre")}},141:e=>{e.exports=function(e){return void 0===e}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},191:(e,t,n)=>{"use strict";var r=n(5750);e.exports=i;var o="\0";function i(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[o]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(e,t){e[t]?e[t]++:e[t]=1}function s(e,t){--e[t]||delete e[t]}function u(e,t,n,o){var i=""+t,a=""+n;if(!e&&i>a){var s=i;i=a,a=s}return i+"\x01"+a+"\x01"+(r.isUndefined(o)?"\0":o)}function l(e,t){return u(e,t.v,t.w,t.name)}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(e){return this._label=e,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultNodeLabelFn=e,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return r.keys(this._nodes)},i.prototype.sources=function(){var e=this;return r.filter(this.nodes(),function(t){return r.isEmpty(e._in[t])})},i.prototype.sinks=function(){var e=this;return r.filter(this.nodes(),function(t){return r.isEmpty(e._out[t])})},i.prototype.setNodes=function(e,t){var n=arguments,o=this;return r.each(e,function(e){n.length>1?o.setNode(e,t):o.setNode(e)}),this},i.prototype.setNode=function(e,t){return r.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=o,this._children[e]={},this._children[o][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},i.prototype.node=function(e){return this._nodes[e]},i.prototype.hasNode=function(e){return r.has(this._nodes,e)},i.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},i.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t=o;else{for(var n=t+="";!r.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},i.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},i.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==o)return t}},i.prototype.children=function(e){if(r.isUndefined(e)&&(e=o),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else{if(e===o)return this.nodes();if(this.hasNode(e))return[]}},i.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},i.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},i.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},i.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},i.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;r.each(this._nodes,function(n,r){e(r)&&t.setNode(r,n)}),r.each(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))});var o={};function i(e){var r=n.parent(e);return void 0===r||t.hasNode(r)?(o[e]=r,r):r in o?o[r]:i(r)}return this._isCompound&&r.each(t.nodes(),function(e){t.setParent(e,i(e))}),t},i.prototype.setDefaultEdgeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return r.values(this._edgeObjs)},i.prototype.setPath=function(e,t){var n=this,o=arguments;return r.reduce(e,function(e,r){return o.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r}),this},i.prototype.setEdge=function(){var e,t,n,o,i=!1,s=arguments[0];"object"===typeof s&&null!==s&&"v"in s?(e=s.v,t=s.w,n=s.name,2===arguments.length&&(o=arguments[1],i=!0)):(e=s,t=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],i=!0)),e=""+e,t=""+t,r.isUndefined(n)||(n=""+n);var l=u(this._isDirected,e,t,n);if(r.has(this._edgeLabels,l))return i&&(this._edgeLabels[l]=o),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[l]=i?o:this._defaultEdgeLabelFn(e,t,n);var c=function(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var a=o;o=i,i=a}var s={v:o,w:i};r&&(s.name=r);return s}(this._isDirected,e,t,n);return e=c.v,t=c.w,Object.freeze(c),this._edgeObjs[l]=c,a(this._preds[t],e),a(this._sucs[e],t),this._in[t][l]=c,this._out[e][l]=c,this._edgeCount++,this},i.prototype.edge=function(e,t,n){var r=1===arguments.length?l(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return this._edgeLabels[r]},i.prototype.hasEdge=function(e,t,n){var o=1===arguments.length?l(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return r.has(this._edgeLabels,o)},i.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?l(this._isDirected,arguments[0]):u(this._isDirected,e,t,n),o=this._edgeObjs[r];return o&&(e=o.v,t=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],s(this._preds[t],e),s(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},i.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var o=r.values(n);return t?r.filter(o,function(e){return e.v===t}):o}},i.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var o=r.values(n);return t?r.filter(o,function(e){return e.w===t}):o}},i.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},247:(e,t,n)=>{var r=n(5750),o=n(8808);e.exports=function(e){return r.filter(o(e),function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])})}},310:(e,t,n)=>{var r=n(1817),o=n(5990),i=n(6140);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},428:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=n(3945),o=function(e,t){return(0,r.sH)(void 0,void 0,void 0,function(){var n;return(0,r.YH)(this,function(o){return n=function(o){return(0,r.sH)(void 0,void 0,void 0,function(){var i;return(0,r.YH)(this,function(r){switch(r.label){case 0:return e(o)?(i=n,[4,t()]):[3,2];case 1:return[2,i.apply(void 0,[r.sent()])];case 2:return[2]}})})},[2,n(void 0)]})})}},433:e=>{function t(){var e={};e._next=e._prev=e,this._sentinel=e}function n(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function r(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=t,t.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return n(t),t},t.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&n(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},t.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,r)),n=n._prev;return"["+e.join(", ")+"]"}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},442:(e,t,n)=>{"use strict";var r=n(3536),o=n(7606),i=n(8335).positionX;e.exports=function(e){(function(e){var t=o.buildLayerMatrix(e),n=e.graph().ranksep,i=0;r.forEach(t,function(t){var o=r.max(r.map(t,function(t){return e.node(t).height}));r.forEach(t,function(t){e.node(t).y=i+o/2}),i+=o+n})})(e=o.asNonCompoundGraph(e)),r.forEach(i(e),function(t,n){e.node(n).x=t})}},447:(e,t,n)=>{"use strict";function r(e,t){return t=t||{},new Promise(function(n,r){var o=new XMLHttpRequest,i=[],a=[],s={},u=function(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:u,headers:{keys:function(){return i},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var l in o.open(t.method||"get",e,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,n){i.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n}),n(u())},o.onerror=r,o.withCredentials="include"==t.credentials,t.headers)o.setRequestHeader(l,t.headers[l]);o.send(t.body||null)})}n.d(t,{h:()=>i});var o=n(5198),i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,o.m)();return(n&&n.fetch||r).apply(void 0,e)}},449:(e,t,n)=>{var r=n(6924),o=n(2761);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},450:(e,t,n)=>{var r=n(755),o=n(5647),i=n(4416),a=n(6272),s=o(function(e){return i(r(e,1,a,!0))});e.exports=s},474:(e,t,n)=>{var r=n(3204),o=n(8122),i=n(6571);e.exports=function(e){return i(e)?r(e,!0):o(e)}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(0).FDLayoutConstants;function o(){}for(var i in r)o[i]=r[i];o.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,o.DEFAULT_RADIAL_SEPARATION=r.DEFAULT_EDGE_LENGTH,o.DEFAULT_COMPONENT_SEPERATION=60,o.TILE=!0,o.TILING_PADDING_VERTICAL=10,o.TILING_PADDING_HORIZONTAL=10,o.TREE_REDUCTION_ON_INCREMENTAL=!1,e.exports=o},function(e,t,n){"use strict";var r=n(0).FDLayoutEdge;function o(e,t,n){r.call(this,e,t,n)}for(var i in o.prototype=Object.create(r.prototype),r)o[i]=r[i];e.exports=o},function(e,t,n){"use strict";var r=n(0).LGraph;function o(e,t,n){r.call(this,e,t,n)}for(var i in o.prototype=Object.create(r.prototype),r)o[i]=r[i];e.exports=o},function(e,t,n){"use strict";var r=n(0).LGraphManager;function o(e){r.call(this,e)}for(var i in o.prototype=Object.create(r.prototype),r)o[i]=r[i];e.exports=o},function(e,t,n){"use strict";var r=n(0).FDLayoutNode,o=n(0).IMath;function i(e,t,n,o){r.call(this,e,t,n,o)}for(var a in i.prototype=Object.create(r.prototype),r)i[a]=r[a];i.prototype.move=function(){var e=this.graphManager.getLayout();this.displacementX=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementX=e.coolingFactor*e.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementY=e.coolingFactor*e.maxNodeDisplacement*o.sign(this.displacementY)),null==this.child||0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),e.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},i.prototype.propogateDisplacementToChildren=function(e,t){for(var n,r=this.getChild().getNodes(),o=0;o<r.length;o++)null==(n=r[o]).getChild()?(n.moveBy(e,t),n.displacementX+=e,n.displacementY+=t):n.propogateDisplacementToChildren(e,t)},i.prototype.setPred1=function(e){this.pred1=e},i.prototype.getPred1=function(){return pred1},i.prototype.getPred2=function(){return pred2},i.prototype.setNext=function(e){this.next=e},i.prototype.getNext=function(){return next},i.prototype.setProcessed=function(e){this.processed=e},i.prototype.isProcessed=function(){return processed},e.exports=i},function(e,t,n){"use strict";var r=n(0).FDLayout,o=n(4),i=n(3),a=n(5),s=n(2),u=n(1),l=n(0).FDLayoutConstants,c=n(0).LayoutConstants,f=n(0).Point,d=n(0).PointD,h=n(0).Layout,p=n(0).Integer,v=n(0).IGeometry,g=n(0).LGraph,y=n(0).Transform;function m(){r.call(this),this.toBeTiled={}}for(var b in m.prototype=Object.create(r.prototype),r)m[b]=r[b];m.prototype.newGraphManager=function(){var e=new o(this);return this.graphManager=e,e},m.prototype.newGraph=function(e){return new i(null,this.graphManager,e)},m.prototype.newNode=function(e){return new a(this.graphManager,e)},m.prototype.newEdge=function(e){return new s(null,null,e)},m.prototype.initParameters=function(){r.prototype.initParameters.call(this,arguments),this.isSubLayout||(u.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=u.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=u.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=l.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=l.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=l.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=l.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/l.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=l.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},m.prototype.layout=function(){return c.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},m.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental)u.TREE_REDUCTION_ON_INCREMENTAL&&(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),t=new Set(this.getAllNodes()),n=this.nodesWithGravity.filter(function(e){return t.has(e)}),this.graphManager.setAllNodesToApplyGravitation(n));else{var e=this.getFlatForest();if(e.length>0)this.positionNodesRadially(e);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),n=this.nodesWithGravity.filter(function(e){return t.has(e)});this.graphManager.setAllNodesToApplyGravitation(n),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},m.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%l.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var e=new Set(this.getAllNodes()),t=this.nodesWithGravity.filter(function(t){return e.has(t)});this.graphManager.setAllNodesToApplyGravitation(t),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var n=!this.isTreeGrowing&&!this.isGrowthFinished,r=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(n,r),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},m.prototype.getPositionsData=function(){for(var e=this.graphManager.getAllNodes(),t={},n=0;n<e.length;n++){var r=e[n].rect,o=e[n].id;t[o]={id:o,x:r.getCenterX(),y:r.getCenterY(),w:r.width,h:r.height}}return t},m.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var e=!1;if("during"===l.ANIMATE)this.emit("layoutstarted");else{for(;!e;)e=this.tick();this.graphManager.updateBounds()}},m.prototype.calculateNodesToApplyGravitationTo=function(){var e,t,n=[],r=this.graphManager.getGraphs(),o=r.length;for(t=0;t<o;t++)(e=r[t]).updateConnected(),e.isConnected||(n=n.concat(e.getNodes()));return n},m.prototype.createBendpoints=function(){var e=[];e=e.concat(this.graphManager.getAllEdges());var t,n=new Set;for(t=0;t<e.length;t++){var r=e[t];if(!n.has(r)){var o=r.getSource(),i=r.getTarget();if(o==i)r.getBendpoints().push(new d),r.getBendpoints().push(new d),this.createDummyNodesForBendpoints(r),n.add(r);else{var a=[];if(a=(a=a.concat(o.getEdgeListToNode(i))).concat(i.getEdgeListToNode(o)),!n.has(a[0])){var s;if(a.length>1)for(s=0;s<a.length;s++){var u=a[s];u.getBendpoints().push(new d),this.createDummyNodesForBendpoints(u)}a.forEach(function(e){n.add(e)})}}}if(n.size==e.length)break}},m.prototype.positionNodesRadially=function(e){for(var t=new f(0,0),n=Math.ceil(Math.sqrt(e.length)),r=0,o=0,i=0,a=new d(0,0),s=0;s<e.length;s++){s%n==0&&(i=0,o=r,0!=s&&(o+=u.DEFAULT_COMPONENT_SEPERATION),r=0);var l=e[s],p=h.findCenterOfTree(l);t.x=i,t.y=o,(a=m.radialLayout(l,p,t)).y>r&&(r=Math.floor(a.y)),i=Math.floor(a.x+u.DEFAULT_COMPONENT_SEPERATION)}this.transform(new d(c.WORLD_CENTER_X-a.x/2,c.WORLD_CENTER_Y-a.y/2))},m.radialLayout=function(e,t,n){var r=Math.max(this.maxDiagonalInTree(e),u.DEFAULT_RADIAL_SEPARATION);m.branchRadialLayout(t,null,0,359,0,r);var o=g.calculateBounds(e),i=new y;i.setDeviceOrgX(o.getMinX()),i.setDeviceOrgY(o.getMinY()),i.setWorldOrgX(n.x),i.setWorldOrgY(n.y);for(var a=0;a<e.length;a++)e[a].transform(i);var s=new d(o.getMaxX(),o.getMaxY());return i.inverseTransformPoint(s)},m.branchRadialLayout=function(e,t,n,r,o,i){var a=(r-n+1)/2;a<0&&(a+=180);var s=(a+n)%360*v.TWO_PI/360,u=(Math.cos(s),o*Math.cos(s)),l=o*Math.sin(s);e.setCenter(u,l);var c=[],f=(c=c.concat(e.getEdges())).length;null!=t&&f--;for(var d,h=0,p=c.length,g=e.getEdgesBetween(t);g.length>1;){var y=g[0];g.splice(0,1);var b=c.indexOf(y);b>=0&&c.splice(b,1),p--,f--}d=null!=t?(c.indexOf(g[0])+1)%p:0;for(var _=Math.abs(r-n)/f,w=d;h!=f;w=++w%p){var x=c[w].getOtherEnd(e);if(x!=t){var E=(n+h*_)%360,O=(E+_)%360;m.branchRadialLayout(x,e,E,O,o+i,i),h++}}},m.maxDiagonalInTree=function(e){for(var t=p.MIN_VALUE,n=0;n<e.length;n++){var r=e[n].getDiagonal();r>t&&(t=r)}return t},m.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},m.prototype.groupZeroDegreeMembers=function(){var e=this,t={};this.memberGroups={},this.idToDummyNode={};for(var n=[],r=this.graphManager.getAllNodes(),o=0;o<r.length;o++){var i=(s=r[o]).getParent();0!==this.getNodeDegreeWithChildren(s)||void 0!=i.id&&this.getToBeTiled(i)||n.push(s)}for(o=0;o<n.length;o++){var s,u=(s=n[o]).getParent().id;"undefined"===typeof t[u]&&(t[u]=[]),t[u]=t[u].concat(s)}Object.keys(t).forEach(function(n){if(t[n].length>1){var r="DummyCompound_"+n;e.memberGroups[r]=t[n];var o=t[n][0].getParent(),i=new a(e.graphManager);i.id=r,i.paddingLeft=o.paddingLeft||0,i.paddingRight=o.paddingRight||0,i.paddingBottom=o.paddingBottom||0,i.paddingTop=o.paddingTop||0,e.idToDummyNode[r]=i;var s=e.getGraphManager().add(e.newGraph(),i),u=o.getChild();u.add(i);for(var l=0;l<t[n].length;l++){var c=t[n][l];u.remove(c),s.add(c)}}})},m.prototype.clearCompounds=function(){var e={},t={};this.performDFSOnCompounds();for(var n=0;n<this.compoundOrder.length;n++)t[this.compoundOrder[n].id]=this.compoundOrder[n],e[this.compoundOrder[n].id]=[].concat(this.compoundOrder[n].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[n].getChild()),this.compoundOrder[n].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(e,t)},m.prototype.clearZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(n){var r=e.idToDummyNode[n];t[n]=e.tileNodes(e.memberGroups[n],r.paddingLeft+r.paddingRight),r.rect.width=t[n].width,r.rect.height=t[n].height})},m.prototype.repopulateCompounds=function(){for(var e=this.compoundOrder.length-1;e>=0;e--){var t=this.compoundOrder[e],n=t.id,r=t.paddingLeft,o=t.paddingTop;this.adjustLocations(this.tiledMemberPack[n],t.rect.x,t.rect.y,r,o)}},m.prototype.repopulateZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack;Object.keys(t).forEach(function(n){var r=e.idToDummyNode[n],o=r.paddingLeft,i=r.paddingTop;e.adjustLocations(t[n],r.rect.x,r.rect.y,o,i)})},m.prototype.getToBeTiled=function(e){var t=e.id;if(null!=this.toBeTiled[t])return this.toBeTiled[t];var n=e.getChild();if(null==n)return this.toBeTiled[t]=!1,!1;for(var r=n.getNodes(),o=0;o<r.length;o++){var i=r[o];if(this.getNodeDegree(i)>0)return this.toBeTiled[t]=!1,!1;if(null!=i.getChild()){if(!this.getToBeTiled(i))return this.toBeTiled[t]=!1,!1}else this.toBeTiled[i.id]=!1}return this.toBeTiled[t]=!0,!0},m.prototype.getNodeDegree=function(e){e.id;for(var t=e.getEdges(),n=0,r=0;r<t.length;r++){var o=t[r];o.getSource().id!==o.getTarget().id&&(n+=1)}return n},m.prototype.getNodeDegreeWithChildren=function(e){var t=this.getNodeDegree(e);if(null==e.getChild())return t;for(var n=e.getChild().getNodes(),r=0;r<n.length;r++){var o=n[r];t+=this.getNodeDegreeWithChildren(o)}return t},m.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},m.prototype.fillCompexOrderByDFS=function(e){for(var t=0;t<e.length;t++){var n=e[t];null!=n.getChild()&&this.fillCompexOrderByDFS(n.getChild().getNodes()),this.getToBeTiled(n)&&this.compoundOrder.push(n)}},m.prototype.adjustLocations=function(e,t,n,r,o){n+=o;for(var i=t+=r,a=0;a<e.rows.length;a++){var s=e.rows[a];t=i;for(var u=0,l=0;l<s.length;l++){var c=s[l];c.rect.x=t,c.rect.y=n,t+=c.rect.width+e.horizontalPadding,c.rect.height>u&&(u=c.rect.height)}n+=u+e.verticalPadding}},m.prototype.tileCompoundMembers=function(e,t){var n=this;this.tiledMemberPack=[],Object.keys(e).forEach(function(r){var o=t[r];n.tiledMemberPack[r]=n.tileNodes(e[r],o.paddingLeft+o.paddingRight),o.rect.width=n.tiledMemberPack[r].width,o.rect.height=n.tiledMemberPack[r].height})},m.prototype.tileNodes=function(e,t){var n={rows:[],rowWidth:[],rowHeight:[],width:0,height:t,verticalPadding:u.TILING_PADDING_VERTICAL,horizontalPadding:u.TILING_PADDING_HORIZONTAL};e.sort(function(e,t){return e.rect.width*e.rect.height>t.rect.width*t.rect.height?-1:e.rect.width*e.rect.height<t.rect.width*t.rect.height?1:0});for(var r=0;r<e.length;r++){var o=e[r];0==n.rows.length?this.insertNodeToRow(n,o,0,t):this.canAddHorizontal(n,o.rect.width,o.rect.height)?this.insertNodeToRow(n,o,this.getShortestRowIndex(n),t):this.insertNodeToRow(n,o,n.rows.length,t),this.shiftToLastRow(n)}return n},m.prototype.insertNodeToRow=function(e,t,n,r){var o=r;n==e.rows.length&&(e.rows.push([]),e.rowWidth.push(o),e.rowHeight.push(0));var i=e.rowWidth[n]+t.rect.width;e.rows[n].length>0&&(i+=e.horizontalPadding),e.rowWidth[n]=i,e.width<i&&(e.width=i);var a=t.rect.height;n>0&&(a+=e.verticalPadding);var s=0;a>e.rowHeight[n]&&(s=e.rowHeight[n],e.rowHeight[n]=a,s=e.rowHeight[n]-s),e.height+=s,e.rows[n].push(t)},m.prototype.getShortestRowIndex=function(e){for(var t=-1,n=Number.MAX_VALUE,r=0;r<e.rows.length;r++)e.rowWidth[r]<n&&(t=r,n=e.rowWidth[r]);return t},m.prototype.getLongestRowIndex=function(e){for(var t=-1,n=Number.MIN_VALUE,r=0;r<e.rows.length;r++)e.rowWidth[r]>n&&(t=r,n=e.rowWidth[r]);return t},m.prototype.canAddHorizontal=function(e,t,n){var r=this.getShortestRowIndex(e);if(r<0)return!0;var o=e.rowWidth[r];if(o+e.horizontalPadding+t<=e.width)return!0;var i,a,s=0;return e.rowHeight[r]<n&&r>0&&(s=n+e.verticalPadding-e.rowHeight[r]),i=e.width-o>=t+e.horizontalPadding?(e.height+s)/(o+t+e.horizontalPadding):(e.height+s)/e.width,s=n+e.verticalPadding,(a=e.width<t?(e.height+s)/t:(e.height+s)/e.width)<1&&(a=1/a),i<1&&(i=1/i),i<a},m.prototype.shiftToLastRow=function(e){var t=this.getLongestRowIndex(e),n=e.rowWidth.length-1,r=e.rows[t],o=r[r.length-1],i=o.width+e.horizontalPadding;if(e.width-e.rowWidth[n]>i&&t!=n){r.splice(-1,1),e.rows[n].push(o),e.rowWidth[t]=e.rowWidth[t]-i,e.rowWidth[n]=e.rowWidth[n]+i,e.width=e.rowWidth[instance.getLongestRowIndex(e)];for(var a=Number.MIN_VALUE,s=0;s<r.length;s++)r[s].height>a&&(a=r[s].height);t>0&&(a+=e.verticalPadding);var u=e.rowHeight[t]+e.rowHeight[n];e.rowHeight[t]=a,e.rowHeight[n]<o.height+e.verticalPadding&&(e.rowHeight[n]=o.height+e.verticalPadding);var l=e.rowHeight[t]+e.rowHeight[n];e.height+=l-u,this.shiftToLastRow(e)}},m.prototype.tilingPreLayout=function(){u.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},m.prototype.tilingPostLayout=function(){u.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},m.prototype.reduceTrees=function(){for(var e,t=[],n=!0;n;){var r=this.graphManager.getAllNodes(),o=[];n=!1;for(var i=0;i<r.length;i++)1!=(e=r[i]).getEdges().length||e.getEdges()[0].isInterGraph||null!=e.getChild()||(o.push([e,e.getEdges()[0],e.getOwner()]),n=!0);if(1==n){for(var a=[],s=0;s<o.length;s++)1==o[s][0].getEdges().length&&(a.push(o[s]),o[s][0].getOwner().remove(o[s][0]));t.push(a),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=t},m.prototype.growTree=function(e){for(var t,n=e[e.length-1],r=0;r<n.length;r++)t=n[r],this.findPlaceforPrunedNode(t),t[2].add(t[0]),t[2].add(t[1],t[1].source,t[1].target);e.splice(e.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},m.prototype.findPlaceforPrunedNode=function(e){var t,n,r=e[0],o=(n=r==e[1].source?e[1].target:e[1].source).startX,i=n.finishX,a=n.startY,s=n.finishY,u=[0,0,0,0];if(a>0)for(var c=o;c<=i;c++)u[0]+=this.grid[c][a-1].length+this.grid[c][a].length-1;if(i<this.grid.length-1)for(c=a;c<=s;c++)u[1]+=this.grid[i+1][c].length+this.grid[i][c].length-1;if(s<this.grid[0].length-1)for(c=o;c<=i;c++)u[2]+=this.grid[c][s+1].length+this.grid[c][s].length-1;if(o>0)for(c=a;c<=s;c++)u[3]+=this.grid[o-1][c].length+this.grid[o][c].length-1;for(var f,d,h=p.MAX_VALUE,v=0;v<u.length;v++)u[v]<h?(h=u[v],f=1,d=v):u[v]==h&&f++;if(3==f&&0==h)0==u[0]&&0==u[1]&&0==u[2]?t=1:0==u[0]&&0==u[1]&&0==u[3]?t=0:0==u[0]&&0==u[2]&&0==u[3]?t=3:0==u[1]&&0==u[2]&&0==u[3]&&(t=2);else if(2==f&&0==h){var g=Math.floor(2*Math.random());t=0==u[0]&&0==u[1]?0==g?0:1:0==u[0]&&0==u[2]?0==g?0:2:0==u[0]&&0==u[3]?0==g?0:3:0==u[1]&&0==u[2]?0==g?1:2:0==u[1]&&0==u[3]?0==g?1:3:0==g?2:3}else t=4==f&&0==h?g=Math.floor(4*Math.random()):d;0==t?r.setCenter(n.getCenterX(),n.getCenterY()-n.getHeight()/2-l.DEFAULT_EDGE_LENGTH-r.getHeight()/2):1==t?r.setCenter(n.getCenterX()+n.getWidth()/2+l.DEFAULT_EDGE_LENGTH+r.getWidth()/2,n.getCenterY()):2==t?r.setCenter(n.getCenterX(),n.getCenterY()+n.getHeight()/2+l.DEFAULT_EDGE_LENGTH+r.getHeight()/2):r.setCenter(n.getCenterX()-n.getWidth()/2-l.DEFAULT_EDGE_LENGTH-r.getWidth()/2,n.getCenterY())},e.exports=m},function(e,t,n){"use strict";var r={};r.layoutBase=n(0),r.CoSEConstants=n(1),r.CoSEEdge=n(2),r.CoSEGraph=n(3),r.CoSEGraphManager=n(4),r.CoSELayout=n(6),r.CoSENode=n(5),e.exports=r}])},e.exports=r(n(9612))},642:function(e){e.exports=function(){"use strict";function e(e,r,o,i,a){!function e(n,r,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,u=r-o+1,l=Math.log(s),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);e(n,r,Math.max(o,Math.floor(r-u*c/s+f)),Math.min(i,Math.floor(r+(s-u)*c/s+f)),a)}var d=n[r],h=o,p=i;for(t(n,o,r),a(n[i],d)>0&&t(n,o,i);h<p;){for(t(n,h,p),h++,p--;a(n[h],d)<0;)h++;for(;a(n[p],d)>0;)p--}0===a(n[o],d)?t(n,o,p):t(n,++p,i),p<=r&&(o=p+1),r<=p&&(i=p-1)}}(e,r,o||0,i||e.length-1,a||n)}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}var r=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function i(e,t){a(e,0,e.children.length,t,e)}function a(e,t,n,r,o){o||(o=p(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i=t;i<n;i++){var a=e.children[i];s(o,e.leaf?r(a):a)}return o}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function u(e,t){return e.minX-t.minX}function l(e,t){return e.minY-t.minY}function c(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function f(e){return e.maxX-e.minX+(e.maxY-e.minY)}function d(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function h(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function p(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,n,r,o,i){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=o)){var s=n+Math.ceil((r-n)/o/2)*o;e(t,s,n,r,i),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(e){var t=this.data,n=[];if(!h(e,t))return n;for(var r=this.toBBox,o=[];t;){for(var i=0;i<t.children.length;i++){var a=t.children[i],s=t.leaf?r(a):a;h(e,s)&&(t.leaf?n.push(a):d(e,s)?this._all(a,n):o.push(a))}t=o.pop()}return n},r.prototype.collides=function(e){var t=this.data;if(!h(e,t))return!1;for(var n=[];t;){for(var r=0;r<t.children.length;r++){var o=t.children[r],i=t.leaf?this.toBBox(o):o;if(h(e,i)){if(t.leaf||d(e,i))return!0;n.push(o)}}t=n.pop()}return!1},r.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(e,t){if(!e)return this;for(var n,r,i,a=this.data,s=this.toBBox(e),u=[],l=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=l.pop(),i=!0),a.leaf){var c=o(e,a.children,t);if(-1!==c)return a.children.splice(c,1),u.push(a),this._condense(u),this}i||a.leaf||!d(a,s)?r?(n++,a=r.children[n],i=!1):a=null:(u.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(e){return e},r.prototype.compareMinX=function(e,t){return e.minX-t.minX},r.prototype.compareMinY=function(e,t){return e.minY-t.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(e){return this.data=e,this},r.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},r.prototype._build=function(e,t,n,r){var o,a=n-t+1,s=this._maxEntries;if(a<=s)return i(o=p(e.slice(t,n+1)),this.toBBox),o;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(o=p([])).leaf=!1,o.height=r;var u=Math.ceil(a/s),l=u*Math.ceil(Math.sqrt(s));v(e,t,n,l,this.compareMinX);for(var c=t;c<=n;c+=l){var f=Math.min(c+l-1,n);v(e,c,f,u,this.compareMinY);for(var d=c;d<=f;d+=u){var h=Math.min(d+u-1,f);o.children.push(this._build(e,d,h,r-1))}}return i(o,this.toBBox),o},r.prototype._chooseSubtree=function(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){for(var o=1/0,i=1/0,a=void 0,s=0;s<t.children.length;s++){var u=t.children[s],l=c(u),f=(d=e,h=u,(Math.max(h.maxX,d.maxX)-Math.min(h.minX,d.minX))*(Math.max(h.maxY,d.maxY)-Math.min(h.minY,d.minY))-l);f<i?(i=f,o=l<o?l:o,a=u):f===i&&l<o&&(o=l,a=u)}t=a||t.children[0]}var d,h;return t},r.prototype._insert=function(e,t,n){var r=n?e:this.toBBox(e),o=[],i=this._chooseSubtree(r,this.data,t,o);for(i.children.push(e),s(i,r);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(r,o,t)},r.prototype._split=function(e,t){var n=e[t],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);var a=this._chooseSplitIndex(n,o,r),s=p(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,i(n,this.toBBox),i(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(e,t){this.data=p([e,t]),this.data.height=e.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(e,t,n){for(var r,o,i,s,u,l,f,d=1/0,h=1/0,p=t;p<=n-t;p++){var v=a(e,0,p,this.toBBox),g=a(e,p,n,this.toBBox),y=(o=v,i=g,s=void 0,u=void 0,l=void 0,f=void 0,s=Math.max(o.minX,i.minX),u=Math.max(o.minY,i.minY),l=Math.min(o.maxX,i.maxX),f=Math.min(o.maxY,i.maxY),Math.max(0,l-s)*Math.max(0,f-u)),m=c(v)+c(g);y<d?(d=y,r=p,h=m<h?m:h):y===d&&m<h&&(h=m,r=p)}return r||n-t},r.prototype._chooseSplitAxis=function(e,t,n){var r=e.leaf?this.compareMinX:u,o=e.leaf?this.compareMinY:l;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,o)&&e.children.sort(r)},r.prototype._allDistMargin=function(e,t,n,r){e.children.sort(r);for(var o=this.toBBox,i=a(e,0,t,o),u=a(e,n-t,n,o),l=f(i)+f(u),c=t;c<n-t;c++){var d=e.children[c];s(i,e.leaf?o(d):d),l+=f(i)}for(var h=n-t-1;h>=t;h--){var p=e.children[h];s(u,e.leaf?o(p):p),l+=f(u)}return l},r.prototype._adjustParentBBoxes=function(e,t,n){for(var r=n;r>=0;r--)s(t[r],e)},r.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():i(e[t],this.toBBox)},r}()},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},723:(e,t,n)=>{var r=n(7529),o=n(7171),i=n(9096),a=n(4052);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},726:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},742:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var o=r(n(6329)),i=n(6711),a=n(9165),s=r(n(7636)),u=r(n(8804));function l(e,t){i.Facade.call(this,e,t)}t.Track=l,o.default(l,i.Facade);var c=l.prototype;c.action=function(){return"track"},c.type=c.action,c.event=i.Facade.field("event"),c.value=i.Facade.proxy("properties.value"),c.category=i.Facade.proxy("properties.category"),c.id=i.Facade.proxy("properties.id"),c.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")},c.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")},c.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")},c.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")},c.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")},c.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")},c.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")},c.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")},c.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")},c.sku=i.Facade.proxy("properties.sku"),c.tax=i.Facade.proxy("properties.tax"),c.name=i.Facade.proxy("properties.name"),c.price=i.Facade.proxy("properties.price"),c.total=i.Facade.proxy("properties.total"),c.repeat=i.Facade.proxy("properties.repeat"),c.coupon=i.Facade.proxy("properties.coupon"),c.shipping=i.Facade.proxy("properties.shipping"),c.discount=i.Facade.proxy("properties.discount"),c.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")},c.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")},c.description=i.Facade.proxy("properties.description"),c.plan=i.Facade.proxy("properties.plan"),c.subtotal=function(){var e=u.default(this.properties(),"subtotal"),t=this.total()||this.revenue();if(e)return e;if(!t)return 0;if(this.total()){var n=this.tax();n&&(t-=n),(n=this.shipping())&&(t-=n),(n=this.discount())&&(t+=n)}return t},c.products=function(){var e=this.properties(),t=u.default(e,"products");return Array.isArray(t)?t.filter(function(e){return null!==e}):[]},c.quantity=function(){return(this.obj.properties||{}).quantity||1},c.currency=function(){return(this.obj.properties||{}).currency||"USD"},c.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},c.query=i.Facade.proxy("options.query"),c.properties=function(e){var t=this.field("properties")||{};for(var n in e=e||{})if(Object.prototype.hasOwnProperty.call(e,n)){var r=null==this[n]?this.proxy("properties."+n):this[n]();if(null==r)continue;t[e[n]]=r,delete t[n]}return t},c.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},c.email=function(){var e=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(e)return e;var t=this.userId();return s.default(t)?t:void 0},c.revenue=function(){var e=this.proxy("properties.revenue"),t=this.event();return!e&&t&&t.match(/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i)&&(e=this.proxy("properties.total")),function(e){if(!e)return;if("number"===typeof e)return e;if("string"!==typeof e)return;if(e=e.replace(/\$/g,""),e=parseFloat(e),!isNaN(e))return e}(e)},c.cents=function(){var e=this.revenue();return"number"!==typeof e?this.value()||0:100*e},c.identify=function(){var e=this.json();return e.traits=this.traits(),new a.Identify(e,this.opts)}},755:(e,t,n)=>{var r=n(8895),o=n(7116);e.exports=function e(t,n,i,a,s){var u=-1,l=t.length;for(i||(i=o),s||(s=[]);++u<l;){var c=t[u];n>0&&i(c)?n>1?e(c,n-1,i,a,s):r(s,c):a||(s[s.length]=c)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},849:(e,t,n)=>{var r=n(3536),o=n(9207).Graph,i=n(433);e.exports=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new o,a=0,s=0;r.forEach(e.nodes(),function(e){n.setNode(e,{v:e,in:0,out:0})}),r.forEach(e.edges(),function(e){var r=n.edge(e.v,e.w)||0,o=t(e),i=r+o;n.setEdge(e.v,e.w,i),s=Math.max(s,n.node(e.v).out+=o),a=Math.max(a,n.node(e.w).in+=o)});var l=r.range(s+a+3).map(function(){return new i}),c=a+1;return r.forEach(n.nodes(),function(e){u(l,c,n.node(e))}),{graph:n,buckets:l,zeroIdx:c}}(e,t||a),l=function(e,t,n){var r,o=[],i=t[t.length-1],a=t[0];for(;e.nodeCount();){for(;r=a.dequeue();)s(e,t,n,r);for(;r=i.dequeue();)s(e,t,n,r);if(e.nodeCount())for(var u=t.length-2;u>0;--u)if(r=t[u].dequeue()){o=o.concat(s(e,t,n,r,!0));break}}return o}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(l,function(t){return e.outEdges(t.v,t.w)}),!0)};var a=r.constant(1);function s(e,t,n,o,i){var a=i?[]:void 0;return r.forEach(e.inEdges(o.v),function(r){var o=e.edge(r),s=e.node(r.v);i&&a.push({v:r.v,w:r.w}),s.out-=o,u(t,n,s)}),r.forEach(e.outEdges(o.v),function(r){var o=e.edge(r),i=r.w,a=e.node(i);a.in-=o,u(t,n,a)}),e.removeNode(o.v),a}function u(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},856:(e,t,n)=>{"use strict";var r=n(5544);function o(e,t){return void 0===t&&(t=!0),e&&"object"===typeof e?function(e,t){return Object.keys(e).forEach(function(n){e[n]=o(e[n],t)}),e}(e,t):Array.isArray(e)?function(e,t){return e.forEach(function(n,r){e[r]=o(n,t)}),e}(e,t):r.is(e,t)?r.parse(e):e}e.exports=o},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},954:(e,t,n)=>{var r=n(3536);e.exports=function(e,t){return r.map(t,function(t){var n=e.inEdges(t);if(n.length){var o=r.reduce(n,function(t,n){var r=e.edge(n),o=e.node(n.v);return{sum:t.sum+r.weight*o.order,weight:t.weight+r.weight}},{sum:0,weight:0});return{v:t,barycenter:o.sum/o.weight,weight:o.weight}}return{v:t}})}},1007:(e,t,n)=>{"use strict";var r=n(3536);e.exports={longestPath:function(e){var t={};r.forEach(e.sources(),function n(o){var i=e.node(o);if(r.has(t,o))return i.rank;t[o]=!0;var a=r.min(r.map(e.outEdges(o),function(t){return n(t.w)-e.edge(t).minlen}));return a!==Number.POSITIVE_INFINITY&&void 0!==a&&null!==a||(a=0),i.rank=a})},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},1014:e=>{e.exports=function(e,t,n,r){var o=e[0],i=e[1],a=!1;void 0===n&&(n=0),void 0===r&&(r=t.length);for(var s=(r-n)/2,u=0,l=s-1;u<s;l=u++){var c=t[n+2*u+0],f=t[n+2*u+1],d=t[n+2*l+0],h=t[n+2*l+1];f>i!==h>i&&o<(d-c)*(i-f)/(h-f)+c&&(a=!a)}return a}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1097:(e,t,n)=>{var r=n(5750),o=n(191);function i(e){return r.map(e.nodes(),function(t){var n=e.node(t),o=e.parent(t),i={v:t};return r.isUndefined(n)||(i.value=n),r.isUndefined(o)||(i.parent=o),i})}function a(e){return r.map(e.edges(),function(t){var n=e.edge(t),o={v:t.v,w:t.w};return r.isUndefined(t.name)||(o.name=t.name),r.isUndefined(n)||(o.value=n),o})}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:i(e),edges:a(e)};r.isUndefined(e.graph())||(t.value=r.clone(e.graph()));return t},read:function(e){var t=new o(e.options).setGraph(e.value);return r.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),r.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}}},1104:(e,t,n)=>{var r=n(6614),o=n(8673);e.exports=function(e,t){return e&&r(t,o(t),e)}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,i={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:l,ref:c,props:i,_owner:s.current}}t.Fragment=i,t.jsx=l,t.jsxs=l},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),o=n(7574),i=n(6832),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},1295:(e,t,n)=>{var r=n(9812),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1406:(e,t,n)=>{var r=n(3536);e.exports=function(e,t,n){var o,i={};r.forEach(n,function(n){for(var r,a,s=e.parent(n);s;){if((r=e.parent(s))?(a=i[r],i[r]=s):(a=o,o=s),a&&a!==s)return void t.setEdge(a,s);s=r}})}},1417:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={Salesforce:!0};t.default=function(e){return!n[e]}},1429:(e,t,n)=>{var r=n(3536),o=n(7606);function i(e,t,n,r,i,a){var s={width:0,height:0,rank:a,borderType:t},u=i[t][a-1],l=o.addDummyNode(e,"border",s,n);i[t][a]=l,e.setParent(l,r),u&&e.setEdge(u,l,{weight:1})}e.exports=function(e){r.forEach(e.children(),function t(n){var o=e.children(n),a=e.node(n);if(o.length&&r.forEach(o,t),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,u=a.maxRank+1;s<u;++s)i(e,"borderLeft","_bl",n,a,s),i(e,"borderRight","_br",n,a,s)}})}},1516:(e,t,n)=>{var r=n(2929);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),o=n(6686);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1632:(e,t,n)=>{var r=n(4724),o=n(6311),i=n(7168);e.exports=function(e){return o(e)?i(e):r(e)}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},1720:(e,t,n)=>{"use strict";var r=n(3536);e.exports=function(e){var t={},n=r.filter(e.nodes(),function(t){return!e.children(t).length}),o=r.max(r.map(n,function(t){return e.node(t).rank})),i=r.map(r.range(o+1),function(){return[]});var a=r.sortBy(n,function(t){return e.node(t).rank});return r.forEach(a,function n(o){if(r.has(t,o))return;t[o]=!0;var a=e.node(o);i[a.rank].push(o),r.forEach(e.successors(o),n)}),i}},1740:(e,t,n)=>{var r=n(7132);e.exports=function(e){return r(e,4)}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1817:(e,t,n)=>{var r=n(6686),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},1896:(e,t,n)=>{var r=n(2125);e.exports=function(e,t){return r(e,t,"post")}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},1980:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2117:(e,t,n)=>{var r=n(6741),o=n(9057);e.exports=function(e,t){return null!=e&&o(e,t,r)}},2125:(e,t,n)=>{var r=n(5750);function o(e,t,n,i,a,s){r.has(i,t)||(i[t]=!0,n||s.push(t),r.each(a(t),function(t){o(e,t,n,i,a,s)}),n&&s.push(t))}e.exports=function(e,t,n){r.isArray(t)||(t=[t]);var i=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],s={};return r.each(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);o(e,t,"post"===n,s,i,a)}),a}},2145:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var r=n(3945);function o(e,t){var n,o=Object.entries(null!==(n=t.integrations)&&void 0!==n?n:{}).reduce(function(e,t){var n,o,i=t[0],a=t[1];return"object"===typeof a?(0,r.Cl)((0,r.Cl)({},e),((n={})[i]=a,n)):(0,r.Cl)((0,r.Cl)({},e),((o={})[i]={},o))},{});return Object.entries(e.integrations).reduce(function(e,t){var n,i=t[0],a=t[1];return(0,r.Cl)((0,r.Cl)({},e),((n={})[i]=(0,r.Cl)((0,r.Cl)({},a),o[i]),n))},{})}},2154:(e,t,n)=>{var r=n(5575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},2173:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=t.Screen=t.Page=t.Track=t.Identify=t.Group=t.Alias=t.Facade=void 0;var o=n(6711);Object.defineProperty(t,"Facade",{enumerable:!0,get:function(){return o.Facade}});var i=n(9061);Object.defineProperty(t,"Alias",{enumerable:!0,get:function(){return i.Alias}});var a=n(7842);Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return a.Group}});var s=n(9165);Object.defineProperty(t,"Identify",{enumerable:!0,get:function(){return s.Identify}});var u=n(742);Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return u.Track}});var l=n(5678);Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return l.Page}});var c=n(9557);Object.defineProperty(t,"Screen",{enumerable:!0,get:function(){return c.Screen}});var f=n(7562);Object.defineProperty(t,"Delete",{enumerable:!0,get:function(){return f.Delete}}),t.default=r(r({},o.Facade),{Alias:i.Alias,Group:a.Group,Identify:s.Identify,Track:u.Track,Page:l.Page,Screen:c.Screen,Delete:f.Delete})},2293:(e,t,n)=>{"use strict";var r=n(3536);e.exports=function(e,t){var n={};return r.forEach(e,function(e,t){var o=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};r.isUndefined(e.barycenter)||(o.barycenter=e.barycenter,o.weight=e.weight)}),r.forEach(t.edges(),function(e){var t=n[e.v],o=n[e.w];r.isUndefined(t)||r.isUndefined(o)||(o.indegree++,t.out.push(n[e.w]))}),function(e){var t=[];function n(e){return function(t){t.merged||(r.isUndefined(t.barycenter)||r.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function o(t){return function(n){n.in.push(t),0===--n.indegree&&e.push(n)}}for(;e.length;){var i=e.pop();t.push(i),r.forEach(i.in.reverse(),n(i)),r.forEach(i.out,o(i))}return r.map(r.filter(t,function(e){return!e.merged}),function(e){return r.pick(e,["vs","i","barycenter","weight"])})}(r.filter(n,function(e){return!e.indegree}))}},2320:(e,t,n)=>{"use strict";var r=n(3536),o=n(3688),i=n(6903),a=n(5407),s=n(7606).normalizeRanks,u=n(3150),l=n(7606).removeEmptyRanks,c=n(7071),f=n(1429),d=n(8500),h=n(6575),p=n(442),v=n(7606),g=n(9207).Graph;e.exports=function(e,t){var n=t&&t.debugTiming?v.time:v.notime,P=n("layout",function(){return P=n("  buildLayoutGraph",function(){return function(e){var t=new g({multigraph:!0,compound:!0}),n=T(e.graph());return t.setGraph(r.merge({},m,S(n,y),r.pick(n,b))),r.forEach(e.nodes(),function(n){var o=T(e.node(n));t.setNode(n,r.defaults(S(o,_),w)),t.setParent(n,e.parent(n))}),r.forEach(e.edges(),function(n){var o=T(e.edge(n));t.setEdge(n,r.merge({},E,S(o,x),r.pick(o,O)))}),t}(e)}),n("  runLayout",function(){!function(e,t){t("    makeSpaceForEdgeLabels",function(){!function(e){var t=e.graph();t.ranksep/=2,r.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}(e)}),t("    removeSelfEdges",function(){!function(e){r.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}(e)}),t("    acyclic",function(){o.run(e)}),t("    nestingGraph.run",function(){c.run(e)}),t("    rank",function(){a(v.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){!function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),o={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};v.addDummyNode(e,"edge-proxy",o,"_ep")}})}(e)}),t("    removeEmptyRanks",function(){l(e)}),t("    nestingGraph.cleanup",function(){c.cleanup(e)}),t("    normalizeRanks",function(){s(e)}),t("    assignRankMinMax",function(){!function(e){var t=0;r.forEach(e.nodes(),function(n){var o=e.node(n);o.borderTop&&(o.minRank=e.node(o.borderTop).rank,o.maxRank=e.node(o.borderBottom).rank,t=r.max(t,o.maxRank))}),e.graph().maxRank=t}(e)}),t("    removeEdgeLabelProxies",function(){!function(e){r.forEach(e.nodes(),function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}(e)}),t("    normalize.run",function(){i.run(e)}),t("    parentDummyChains",function(){u(e)}),t("    addBorderSegments",function(){f(e)}),t("    order",function(){h(e)}),t("    insertSelfEdges",function(){!function(e){var t=v.buildLayerMatrix(e);r.forEach(t,function(t){var n=0;r.forEach(t,function(t,o){var i=e.node(t);i.order=o+n,r.forEach(i.selfEdges,function(t){v.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:o+ ++n,e:t.e,label:t.label},"_se")}),delete i.selfEdges})})}(e)}),t("    adjustCoordinateSystem",function(){d.adjust(e)}),t("    position",function(){p(e)}),t("    positionSelfEdges",function(){!function(e){r.forEach(e.nodes(),function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*a/3,y:i-s},{x:o+5*a/6,y:i-s},{x:o+a,y:i},{x:o+5*a/6,y:i+s},{x:o+2*a/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}})}(e)}),t("    removeBorderNodes",function(){!function(e){r.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),o=e.node(n.borderTop),i=e.node(n.borderBottom),a=e.node(r.last(n.borderLeft)),s=e.node(r.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(i.y-o.y),n.x=a.x+n.width/2,n.y=o.y+n.height/2}}),r.forEach(e.nodes(),function(t){"border"===e.node(t).dummy&&e.removeNode(t)})}(e)}),t("    normalize.undo",function(){i.undo(e)}),t("    fixupEdgeLabelCoords",function(){!function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(e)}),t("    undoCoordinateSystem",function(){d.undo(e)}),t("    translateGraph",function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,i=0,a=e.graph(),s=a.marginx||0,u=a.marginy||0;function l(e){var r=e.x,a=e.y,s=e.width,u=e.height;t=Math.min(t,r-s/2),n=Math.max(n,r+s/2),o=Math.min(o,a-u/2),i=Math.max(i,a+u/2)}r.forEach(e.nodes(),function(t){l(e.node(t))}),r.forEach(e.edges(),function(t){var n=e.edge(t);r.has(n,"x")&&l(n)}),t-=s,o-=u,r.forEach(e.nodes(),function(n){var r=e.node(n);r.x-=t,r.y-=o}),r.forEach(e.edges(),function(n){var i=e.edge(n);r.forEach(i.points,function(e){e.x-=t,e.y-=o}),r.has(i,"x")&&(i.x-=t),r.has(i,"y")&&(i.y-=o)}),a.width=n-t+s,a.height=i-o+u}(e)}),t("    assignNodeIntersects",function(){!function(e){r.forEach(e.edges(),function(t){var n,r,o=e.edge(t),i=e.node(t.v),a=e.node(t.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(v.intersectRect(i,n)),o.points.push(v.intersectRect(a,r))})}(e)}),t("    reversePoints",function(){!function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}(e)}),t("    acyclic.undo",function(){o.undo(e)})}(P,n)}),n("  updateInputGraph",function(){!function(e,t){r.forEach(e.nodes(),function(n){var r=e.node(n),o=t.node(n);r&&(r.x=o.x,r.y=o.y,t.children(n).length&&(r.width=o.width,r.height=o.height))}),r.forEach(e.edges(),function(n){var o=e.edge(n),i=t.edge(n);o.points=i.points,r.has(i,"x")&&(o.x=i.x,o.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,P)}),P});return P};var y=["nodesep","edgesep","ranksep","marginx","marginy"],m={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],_=["width","height"],w={width:0,height:0},x=["minlen","weight","width","height","labeloffset"],E={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},O=["labelpos"];function S(e,t){return r.mapValues(r.pick(e,t),Number)}function T(e){var t={};return r.forEach(e,function(e,n){t[n.toLowerCase()]=e}),t}},2541:e=>{e.exports=function(e){return function(){return e}}},2580:(e,t,n)=>{e.exports=n(5491)},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),o=n(9841),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2632:e=>{e.exports="0.8.14"},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2717:(e,t,n)=>{var r=n(726),o=n(1817),i=n(4664),a=n(9096),s=n(5990),u=n(4052),l=n(4543),c=n(1629),f=n(6686),d=n(1268);e.exports=function(e,t,n){var h=u(e),p=h||l(e)||d(e);if(t=a(t,4),null==n){var v=e&&e.constructor;n=p?h?new v:[]:f(e)&&c(v)?o(s(e)):{}}return(p?r:i)(e,function(e,r,o){return t(n,e,r,o)}),n}},2730:(e,t,n)=>{"use strict";var r=n(5043),o=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new v(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new v(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new v(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new v(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new v(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),P=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var D,L=Object.assign;function B(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var o=l.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var u="\n"+o[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function z(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case S:return"Profiler";case O:return"StrictMode";case k:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Z(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(he).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Oe=null;function Se(e){if(e=_o(e)){if("function"!==typeof xe)throw Error(i(280));var t=e.stateNode;t&&(t=xo(t),xe(e.stateNode,e.type,t))}}function Te(e){Ee?Oe?Oe.push(e):Oe=[e]:Ee=e}function Pe(){if(Ee){var e=Ee,t=Oe;if(Oe=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function ke(){}var Ae=!1;function Ne(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Oe)&&(ke(),Pe())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=xo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(c)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ce){Re=!1}function Me(e,t,n,r,o,i,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var De=!1,Le=null,Be=!1,Fe=null,Ue={onError:function(e){De=!0,Le=e}};function ze(e,t,n,r,o,i,a,s,u){De=!1,Le=null,Me.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(i(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return He(o),e;if(a===r)return He(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=o.unstable_scheduleCallback,Xe=o.unstable_cancelCallback,Ke=o.unstable_shouldYield,$e=o.unstable_requestPaint,Ze=o.unstable_now,Qe=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=ft(s):0!==(i&=a)&&(r=ft(i))}else 0!==(a=n&~o)?r=ft(a):0!==i&&(r=ft(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,Ot,St,Tt=!1,Pt=[],Ct=null,kt=null,At=null,Nt=new Map,jt=new Map,Rt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Dt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=_o(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=bo(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,function(){Et(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_o(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Ft(e,t,n){Bt(e)&&n.delete(t)}function Ut(){Tt=!1,null!==Ct&&Bt(Ct)&&(Ct=null),null!==kt&&Bt(kt)&&(kt=null),null!==At&&Bt(At)&&(At=null),Nt.forEach(Ft),jt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return zt(t,e)}if(0<Pt.length){zt(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==kt&&zt(kt,e),null!==At&&zt(At,e),Nt.forEach(t),jt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var Wt=_.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var o=bt,i=Wt.transition;Wt.transition=null;try{bt=1,Yt(e,t,n,r)}finally{bt=o,Wt.transition=i}}function qt(e,t,n,r){var o=bt,i=Wt.transition;Wt.transition=null;try{bt=4,Yt(e,t,n,r)}finally{bt=o,Wt.transition=i}}function Yt(e,t,n,r){if(Ht){var o=Kt(e,t,n,r);if(null===o)Hr(e,t,r,Xt,n),Mt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Ct=Dt(Ct,e,t,n,r,o),!0;case"dragenter":return kt=Dt(kt,e,t,n,r,o),!0;case"mouseover":return At=Dt(At,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Nt.set(i,Dt(Nt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,jt.set(i,Dt(jt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==o;){var i=_o(o);if(null!==i&&wt(i),null===(i=Kt(e,t,n,r))&&Hr(e,t,r,Xt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Xt=null;function Kt(e,t,n,r){if(Xt=null,null!==(e=bo(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Jt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(ln),fn=L({},ln,{view:0,detail:0}),dn=on(fn),hn=L({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(hn),vn=on(L({},hn,{dataTransfer:0})),gn=on(L({},fn,{relatedTarget:0})),yn=on(L({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=L({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(mn),_n=on(L({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return On}var Tn=L({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=on(Tn),Cn=on(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=on(L({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=on(L({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=on(Nn),Rn=[9,13,27,32],In=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Dn=c&&"TextEvent"in window&&!Mn,Ln=c&&(!In||Mn&&8<Mn&&11>=Mn),Bn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){Te(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Yn=null;function Xn(e){Br(e,0)}function Kn(e){if(Y(wo(e)))return e}function $n(e,t){if("change"===e)return t}var Zn=!1;if(c){var Qn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Qn=Jn}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Yn=qn=null)}function nr(e){if("value"===e.propertyName&&Kn(Yn)){var t=[];Gn(t,Yn,e,we(e)),Ne(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Yn)}function ir(e,t){if("click"===e)return Kn(t)}function ar(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!f.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=cr(n,i);var a=cr(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,mr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==X(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=qr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Or={};function Sr(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Or)return Er[e]=n[t];return e}c&&(Or=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=Sr("animationend"),Pr=Sr("animationiteration"),Cr=Sr("animationstart"),kr=Sr("transitionend"),Ar=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Ar.set(e,t),u(t,[e])}for(var Rr=0;Rr<Nr.length;Rr++){var Ir=Nr[Rr];jr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}jr(Tr,"onAnimationEnd"),jr(Pr,"onAnimationIteration"),jr(Cr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(kr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,u,l){if(ze.apply(this,arguments),De){if(!De)throw Error(i(198));var c=Le;De=!1,Le=null,Be||(Be=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==i&&o.isPropagationStopped())break e;Lr(o,s,l),i=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==i&&o.isPropagationStopped())break e;Lr(o,s,l),i=u}}}if(Be)throw e=Fe,Be=!1,Fe=null,e}function Fr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Dr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Wr(e,t,n,r){switch($t(t)){case 1:var o=Gt;break;case 4:o=qt;break;default:o=Yt}n=o.bind(null,t,n,e),o=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===o||8===u.nodeType&&u.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=bo(s)))return;if(5===(u=a.tag)||6===u){r=i=a;continue e}s=s.parentNode}}r=r.return}Ne(function(){var r=i,o=we(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Pn;break;case"focusin":l="focus",u=gn;break;case"focusout":l="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=kn;break;case Tr:case Pr:case Cr:u=yn;break;case kr:u=An;break;case"scroll":u=dn;break;case"wheel":u=jn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=je(p,d))&&c.push(Gr(p,v,h)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,o),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(l=n.relatedTarget||n.fromElement)||!bo(l)&&!l[vo])&&(u||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?bo(l):null)&&(l!==(f=Ve(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:wo(u),h=null==l?s:wo(l),(s=new c(v,p+"leave",u,n,o)).target=f,s.relatedTarget=h,v=null,bo(o)===r&&((c=new c(d,p+"enter",l,n,o)).target=h,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(d=l,p=0,h=c=u;h;h=Yr(h))p++;for(h=0,v=d;v;v=Yr(v))h++;for(;0<p-h;)c=Yr(c),p--;for(;0<h-p;)d=Yr(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Yr(c),d=Yr(d)}c=null}else c=null;null!==u&&Xr(a,s,u,c,!1),null!==l&&null!==f&&Xr(a,f,l,c,!0)}if("select"===(u=(s=r?wo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=$n;else if(Hn(s))if(Zn)g=ar;else{g=or;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Gn(a,g,n,o):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wo(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,mr=null);break;case"focusout":mr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,o);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(a,n,o)}var m;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(m=en()):(Qt="value"in(Zt=o)?Zt.value:Zt.textContent,Vn=!0)),0<(y=qr(r,b)).length&&(b=new _n(b,e,null,n,o),a.push({event:b,listeners:y}),m?b.data=m:null!==(m=zn(n))&&(b.data=m))),(m=Dn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!In&&Un(e,t)?(e=en(),Jt=Qt=Zt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(o=new _n("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=m))}Br(a,t)})}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=je(e,n))&&r.unshift(Gr(e,i,o)),null!=(i=je(e,t))&&r.push(Gr(e,i,o))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,o?null!=(u=je(n,i))&&a.unshift(Gr(n,u,s)):o||null!=(u=je(n,i))&&a.push(Gr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace($r,"")}function Qr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(i(425))}function Jr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,ao="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout(function(){throw e})}function uo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Vt(t)}function lo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function co(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),ho="__reactFiber$"+fo,po="__reactProps$"+fo,vo="__reactContainer$"+fo,go="__reactEvents$"+fo,yo="__reactListeners$"+fo,mo="__reactHandles$"+fo;function bo(e){var t=e[ho];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vo]||n[ho]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=co(e);null!==e;){if(n=e[ho])return n;e=co(e)}return t}n=(e=n).parentNode}return null}function _o(e){return!(e=e[ho]||e[vo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xo(e){return e[po]||null}var Eo=[],Oo=-1;function So(e){return{current:e}}function To(e){0>Oo||(e.current=Eo[Oo],Eo[Oo]=null,Oo--)}function Po(e,t){Oo++,Eo[Oo]=e.current,e.current=t}var Co={},ko=So(Co),Ao=So(!1),No=Co;function jo(e,t){var n=e.type.contextTypes;if(!n)return Co;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ro(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Io(){To(Ao),To(ko)}function Mo(e,t,n){if(ko.current!==Co)throw Error(i(168));Po(ko,t),Po(Ao,n)}function Do(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,W(e)||"Unknown",o));return L({},n,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Co,No=ko.current,Po(ko,e),Po(Ao,Ao.current),!0}function Bo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Do(e,t,No),r.__reactInternalMemoizedMergedChildContext=e,To(Ao),To(ko),Po(ko,e)):To(Ao),Po(Ao,n)}var Fo=null,Uo=!1,zo=!1;function Vo(e){null===Fo?Fo=[e]:Fo.push(e)}function Wo(){if(!zo&&null!==Fo){zo=!0;var e=0,t=bt;try{var n=Fo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fo=null,Uo=!1}catch(o){throw null!==Fo&&(Fo=Fo.slice(e+1)),Ye(Je,Wo),o}finally{bt=t,zo=!1}}return null}var Ho=[],Go=0,qo=null,Yo=0,Xo=[],Ko=0,$o=null,Zo=1,Qo="";function Jo(e,t){Ho[Go++]=Yo,Ho[Go++]=qo,qo=e,Yo=t}function ei(e,t,n){Xo[Ko++]=Zo,Xo[Ko++]=Qo,Xo[Ko++]=$o,$o=e;var r=Zo;e=Qo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Zo=1<<32-at(t)+o|n<<o|r,Qo=i+e}else Zo=1<<i|n<<o|r,Qo=e}function ti(e){null!==e.return&&(Jo(e,1),ei(e,1,0))}function ni(e){for(;e===qo;)qo=Ho[--Go],Ho[Go]=null,Yo=Ho[--Go],Ho[Go]=null;for(;e===$o;)$o=Xo[--Ko],Xo[Ko]=null,Qo=Xo[--Ko],Xo[Ko]=null,Zo=Xo[--Ko],Xo[Ko]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Nl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ui(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=lo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$o?{id:Zo,overflow:Qo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ii){var t=oi;if(t){var n=t;if(!ui(e,t)){if(li(e))throw Error(i(418));t=lo(n.nextSibling);var r=ri;t&&ui(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function fi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function di(e){if(e!==ri)return!1;if(!ii)return fi(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(li(e))throw hi(),Error(i(418));for(;t;)si(e,t),t=lo(t.nextSibling)}if(fi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=lo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?lo(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=oi;e;)e=lo(e.nextSibling)}function pi(){oi=ri=null,ii=!1}function vi(e){null===ai?ai=[e]:ai.push(e)}var gi=_.ReactCurrentBatchConfig;function yi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function mi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function _i(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Rl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ll(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){var i=n.type;return i===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===j&&bi(i)===t.type)?((r=o(t,n.props)).ref=yi(e,t,n),r.return=e,r):((r=Il(n.type,n.key,n.props,null,e.mode,r)).ref=yi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ll(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Il(t.type,t.key,t.props,null,e.mode,n)).ref=yi(e,null,t),n.return=e,n;case x:return(t=Bl(t,e.mode,n)).return=e,t;case j:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Ml(t,e.mode,n,null)).return=e,t;mi(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?l(e,t,n,r):null;case x:return n.key===o?c(e,t,n,r):null;case j:return h(e,t,(o=n._init)(n._payload),r)}if(te(n)||M(n))return null!==o?null:f(e,t,n,r,null);mi(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case j:return p(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,o,null);mi(t,r)}return null}function v(o,i,s,u){for(var l=null,c=null,f=i,v=i=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var y=h(o,f,s[v],u);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(o,f),i=a(y,i,v),null===c?l=y:c.sibling=y,c=y,f=g}if(v===s.length)return n(o,f),ii&&Jo(o,v),l;if(null===f){for(;v<s.length;v++)null!==(f=d(o,s[v],u))&&(i=a(f,i,v),null===c?l=f:c.sibling=f,c=f);return ii&&Jo(o,v),l}for(f=r(o,f);v<s.length;v++)null!==(g=p(f,o,v,s[v],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),i=a(g,i,v),null===c?l=g:c.sibling=g,c=g);return e&&f.forEach(function(e){return t(o,e)}),ii&&Jo(o,v),l}function g(o,s,u,l){var c=M(u);if("function"!==typeof c)throw Error(i(150));if(null==(u=c.call(u)))throw Error(i(151));for(var f=c=null,v=s,g=s=0,y=null,m=u.next();null!==v&&!m.done;g++,m=u.next()){v.index>g?(y=v,v=null):y=v.sibling;var b=h(o,v,m.value,l);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(o,v),s=a(b,s,g),null===f?c=b:f.sibling=b,f=b,v=y}if(m.done)return n(o,v),ii&&Jo(o,g),c;if(null===v){for(;!m.done;g++,m=u.next())null!==(m=d(o,m.value,l))&&(s=a(m,s,g),null===f?c=m:f.sibling=m,f=m);return ii&&Jo(o,g),c}for(v=r(o,v);!m.done;g++,m=u.next())null!==(m=p(v,o,g,m.value,l))&&(e&&null!==m.alternate&&v.delete(null===m.key?g:m.key),s=a(m,s,g),null===f?c=m:f.sibling=m,f=m);return e&&v.forEach(function(e){return t(o,e)}),ii&&Jo(o,g),c}return function e(r,i,a,u){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var l=a.key,c=i;null!==c;){if(c.key===l){if((l=a.type)===E){if(7===c.tag){n(r,c.sibling),(i=o(c,a.props.children)).return=r,r=i;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===j&&bi(l)===c.type){n(r,c.sibling),(i=o(c,a.props)).ref=yi(r,c,a),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===E?((i=Ml(a.props.children,r.mode,u,a.key)).return=r,r=i):((u=Il(a.type,a.key,a.props,null,r.mode,u)).ref=yi(r,i,a),u.return=r,r=u)}return s(r);case x:e:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Bl(a,r.mode,u)).return=r,r=i}return s(r);case j:return e(r,i,(c=a._init)(a._payload),u)}if(te(a))return v(r,i,a,u);if(M(a))return g(r,i,a,u);mi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Ll(a,r.mode,u)).return=r,r=i),s(r)):n(r,i)}}var wi=_i(!0),xi=_i(!1),Ei=So(null),Oi=null,Si=null,Ti=null;function Pi(){Ti=Si=Oi=null}function Ci(e){var t=Ei.current;To(Ei),e._currentValue=t}function ki(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ai(e,t){Oi=e,Ti=Si=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ni(e){var t=e._currentValue;if(Ti!==e)if(e={context:e,memoizedValue:t,next:null},null===Si){if(null===Oi)throw Error(i(308));Si=e,Oi.dependencies={lanes:0,firstContext:e}}else Si=Si.next=e;return t}var ji=null;function Ri(e){null===ji?ji=[e]:ji.push(e)}function Ii(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ri(t)):(n.next=o.next,o.next=n),t.interleaved=n,Mi(e,r)}function Mi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Di=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Mi(e,n)}return null===(o=r.interleaved)?(t.next=t,Ri(r)):(t.next=o.next,o.next=t),r.interleaved=t,Mi(e,n)}function zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function Vi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wi(e,t,n,r){var o=e.updateQueue;Di=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var u=s,l=u.next;u.next=null,null===a?i=l:a.next=l,a=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==i){var f=o.baseState;for(a=0,c=l=u=null,s=i;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=L({},f,d);break e;case 2:Di=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=o.effects)?o.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=h,u=f):c=c.next=h,a|=d;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(d=s).next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}if(null===c&&(u=f),o.baseState=u,o.firstBaseUpdate=l,o.lastBaseUpdate=c,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Du|=a,e.lanes=a,e.memoizedState=f}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Gi={},qi=So(Gi),Yi=So(Gi),Xi=So(Gi);function Ki(e){if(e===Gi)throw Error(i(174));return e}function $i(e,t){switch(Po(Xi,t),Po(Yi,e),Po(qi,Gi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}To(qi),Po(qi,t)}function Zi(){To(qi),To(Yi),To(Xi)}function Qi(e){Ki(Xi.current);var t=Ki(qi.current),n=ue(t,e.type);t!==n&&(Po(Yi,e),Po(qi,n))}function Ji(e){Yi.current===e&&(To(qi),To(Yi))}var ea=So(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var oa=_.ReactCurrentDispatcher,ia=_.ReactCurrentBatchConfig,aa=0,sa=null,ua=null,la=null,ca=!1,fa=!1,da=0,ha=0;function pa(){throw Error(i(321))}function va(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,o,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Ja:es,e=n(r,o),fa){a=0;do{if(fa=!1,da=0,25<=a)throw Error(i(301));a+=1,la=ua=null,t.updateQueue=null,oa.current=ts,e=n(r,o)}while(fa)}if(oa.current=Qa,t=null!==ua&&null!==ua.next,aa=0,la=ua=sa=null,ca=!1,t)throw Error(i(300));return e}function ya(){var e=0!==da;return da=0,e}function ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?sa.memoizedState=la=e:la=la.next=e,la}function ba(){if(null===ua){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=ua.next;var t=null===la?sa.memoizedState:la.next;if(null!==t)la=t,ua=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ua=e).memoizedState,baseState:ua.baseState,baseQueue:ua.baseQueue,queue:ua.queue,next:null},null===la?sa.memoizedState=la=e:la=la.next=e}return la}function _a(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ua,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var u=s=null,l=null,c=a;do{var f=c.lane;if((aa&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=d,s=r):l=l.next=d,sa.lanes|=f,Du|=f}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,sa.lanes|=a,Du|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ea(){}function Oa(e,t){var n=sa,r=ba(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,bs=!0),r=r.queue,Da(Pa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Na(9,Ta.bind(null,n,r,o,t),void 0,null),null===ku)throw Error(i(349));0!==(30&aa)||Sa(n,t,o)}return o}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ta(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&ka(e)}function Pa(e,t,n){return n(function(){Ca(t)&&ka(e)})}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function ka(e){var t=Mi(e,1);null!==t&&nl(t,e,1,-1)}function Aa(e){var t=ma();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:e},t.queue=e,e=e.dispatch=Xa.bind(null,sa,e),[t.memoizedState,e]}function Na(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ja(){return ba().memoizedState}function Ra(e,t,n,r){var o=ma();sa.flags|=e,o.memoizedState=Na(1|t,n,void 0,void 0===r?null:r)}function Ia(e,t,n,r){var o=ba();r=void 0===r?null:r;var i=void 0;if(null!==ua){var a=ua.memoizedState;if(i=a.destroy,null!==r&&va(r,a.deps))return void(o.memoizedState=Na(t,n,i,r))}sa.flags|=e,o.memoizedState=Na(1|t,n,i,r)}function Ma(e,t){return Ra(8390656,8,e,t)}function Da(e,t){return Ia(2048,8,e,t)}function La(e,t){return Ia(4,2,e,t)}function Ba(e,t){return Ia(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ia(4,4,Fa.bind(null,t,e),n)}function za(){}function Va(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),sa.lanes|=n,Du|=n,e.baseState=!0),t)}function Ga(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function qa(){return ba().memoizedState}function Ya(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ka(e))$a(t,n);else if(null!==(n=Ii(e,t,n,r))){nl(n,e,r,el()),Za(n,t,r)}}function Xa(e,t,n){var r=tl(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ka(e))$a(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(o.next=o,Ri(t)):(o.next=u.next,u.next=o),void(t.interleaved=o)}}catch(l){}null!==(n=Ii(e,t,o,r))&&(nl(n,e,r,o=el()),Za(n,t,r))}}function Ka(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function $a(e,t){fa=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Za(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var Qa={readContext:Ni,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Ja={readContext:Ni,useCallback:function(e,t){return ma().memoizedState=[e,void 0===t?null:t],e},useContext:Ni,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=ma();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ma();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ya.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ma().memoizedState=e},useState:Aa,useDebugValue:za,useDeferredValue:function(e){return ma().memoizedState=e},useTransition:function(){var e=Aa(!1),t=e[0];return e=Ga.bind(null,e[1]),ma().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,o=ma();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===ku)throw Error(i(349));0!==(30&aa)||Sa(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ma(Pa.bind(null,r,a,e),[e]),r.flags|=2048,Na(9,Ta.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ma(),t=ku.identifierPrefix;if(ii){var n=Qo;t=":"+t+"R"+(n=(Zo&~(1<<32-at(Zo)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ni,useCallback:Va,useContext:Ni,useEffect:Da,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:Ba,useMemo:Wa,useReducer:wa,useRef:ja,useState:function(){return wa(_a)},useDebugValue:za,useDeferredValue:function(e){return Ha(ba(),ua.memoizedState,e)},useTransition:function(){return[wa(_a)[0],ba().memoizedState]},useMutableSource:Ea,useSyncExternalStore:Oa,useId:qa,unstable_isNewReconciler:!1},ts={readContext:Ni,useCallback:Va,useContext:Ni,useEffect:Da,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:Ba,useMemo:Wa,useReducer:xa,useRef:ja,useState:function(){return xa(_a)},useDebugValue:za,useDeferredValue:function(e){var t=ba();return null===ua?t.memoizedState=e:Ha(t,ua.memoizedState,e)},useTransition:function(){return[xa(_a)[0],ba().memoizedState]},useMutableSource:Ea,useSyncExternalStore:Oa,useId:qa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),o=tl(e),i=Fi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,o))&&(nl(t,e,o,r),zi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),o=tl(e),i=Fi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,o))&&(nl(t,e,o,r),zi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),o=Fi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Ui(e,o,r))&&(nl(t,e,r,n),zi(t,e,r))}};function is(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(o,i))}function as(e,t,n){var r=!1,o=Co,i=t.contextType;return"object"===typeof i&&null!==i?i=Ni(i):(o=Ro(t)?No:ko.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?jo(e,o):Co),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function us(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Li(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ni(i):(i=Ro(t)?No:ko.current,o.context=jo(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),Wi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ds="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Gu=r),fs(0,t)},n}function ps(e,t,n){(n=Fi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){fs(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===qu?qu=new Set([this]):qu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,Ui(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ms=_.ReactCurrentOwner,bs=!1;function _s(e,t,n,r){t.child=null===e?xi(t,null,n,r):wi(t,e.child,n,r)}function ws(e,t,n,r,o){n=n.render;var i=t.ref;return Ai(t,o),r=ga(e,t,n,r,i,o),n=ya(),null===e||bs?(ii&&n&&ti(t),t.flags|=1,_s(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hs(e,t,o))}function xs(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||jl(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Il(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Es(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Hs(e,t,o)}return t.flags|=1,(e=Rl(i,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(ur(i,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Hs(e,t,o);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,o)}function Os(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Po(Ru,ju),ju|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Po(Ru,ju),ju|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Po(Ru,ju),ju|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Po(Ru,ju),ju|=r;return _s(e,t,o,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,o){var i=Ro(n)?No:ko.current;return i=jo(t,i),Ai(t,o),n=ga(e,t,n,r,i,o),r=ya(),null===e||bs?(ii&&r&&ti(t),t.flags|=1,_s(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hs(e,t,o))}function Ps(e,t,n,r,o){if(Ro(n)){var i=!0;Lo(t)}else i=!1;if(Ai(t,o),null===t.stateNode)Ws(e,t),as(t,n,r),us(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ni(l):l=jo(t,l=Ro(n)?No:ko.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&ss(t,a,r,l),Di=!1;var d=t.memoizedState;a.state=d,Wi(t,r,a,o),u=t.memoizedState,s!==r||d!==u||Ao.current||Di?("function"===typeof c&&(rs(t,n,c,r),u=t.memoizedState),(s=Di||is(t,n,s,r,d,u,l))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Bi(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ns(t.type,s),a.props=l,f=t.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ni(u):u=jo(t,u=Ro(n)?No:ko.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&ss(t,a,r,u),Di=!1,d=t.memoizedState,a.state=d,Wi(t,r,a,o);var p=t.memoizedState;s!==f||d!==p||Ao.current||Di?("function"===typeof h&&(rs(t,n,h,r),p=t.memoizedState),(l=Di||is(t,n,l,r,d,p,u)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,i,o)}function Cs(e,t,n,r,o,i){Ss(e,t);var a=0!==(128&t.flags);if(!r&&!a)return o&&Bo(t,n,!1),Hs(e,t,i);r=t.stateNode,ms.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,s,i)):_s(e,t,s,i),t.memoizedState=r.state,o&&Bo(t,n,!0),t.child}function ks(e){var t=e.stateNode;t.pendingContext?Mo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mo(0,t.context,!1),$i(e,t.containerInfo)}function As(e,t,n,r,o){return pi(),vi(o),t.flags|=256,_s(e,t,n,r),t.child}var Ns,js,Rs,Is,Ms={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,o=t.pendingProps,a=ea.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Po(ea,1&a),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=o.children,e=o.fallback,s?(o=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Dl(u,o,0,null),e=Ml(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Ms,e):Bs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=cs(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Dl({mode:"visible",children:r.children},o,0,null),(a=Ml(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&wi(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Ms,a);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var u=r.dgst;return r=u,Fs(e,t,s,r=cs(a=Error(i(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=ku)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Mi(e,o),nl(r,e,o,-1))}return vl(),Fs(e,t,s,r=cs(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Pl.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=lo(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Xo[Ko++]=Zo,Xo[Ko++]=Qo,Xo[Ko++]=$o,Zo=e.id,Qo=e.overflow,$o=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,u,o,r,a,n);if(s){s=o.fallback,u=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:o.children};return 0===(1&u)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=l,t.deletions=null):(o=Rl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Rl(r,s):(s=Ml(s,u,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,u=null===(u=e.child.memoizedState)?Ds(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,o}return e=(s=e.child).sibling,o=Rl(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Bs(e,t){return(t=Dl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&vi(r),wi(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ki(e.return,t,n)}function zs(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Vs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Po(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),zs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ta(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}zs(t,!0,n,null,i);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Du|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Rl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ys(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Ro(t.type)&&Io(),qs(t),null;case 3:return r=t.stateNode,Zi(),To(Ao),To(ko),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ai&&(al(ai),ai=null))),js(e,t),qs(t),null;case 5:Ji(t);var o=Ki(Xi.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return qs(t),null}if(e=Ki(qi.current),di(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ho]=t,r[po]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(o=0;o<Mr.length;o++)Fr(Mr[o],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":oe(r,a),Fr("invalid",r)}for(var u in me(n,a),o=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,l,e),o=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,l,e),o=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":q(r),J(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[ho]=t,e[po]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),o=r;break;case"iframe":case"object":case"embed":Fr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Mr.length;o++)Fr(Mr[o],e);o=r;break;case"source":Fr("error",e),o=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),o=r;break;case"details":Fr("toggle",e),o=r;break;case"input":$(e,r),o=K(e,r),Fr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Fr("invalid",e)}for(a in me(n,o),l=o)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Fr("scroll",e):null!=c&&b(e,a,c,u))}switch(n){case"input":q(e),J(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Is(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Ki(Xi.current),Ki(qi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[ho]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ho]=t,t.stateNode=r}return qs(t),null;case 13:if(To(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))hi(),pi(),t.flags|=98560,a=!1;else if(a=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[ho]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),a=!1}else null!==ai&&(al(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Iu&&(Iu=3):vl())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return Zi(),js(e,t),null===e&&Vr(t.stateNode.containerInfo),qs(t),null;case 10:return Ci(t.type._context),qs(t),null;case 19:if(To(ea),null===(a=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Gs(a,!1);else{if(0!==Iu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ta(e))){for(t.flags|=128,Gs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Po(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>Vu&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!ii)return qs(t),null}else 2*Ze()-a.renderingStartTime>Vu&&1073741824!==n&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=ea.current,Po(ea,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ju)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Xs(e,t){switch(ni(t),t.tag){case 1:return Ro(t.type)&&Io(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zi(),To(Ao),To(ko),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ji(t),null;case 13:if(To(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return To(ea),null;case 4:return Zi(),null;case 10:return Ci(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},js=function(){},Rs=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ki(qi.current);var i,a=null;switch(n){case"input":o=K(e,o),r=K(e,r),a=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in me(n,r),n=null,o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var u=o[c];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=o?o[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(i in u)!u.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&u[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Fr("scroll",e),a||u===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Is=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,$s=!1,Zs="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ol(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Ol(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&eu(t,n,i)}o=o.next}while(o!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function iu(e){var t=e.alternate;null!==t&&(e.alternate=null,iu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ho],delete t[po],delete t[go],delete t[yo],delete t[mo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(s){}switch(n.tag){case 5:$s||Js(n,t);case 6:var r=cu,o=fu;cu=null,du(e,t,n),fu=o,null!==(cu=r)&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?uo(e.parentNode,n):1===e.nodeType&&uo(e,n),Vt(e)):uo(cu,n.stateNode));break;case 4:r=cu,o=fu,cu=n.stateNode.containerInfo,fu=!0,du(e,t,n),cu=r,fu=o;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&eu(n,t,a),o=o.next}while(o!==r)}du(e,t,n);break;case 1:if(!$s&&(Js(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ol(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,du(e,t,n),$s=r):du(e,t,n);break;default:du(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach(function(t){var r=Cl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,fu=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===cu)throw Error(i(160));hu(a,s,o),cu=null,fu=!1;var l=o.alternate;null!==l&&(l.return=null),o.return=null}catch(c){Ol(o,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(g){Ol(e,e.return,g)}try{nu(5,e,e.return)}catch(g){Ol(e,e.return,g)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var o=e.stateNode;try{de(o,"")}catch(g){Ol(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===a.type&&null!=a.name&&Z(o,a),be(u,s);var c=be(u,a);for(s=0;s<l.length;s+=2){var f=l[s],d=l[s+1];"style"===f?ge(o,d):"dangerouslySetInnerHTML"===f?fe(o,d):"children"===f?de(o,d):b(o,f,d,c)}switch(u){case"input":Q(o,a);break;case"textarea":ie(o,a);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(o,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[po]=a}catch(g){Ol(e,e.return,g)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(g){Ol(e,e.return,g)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Ol(e,e.return,g)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(zu=Ze())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($s=(c=$s)||f,vu(t,e),$s=c):vu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Qs=e,f=e.child;null!==f;){for(d=Qs=f;null!==Qs;){switch(p=(h=Qs).child,h.tag){case 0:case 11:case 14:case 15:nu(4,h,h.return);break;case 1:Js(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Ol(r,n,g)}}break;case 5:Js(h,h.return);break;case 22:if(null!==h.memoizedState){wu(d);continue}}null!==p?(p.return=h,Qs=p):wu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{o=d.stateNode,c?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=d.stateNode,s=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(g){Ol(e,e.return,g)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Ol(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(de(o,""),r.flags&=-33),lu(e,su(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,su(e),a);break;default:throw Error(i(161))}}catch(s){Ol(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function mu(e,t,n){Qs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var o=Qs,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Ks;if(!a){var s=o.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Ks;var l=$s;if(Ks=a,($s=u)&&!l)for(Qs=o;null!==Qs;)u=(a=Qs).child,22===a.tag&&null!==a.memoizedState?xu(o):null!==u?(u.return=a,Qs=u):xu(o);for(;null!==i;)Qs=i,bu(i,t,n),i=i.sibling;Qs=o,Ks=s,$s=l}_u(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Qs=i):_u(e)}}function _u(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(i(163))}$s||512&t.flags&&ou(t)}catch(h){Ol(t,t.return,h)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function wu(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function xu(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Ol(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(u){Ol(t,o,u)}}var i=t.return;try{ou(t)}catch(u){Ol(t,i,u)}break;case 5:var a=t.return;try{ou(t)}catch(u){Ol(t,a,u)}}}catch(u){Ol(t,t.return,u)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Eu,Ou=Math.ceil,Su=_.ReactCurrentDispatcher,Tu=_.ReactCurrentOwner,Pu=_.ReactCurrentBatchConfig,Cu=0,ku=null,Au=null,Nu=0,ju=0,Ru=So(0),Iu=0,Mu=null,Du=0,Lu=0,Bu=0,Fu=null,Uu=null,zu=0,Vu=1/0,Wu=null,Hu=!1,Gu=null,qu=null,Yu=!1,Xu=null,Ku=0,$u=0,Zu=null,Qu=-1,Ju=0;function el(){return 0!==(6&Cu)?Ze():-1!==Qu?Qu:Qu=Ze()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Nu?Nu&-Nu:null!==gi.transition?(0===Ju&&(Ju=vt()),Ju):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nl(e,t,n,r){if(50<$u)throw $u=0,Zu=null,Error(i(185));yt(e,n,r),0!==(2&Cu)&&e===ku||(e===ku&&(0===(2&Cu)&&(Lu|=n),4===Iu&&sl(e,Nu)),rl(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(Vu=Ze()+500,Uo&&Wo()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,u=o[a];-1===u?0!==(s&n)&&0===(s&r)||(o[a]=ht(s,t)):u<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=dt(e,e===ku?Nu:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Uo=!0,Vo(e)}(ul.bind(null,e)):Vo(ul.bind(null,e)),ao(function(){0===(6&Cu)&&Wo()}),n=null;else{switch(_t(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=kl(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(Qu=-1,Ju=0,0!==(6&Cu))throw Error(i(327));var n=e.callbackNode;if(xl()&&e.callbackNode!==n)return null;var r=dt(e,e===ku?Nu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var o=Cu;Cu|=2;var a=pl();for(ku===e&&Nu===t||(Wu=null,Vu=Ze()+500,dl(e,t));;)try{ml();break}catch(u){hl(e,u)}Pi(),Su.current=a,Cu=o,null!==Au?t=0:(ku=null,Nu=0,t=Iu)}if(0!==t){if(2===t&&(0!==(o=pt(e))&&(r=o,t=il(e,o))),1===t)throw n=Mu,dl(e,0),sl(e,r),rl(e,Ze()),n;if(6===t)sl(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gl(e,r))&&(0!==(a=pt(e))&&(r=a,t=il(e,a))),1===t))throw n=Mu,dl(e,0),sl(e,r),rl(e,Ze()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wl(e,Uu,Wu);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=zu+500-Ze())){if(0!==dt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(wl.bind(null,e,Uu,Wu),t);break}wl(e,Uu,Wu);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ou(r/1960))-r)){e.timeoutHandle=ro(wl.bind(null,e,Uu,Wu),r);break}wl(e,Uu,Wu);break;default:throw Error(i(329))}}}return rl(e,Ze()),e.callbackNode===n?ol.bind(null,e):null}function il(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=Uu,Uu=n,null!==t&&al(t)),e}function al(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function sl(e,t){for(t&=~Bu,t&=~Lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Cu))throw Error(i(327));xl();var t=dt(e,0);if(0===(1&t))return rl(e,Ze()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=il(e,r))}if(1===n)throw n=Mu,dl(e,0),sl(e,t),rl(e,Ze()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Uu,Wu),rl(e,Ze()),null}function ll(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(Vu=Ze()+500,Uo&&Wo())}}function cl(e){null!==Xu&&0===Xu.tag&&0===(6&Cu)&&xl();var t=Cu;Cu|=1;var n=Pu.transition,r=bt;try{if(Pu.transition=null,bt=1,e)return e()}finally{bt=r,Pu.transition=n,0===(6&(Cu=t))&&Wo()}}function fl(){ju=Ru.current,To(Ru)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Io();break;case 3:Zi(),To(Ao),To(ko),ra();break;case 5:Ji(r);break;case 4:Zi();break;case 13:case 19:To(ea);break;case 10:Ci(r.type._context);break;case 22:case 23:fl()}n=n.return}if(ku=e,Au=e=Rl(e.current,null),Nu=ju=t,Iu=0,Mu=null,Bu=Lu=Du=0,Uu=Fu=null,null!==ji){for(t=0;t<ji.length;t++)if(null!==(r=(n=ji[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}ji=null}return e}function hl(e,t){for(;;){var n=Au;try{if(Pi(),oa.current=Qa,ca){for(var r=sa.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ca=!1}if(aa=0,la=ua=sa=null,fa=!1,da=0,Tu.current=null,null===n||null===n.return){Iu=1,Mu=t,Au=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=Nu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&vs(a,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}if(0===(1&t)){vs(a,c,t),vl();break e}l=Error(i(426))}else if(ii&&1&u.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,u,0,t),vi(ls(l,u));break e}}a=l=ls(l,u),4!==Iu&&(Iu=2),null===Fu?Fu=[a]:Fu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Vi(a,hs(0,l,t));break e;case 1:u=l;var m=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof m.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===qu||!qu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Vi(a,ps(a,u,t));break e}}a=a.return}while(null!==a)}_l(n)}catch(_){t=_,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function pl(){var e=Su.current;return Su.current=Qa,null===e?Qa:e}function vl(){0!==Iu&&3!==Iu&&2!==Iu||(Iu=4),null===ku||0===(268435455&Du)&&0===(268435455&Lu)||sl(ku,Nu)}function gl(e,t){var n=Cu;Cu|=2;var r=pl();for(ku===e&&Nu===t||(Wu=null,dl(e,t));;)try{yl();break}catch(o){hl(e,o)}if(Pi(),Cu=n,Su.current=r,null!==Au)throw Error(i(261));return ku=null,Nu=0,Iu}function yl(){for(;null!==Au;)bl(Au)}function ml(){for(;null!==Au&&!Ke();)bl(Au)}function bl(e){var t=Eu(e.alternate,e,ju);e.memoizedProps=e.pendingProps,null===t?_l(e):Au=t,Tu.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ys(n,t,ju)))return void(Au=n)}else{if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Iu=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Iu&&(Iu=5)}function wl(e,t,n){var r=bt,o=Pu.transition;try{Pu.transition=null,bt=1,function(e,t,n,r){do{xl()}while(null!==Xu);if(0!==(6&Cu))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===ku&&(Au=ku=null,Nu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yu||(Yu=!0,kl(tt,function(){return xl(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Pu.transition,Pu.transition=null;var s=bt;bt=1;var u=Cu;Cu|=4,Tu.current=null,function(e,t){if(eo=Ht,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==o&&3!==d.nodeType||(u=s+o),d!==a||0!==r&&3!==d.nodeType||(l=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===o&&(u=s),h===a&&++f===r&&(l=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ht=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,y=v.memoizedState,m=t.stateNode,b=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(i(163))}}catch(w){Ol(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}v=tu,tu=!1}(e,n),gu(n,e),pr(to),Ht=!!eo,to=eo=null,e.current=n,mu(n,e,o),$e(),Cu=u,bt=s,Pu.transition=a}else e.current=n;if(Yu&&(Yu=!1,Xu=e,Ku=o),a=e.pendingLanes,0===a&&(qu=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Hu)throw Hu=!1,e=Gu,Gu=null,e;0!==(1&Ku)&&0!==e.tag&&xl(),a=e.pendingLanes,0!==(1&a)?e===Zu?$u++:($u=0,Zu=e):$u=0,Wo()}(e,t,n,r)}finally{Pu.transition=o,bt=r}return null}function xl(){if(null!==Xu){var e=_t(Ku),t=Pu.transition,n=bt;try{if(Pu.transition=null,bt=16>e?16:e,null===Xu)var r=!1;else{if(e=Xu,Xu=null,Ku=0,0!==(6&Cu))throw Error(i(331));var o=Cu;for(Cu|=4,Qs=e.current;null!==Qs;){var a=Qs,s=a.child;if(0!==(16&Qs.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Qs=c;null!==Qs;){var f=Qs;switch(f.tag){case 0:case 11:case 15:nu(8,f,a)}var d=f.child;if(null!==d)d.return=f,Qs=d;else for(;null!==Qs;){var h=(f=Qs).sibling,p=f.return;if(iu(f),f===c){Qs=null;break}if(null!==h){h.return=p,Qs=h;break}Qs=p}}}var v=a.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Qs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var m=a.sibling;if(null!==m){m.return=a.return,Qs=m;break e}Qs=a.return}}var b=e.current;for(Qs=b;null!==Qs;){var _=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Qs=_;else e:for(s=b;null!==Qs;){if(0!==(2048&(u=Qs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){Ol(u,u.return,x)}if(u===s){Qs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Qs=w;break e}Qs=u.return}}if(Cu=o,Wo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(x){}r=!0}return r}finally{bt=n,Pu.transition=t}}return!1}function El(e,t,n){e=Ui(e,t=hs(0,t=ls(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function Ol(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qu||!qu.has(r))){t=Ui(t,e=ps(t,e=ls(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,ku===e&&(Nu&n)===n&&(4===Iu||3===Iu&&(130023424&Nu)===Nu&&500>Ze()-zu?dl(e,0):Bu|=n),rl(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Mi(e,t))&&(yt(e,t,n),rl(e,n))}function Pl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Cl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Tl(e,n)}function kl(e,t){return Ye(e,t)}function Al(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nl(e,t,n,r){return new Al(e,t,n,r)}function jl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rl(e,t){var n=e.alternate;return null===n?((n=Nl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Il(e,t,n,r,o,a){var s=2;if(r=e,"function"===typeof e)jl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Ml(n.children,o,a,t);case O:s=8,o|=8;break;case S:return(e=Nl(12,n,t,2|o)).elementType=S,e.lanes=a,e;case k:return(e=Nl(13,n,t,o)).elementType=k,e.lanes=a,e;case A:return(e=Nl(19,n,t,o)).elementType=A,e.lanes=a,e;case R:return Dl(n,o,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case P:s=9;break e;case C:s=11;break e;case N:s=14;break e;case j:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Nl(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Ml(e,t,n,r){return(e=Nl(7,e,r,t)).lanes=n,e}function Dl(e,t,n,r){return(e=Nl(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Ll(e,t,n){return(e=Nl(6,e,null,t)).lanes=n,e}function Bl(e,t,n){return(t=Nl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fl(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ul(e,t,n,r,o,i,a,s,u){return e=new Fl(e,t,n,s,u),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Nl(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function zl(e){if(!e)return Co;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ro(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ro(n))return Do(e,n,t)}return t}function Vl(e,t,n,r,o,i,a,s,u){return(e=Ul(n,r,!0,e,0,i,0,s,u)).context=zl(null),n=e.current,(i=Fi(r=el(),o=tl(n))).callback=void 0!==t&&null!==t?t:null,Ui(n,i,o),e.current.lanes=o,yt(e,o,r),rl(e,r),e}function Wl(e,t,n,r){var o=t.current,i=el(),a=tl(o);return n=zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ui(o,t,a))&&(nl(e,o,a,i),zi(e,o,a)),a}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ql(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ao.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:ks(t),pi();break;case 5:Qi(t);break;case 1:Ro(t.type)&&Lo(t);break;case 4:$i(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Po(Ei,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Po(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Po(ea,1&ea.current),null!==(e=Hs(e,t,n))?e.sibling:null);Po(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Po(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Os(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ii&&0!==(1048576&t.flags)&&ei(t,Yo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var o=jo(t,ko.current);Ai(t,n),o=ga(null,t,r,e,o,n);var a=ya();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ro(r)?(a=!0,Lo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Li(t),o.updater=os,t.stateNode=o,o._reactInternals=t,us(t,r,e,n),t=Cs(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),_s(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return jl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=ns(r,e),o){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Ps(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ts(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ps(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 3:e:{if(ks(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Bi(e,t),Wi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=As(e,t,r,n,o=ls(Error(i(423)),t));break e}if(r!==o){t=As(e,t,r,n,o=ls(Error(i(424)),t));break e}for(oi=lo(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=xi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===o){t=Hs(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return Qi(t),null===e&&ci(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),Ss(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Ls(e,t,n);case 4:return $i(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,ws(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,Po(Ei,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!Ao.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Fi(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ki(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),ki(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}_s(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ai(t,n),r=r(o=Ni(o)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return o=ns(r=t.type,t.pendingProps),xs(e,t,r,o=ns(r.type,o),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ns(r,o),Ws(e,t),t.tag=1,Ro(r)?(e=!0,Lo(t)):e=!1,Ai(t,n),as(t,r,o),us(t,r,o,n),Cs(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Os(e,t,n)}throw Error(i(156,t.tag))};var Yl="function"===typeof reportError?reportError:function(e){console.error(e)};function Xl(e){this._internalRoot=e}function Kl(e){this._internalRoot=e}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ql(){}function Jl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof o){var s=o;o=function(){var e=Hl(a);s.call(e)}}Wl(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Hl(a);i.call(e)}}var a=Vl(t,r,e,0,null,!1,0,"",Ql);return e._reactRootContainer=a,e[vo]=a.current,Vr(8===e.nodeType?e.parentNode:e),cl(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=Hl(u);s.call(e)}}var u=Ul(e,0,!1,null,0,!1,0,"",Ql);return e._reactRootContainer=u,e[vo]=u.current,Vr(8===e.nodeType?e.parentNode:e),cl(function(){Wl(t,u,n,r)}),u}(n,t,e,o,r);return Hl(a)}Kl.prototype.render=Xl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wl(e,t,null,null)},Kl.prototype.unmount=Xl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl(function(){Wl(null,e,null,null)}),t[vo]=null}},Kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ot();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(mt(t,1|n),rl(t,Ze()),0===(6&Cu)&&(Vu=Ze()+500,Wo()))}break;case 13:cl(function(){var t=Mi(e,1);if(null!==t){var n=el();nl(t,e,1,n)}}),ql(e,1)}},xt=function(e){if(13===e.tag){var t=Mi(e,134217728);if(null!==t)nl(t,e,134217728,el());ql(e,134217728)}},Et=function(e){if(13===e.tag){var t=tl(e),n=Mi(e,t);if(null!==n)nl(n,e,t,el());ql(e,t)}},Ot=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=xo(r);if(!o)throw Error(i(90));Y(r),Q(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=ll,ke=cl;var ec={usingClientEntryPoint:!1,Events:[_o,wo,xo,Te,Pe,ll]},tc={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{ot=rc.inject(nc),it=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$l(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$l(e))throw Error(i(299));var n=!1,r="",o=Yl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Ul(e,1,!1,null,0,n,0,r,o),e[vo]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Xl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Zl(t))throw Error(i(200));return Jl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$l(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=Yl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vl(t,null,e,1,null!=n?n:null,o,0,a,s),e[vo]=t.current,Vr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Kl(t)},t.render=function(e,t,n){if(!Zl(t))throw Error(i(200));return Jl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(i(40));return!!e._reactRootContainer&&(cl(function(){Jl(null,null,e,!1,function(){e._reactRootContainer=null,e[vo]=null})}),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zl(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Jl(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2759:(e,t,n)=>{var r=n(9421),o=n(5652),i=n(9096),a=n(6487),s=n(4052);e.exports=function(e,t,n){var u=s(e)?r:a,l=arguments.length<3;return u(e,i(t,4),n,l,o)}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),o=n(2761),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),o=n(914);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},3150:(e,t,n)=>{var r=n(3536);e.exports=function(e){var t=function(e){var t={},n=0;function o(i){var a=n;r.forEach(e.children(i),o),t[i]={low:a,lim:n++}}return r.forEach(e.children(),o),t}(e);r.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),o=r.edgeObj,i=function(e,t,n,r){var o,i,a=[],s=[],u=Math.min(t[n].low,t[r].low),l=Math.max(t[n].lim,t[r].lim);o=n;do{o=e.parent(o),a.push(o)}while(o&&(t[o].low>u||l>t[o].lim));i=o,o=r;for(;(o=e.parent(o))!==i;)s.push(o);return{path:a.concat(s.reverse()),lca:i}}(e,t,o.v,o.w),a=i.path,s=i.lca,u=0,l=a[u],c=!0;n!==o.w;){if(r=e.node(n),c){for(;(l=a[u])!==s&&e.node(l).maxRank<r.rank;)u++;l===s&&(c=!1)}if(!c){for(;u<a.length-1&&e.node(l=a[u+1]).minRank<=r.rank;)u++;l=a[u]}e.setParent(n,l),n=e.successors(n)[0]}})}},3163:(e,t,n)=>{var r=n(3536),o=n(7606),i=n(9207).Graph;e.exports={debugOrdering:function(e){var t=o.buildLayerMatrix(e),n=new i({compound:!0,multigraph:!0}).setGraph({});return r.forEach(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),r.forEach(e.edges(),function(e){n.setEdge(e.v,e.w,{},e.name)}),r.forEach(t,function(e,t){var o="layer"+t;n.setNode(o,{rank:"same"}),r.reduce(e,function(e,t){return n.setEdge(e,t,{style:"invis"}),t})}),n}}},3204:(e,t,n)=>{var r=n(3343),o=n(2777),i=n(4052),a=n(4543),s=n(9194),u=n(1268),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),c=!n&&o(e),f=!n&&!c&&a(e),d=!n&&!c&&!f&&u(e),h=n||c||f||d,p=h?r(e.length,String):[],v=p.length;for(var g in e)!t&&!l.call(e,g)||h&&("length"==g||f&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||p.push(g);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3279:e=>{e.exports=function(e){return e}},3333:(e,t,n)=>{"use strict";function r(e,t,n){t.split&&(t=t.split("."));for(var r,o,i=0,a=t.length,s=e;i<a&&"__proto__"!==(o=""+t[i++])&&"constructor"!==o&&"prototype"!==o;)s=s[o]=i===a?n:typeof(r=s[o])===typeof t?r:0*t[i]!==0||~(""+t[i]).indexOf(".")?{}:[]}n.d(t,{J:()=>r})},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),o=n(9057);e.exports=function(e,t){return null!=e&&o(e,t,r)}},3411:(e,t,n)=>{var r=n(149),o=n(9096),i=n(8883),a=n(4052);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3516:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},3536:function(e,t,n){var r;e=n.nmd(e),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,l=32,c=64,f=128,d=256,h=1/0,p=9007199254740991,v=NaN,g=4294967295,y=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",l],["partialRight",c],["rearg",d]],m="[object Arguments]",b="[object Array]",_="[object Boolean]",w="[object Date]",x="[object Error]",E="[object Function]",O="[object GeneratorFunction]",S="[object Map]",T="[object Number]",P="[object Object]",C="[object Promise]",k="[object RegExp]",A="[object Set]",N="[object String]",j="[object Symbol]",R="[object WeakMap]",I="[object ArrayBuffer]",M="[object DataView]",D="[object Float32Array]",L="[object Float64Array]",B="[object Int8Array]",F="[object Int16Array]",U="[object Int32Array]",z="[object Uint8Array]",V="[object Uint8ClampedArray]",W="[object Uint16Array]",H="[object Uint32Array]",G=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,$=RegExp(X.source),Z=RegExp(K.source),Q=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(oe.source),ae=/^\s+/,se=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xe=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,Oe="\\ud800-\\udfff",Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Te="\\u2700-\\u27bf",Pe="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",ke="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ne="['\u2019]",je="["+Oe+"]",Re="["+Ae+"]",Ie="["+Se+"]",Me="\\d+",De="["+Te+"]",Le="["+Pe+"]",Be="[^"+Oe+Ae+Me+Te+Pe+Ce+"]",Fe="\\ud83c[\\udffb-\\udfff]",Ue="[^"+Oe+"]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",We="["+Ce+"]",He="\\u200d",Ge="(?:"+Le+"|"+Be+")",qe="(?:"+We+"|"+Be+")",Ye="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Xe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+Ie+"|"+Fe+")"+"?",$e="["+ke+"]?",Ze=$e+Ke+("(?:"+He+"(?:"+[Ue,ze,Ve].join("|")+")"+$e+Ke+")*"),Qe="(?:"+[De,ze,Ve].join("|")+")"+Ze,Je="(?:"+[Ue+Ie+"?",Ie,ze,Ve,je].join("|")+")",et=RegExp(Ne,"g"),tt=RegExp(Ie,"g"),nt=RegExp(Fe+"(?="+Fe+")|"+Je+Ze,"g"),rt=RegExp([We+"?"+Le+"+"+Ye+"(?="+[Re,We,"$"].join("|")+")",qe+"+"+Xe+"(?="+[Re,We+Ge,"$"].join("|")+")",We+"?"+Ge+"+"+Ye,We+"+"+Xe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Qe].join("|"),"g"),ot=RegExp("["+He+Oe+Se+ke+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,ut={};ut[D]=ut[L]=ut[B]=ut[F]=ut[U]=ut[z]=ut[V]=ut[W]=ut[H]=!0,ut[m]=ut[b]=ut[I]=ut[_]=ut[M]=ut[w]=ut[x]=ut[E]=ut[S]=ut[T]=ut[P]=ut[k]=ut[A]=ut[N]=ut[R]=!1;var lt={};lt[m]=lt[b]=lt[I]=lt[M]=lt[_]=lt[w]=lt[D]=lt[L]=lt[B]=lt[F]=lt[U]=lt[S]=lt[T]=lt[P]=lt[k]=lt[A]=lt[N]=lt[j]=lt[z]=lt[V]=lt[W]=lt[H]=!0,lt[x]=lt[E]=lt[R]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ft=parseFloat,dt=parseInt,ht="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,vt=ht||pt||Function("return this")(),gt=t&&!t.nodeType&&t,yt=gt&&e&&!e.nodeType&&e,mt=yt&&yt.exports===gt,bt=mt&&ht.process,_t=function(){try{var e=yt&&yt.require&&yt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),wt=_t&&_t.isArrayBuffer,xt=_t&&_t.isDate,Et=_t&&_t.isMap,Ot=_t&&_t.isRegExp,St=_t&&_t.isSet,Tt=_t&&_t.isTypedArray;function Pt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ct(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function jt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Rt(e,t){return!!(null==e?0:e.length)&&Wt(e,t,0)>-1}function It(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Dt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Lt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Bt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ut=Yt("length");function zt(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function Vt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Wt(e,t,n){return t===t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Vt(e,Gt,n)}function Ht(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Gt(e){return e!==e}function qt(e,t){var n=null==e?0:e.length;return n?$t(e,t)/n:v}function Yt(e){return function(t){return null==t?o:t[e]}}function Xt(e){return function(t){return null==e?o:e[t]}}function Kt(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function $t(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function Zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Qt(e){return e?e.slice(0,gn(e)+1).replace(ae,""):e}function Jt(e){return function(t){return e(t)}}function en(e,t){return Mt(t,function(t){return e[t]})}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Wt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Wt(t,e[n],0)>-1;);return n}var on=Xt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=Xt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(e){return"\\"+ct[e]}function un(e){return ot.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function cn(e,t){return function(n){return e(t(n))}}function fn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,i[o++]=n)}return i}function dn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function pn(e){return un(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Ut(e)}function vn(e){return un(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var yn=Xt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function e(t){var n=(t=null==t?vt:mn.defaults(vt.Object(),t,mn.pick(vt,at))).Array,r=t.Date,se=t.Error,Oe=t.Function,Se=t.Math,Te=t.Object,Pe=t.RegExp,Ce=t.String,ke=t.TypeError,Ae=n.prototype,Ne=Oe.prototype,je=Te.prototype,Re=t["__core-js_shared__"],Ie=Ne.toString,Me=je.hasOwnProperty,De=0,Le=function(){var e=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Be=je.toString,Fe=Ie.call(Te),Ue=vt._,ze=Pe("^"+Ie.call(Me).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=mt?t.Buffer:o,We=t.Symbol,He=t.Uint8Array,Ge=Ve?Ve.allocUnsafe:o,qe=cn(Te.getPrototypeOf,Te),Ye=Te.create,Xe=je.propertyIsEnumerable,Ke=Ae.splice,$e=We?We.isConcatSpreadable:o,Ze=We?We.iterator:o,Qe=We?We.toStringTag:o,Je=function(){try{var e=di(Te,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==vt.clearTimeout&&t.clearTimeout,ot=r&&r.now!==vt.Date.now&&r.now,ct=t.setTimeout!==vt.setTimeout&&t.setTimeout,ht=Se.ceil,pt=Se.floor,gt=Te.getOwnPropertySymbols,yt=Ve?Ve.isBuffer:o,bt=t.isFinite,_t=Ae.join,Ut=cn(Te.keys,Te),Xt=Se.max,bn=Se.min,_n=r.now,wn=t.parseInt,xn=Se.random,En=Ae.reverse,On=di(t,"DataView"),Sn=di(t,"Map"),Tn=di(t,"Promise"),Pn=di(t,"Set"),Cn=di(t,"WeakMap"),kn=di(Te,"create"),An=Cn&&new Cn,Nn={},jn=Bi(On),Rn=Bi(Sn),In=Bi(Tn),Mn=Bi(Pn),Dn=Bi(Cn),Ln=We?We.prototype:o,Bn=Ln?Ln.valueOf:o,Fn=Ln?Ln.toString:o;function Un(e){if(ts(e)&&!Ha(e)&&!(e instanceof Hn)){if(e instanceof Wn)return e;if(Me.call(e,"__wrapped__"))return Fi(e)}return new Wn(e)}var zn=function(){function e(){}return function(t){if(!es(t))return{};if(Ye)return Ye(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Vn(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new qn(e);this.size=t.size}function $n(e,t){var n=Ha(e),r=!n&&Wa(e),o=!n&&!r&&Xa(e),i=!n&&!r&&!o&&ls(e),a=n||r||o||i,s=a?Zt(e.length,Ce):[],u=s.length;for(var l in e)!t&&!Me.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||bi(l,u))||s.push(l);return s}function Zn(e){var t=e.length;return t?e[Xr(0,t-1)]:o}function Qn(e,t){return Mi(Ao(e),sr(t,0,e.length))}function Jn(e){return Mi(Ao(e))}function er(e,t,n){(n!==o&&!Ua(e[t],n)||n===o&&!(t in e))&&ir(e,t,n)}function tr(e,t,n){var r=e[t];Me.call(e,t)&&Ua(r,n)&&(n!==o||t in e)||ir(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Ua(e[n][0],t))return n;return-1}function rr(e,t,n,r){return dr(e,function(e,o,i){t(r,e,n(e),i)}),r}function or(e,t){return e&&No(t,Ns(t),e)}function ir(e,t,n){"__proto__"==t&&Je?Je(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ar(e,t){for(var r=-1,i=t.length,a=n(i),s=null==e;++r<i;)a[r]=s?o:Ts(e,t[r]);return a}function sr(e,t,n){return e===e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function ur(e,t,n,r,i,a){var s,u=1&t,l=2&t,c=4&t;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!es(e))return e;var f=Ha(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Ao(e,s)}else{var d=vi(e),h=d==E||d==O;if(Xa(e))return Oo(e,u);if(d==P||d==m||h&&!i){if(s=l||h?{}:yi(e),!u)return l?function(e,t){return No(e,pi(e),t)}(e,function(e,t){return e&&No(t,js(t),e)}(s,e)):function(e,t){return No(e,hi(e),t)}(e,or(s,e))}else{if(!lt[d])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case I:return So(e);case _:case w:return new r(+e);case M:return function(e,t){var n=t?So(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case D:case L:case B:case F:case U:case z:case V:case W:case H:return To(e,n);case S:return new r;case T:case N:return new r(e);case k:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case A:return new r;case j:return o=e,Bn?Te(Bn.call(o)):{}}var o}(e,d,u)}}a||(a=new Kn);var p=a.get(e);if(p)return p;a.set(e,s),as(e)?e.forEach(function(r){s.add(ur(r,t,n,r,e,a))}):ns(e)&&e.forEach(function(r,o){s.set(o,ur(r,t,n,o,e,a))});var v=f?o:(c?l?ii:oi:l?js:Ns)(e);return kt(v||e,function(r,o){v&&(r=e[o=r]),tr(s,o,ur(r,t,n,o,e,a))}),s}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Te(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new ke(i);return Ni(function(){e.apply(o,n)},t)}function fr(e,t,n,r){var o=-1,i=Rt,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=Mt(t,Jt(n))),r?(i=It,a=!1):t.length>=200&&(i=tn,a=!1,t=new Xn(t));e:for(;++o<s;){var c=e[o],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f===f){for(var d=l;d--;)if(t[d]===f)continue e;u.push(c)}else i(t,f,r)||u.push(c)}return u}Un.templateSettings={escape:Q,evaluate:J,interpolate:ee,variable:"",imports:{_:Un}},Un.prototype=Vn.prototype,Un.prototype.constructor=Un,Wn.prototype=zn(Vn.prototype),Wn.prototype.constructor=Wn,Hn.prototype=zn(Vn.prototype),Hn.prototype.constructor=Hn,Gn.prototype.clear=function(){this.__data__=kn?kn(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(kn){var n=t[e];return n===a?o:n}return Me.call(t,e)?t[e]:o},Gn.prototype.has=function(e){var t=this.__data__;return kn?t[e]!==o:Me.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=kn&&t===o?a:t,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},qn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?o:t[n][1]},qn.prototype.has=function(e){return nr(this.__data__,e)>-1},qn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(Sn||qn),string:new Gn}},Yn.prototype.delete=function(e){var t=ci(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return ci(this,e).get(e)},Yn.prototype.has=function(e){return ci(this,e).has(e)},Yn.prototype.set=function(e,t){var n=ci(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Xn.prototype.add=Xn.prototype.push=function(e){return this.__data__.set(e,a),this},Xn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new qn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(e,t),this.size=n.size,this};var dr=Io(_r),hr=Io(wr,!0);function pr(e,t){var n=!0;return dr(e,function(e,r,o){return n=!!t(e,r,o)}),n}function vr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(u===o?s===s&&!us(s):n(s,u)))var u=s,l=a}return l}function gr(e,t){var n=[];return dr(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function yr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=mi),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?yr(s,t-1,n,r,o):Dt(o,s):r||(o[o.length]=s)}return o}var mr=Mo(),br=Mo(!0);function _r(e,t){return e&&mr(e,t,Ns)}function wr(e,t){return e&&br(e,t,Ns)}function xr(e,t){return jt(t,function(t){return Za(e[t])})}function Er(e,t){for(var n=0,r=(t=_o(t,e)).length;null!=e&&n<r;)e=e[Li(t[n++])];return n&&n==r?e:o}function Or(e,t,n){var r=t(e);return Ha(e)?r:Dt(r,n(e))}function Sr(e){return null==e?e===o?"[object Undefined]":"[object Null]":Qe&&Qe in Te(e)?function(e){var t=Me.call(e,Qe),n=e[Qe];try{e[Qe]=o;var r=!0}catch(a){}var i=Be.call(e);r&&(t?e[Qe]=n:delete e[Qe]);return i}(e):function(e){return Be.call(e)}(e)}function Tr(e,t){return e>t}function Pr(e,t){return null!=e&&Me.call(e,t)}function Cr(e,t){return null!=e&&t in Te(e)}function kr(e,t,r){for(var i=r?It:Rt,a=e[0].length,s=e.length,u=s,l=n(s),c=1/0,f=[];u--;){var d=e[u];u&&t&&(d=Mt(d,Jt(t))),c=bn(d.length,c),l[u]=!r&&(t||a>=120&&d.length>=120)?new Xn(u&&d):o}d=e[0];var h=-1,p=l[0];e:for(;++h<a&&f.length<c;){var v=d[h],g=t?t(v):v;if(v=r||0!==v?v:0,!(p?tn(p,g):i(f,g,r))){for(u=s;--u;){var y=l[u];if(!(y?tn(y,g):i(e[u],g,r)))continue e}p&&p.push(g),f.push(v)}}return f}function Ar(e,t,n){var r=null==(e=Ci(e,t=_o(t,e)))?e:e[Li($i(t))];return null==r?o:Pt(r,e,n)}function Nr(e){return ts(e)&&Sr(e)==m}function jr(e,t,n,r,i){return e===t||(null==e||null==t||!ts(e)&&!ts(t)?e!==e&&t!==t:function(e,t,n,r,i,a){var s=Ha(e),u=Ha(t),l=s?b:vi(e),c=u?b:vi(t),f=(l=l==m?P:l)==P,d=(c=c==m?P:c)==P,h=l==c;if(h&&Xa(e)){if(!Xa(t))return!1;s=!0,f=!1}if(h&&!f)return a||(a=new Kn),s||ls(e)?ni(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!i(new He(e),new He(t)));case _:case w:case T:return Ua(+e,+t);case x:return e.name==t.name&&e.message==t.message;case k:case N:return e==t+"";case S:var s=ln;case A:var u=1&r;if(s||(s=dn),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=ni(s(e),s(t),r,o,i,a);return a.delete(e),c;case j:if(Bn)return Bn.call(e)==Bn.call(t)}return!1}(e,t,l,n,r,i,a);if(!(1&n)){var p=f&&Me.call(e,"__wrapped__"),v=d&&Me.call(t,"__wrapped__");if(p||v){var g=p?e.value():e,y=v?t.value():t;return a||(a=new Kn),i(g,y,n,r,a)}}if(!h)return!1;return a||(a=new Kn),function(e,t,n,r,i,a){var s=1&n,u=oi(e),l=u.length,c=oi(t),f=c.length;if(l!=f&&!s)return!1;var d=l;for(;d--;){var h=u[d];if(!(s?h in t:Me.call(t,h)))return!1}var p=a.get(e),v=a.get(t);if(p&&v)return p==t&&v==e;var g=!0;a.set(e,t),a.set(t,e);var y=s;for(;++d<l;){var m=e[h=u[d]],b=t[h];if(r)var _=s?r(b,m,h,t,e,a):r(m,b,h,e,t,a);if(!(_===o?m===b||i(m,b,n,r,a):_)){g=!1;break}y||(y="constructor"==h)}if(g&&!y){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,n,r,i,a)}(e,t,n,r,jr,i))}function Rr(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=Te(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var l=(u=n[i])[0],c=e[l],f=u[1];if(s&&u[2]){if(c===o&&!(l in e))return!1}else{var d=new Kn;if(r)var h=r(c,f,l,e,t,d);if(!(h===o?jr(f,c,3,r,d):h))return!1}}return!0}function Ir(e){return!(!es(e)||(t=e,Le&&Le in t))&&(Za(e)?ze:me).test(Bi(e));var t}function Mr(e){return"function"==typeof e?e:null==e?ru:"object"==typeof e?Ha(e)?zr(e[0],e[1]):Ur(e):du(e)}function Dr(e){if(!Oi(e))return Ut(e);var t=[];for(var n in Te(e))Me.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e){if(!es(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=Oi(e),n=[];for(var r in e)("constructor"!=r||!t&&Me.call(e,r))&&n.push(r);return n}function Br(e,t){return e<t}function Fr(e,t){var r=-1,o=qa(e)?n(e.length):[];return dr(e,function(e,n,i){o[++r]=t(e,n,i)}),o}function Ur(e){var t=fi(e);return 1==t.length&&t[0][2]?Ti(t[0][0],t[0][1]):function(n){return n===e||Rr(n,e,t)}}function zr(e,t){return wi(e)&&Si(t)?Ti(Li(e),t):function(n){var r=Ts(n,e);return r===o&&r===t?Ps(n,e):jr(t,r,3)}}function Vr(e,t,n,r,i){e!==t&&mr(t,function(a,s){if(i||(i=new Kn),es(a))!function(e,t,n,r,i,a,s){var u=ki(e,n),l=ki(t,n),c=s.get(l);if(c)return void er(e,n,c);var f=a?a(u,l,n+"",e,t,s):o,d=f===o;if(d){var h=Ha(l),p=!h&&Xa(l),v=!h&&!p&&ls(l);f=l,h||p||v?Ha(u)?f=u:Ya(u)?f=Ao(u):p?(d=!1,f=Oo(l,!0)):v?(d=!1,f=To(l,!0)):f=[]:os(l)||Wa(l)?(f=u,Wa(u)?f=ys(u):es(u)&&!Za(u)||(f=yi(l))):d=!1}d&&(s.set(l,f),i(f,l,r,a,s),s.delete(l));er(e,n,f)}(e,t,s,n,Vr,r,i);else{var u=r?r(ki(e,s),a,s+"",e,t,i):o;u===o&&(u=a),er(e,s,u)}},js)}function Wr(e,t){var n=e.length;if(n)return bi(t+=t<0?n:0,n)?e[t]:o}function Hr(e,t,n){t=t.length?Mt(t,function(e){return Ha(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e}):[ru];var r=-1;t=Mt(t,Jt(li()));var o=Fr(e,function(e,n,o){var i=Mt(t,function(t){return t(e)});return{criteria:i,index:++r,value:e}});return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;for(;++r<a;){var u=Po(o[r],i[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)})}function Gr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=Er(e,a);n(s,a)&&Jr(i,_o(a,e),s)}return i}function qr(e,t,n,r){var o=r?Ht:Wt,i=-1,a=t.length,s=e;for(e===t&&(t=Ao(t)),n&&(s=Mt(e,Jt(n)));++i<a;)for(var u=0,l=t[i],c=n?n(l):l;(u=o(s,c,u,r))>-1;)s!==e&&Ke.call(s,u,1),Ke.call(e,u,1);return e}function Yr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;bi(o)?Ke.call(e,o,1):fo(e,o)}}return e}function Xr(e,t){return e+pt(xn()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function $r(e,t){return ji(Pi(e,t,ru),e+"")}function Zr(e){return Zn(Us(e))}function Qr(e,t){var n=Us(e);return Mi(n,sr(t,0,n.length))}function Jr(e,t,n,r){if(!es(e))return e;for(var i=-1,a=(t=_o(t,e)).length,s=a-1,u=e;null!=u&&++i<a;){var l=Li(t[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=s){var f=u[l];(c=r?r(f,l,u):o)===o&&(c=es(f)?f:bi(t[i+1])?[]:{})}tr(u,l,c),u=u[l]}return e}var eo=An?function(e,t){return An.set(e,t),e}:ru,to=Je?function(e,t){return Je(e,"toString",{configurable:!0,enumerable:!1,value:eu(t),writable:!0})}:ru;function no(e){return Mi(Us(e))}function ro(e,t,r){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=n(i);++o<i;)a[o]=e[o+t];return a}function oo(e,t){var n;return dr(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function io(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t===t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!us(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return ao(e,t,ru,n)}function ao(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!==t,u=null===t,l=us(t),c=t===o;i<a;){var f=pt((i+a)/2),d=n(e[f]),h=d!==o,p=null===d,v=d===d,g=us(d);if(s)var y=r||v;else y=c?v&&(r||h):u?v&&h&&(r||!p):l?v&&h&&!p&&(r||!g):!p&&!g&&(r?d<=t:d<t);y?i=f+1:a=f}return bn(a,4294967294)}function so(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ua(s,u)){var u=s;i[o++]=0===a?0:a}}return i}function uo(e){return"number"==typeof e?e:us(e)?v:+e}function lo(e){if("string"==typeof e)return e;if(Ha(e))return Mt(e,lo)+"";if(us(e))return Fn?Fn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function co(e,t,n){var r=-1,o=Rt,i=e.length,a=!0,s=[],u=s;if(n)a=!1,o=It;else if(i>=200){var l=t?null:$o(e);if(l)return dn(l);a=!1,o=tn,u=new Xn}else u=t?[]:s;e:for(;++r<i;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f===f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(c)}else o(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}function fo(e,t){return null==(e=Ci(e,t=_o(t,e)))||delete e[Li($i(t))]}function ho(e,t,n,r){return Jr(e,t,n(Er(e,t)),r)}function po(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?ro(e,r?0:i,r?i+1:o):ro(e,r?i+1:0,r?o:i)}function vo(e,t){var n=e;return n instanceof Hn&&(n=n.value()),Lt(t,function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))},n)}function go(e,t,r){var o=e.length;if(o<2)return o?co(e[0]):[];for(var i=-1,a=n(o);++i<o;)for(var s=e[i],u=-1;++u<o;)u!=i&&(a[i]=fr(a[i]||s,e[u],t,r));return co(yr(a,1),t,r)}function yo(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var u=r<a?t[r]:o;n(s,e[r],u)}return s}function mo(e){return Ya(e)?e:[]}function bo(e){return"function"==typeof e?e:ru}function _o(e,t){return Ha(e)?e:wi(e,t)?[e]:Di(ms(e))}var wo=$r;function xo(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:ro(e,t,n)}var Eo=nt||function(e){return vt.clearTimeout(e)};function Oo(e,t){if(t)return e.slice();var n=e.length,r=Ge?Ge(n):new e.constructor(n);return e.copy(r),r}function So(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function To(e,t){var n=t?So(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Po(e,t){if(e!==t){var n=e!==o,r=null===e,i=e===e,a=us(e),s=t!==o,u=null===t,l=t===t,c=us(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&e<t||c&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!l)return-1}return 0}function Co(e,t,r,o){for(var i=-1,a=e.length,s=r.length,u=-1,l=t.length,c=Xt(a-s,0),f=n(l+c),d=!o;++u<l;)f[u]=t[u];for(;++i<s;)(d||i<a)&&(f[r[i]]=e[i]);for(;c--;)f[u++]=e[i++];return f}function ko(e,t,r,o){for(var i=-1,a=e.length,s=-1,u=r.length,l=-1,c=t.length,f=Xt(a-u,0),d=n(f+c),h=!o;++i<f;)d[i]=e[i];for(var p=i;++l<c;)d[p+l]=t[l];for(;++s<u;)(h||i<a)&&(d[p+r[s]]=e[i++]);return d}function Ao(e,t){var r=-1,o=e.length;for(t||(t=n(o));++r<o;)t[r]=e[r];return t}function No(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],l=r?r(n[u],e[u],u,n,e):o;l===o&&(l=e[u]),i?ir(n,u,l):tr(n,u,l)}return n}function jo(e,t){return function(n,r){var o=Ha(n)?Ct:rr,i=t?t():{};return o(n,e,li(r,2),i)}}function Ro(e){return $r(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&_i(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=Te(t);++r<i;){var u=n[r];u&&e(t,u,r,a)}return t})}function Io(e,t){return function(n,r){if(null==n)return n;if(!qa(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Te(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Mo(e){return function(t,n,r){for(var o=-1,i=Te(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}function Do(e){return function(t){var n=un(t=ms(t))?vn(t):o,r=n?n[0]:t.charAt(0),i=n?xo(n,1).join(""):t.slice(1);return r[e]()+i}}function Lo(e){return function(t){return Lt(Zs(Ws(t).replace(et,"")),e,"")}}function Bo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),r=e.apply(n,t);return es(r)?r:n}}function Fo(e){return function(t,n,r){var i=Te(t);if(!qa(t)){var a=li(n,3);t=Ns(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function Uo(e){return ri(function(t){var n=t.length,r=n,a=Wn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new ke(i);if(a&&!u&&"wrapper"==si(s))var u=new Wn([],!0)}for(r=u?r:n;++r<n;){var l=si(s=t[r]),c="wrapper"==l?ai(s):o;u=c&&xi(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[si(c[0])].apply(u,c[3]):1==s.length&&xi(s)?u[l]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ha(r))return u.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}function zo(e,t,r,i,a,s,u,l,c,d){var h=t&f,p=1&t,v=2&t,g=24&t,y=512&t,m=v?o:Bo(e);return function f(){for(var b=arguments.length,_=n(b),w=b;w--;)_[w]=arguments[w];if(g)var x=ui(f),E=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,x);if(i&&(_=Co(_,i,a,g)),s&&(_=ko(_,s,u,g)),b-=E,g&&b<d){var O=fn(_,x);return Xo(e,t,zo,f.placeholder,r,_,O,l,c,d-b)}var S=p?r:this,T=v?S[e]:e;return b=_.length,l?_=function(e,t){var n=e.length,r=bn(t.length,n),i=Ao(e);for(;r--;){var a=t[r];e[r]=bi(a,n)?i[a]:o}return e}(_,l):y&&b>1&&_.reverse(),h&&c<b&&(_.length=c),this&&this!==vt&&this instanceof f&&(T=m||Bo(T)),T.apply(S,_)}}function Vo(e,t){return function(n,r){return function(e,t,n,r){return _r(e,function(e,o,i){t(r,n(e),o,i)}),r}(n,e,t(r),{})}}function Wo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=lo(n),r=lo(r)):(n=uo(n),r=uo(r)),i=e(n,r)}return i}}function Ho(e){return ri(function(t){return t=Mt(t,Jt(li())),$r(function(n){var r=this;return e(t,function(e){return Pt(e,r,n)})})})}function Go(e,t){var n=(t=t===o?" ":lo(t)).length;if(n<2)return n?Kr(t,e):t;var r=Kr(t,ht(e/pn(t)));return un(t)?xo(vn(r),0,e).join(""):r.slice(0,e)}function qo(e){return function(t,r,i){return i&&"number"!=typeof i&&_i(t,r,i)&&(r=i=o),t=hs(t),r===o?(r=t,t=0):r=hs(r),function(e,t,r,o){for(var i=-1,a=Xt(ht((t-e)/(r||1)),0),s=n(a);a--;)s[o?a:++i]=e,e+=r;return s}(t,r,i=i===o?t<r?1:-1:hs(i),e)}}function Yo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gs(t),n=gs(n)),e(t,n)}}function Xo(e,t,n,r,i,a,s,u,f,d){var h=8&t;t|=h?l:c,4&(t&=~(h?c:l))||(t&=-4);var p=[e,t,i,h?a:o,h?s:o,h?o:a,h?o:s,u,f,d],v=n.apply(o,p);return xi(e)&&Ai(v,p),v.placeholder=r,Ri(v,e,t)}function Ko(e){var t=Se[e];return function(e,n){if(e=gs(e),(n=null==n?0:bn(ps(n),292))&&bt(e)){var r=(ms(e)+"e").split("e");return+((r=(ms(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var $o=Pn&&1/dn(new Pn([,-0]))[1]==h?function(e){return new Pn(e)}:uu;function Zo(e){return function(t){var n=vi(t);return n==S?ln(t):n==A?hn(t):function(e,t){return Mt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Qo(e,t,r,a,h,p,v,g){var y=2&t;if(!y&&"function"!=typeof e)throw new ke(i);var m=a?a.length:0;if(m||(t&=-97,a=h=o),v=v===o?v:Xt(ps(v),0),g=g===o?g:ps(g),m-=h?h.length:0,t&c){var b=a,_=h;a=h=o}var w=y?o:ai(e),x=[e,t,r,a,h,b,_,p,v,g];if(w&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==f&&8==n||r==f&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?Co(l,u,t[4]):u,e[4]=l?fn(e[3],s):t[4]}(u=t[5])&&(l=e[5],e[5]=l?ko(l,u,t[6]):u,e[6]=l?fn(e[5],s):t[6]);(u=t[7])&&(e[7]=u);r&f&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(x,w),e=x[0],t=x[1],r=x[2],a=x[3],h=x[4],!(g=x[9]=x[9]===o?y?0:e.length:Xt(x[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==u?function(e,t,r){var i=Bo(e);return function a(){for(var s=arguments.length,u=n(s),l=s,c=ui(a);l--;)u[l]=arguments[l];var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:fn(u,c);return(s-=f.length)<r?Xo(e,t,zo,a.placeholder,o,u,f,o,o,r-s):Pt(this&&this!==vt&&this instanceof a?i:e,this,u)}}(e,t,g):t!=l&&33!=t||h.length?zo.apply(o,x):function(e,t,r,o){var i=1&t,a=Bo(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=o.length,f=n(c+u),d=this&&this!==vt&&this instanceof t?a:e;++l<c;)f[l]=o[l];for(;u--;)f[l++]=arguments[++s];return Pt(d,i?r:this,f)}}(e,t,r,a);else var E=function(e,t,n){var r=1&t,o=Bo(e);return function t(){return(this&&this!==vt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,r);return Ri((w?eo:Ai)(E,x),e,t)}function Jo(e,t,n,r){return e===o||Ua(e,je[n])&&!Me.call(r,n)?t:e}function ei(e,t,n,r,i,a){return es(e)&&es(t)&&(a.set(t,e),Vr(e,t,o,ei,a),a.delete(t)),e}function ti(e){return os(e)?o:e}function ni(e,t,n,r,i,a){var s=1&n,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(e),f=a.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=2&n?new Xn:o;for(a.set(e,t),a.set(t,e);++d<u;){var v=e[d],g=t[d];if(r)var y=s?r(g,v,d,t,e,a):r(v,g,d,e,t,a);if(y!==o){if(y)continue;h=!1;break}if(p){if(!Ft(t,function(e,t){if(!tn(p,t)&&(v===e||i(v,e,n,r,a)))return p.push(t)})){h=!1;break}}else if(v!==g&&!i(v,g,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function ri(e){return ji(Pi(e,o,Gi),e+"")}function oi(e){return Or(e,Ns,hi)}function ii(e){return Or(e,js,pi)}var ai=An?function(e){return An.get(e)}:uu;function si(e){for(var t=e.name+"",n=Nn[t],r=Me.call(Nn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ui(e){return(Me.call(Un,"placeholder")?Un:e).placeholder}function li(){var e=Un.iteratee||ou;return e=e===ou?Mr:e,arguments.length?e(arguments[0],arguments[1]):e}function ci(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fi(e){for(var t=Ns(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Si(o)]}return t}function di(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Ir(n)?n:o}var hi=gt?function(e){return null==e?[]:(e=Te(e),jt(gt(e),function(t){return Xe.call(e,t)}))}:vu,pi=gt?function(e){for(var t=[];e;)Dt(t,hi(e)),e=qe(e);return t}:vu,vi=Sr;function gi(e,t,n){for(var r=-1,o=(t=_o(t,e)).length,i=!1;++r<o;){var a=Li(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Ja(o)&&bi(a,o)&&(Ha(e)||Wa(e))}function yi(e){return"function"!=typeof e.constructor||Oi(e)?{}:zn(qe(e))}function mi(e){return Ha(e)||Wa(e)||!!($e&&e&&e[$e])}function bi(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&_e.test(e))&&e>-1&&e%1==0&&e<t}function _i(e,t,n){if(!es(n))return!1;var r=typeof t;return!!("number"==r?qa(n)&&bi(t,n.length):"string"==r&&t in n)&&Ua(n[t],e)}function wi(e,t){if(Ha(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!us(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Te(t))}function xi(e){var t=si(e),n=Un[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var r=ai(n);return!!r&&e===r[0]}(On&&vi(new On(new ArrayBuffer(1)))!=M||Sn&&vi(new Sn)!=S||Tn&&vi(Tn.resolve())!=C||Pn&&vi(new Pn)!=A||Cn&&vi(new Cn)!=R)&&(vi=function(e){var t=Sr(e),n=t==P?e.constructor:o,r=n?Bi(n):"";if(r)switch(r){case jn:return M;case Rn:return S;case In:return C;case Mn:return A;case Dn:return R}return t});var Ei=Re?Za:gu;function Oi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||je)}function Si(e){return e===e&&!es(e)}function Ti(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in Te(n)))}}function Pi(e,t,r){return t=Xt(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=Xt(o.length-t,0),s=n(a);++i<a;)s[i]=o[t+i];i=-1;for(var u=n(t+1);++i<t;)u[i]=o[i];return u[t]=r(s),Pt(e,this,u)}}function Ci(e,t){return t.length<2?e:Er(e,ro(t,0,-1))}function ki(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ai=Ii(eo),Ni=ct||function(e,t){return vt.setTimeout(e,t)},ji=Ii(to);function Ri(e,t,n){var r=t+"";return ji(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return kt(y,function(n){var r="_."+n[0];t&n[1]&&!Rt(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function Ii(e){var t=0,n=0;return function(){var r=_n(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Mi(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Xr(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Di=function(e){var t=Ia(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,function(e,n,r,o){t.push(r?o.replace(he,"$1"):n||e)}),t});function Li(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bi(e){if(null!=e){try{return Ie.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Fi(e){if(e instanceof Hn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Ao(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ui=$r(function(e,t){return Ya(e)?fr(e,yr(t,1,Ya,!0)):[]}),zi=$r(function(e,t){var n=$i(t);return Ya(n)&&(n=o),Ya(e)?fr(e,yr(t,1,Ya,!0),li(n,2)):[]}),Vi=$r(function(e,t){var n=$i(t);return Ya(n)&&(n=o),Ya(e)?fr(e,yr(t,1,Ya,!0),o,n):[]});function Wi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ps(n);return o<0&&(o=Xt(r+o,0)),Vt(e,li(t,3),o)}function Hi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=ps(n),i=n<0?Xt(r+i,0):bn(i,r-1)),Vt(e,li(t,3),i,!0)}function Gi(e){return(null==e?0:e.length)?yr(e,1):[]}function qi(e){return e&&e.length?e[0]:o}var Yi=$r(function(e){var t=Mt(e,mo);return t.length&&t[0]===e[0]?kr(t):[]}),Xi=$r(function(e){var t=$i(e),n=Mt(e,mo);return t===$i(n)?t=o:n.pop(),n.length&&n[0]===e[0]?kr(n,li(t,2)):[]}),Ki=$r(function(e){var t=$i(e),n=Mt(e,mo);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?kr(n,o,t):[]});function $i(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Zi=$r(Qi);function Qi(e,t){return e&&e.length&&t&&t.length?qr(e,t):e}var Ji=ri(function(e,t){var n=null==e?0:e.length,r=ar(e,t);return Yr(e,Mt(t,function(e){return bi(e,n)?+e:e}).sort(Po)),r});function ea(e){return null==e?e:En.call(e)}var ta=$r(function(e){return co(yr(e,1,Ya,!0))}),na=$r(function(e){var t=$i(e);return Ya(t)&&(t=o),co(yr(e,1,Ya,!0),li(t,2))}),ra=$r(function(e){var t=$i(e);return t="function"==typeof t?t:o,co(yr(e,1,Ya,!0),o,t)});function oa(e){if(!e||!e.length)return[];var t=0;return e=jt(e,function(e){if(Ya(e))return t=Xt(e.length,t),!0}),Zt(t,function(t){return Mt(e,Yt(t))})}function ia(e,t){if(!e||!e.length)return[];var n=oa(e);return null==t?n:Mt(n,function(e){return Pt(t,o,e)})}var aa=$r(function(e,t){return Ya(e)?fr(e,t):[]}),sa=$r(function(e){return go(jt(e,Ya))}),ua=$r(function(e){var t=$i(e);return Ya(t)&&(t=o),go(jt(e,Ya),li(t,2))}),la=$r(function(e){var t=$i(e);return t="function"==typeof t?t:o,go(jt(e,Ya),o,t)}),ca=$r(oa);var fa=$r(function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,ia(e,n)});function da(e){var t=Un(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var pa=ri(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return ar(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Hn&&bi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ha,args:[i],thisArg:o}),new Wn(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(i)});var va=jo(function(e,t,n){Me.call(e,n)?++e[n]:ir(e,n,1)});var ga=Fo(Wi),ya=Fo(Hi);function ma(e,t){return(Ha(e)?kt:dr)(e,li(t,3))}function ba(e,t){return(Ha(e)?At:hr)(e,li(t,3))}var _a=jo(function(e,t,n){Me.call(e,n)?e[n].push(t):ir(e,n,[t])});var wa=$r(function(e,t,r){var o=-1,i="function"==typeof t,a=qa(e)?n(e.length):[];return dr(e,function(e){a[++o]=i?Pt(t,e,r):Ar(e,t,r)}),a}),xa=jo(function(e,t,n){ir(e,n,t)});function Ea(e,t){return(Ha(e)?Mt:Fr)(e,li(t,3))}var Oa=jo(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var Sa=$r(function(e,t){if(null==e)return[];var n=t.length;return n>1&&_i(e,t[0],t[1])?t=[]:n>2&&_i(t[0],t[1],t[2])&&(t=[t[0]]),Hr(e,yr(t,1),[])}),Ta=ot||function(){return vt.Date.now()};function Pa(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Qo(e,f,o,o,o,o,t)}function Ca(e,t){var n;if("function"!=typeof t)throw new ke(i);return e=ps(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var ka=$r(function(e,t,n){var r=1;if(n.length){var o=fn(n,ui(ka));r|=l}return Qo(e,r,t,n,o)}),Aa=$r(function(e,t,n){var r=3;if(n.length){var o=fn(n,ui(Aa));r|=l}return Qo(t,r,e,n,o)});function Na(e,t,n){var r,a,s,u,l,c,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new ke(i);function v(t){var n=r,i=a;return r=a=o,f=t,u=e.apply(i,n)}function g(e){var n=e-c;return c===o||n>=t||n<0||h&&e-f>=s}function y(){var e=Ta();if(g(e))return m(e);l=Ni(y,function(e){var n=t-(e-c);return h?bn(n,s-(e-f)):n}(e))}function m(e){return l=o,p&&r?v(e):(r=a=o,u)}function b(){var e=Ta(),n=g(e);if(r=arguments,a=this,c=e,n){if(l===o)return function(e){return f=e,l=Ni(y,t),d?v(e):u}(c);if(h)return Eo(l),l=Ni(y,t),v(c)}return l===o&&(l=Ni(y,t)),u}return t=gs(t)||0,es(n)&&(d=!!n.leading,s=(h="maxWait"in n)?Xt(gs(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){l!==o&&Eo(l),f=0,r=c=a=l=o},b.flush=function(){return l===o?u:m(Ta())},b}var ja=$r(function(e,t){return cr(e,1,t)}),Ra=$r(function(e,t,n){return cr(e,gs(t)||0,n)});function Ia(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ke(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Ia.Cache||Yn),n}function Ma(e){if("function"!=typeof e)throw new ke(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ia.Cache=Yn;var Da=wo(function(e,t){var n=(t=1==t.length&&Ha(t[0])?Mt(t[0],Jt(li())):Mt(yr(t,1),Jt(li()))).length;return $r(function(r){for(var o=-1,i=bn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Pt(e,this,r)})}),La=$r(function(e,t){var n=fn(t,ui(La));return Qo(e,l,o,t,n)}),Ba=$r(function(e,t){var n=fn(t,ui(Ba));return Qo(e,c,o,t,n)}),Fa=ri(function(e,t){return Qo(e,d,o,o,o,t)});function Ua(e,t){return e===t||e!==e&&t!==t}var za=Yo(Tr),Va=Yo(function(e,t){return e>=t}),Wa=Nr(function(){return arguments}())?Nr:function(e){return ts(e)&&Me.call(e,"callee")&&!Xe.call(e,"callee")},Ha=n.isArray,Ga=wt?Jt(wt):function(e){return ts(e)&&Sr(e)==I};function qa(e){return null!=e&&Ja(e.length)&&!Za(e)}function Ya(e){return ts(e)&&qa(e)}var Xa=yt||gu,Ka=xt?Jt(xt):function(e){return ts(e)&&Sr(e)==w};function $a(e){if(!ts(e))return!1;var t=Sr(e);return t==x||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!os(e)}function Za(e){if(!es(e))return!1;var t=Sr(e);return t==E||t==O||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qa(e){return"number"==typeof e&&e==ps(e)}function Ja(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ts(e){return null!=e&&"object"==typeof e}var ns=Et?Jt(Et):function(e){return ts(e)&&vi(e)==S};function rs(e){return"number"==typeof e||ts(e)&&Sr(e)==T}function os(e){if(!ts(e)||Sr(e)!=P)return!1;var t=qe(e);if(null===t)return!0;var n=Me.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ie.call(n)==Fe}var is=Ot?Jt(Ot):function(e){return ts(e)&&Sr(e)==k};var as=St?Jt(St):function(e){return ts(e)&&vi(e)==A};function ss(e){return"string"==typeof e||!Ha(e)&&ts(e)&&Sr(e)==N}function us(e){return"symbol"==typeof e||ts(e)&&Sr(e)==j}var ls=Tt?Jt(Tt):function(e){return ts(e)&&Ja(e.length)&&!!ut[Sr(e)]};var cs=Yo(Br),fs=Yo(function(e,t){return e<=t});function ds(e){if(!e)return[];if(qa(e))return ss(e)?vn(e):Ao(e);if(Ze&&e[Ze])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ze]());var t=vi(e);return(t==S?ln:t==A?dn:Us)(e)}function hs(e){return e?(e=gs(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function ps(e){var t=hs(e),n=t%1;return t===t?n?t-n:t:0}function vs(e){return e?sr(ps(e),0,g):0}function gs(e){if("number"==typeof e)return e;if(us(e))return v;if(es(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=es(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qt(e);var n=ye.test(e);return n||be.test(e)?dt(e.slice(2),n?2:8):ge.test(e)?v:+e}function ys(e){return No(e,js(e))}function ms(e){return null==e?"":lo(e)}var bs=Ro(function(e,t){if(Oi(t)||qa(t))No(t,Ns(t),e);else for(var n in t)Me.call(t,n)&&tr(e,n,t[n])}),_s=Ro(function(e,t){No(t,js(t),e)}),ws=Ro(function(e,t,n,r){No(t,js(t),e,r)}),xs=Ro(function(e,t,n,r){No(t,Ns(t),e,r)}),Es=ri(ar);var Os=$r(function(e,t){e=Te(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&_i(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=js(a),u=-1,l=s.length;++u<l;){var c=s[u],f=e[c];(f===o||Ua(f,je[c])&&!Me.call(e,c))&&(e[c]=a[c])}return e}),Ss=$r(function(e){return e.push(o,ei),Pt(Is,o,e)});function Ts(e,t,n){var r=null==e?o:Er(e,t);return r===o?n:r}function Ps(e,t){return null!=e&&gi(e,t,Cr)}var Cs=Vo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),e[t]=n},eu(ru)),ks=Vo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]},li),As=$r(Ar);function Ns(e){return qa(e)?$n(e):Dr(e)}function js(e){return qa(e)?$n(e,!0):Lr(e)}var Rs=Ro(function(e,t,n){Vr(e,t,n)}),Is=Ro(function(e,t,n,r){Vr(e,t,n,r)}),Ms=ri(function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,function(t){return t=_o(t,e),r||(r=t.length>1),t}),No(e,ii(e),n),r&&(n=ur(n,7,ti));for(var o=t.length;o--;)fo(n,t[o]);return n});var Ds=ri(function(e,t){return null==e?{}:function(e,t){return Gr(e,t,function(t,n){return Ps(e,n)})}(e,t)});function Ls(e,t){if(null==e)return{};var n=Mt(ii(e),function(e){return[e]});return t=li(t),Gr(e,n,function(e,n){return t(e,n[0])})}var Bs=Zo(Ns),Fs=Zo(js);function Us(e){return null==e?[]:en(e,Ns(e))}var zs=Lo(function(e,t,n){return t=t.toLowerCase(),e+(n?Vs(t):t)});function Vs(e){return $s(ms(e).toLowerCase())}function Ws(e){return(e=ms(e))&&e.replace(we,on).replace(tt,"")}var Hs=Lo(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Gs=Lo(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),qs=Do("toLowerCase");var Ys=Lo(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var Xs=Lo(function(e,t,n){return e+(n?" ":"")+$s(t)});var Ks=Lo(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),$s=Do("toUpperCase");function Zs(e,t,n){return e=ms(e),(t=n?o:t)===o?function(e){return it.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var Qs=$r(function(e,t){try{return Pt(e,o,t)}catch(n){return $a(n)?n:new se(n)}}),Js=ri(function(e,t){return kt(t,function(t){t=Li(t),ir(e,t,ka(e[t],e))}),e});function eu(e){return function(){return e}}var tu=Uo(),nu=Uo(!0);function ru(e){return e}function ou(e){return Mr("function"==typeof e?e:ur(e,1))}var iu=$r(function(e,t){return function(n){return Ar(n,e,t)}}),au=$r(function(e,t){return function(n){return Ar(e,n,t)}});function su(e,t,n){var r=Ns(t),o=xr(t,r);null!=n||es(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=xr(t,Ns(t)));var i=!(es(n)&&"chain"in n)||!!n.chain,a=Za(e);return kt(o,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Ao(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Dt([this.value()],arguments))})}),e}function uu(){}var lu=Ho(Mt),cu=Ho(Nt),fu=Ho(Ft);function du(e){return wi(e)?Yt(Li(e)):function(e){return function(t){return Er(t,e)}}(e)}var hu=qo(),pu=qo(!0);function vu(){return[]}function gu(){return!1}var yu=Wo(function(e,t){return e+t},0),mu=Ko("ceil"),bu=Wo(function(e,t){return e/t},1),_u=Ko("floor");var wu=Wo(function(e,t){return e*t},1),xu=Ko("round"),Eu=Wo(function(e,t){return e-t},0);return Un.after=function(e,t){if("function"!=typeof t)throw new ke(i);return e=ps(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Pa,Un.assign=bs,Un.assignIn=_s,Un.assignInWith=ws,Un.assignWith=xs,Un.at=Es,Un.before=Ca,Un.bind=ka,Un.bindAll=Js,Un.bindKey=Aa,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ha(e)?e:[e]},Un.chain=da,Un.chunk=function(e,t,r){t=(r?_i(e,t,r):t===o)?1:Xt(ps(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,u=n(ht(i/t));a<i;)u[s++]=ro(e,a,a+=t);return u},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Dt(Ha(r)?Ao(r):[r],yr(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=li();return e=t?Mt(e,function(e){if("function"!=typeof e[1])throw new ke(i);return[n(e[0]),e[1]]}):[],$r(function(n){for(var r=-1;++r<t;){var o=e[r];if(Pt(o[0],this,n))return Pt(o[1],this,n)}})},Un.conforms=function(e){return function(e){var t=Ns(e);return function(n){return lr(n,e,t)}}(ur(e,1))},Un.constant=eu,Un.countBy=va,Un.create=function(e,t){var n=zn(e);return null==t?n:or(n,t)},Un.curry=function e(t,n,r){var i=Qo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Un.curryRight=function e(t,n,r){var i=Qo(t,u,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Un.debounce=Na,Un.defaults=Os,Un.defaultsDeep=Ss,Un.defer=ja,Un.delay=Ra,Un.difference=Ui,Un.differenceBy=zi,Un.differenceWith=Vi,Un.drop=function(e,t,n){var r=null==e?0:e.length;return r?ro(e,(t=n||t===o?1:ps(t))<0?0:t,r):[]},Un.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ro(e,0,(t=r-(t=n||t===o?1:ps(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?po(e,li(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?po(e,li(t,3),!0):[]},Un.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&_i(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=ps(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:ps(r))<0&&(r+=i),r=n>r?0:vs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Un.filter=function(e,t){return(Ha(e)?jt:gr)(e,li(t,3))},Un.flatMap=function(e,t){return yr(Ea(e,t),1)},Un.flatMapDeep=function(e,t){return yr(Ea(e,t),h)},Un.flatMapDepth=function(e,t,n){return n=n===o?1:ps(n),yr(Ea(e,t),n)},Un.flatten=Gi,Un.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,h):[]},Un.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===o?1:ps(t)):[]},Un.flip=function(e){return Qo(e,512)},Un.flow=tu,Un.flowRight=nu,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Un.functions=function(e){return null==e?[]:xr(e,Ns(e))},Un.functionsIn=function(e){return null==e?[]:xr(e,js(e))},Un.groupBy=_a,Un.initial=function(e){return(null==e?0:e.length)?ro(e,0,-1):[]},Un.intersection=Yi,Un.intersectionBy=Xi,Un.intersectionWith=Ki,Un.invert=Cs,Un.invertBy=ks,Un.invokeMap=wa,Un.iteratee=ou,Un.keyBy=xa,Un.keys=Ns,Un.keysIn=js,Un.map=Ea,Un.mapKeys=function(e,t){var n={};return t=li(t,3),_r(e,function(e,r,o){ir(n,t(e,r,o),e)}),n},Un.mapValues=function(e,t){var n={};return t=li(t,3),_r(e,function(e,r,o){ir(n,r,t(e,r,o))}),n},Un.matches=function(e){return Ur(ur(e,1))},Un.matchesProperty=function(e,t){return zr(e,ur(t,1))},Un.memoize=Ia,Un.merge=Rs,Un.mergeWith=Is,Un.method=iu,Un.methodOf=au,Un.mixin=su,Un.negate=Ma,Un.nthArg=function(e){return e=ps(e),$r(function(t){return Wr(t,e)})},Un.omit=Ms,Un.omitBy=function(e,t){return Ls(e,Ma(li(t)))},Un.once=function(e){return Ca(2,e)},Un.orderBy=function(e,t,n,r){return null==e?[]:(Ha(t)||(t=null==t?[]:[t]),Ha(n=r?o:n)||(n=null==n?[]:[n]),Hr(e,t,n))},Un.over=lu,Un.overArgs=Da,Un.overEvery=cu,Un.overSome=fu,Un.partial=La,Un.partialRight=Ba,Un.partition=Oa,Un.pick=Ds,Un.pickBy=Ls,Un.property=du,Un.propertyOf=function(e){return function(t){return null==e?o:Er(e,t)}},Un.pull=Zi,Un.pullAll=Qi,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,li(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,o,n):e},Un.pullAt=Ji,Un.range=hu,Un.rangeRight=pu,Un.rearg=Fa,Un.reject=function(e,t){return(Ha(e)?jt:gr)(e,Ma(li(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=li(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Yr(e,o),n},Un.rest=function(e,t){if("function"!=typeof e)throw new ke(i);return $r(e,t=t===o?t:ps(t))},Un.reverse=ea,Un.sampleSize=function(e,t,n){return t=(n?_i(e,t,n):t===o)?1:ps(t),(Ha(e)?Qn:Qr)(e,t)},Un.set=function(e,t,n){return null==e?e:Jr(e,t,n)},Un.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Jr(e,t,n,r)},Un.shuffle=function(e){return(Ha(e)?Jn:no)(e)},Un.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&_i(e,t,n)?(t=0,n=r):(t=null==t?0:ps(t),n=n===o?r:ps(n)),ro(e,t,n)):[]},Un.sortBy=Sa,Un.sortedUniq=function(e){return e&&e.length?so(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?so(e,li(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&_i(e,t,n)&&(t=n=o),(n=n===o?g:n>>>0)?(e=ms(e))&&("string"==typeof t||null!=t&&!is(t))&&!(t=lo(t))&&un(e)?xo(vn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new ke(i);return t=null==t?0:Xt(ps(t),0),$r(function(n){var r=n[t],o=xo(n,0,t);return r&&Dt(o,r),Pt(e,this,o)})},Un.tail=function(e){var t=null==e?0:e.length;return t?ro(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?ro(e,0,(t=n||t===o?1:ps(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ro(e,(t=r-(t=n||t===o?1:ps(t)))<0?0:t,r):[]},Un.takeRightWhile=function(e,t){return e&&e.length?po(e,li(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?po(e,li(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new ke(i);return es(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Na(e,t,{leading:r,maxWait:t,trailing:o})},Un.thru=ha,Un.toArray=ds,Un.toPairs=Bs,Un.toPairsIn=Fs,Un.toPath=function(e){return Ha(e)?Mt(e,Li):us(e)?[e]:Ao(Di(ms(e)))},Un.toPlainObject=ys,Un.transform=function(e,t,n){var r=Ha(e),o=r||Xa(e)||ls(e);if(t=li(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:es(e)&&Za(i)?zn(qe(e)):{}}return(o?kt:_r)(e,function(e,r,o){return t(n,e,r,o)}),n},Un.unary=function(e){return Pa(e,1)},Un.union=ta,Un.unionBy=na,Un.unionWith=ra,Un.uniq=function(e){return e&&e.length?co(e):[]},Un.uniqBy=function(e,t){return e&&e.length?co(e,li(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?co(e,o,t):[]},Un.unset=function(e,t){return null==e||fo(e,t)},Un.unzip=oa,Un.unzipWith=ia,Un.update=function(e,t,n){return null==e?e:ho(e,t,bo(n))},Un.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:ho(e,t,bo(n),r)},Un.values=Us,Un.valuesIn=function(e){return null==e?[]:en(e,js(e))},Un.without=aa,Un.words=Zs,Un.wrap=function(e,t){return La(bo(t),e)},Un.xor=sa,Un.xorBy=ua,Un.xorWith=la,Un.zip=ca,Un.zipObject=function(e,t){return yo(e||[],t||[],tr)},Un.zipObjectDeep=function(e,t){return yo(e||[],t||[],Jr)},Un.zipWith=fa,Un.entries=Bs,Un.entriesIn=Fs,Un.extend=_s,Un.extendWith=ws,su(Un,Un),Un.add=yu,Un.attempt=Qs,Un.camelCase=zs,Un.capitalize=Vs,Un.ceil=mu,Un.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=gs(n))===n?n:0),t!==o&&(t=(t=gs(t))===t?t:0),sr(gs(e),t,n)},Un.clone=function(e){return ur(e,4)},Un.cloneDeep=function(e){return ur(e,5)},Un.cloneDeepWith=function(e,t){return ur(e,5,t="function"==typeof t?t:o)},Un.cloneWith=function(e,t){return ur(e,4,t="function"==typeof t?t:o)},Un.conformsTo=function(e,t){return null==t||lr(e,t,Ns(t))},Un.deburr=Ws,Un.defaultTo=function(e,t){return null==e||e!==e?t:e},Un.divide=bu,Un.endsWith=function(e,t,n){e=ms(e),t=lo(t);var r=e.length,i=n=n===o?r:sr(ps(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Un.eq=Ua,Un.escape=function(e){return(e=ms(e))&&Z.test(e)?e.replace(K,an):e},Un.escapeRegExp=function(e){return(e=ms(e))&&ie.test(e)?e.replace(oe,"\\$&"):e},Un.every=function(e,t,n){var r=Ha(e)?Nt:pr;return n&&_i(e,t,n)&&(t=o),r(e,li(t,3))},Un.find=ga,Un.findIndex=Wi,Un.findKey=function(e,t){return zt(e,li(t,3),_r)},Un.findLast=ya,Un.findLastIndex=Hi,Un.findLastKey=function(e,t){return zt(e,li(t,3),wr)},Un.floor=_u,Un.forEach=ma,Un.forEachRight=ba,Un.forIn=function(e,t){return null==e?e:mr(e,li(t,3),js)},Un.forInRight=function(e,t){return null==e?e:br(e,li(t,3),js)},Un.forOwn=function(e,t){return e&&_r(e,li(t,3))},Un.forOwnRight=function(e,t){return e&&wr(e,li(t,3))},Un.get=Ts,Un.gt=za,Un.gte=Va,Un.has=function(e,t){return null!=e&&gi(e,t,Pr)},Un.hasIn=Ps,Un.head=qi,Un.identity=ru,Un.includes=function(e,t,n,r){e=qa(e)?e:Us(e),n=n&&!r?ps(n):0;var o=e.length;return n<0&&(n=Xt(o+n,0)),ss(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Wt(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ps(n);return o<0&&(o=Xt(r+o,0)),Wt(e,t,o)},Un.inRange=function(e,t,n){return t=hs(t),n===o?(n=t,t=0):n=hs(n),function(e,t,n){return e>=bn(t,n)&&e<Xt(t,n)}(e=gs(e),t,n)},Un.invoke=As,Un.isArguments=Wa,Un.isArray=Ha,Un.isArrayBuffer=Ga,Un.isArrayLike=qa,Un.isArrayLikeObject=Ya,Un.isBoolean=function(e){return!0===e||!1===e||ts(e)&&Sr(e)==_},Un.isBuffer=Xa,Un.isDate=Ka,Un.isElement=function(e){return ts(e)&&1===e.nodeType&&!os(e)},Un.isEmpty=function(e){if(null==e)return!0;if(qa(e)&&(Ha(e)||"string"==typeof e||"function"==typeof e.splice||Xa(e)||ls(e)||Wa(e)))return!e.length;var t=vi(e);if(t==S||t==A)return!e.size;if(Oi(e))return!Dr(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return jr(e,t)},Un.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?jr(e,t,o,n):!!r},Un.isError=$a,Un.isFinite=function(e){return"number"==typeof e&&bt(e)},Un.isFunction=Za,Un.isInteger=Qa,Un.isLength=Ja,Un.isMap=ns,Un.isMatch=function(e,t){return e===t||Rr(e,t,fi(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Rr(e,t,fi(t),n)},Un.isNaN=function(e){return rs(e)&&e!=+e},Un.isNative=function(e){if(Ei(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ir(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=rs,Un.isObject=es,Un.isObjectLike=ts,Un.isPlainObject=os,Un.isRegExp=is,Un.isSafeInteger=function(e){return Qa(e)&&e>=-9007199254740991&&e<=p},Un.isSet=as,Un.isString=ss,Un.isSymbol=us,Un.isTypedArray=ls,Un.isUndefined=function(e){return e===o},Un.isWeakMap=function(e){return ts(e)&&vi(e)==R},Un.isWeakSet=function(e){return ts(e)&&"[object WeakSet]"==Sr(e)},Un.join=function(e,t){return null==e?"":_t.call(e,t)},Un.kebabCase=Hs,Un.last=$i,Un.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=ps(n))<0?Xt(r+i,0):bn(i,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Vt(e,Gt,i,!0)},Un.lowerCase=Gs,Un.lowerFirst=qs,Un.lt=cs,Un.lte=fs,Un.max=function(e){return e&&e.length?vr(e,ru,Tr):o},Un.maxBy=function(e,t){return e&&e.length?vr(e,li(t,2),Tr):o},Un.mean=function(e){return qt(e,ru)},Un.meanBy=function(e,t){return qt(e,li(t,2))},Un.min=function(e){return e&&e.length?vr(e,ru,Br):o},Un.minBy=function(e,t){return e&&e.length?vr(e,li(t,2),Br):o},Un.stubArray=vu,Un.stubFalse=gu,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=wu,Un.nth=function(e,t){return e&&e.length?Wr(e,ps(t)):o},Un.noConflict=function(){return vt._===this&&(vt._=Ue),this},Un.noop=uu,Un.now=Ta,Un.pad=function(e,t,n){e=ms(e);var r=(t=ps(t))?pn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Go(pt(o),n)+e+Go(ht(o),n)},Un.padEnd=function(e,t,n){e=ms(e);var r=(t=ps(t))?pn(e):0;return t&&r<t?e+Go(t-r,n):e},Un.padStart=function(e,t,n){e=ms(e);var r=(t=ps(t))?pn(e):0;return t&&r<t?Go(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(ms(e).replace(ae,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&_i(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=hs(e),t===o?(t=e,e=0):t=hs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=xn();return bn(e+i*(t-e+ft("1e-"+((i+"").length-1))),t)}return Xr(e,t)},Un.reduce=function(e,t,n){var r=Ha(e)?Lt:Kt,o=arguments.length<3;return r(e,li(t,4),n,o,dr)},Un.reduceRight=function(e,t,n){var r=Ha(e)?Bt:Kt,o=arguments.length<3;return r(e,li(t,4),n,o,hr)},Un.repeat=function(e,t,n){return t=(n?_i(e,t,n):t===o)?1:ps(t),Kr(ms(e),t)},Un.replace=function(){var e=arguments,t=ms(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var r=-1,i=(t=_o(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[Li(t[r])];a===o&&(r=i,a=n),e=Za(a)?a.call(e):a}return e},Un.round=xu,Un.runInContext=e,Un.sample=function(e){return(Ha(e)?Zn:Zr)(e)},Un.size=function(e){if(null==e)return 0;if(qa(e))return ss(e)?pn(e):e.length;var t=vi(e);return t==S||t==A?e.size:Dr(e).length},Un.snakeCase=Ys,Un.some=function(e,t,n){var r=Ha(e)?Ft:oo;return n&&_i(e,t,n)&&(t=o),r(e,li(t,3))},Un.sortedIndex=function(e,t){return io(e,t)},Un.sortedIndexBy=function(e,t,n){return ao(e,t,li(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=io(e,t);if(r<n&&Ua(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return io(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return ao(e,t,li(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=io(e,t,!0)-1;if(Ua(e[n],t))return n}return-1},Un.startCase=Xs,Un.startsWith=function(e,t,n){return e=ms(e),n=null==n?0:sr(ps(n),0,e.length),t=lo(t),e.slice(n,n+t.length)==t},Un.subtract=Eu,Un.sum=function(e){return e&&e.length?$t(e,ru):0},Un.sumBy=function(e,t){return e&&e.length?$t(e,li(t,2)):0},Un.template=function(e,t,n){var r=Un.templateSettings;n&&_i(e,t,n)&&(t=o),e=ms(e),t=ws({},t,r,Jo);var i,a,s=ws({},t.imports,r.imports,Jo),u=Ns(s),l=en(s,u),c=0,f=t.interpolate||xe,d="__p += '",h=Pe((t.escape||xe).source+"|"+f.source+"|"+(f===ee?pe:xe).source+"|"+(t.evaluate||xe).source+"|$","g"),p="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(h,function(t,n,r,o,s,u){return r||(r=o),d+=e.slice(c,u).replace(Ee,sn),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t}),d+="';\n";var v=Me.call(t,"variable")&&t.variable;if(v){if(de.test(v))throw new se("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(G,""):d).replace(q,"$1").replace(Y,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Qs(function(){return Oe(u,p+"return "+d).apply(o,l)});if(g.source=d,$a(g))throw g;return g},Un.times=function(e,t){if((e=ps(e))<1||e>p)return[];var n=g,r=bn(e,g);t=li(t),e-=g;for(var o=Zt(r,t);++n<e;)t(n);return o},Un.toFinite=hs,Un.toInteger=ps,Un.toLength=vs,Un.toLower=function(e){return ms(e).toLowerCase()},Un.toNumber=gs,Un.toSafeInteger=function(e){return e?sr(ps(e),-9007199254740991,p):0===e?e:0},Un.toString=ms,Un.toUpper=function(e){return ms(e).toUpperCase()},Un.trim=function(e,t,n){if((e=ms(e))&&(n||t===o))return Qt(e);if(!e||!(t=lo(t)))return e;var r=vn(e),i=vn(t);return xo(r,nn(r,i),rn(r,i)+1).join("")},Un.trimEnd=function(e,t,n){if((e=ms(e))&&(n||t===o))return e.slice(0,gn(e)+1);if(!e||!(t=lo(t)))return e;var r=vn(e);return xo(r,0,rn(r,vn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=ms(e))&&(n||t===o))return e.replace(ae,"");if(!e||!(t=lo(t)))return e;var r=vn(e);return xo(r,nn(r,vn(t))).join("")},Un.truncate=function(e,t){var n=30,r="...";if(es(t)){var i="separator"in t?t.separator:i;n="length"in t?ps(t.length):n,r="omission"in t?lo(t.omission):r}var a=(e=ms(e)).length;if(un(e)){var s=vn(e);a=s.length}if(n>=a)return e;var u=n-pn(r);if(u<1)return r;var l=s?xo(s,0,u).join(""):e.slice(0,u);if(i===o)return l+r;if(s&&(u+=l.length-u),is(i)){if(e.slice(u).search(i)){var c,f=l;for(i.global||(i=Pe(i.source,ms(ve.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var d=c.index;l=l.slice(0,d===o?u:d)}}else if(e.indexOf(lo(i),u)!=u){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r},Un.unescape=function(e){return(e=ms(e))&&$.test(e)?e.replace(X,yn):e},Un.uniqueId=function(e){var t=++De;return ms(e)+t},Un.upperCase=Ks,Un.upperFirst=$s,Un.each=ma,Un.eachRight=ba,Un.first=qi,su(Un,function(){var e={};return _r(Un,function(t,n){Me.call(Un.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),Un.VERSION="4.17.21",kt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Un[e].placeholder=Un}),kt(["drop","take"],function(e,t){Hn.prototype[e]=function(n){n=n===o?1:Xt(ps(n),0);var r=this.__filtered__&&!t?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),kt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:li(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),kt(["head","last"],function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}}),kt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}}),Hn.prototype.compact=function(){return this.filter(ru)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=$r(function(e,t){return"function"==typeof e?new Hn(this):this.map(function(n){return Ar(n,e,t)})}),Hn.prototype.reject=function(e){return this.filter(Ma(li(e)))},Hn.prototype.slice=function(e,t){e=ps(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Hn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=ps(t))<0?n.dropRight(-t):n.take(t-e)),n)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(g)},_r(Hn.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Un[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(Un.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Hn,l=s[0],c=u||Ha(t),f=function(e){var t=i.apply(Un,Dt([e],s));return r&&d?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,v=u&&!h;if(!a&&c){t=v?t:new Hn(this);var g=e.apply(t,s);return g.__actions__.push({func:ha,args:[f],thisArg:o}),new Wn(g,d)}return p&&v?e.apply(this,s):(g=this.thru(f),p?r?g.value()[0]:g.value():g)})}),kt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Ae[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ha(o)?o:[],e)}return this[n](function(n){return t.apply(Ha(n)?n:[],e)})}}),_r(Hn.prototype,function(e,t){var n=Un[t];if(n){var r=n.name+"";Me.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}}),Nn[zo(o,2).name]=[{name:"wrapper",func:o}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Ao(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ao(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ao(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ha(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=bn(t,e+a);break;case"takeRight":e=Xt(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,d=0,h=bn(u,this.__takeCount__);if(!n||!r&&o==u&&h==u)return vo(e,this.__actions__);var p=[];e:for(;u--&&d<h;){for(var v=-1,g=e[l+=t];++v<f;){var y=c[v],m=y.iteratee,b=y.type,_=m(g);if(2==b)g=_;else if(!_){if(1==b)continue e;break e}}p[d++]=g}return p},Un.prototype.at=pa,Un.prototype.chain=function(){return da(this)},Un.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===o&&(this.__values__=ds(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof Vn;){var r=Fi(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:ha,args:[ea],thisArg:o}),new Wn(t,this.__chain__)}return this.thru(ea)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return vo(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Ze&&(Un.prototype[Ze]=function(){return this}),Un}();vt._=mn,(r=function(){return mn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},3552:(e,t)=>{"use strict";var n=/\d{10}/;t.is=function(e){return n.test(e)},t.parse=function(e){var t=1e3*parseInt(e,10);return new Date(t)}},3668:(e,t,n)=>{var r=n(8902),o=n(2587),i=n(8114);e.exports=function(e,t,n,a,s,u){var l=1&n,c=e.length,f=t.length;if(c!=f&&!(l&&f>c))return!1;var d=u.get(e),h=u.get(t);if(d&&h)return d==t&&h==e;var p=-1,v=!0,g=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<c;){var y=e[p],m=t[p];if(a)var b=l?a(m,y,p,t,e,u):a(y,m,p,e,t,u);if(void 0!==b){if(b)continue;v=!1;break}if(g){if(!o(t,function(e,t){if(!i(g,t)&&(y===e||s(y,e,n,a,u)))return g.push(t)})){v=!1;break}}else if(y!==m&&!s(y,m,n,a,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},3688:(e,t,n)=>{"use strict";var r=n(3536),o=n(849);e.exports={run:function(e){var t="greedy"===e.graph().acyclicer?o(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},o={};function i(a){r.has(o,a)||(o[a]=!0,n[a]=!0,r.forEach(e.outEdges(a),function(e){r.has(n,e.w)?t.push(e):i(e.w)}),delete n[a])}return r.forEach(e.nodes(),i),t}(e);r.forEach(t,function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,r.uniqueId("rev"))})},undo:function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}}},3713:(e,t,n)=>{var r=n(6140),o=n(1143),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),o=n(8673);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},3863:(e,t,n)=>{"use strict";var r=n(642),o=n(4993),i=n(4185),a=n(6474).orient2d;function s(e,t,n){t=Math.max(0,void 0===t?2:t),n=n||0;var o=function(e){for(var t=e[0],n=e[0],r=e[0],o=e[0],a=0;a<e.length;a++){var s=e[a];s[0]<t[0]&&(t=s),s[0]>r[0]&&(r=s),s[1]<n[1]&&(n=s),s[1]>o[1]&&(o=s)}var u=[t,n,r,o],l=u.slice();for(a=0;a<e.length;a++)i(e[a],u)||l.push(e[a]);return function(e){e.sort(_);for(var t=[],n=0;n<e.length;n++){for(;t.length>=2&&h(t[t.length-2],t[t.length-1],e[n])<=0;)t.pop();t.push(e[n])}for(var r=[],o=e.length-1;o>=0;o--){for(;r.length>=2&&h(r[r.length-2],r[r.length-1],e[o])<=0;)r.pop();r.push(e[o])}return r.pop(),t.pop(),t.concat(r)}(l)}(e),a=new r(16);a.toBBox=function(e){return{minX:e[0],minY:e[1],maxX:e[0],maxY:e[1]}},a.compareMinX=function(e,t){return e[0]-t[0]},a.compareMinY=function(e,t){return e[1]-t[1]},a.load(e);for(var s,l=[],c=0;c<o.length;c++){var f=o[c];a.remove(f),s=g(f,s),l.push(s)}var d=new r(16);for(c=0;c<l.length;c++)d.insert(v(l[c]));for(var p=t*t,m=n*n;l.length;){var b=l.shift(),w=b.p,x=b.next.p,E=y(w,x);if(!(E<m)){var O=E/p;(f=u(a,b.prev.p,w,x,b.next.next.p,O,d))&&Math.min(y(f,w),y(f,x))<=O&&(l.push(b),l.push(g(f,b)),a.remove(f),d.remove(b),d.insert(v(b)),d.insert(v(b.next)))}}b=s;var S=[];do{S.push(b.p),b=b.next}while(b!==s);return S.push(b.p),S}function u(e,t,n,r,i,a,s){for(var u=new o([],l),f=e.data;f;){for(var h=0;h<f.children.length;h++){var p=f.children[h],v=f.leaf?m(p,n,r):c(n,r,p);v>a||u.push({node:p,dist:v})}for(;u.length&&!u.peek().node.children;){var g=u.pop(),y=g.node,b=m(y,t,n),_=m(y,r,i);if(g.dist<b&&g.dist<_&&d(n,y,s)&&d(r,y,s))return y}(f=u.pop())&&(f=f.node)}return null}function l(e,t){return e.dist-t.dist}function c(e,t,n){if(f(e,n)||f(t,n))return 0;var r=b(e[0],e[1],t[0],t[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var o=b(e[0],e[1],t[0],t[1],n.minX,n.minY,n.minX,n.maxY);if(0===o)return 0;var i=b(e[0],e[1],t[0],t[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===i)return 0;var a=b(e[0],e[1],t[0],t[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===a?0:Math.min(r,o,i,a)}function f(e,t){return e[0]>=t.minX&&e[0]<=t.maxX&&e[1]>=t.minY&&e[1]<=t.maxY}function d(e,t,n){for(var r=Math.min(e[0],t[0]),o=Math.min(e[1],t[1]),i=Math.max(e[0],t[0]),a=Math.max(e[1],t[1]),s=n.search({minX:r,minY:o,maxX:i,maxY:a}),u=0;u<s.length;u++)if(p(s[u].p,s[u].next.p,e,t))return!1;return!0}function h(e,t,n){return a(e[0],e[1],t[0],t[1],n[0],n[1])}function p(e,t,n,r){return e!==r&&t!==n&&h(e,t,n)>0!==h(e,t,r)>0&&h(n,r,e)>0!==h(n,r,t)>0}function v(e){var t=e.p,n=e.next.p;return e.minX=Math.min(t[0],n[0]),e.minY=Math.min(t[1],n[1]),e.maxX=Math.max(t[0],n[0]),e.maxY=Math.max(t[1],n[1]),e}function g(e,t){var n={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return t?(n.next=t.next,n.prev=t,t.next.prev=n,t.next=n):(n.prev=n,n.next=n),n}function y(e,t){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function m(e,t,n){var r=t[0],o=t[1],i=n[0]-r,a=n[1]-o;if(0!==i||0!==a){var s=((e[0]-r)*i+(e[1]-o)*a)/(i*i+a*a);s>1?(r=n[0],o=n[1]):s>0&&(r+=i*s,o+=a*s)}return(i=e[0]-r)*i+(a=e[1]-o)*a}function b(e,t,n,r,o,i,a,s){var u,l,c,f,d=n-e,h=r-t,p=a-o,v=s-i,g=e-o,y=t-i,m=d*d+h*h,b=d*p+h*v,_=p*p+v*v,w=d*g+h*y,x=p*g+v*y,E=m*_-b*b,O=E,S=E;0===E?(l=0,O=1,f=x,S=_):(f=m*x-b*w,(l=b*x-_*w)<0?(l=0,f=x,S=_):l>O&&(l=O,f=x+b,S=_)),f<0?(f=0,-w<0?l=0:-w>m?l=O:(l=-w,O=m)):f>S&&(f=S,-w+b<0?l=0:-w+b>m?l=O:(l=-w+b,O=m));var T=(1-(c=0===f?0:f/S))*o+c*a-((1-(u=0===l?0:l/O))*e+u*n),P=(1-c)*i+c*s-((1-u)*t+u*r);return T*T+P*P}function _(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]}o.default&&(o=o.default),e.exports=s,e.exports.default=s},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),o=n(2866),i=n(2597),a=n(914);e.exports=function(e){return i(e)?r(a(e)):o(e)}},3941:(e,t,n)=>{"use strict";var r=n(8460);e.exports=function(e,t){t=t||{};var n=new r,o=t.inPlace||!1,i=e.map(function(e){return o?e:{width:e.width,height:e.height,item:e}});i=i.sort(function(e,t){return t.width*t.height-e.width*e.height}),n.fit(i);var a={width:i.reduce(function(e,t){return Math.max(e,t.x+t.width)},0),height:i.reduce(function(e,t){return Math.max(e,t.y+t.height)},0)};return o||(a.items=i),a}},3945:(e,t,n)=>{"use strict";n.d(t,{C6:()=>o,Cl:()=>i,Tt:()=>a,YH:()=>u,fX:()=>l,sH:()=>s});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})}function u(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(u){s=[6,u],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function l(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},4029:(e,t,n)=>{"use strict";n.d(t,{I2:()=>s,YM:()=>u,qQ:()=>a});var r,o=n(4145),i=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,a=function(e){var t=(0,o.kJ)();t&&(t._cdn=e),r=e},s=function(){var e=function(){var e;return null!==r&&void 0!==r?r:null===(e=(0,o.kJ)())||void 0===e?void 0:e._cdn}();if(e)return e;var t=function(){var e;return Array.prototype.slice.call(document.querySelectorAll("script")).forEach(function(t){var n,r=null!==(n=t.getAttribute("src"))&&void 0!==n?n:"",o=i.exec(r);o&&o[1]&&(e=o[1])}),e}();return t||"https://cdn.segment.com"},u=function(){var e=s();return"".concat(e,"/next-integrations")}},4052:e=>{var t=Array.isArray;e.exports=t},4079:(e,t,n)=>{var r=n(8259),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)}),t});e.exports=a},4087:(e,t,n)=>{"use strict";n.d(t,{p:()=>o,r:()=>i});var r=n(3945),o=function(){function e(){this.metrics=[]}return e.prototype.increment=function(e,t,n){void 0===t&&(t=1),this.metrics.push({metric:e,value:t,tags:null!==n&&void 0!==n?n:[],type:"counter",timestamp:Date.now()})},e.prototype.gauge=function(e,t,n){this.metrics.push({metric:e,value:t,tags:null!==n&&void 0!==n?n:[],type:"gauge",timestamp:Date.now()})},e.prototype.flush=function(){var e=this.metrics.map(function(e){return(0,r.Cl)((0,r.Cl)({},e),{tags:e.tags.join(",")})});console.table?console.table(e):console.log(e),this.metrics=[]},e.prototype.serialize=function(){return this.metrics.map(function(e){return{m:e.metric,v:e.value,t:e.tags,k:(t=e.type,{gauge:"g",counter:"c"}[t]),e:e.timestamp};var t})},e}(),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.C6)(t,e),t.prototype.gauge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.increment=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.flush=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.serialize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return[]},t}(o)},4145:(e,t,n)=>{"use strict";n.d(t,{Ud:()=>a,kJ:()=>o,rY:()=>i});var r="analytics";function o(){return window[r]}function i(e){r=e}function a(e){window[r]=e}},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4185:(e,t,n)=>{var r=n(1014),o=n(6734);e.exports=function(e,t,n,i){return t.length>0&&Array.isArray(t[0])?o(e,t,n,i):r(e,t,n,i)},e.exports.nested=o,e.exports.flat=r},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function m(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var _=b.prototype=new m;_.constructor=b,v(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,o)&&!O.hasOwnProperty(o)&&(i[o]=t[o]);var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(o in u=e.defaultProps)void 0===i[o]&&(i[o]=u[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function k(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===i?"."+C(u,0):i,w(a)?(o="",null!=e&&(o=e.replace(P,"$&/")+"/"),k(a,t,o,"",function(e){return e})):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+e)),t.push(a)),1;if(u=0,i=""===i?".":i+":",w(e))for(var l=0;l<e.length;l++){var c=i+C(s=e[l],l);u+=k(s,t,o,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=k(s=s.value,t,o,c=i+C(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],o=0;return k(e,r,"","",function(e){return t.call(n,e,o++)}),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},R={transition:null},I={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=v({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)x.call(t,l)&&!O.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.3.1"},4228:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r=function(){var e,t,n=!1,r=new Promise(function(r,o){e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n=!0,r.apply(void 0,e)},t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n=!0,o.apply(void 0,e)}});return{resolve:e,reject:t,promise:r,isSettled:function(){return n}}}},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),o=n(4052);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},4268:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var r="api.segment.io/v1"},4320:(e,t,n)=>{var r=n(3713),o=n(6924),i=n(2777),a=n(4052),s=n(6571),u=n(4543),l=n(6140),c=n(1268),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||c(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},4353:(e,t,n)=>{e=n.nmd(e);var r=n(6552),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},4387:(e,t,n)=>{"use strict";n.d(t,{U:()=>d});var r=n(3945),o=n(4087),i=n(447),a=n(5242),s=n(8178),u=n(4268);function l(e){console.error("Error sending segment performance metrics",e)}var c,f=function(){function e(e){var t,n,r,o,i,a=this;if(this.host=null!==(t=null===e||void 0===e?void 0:e.host)&&void 0!==t?t:u.a,this.sampleRate=null!==(n=null===e||void 0===e?void 0:e.sampleRate)&&void 0!==n?n:1,this.flushTimer=null!==(r=null===e||void 0===e?void 0:e.flushTimer)&&void 0!==r?r:3e4,this.maxQueueSize=null!==(o=null===e||void 0===e?void 0:e.maxQueueSize)&&void 0!==o?o:20,this.protocol=null!==(i=null===e||void 0===e?void 0:e.protocol)&&void 0!==i?i:"https",this.queue=[],this.sampleRate>0){var s=!1,c=function(){s||(s=!0,a.flush().catch(l),s=!1,setTimeout(c,a.flushTimer))};c()}}return e.prototype.increment=function(e,t){if(e.includes("analytics_js.")&&0!==t.length&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var n=function(e,t,n){var o=t.reduce(function(e,t){var n=t.split(":"),r=n[0],o=n[1];return e[r]=o,e},{});return{type:"Counter",metric:e,value:1,tags:(0,r.Cl)((0,r.Cl)({},o),{library:"analytics.js",library_version:"web"===n?"next-".concat(a.r):"npm:next-".concat(a.r)})}}(e,t,(0,s.X)());this.queue.push(n),e.includes("error")&&this.flush().catch(l)}},e.prototype.flush=function(){return(0,r.sH)(this,void 0,void 0,function(){var e=this;return(0,r.YH)(this,function(t){switch(t.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(t){l(t),e.sampleRate=0})];case 1:return t.sent(),[2]}})})},e.prototype.send=function(){return(0,r.sH)(this,void 0,void 0,function(){var e,t,n;return(0,r.YH)(this,function(r){return e={series:this.queue},this.queue=[],t={"Content-Type":"text/plain"},n="".concat(this.protocol,"://").concat(this.host,"/m"),[2,(0,i.h)(n,{headers:t,body:JSON.stringify(e),method:"POST"})]})})},e}(),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.C6)(t,e),t.initRemoteMetrics=function(e){c=new f(e)},t.prototype.increment=function(t,n,r){e.prototype.increment.call(this,t,n,r),null===c||void 0===c||c.increment(t,null!==r&&void 0!==r?r:[])},t}(o.p)},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),o=n(5866),i=n(1558),a=n(8114),s=n(8182),u=n(2074);e.exports=function(e,t,n){var l=-1,c=o,f=e.length,d=!0,h=[],p=h;if(n)d=!1,c=i;else if(f>=200){var v=t?null:s(e);if(v)return u(v);d=!1,c=a,p=new r}else p=t?[]:h;e:for(;++l<f;){var g=e[l],y=t?t(g):g;if(g=n||0!==g?g:0,d&&y===y){for(var m=p.length;m--;)if(p[m]===y)continue e;t&&p.push(y),h.push(g)}else c(p,y,n)||(p!==h&&p.push(y),h.push(g))}return h}},4428:(e,t,n)=>{var r=n(5750);function o(){this._arr=[],this._keyIndices={}}e.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map(function(e){return e.key})},o.prototype.has=function(e){return r.has(this._keyIndices,e)},o.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var o=this._arr,i=o.length;return n[e]=i,o.push({key:e,priority:t}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},o.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},o.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,o=e;n<t.length&&(o=t[n].priority<t[o].priority?n:o,r<t.length&&(o=t[r].priority<t[o].priority?r:o),o!==e&&(this._swap(e,o),this._heapify(o)))},o.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},o.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,o=n[e],i=n[t];n[e]=i,n[t]=o,r[i.key]=e,r[o.key]=t}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),o=n(14),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;e.exports=u},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),o=n(8673);e.exports=function(e,t){return e&&r(e,t,o)}},4704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=function e(t){if("object"!==typeof t)return t;if("[object Object]"===Object.prototype.toString.call(t)){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=e(t[r]));return n}return Array.isArray(t)?t.map(e):t}},4724:(e,t,n)=>{var r=n(396)("length");e.exports=r},4816:(e,t,n)=>{var r=n(7251),o=n(7159),i=n(438),a=n(9394),s=n(6874);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},4937:(e,t,n)=>{"use strict";n.d(t,{v4:()=>a});for(var r,o=256,i=[];o--;)i[o]=(o+256).toString(16).substring(1);function a(){var e,t=0,n="";if(!r||o+16>256){for(r=Array(t=256);t--;)r[t]=256*Math.random()|0;t=o=0}for(;t<16;t++)e=r[o+t],n+=6==t?i[15&e|64]:8==t?i[63&e|128]:i[e],1&t&&t>1&&t<11&&(n+="-");return o++,n}},4993:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,r=t[e];for(;e>0;){const o=e-1>>1,i=t[o];if(n(r,i)>=0)break;t[e]=i,e=o}t[e]=r}_down(e){const{data:t,compare:n}=this,r=this.length>>1,o=t[e];for(;e<r;){let r=1+(e<<1),i=t[r];const a=r+1;if(a<this.length&&n(t[a],i)<0&&(r=a,i=t[a]),n(i,o)>=0)break;t[e]=i,e=r}t[e]=o}}function o(e,t){return e<t?-1:e>t?1:0}},5029:(e,t,n)=>{var r=n(6989),o=n(3097),i=n(3366),a=n(2597),s=n(9417),u=n(1310),l=n(914);e.exports=function(e,t){return a(e)&&s(t)?u(l(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5111:(e,t,n)=>{var r=n(3279);e.exports=function(e){return"function"==typeof e?e:r}},5119:(e,t,n)=>{var r=n(6614),o=n(474);e.exports=function(e,t){return e&&r(t,o(t),e)}},5159:(e,t,n)=>{"use strict";n.d(t,{C:()=>i,D:()=>a});var r=n(3945),o=n(5591);function i(e,t){e.log("debug","plugin",{plugin:t.name});var n=(new Date).getTime(),i=t[e.event.type];return void 0===i?Promise.resolve(e):function(e){return(0,r.sH)(this,void 0,void 0,function(){var t;return(0,r.YH)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:return[2,n.sent()];case 2:return t=n.sent(),[2,Promise.reject(t)];case 3:return[2]}})})}(function(){return i.apply(t,[e])}).then(function(e){var r=(new Date).getTime()-n;return e.stats.gauge("plugin_time",r,["plugin:".concat(t.name)]),e}).catch(function(n){if(n instanceof o.d&&"middleware_cancellation"===n.type)throw n;return n instanceof o.d?(e.log("warn",n.type,{plugin:t.name,error:n}),n):(e.log("error","plugin Error",{plugin:t.name,error:n}),e.stats.increment("plugin_error",1,["plugin:".concat(t.name)]),n)})}function a(e,t){return i(e,t).then(function(t){if(t instanceof o.j)return t;e.log("debug","Context canceled"),e.stats.increment("context_canceled"),e.cancel(t)})}},5193:(e,t,n)=>{var r=n(6913),o=n(2761);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},5198:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var r=function(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:null}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5242:(e,t,n)=>{"use strict";n.d(t,{r:()=>r});var r="1.81.1"},5262:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(0).layoutBase.LayoutConstants,o=n(0).layoutBase.FDLayoutConstants,i=n(0).CoSEConstants,a=n(0).CoSELayout,s=n(0).CoSENode,u=n(0).layoutBase.PointD,l=n(0).layoutBase.DimensionD,c={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function f(e){this.options=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}(c,e),d(this.options)}var d=function(e){null!=e.nodeRepulsion&&(i.DEFAULT_REPULSION_STRENGTH=o.DEFAULT_REPULSION_STRENGTH=e.nodeRepulsion),null!=e.idealEdgeLength&&(i.DEFAULT_EDGE_LENGTH=o.DEFAULT_EDGE_LENGTH=e.idealEdgeLength),null!=e.edgeElasticity&&(i.DEFAULT_SPRING_STRENGTH=o.DEFAULT_SPRING_STRENGTH=e.edgeElasticity),null!=e.nestingFactor&&(i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=e.nestingFactor),null!=e.gravity&&(i.DEFAULT_GRAVITY_STRENGTH=o.DEFAULT_GRAVITY_STRENGTH=e.gravity),null!=e.numIter&&(i.MAX_ITERATIONS=o.MAX_ITERATIONS=e.numIter),null!=e.gravityRange&&(i.DEFAULT_GRAVITY_RANGE_FACTOR=o.DEFAULT_GRAVITY_RANGE_FACTOR=e.gravityRange),null!=e.gravityCompound&&(i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=e.gravityCompound),null!=e.gravityRangeCompound&&(i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=e.gravityRangeCompound),null!=e.initialEnergyOnIncremental&&(i.DEFAULT_COOLING_FACTOR_INCREMENTAL=o.DEFAULT_COOLING_FACTOR_INCREMENTAL=e.initialEnergyOnIncremental),"draft"==e.quality?r.QUALITY=0:"proof"==e.quality?r.QUALITY=2:r.QUALITY=1,i.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=r.NODE_DIMENSIONS_INCLUDE_LABELS=e.nodeDimensionsIncludeLabels,i.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=r.DEFAULT_INCREMENTAL=!e.randomize,i.ANIMATE=o.ANIMATE=r.ANIMATE=e.animate,i.TILE=e.tile,i.TILING_PADDING_VERTICAL="function"===typeof e.tilingPaddingVertical?e.tilingPaddingVertical.call():e.tilingPaddingVertical,i.TILING_PADDING_HORIZONTAL="function"===typeof e.tilingPaddingHorizontal?e.tilingPaddingHorizontal.call():e.tilingPaddingHorizontal};f.prototype.run=function(){var e,t,n=this.options,r=(this.idToLNode={},this.layout=new a),o=this;o.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var i=r.newGraphManager();this.gm=i;var s=this.options.eles.nodes(),u=this.options.eles.edges();this.root=i.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(s),r);for(var l=0;l<u.length;l++){var c=u[l],f=this.idToLNode[c.data("source")],d=this.idToLNode[c.data("target")];f!==d&&0==f.getEdgesBetween(d).length&&(i.add(r.newEdge(),f,d).id=c.id())}var h=function(e,t){"number"===typeof e&&(e=t);var n=e.data("id"),r=o.idToLNode[n];return{x:r.getRect().getCenterX(),y:r.getRect().getCenterY()}},p=function i(){for(var a,s=function(){n.fit&&n.cy.fit(n.eles,n.padding),e||(e=!0,o.cy.one("layoutready",n.ready),o.cy.trigger({type:"layoutready",layout:o}))},u=o.options.refresh,l=0;l<u&&!a;l++)a=o.stopped||o.layout.tick();if(a)return r.checkLayoutSuccess()&&!r.isSubLayout&&r.doPostLayout(),r.tilingPostLayout&&r.tilingPostLayout(),r.isLayoutFinished=!0,o.options.eles.nodes().positions(h),s(),o.cy.one("layoutstop",o.options.stop),o.cy.trigger({type:"layoutstop",layout:o}),t&&cancelAnimationFrame(t),void(e=!1);var c=o.layout.getPositionsData();n.eles.nodes().positions(function(e,t){if("number"===typeof e&&(e=t),!e.isParent()){for(var n=e.id(),r=c[n],o=e;null==r&&(r=c[o.data("parent")]||c["DummyCompound_"+o.data("parent")],c[n]=r,void 0!=(o=o.parent()[0])););return null!=r?{x:r.x,y:r.y}:{x:e.position("x"),y:e.position("y")}}}),s(),t=requestAnimationFrame(i)};return r.addListener("layoutstarted",function(){"during"===o.options.animate&&(t=requestAnimationFrame(p))}),r.runLayout(),"during"!==this.options.animate&&(o.options.eles.nodes().not(":parent").layoutPositions(o,o.options,h),e=!1),this},f.prototype.getTopMostNodes=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].id()]=!0;var r=e.filter(function(e,n){"number"===typeof e&&(e=n);for(var r=e.parent()[0];null!=r;){if(t[r.id()])return!1;r=r.parent()[0]}return!0});return r},f.prototype.processChildrenList=function(e,t,n){for(var r=t.length,o=0;o<r;o++){var i,a,c=t[o],f=c.children(),d=c.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if((i=null!=c.outerWidth()&&null!=c.outerHeight()?e.add(new s(n.graphManager,new u(c.position("x")-d.w/2,c.position("y")-d.h/2),new l(parseFloat(d.w),parseFloat(d.h)))):e.add(new s(this.graphManager))).id=c.data("id"),i.paddingLeft=parseInt(c.css("padding")),i.paddingTop=parseInt(c.css("padding")),i.paddingRight=parseInt(c.css("padding")),i.paddingBottom=parseInt(c.css("padding")),this.options.nodeDimensionsIncludeLabels&&c.isParent()){var h=c.boundingBox({includeLabels:!0,includeNodes:!1}).w,p=c.boundingBox({includeLabels:!0,includeNodes:!1}).h,v=c.css("text-halign");i.labelWidth=h,i.labelHeight=p,i.labelPos=v}this.idToLNode[c.data("id")]=i,isNaN(i.rect.x)&&(i.rect.x=0),isNaN(i.rect.y)&&(i.rect.y=0),null!=f&&f.length>0&&(a=n.getGraphManager().add(n.newGraph(),i),this.processChildrenList(a,f,n))}},f.prototype.stop=function(){return this.stopped=!0,this};var h=function(e){e("layout","cose-bilkent",f)};"undefined"!==typeof cytoscape&&h(cytoscape),e.exports=h}])},e.exports=r(n(620))},5324:(e,t,n)=>{var r=n(4052),o=n(2597),i=n(4079),a=n(1069);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5407:(e,t,n)=>{"use strict";var r=n(1007).longestPath,o=n(8027),i=n(6998);e.exports=function(e){switch(e.graph().ranker){case"network-simplex":default:s(e);break;case"tight-tree":!function(e){r(e),o(e)}(e);break;case"longest-path":a(e)}};var a=r;function s(e){i(e)}},5408:(e,t,n)=>{"use strict";function r(e){return Array.prototype.slice.call(window.document.querySelectorAll("script")).find(function(t){return t.src===e})}function o(e,t){var n=r(e);if(void 0!==n){var o=null===n||void 0===n?void 0:n.getAttribute("status");if("loaded"===o)return Promise.resolve(n);if("loading"===o)return new Promise(function(e,t){n.addEventListener("load",function(){return e(n)}),n.addEventListener("error",function(e){return t(e)})})}return new Promise(function(n,r){var o,i=window.document.createElement("script");i.type="text/javascript",i.src=e,i.async=!0,i.setAttribute("status","loading");for(var a=0,s=Object.entries(null!==t&&void 0!==t?t:{});a<s.length;a++){var u=s[a],l=u[0],c=u[1];i.setAttribute(l,c)}i.onload=function(){i.onerror=i.onload=null,i.setAttribute("status","loaded"),n(i)},i.onerror=function(){i.onerror=i.onload=null,i.setAttribute("status","error"),r(new Error("Failed to load ".concat(e)))};var f=window.document.querySelector("script");f?null===(o=f.parentElement)||void 0===o||o.insertBefore(i,f):window.document.head.appendChild(i)})}function i(e){var t=r(e);return void 0!==t&&t.remove(),Promise.resolve()}n.d(t,{d:()=>i,k:()=>o})},5428:(e,t,n)=>{var r=n(6913),o=n(6173),i=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},5491:(e,t,n)=>{var r=n(726),o=n(5652),i=n(5111),a=n(4052);e.exports=function(e,t){return(a(e)?r:o)(e,i(t))}},5538:(e,t,n)=>{var r=n(7160),o=n(4545),i=n(793),a=n(7760),s=n(3892),u=n(6788);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=o,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,e.exports=l},5544:(e,t)=>{"use strict";var n=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;t.parse=function(e){var t=[1,5,6,7,11,12],r=n.exec(e),o=0;if(!r)return new Date(e);for(var i,a=0;i=t[a];a++)r[i]=parseInt(r[i],10)||0;r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0," "===r[4]?o=(new Date).getTimezoneOffset():"Z"!==r[9]&&r[10]&&(o=60*r[11]+r[12],"+"===r[10]&&(o=0-o));var s=Date.UTC(r[1],r[2],r[3],r[5],r[6]+o,r[7],r[8]);return new Date(s)},t.is=function(e,t){return"string"===typeof e&&((!t||!1!==/^\d{4}-\d{2}-\d{2}/.test(e))&&n.test(e))}},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5591:(e,t,n)=>{"use strict";n.d(t,{d:()=>u,j:()=>l});var r=n(4937),o=n(3333),i=n(3945),a=function(){function e(){this._logs=[]}return e.prototype.log=function(e,t,n){var r=new Date;this._logs.push({level:e,message:t,time:r,extras:n})},Object.defineProperty(e.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),e.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce(function(e,t){var n,r,o,a=(0,i.Cl)((0,i.Cl)({},t),{json:JSON.stringify(t.extras,null," "),extras:t.extras});delete a.time;var s=null!==(o=null===(r=t.time)||void 0===r?void 0:r.toISOString())&&void 0!==o?o:"";return e[s]&&(s="".concat(s,"-").concat(Math.random())),(0,i.Cl)((0,i.Cl)({},e),((n={})[s]=a,n))},{});console.table?console.table(e):console.log(e)}else this.logs.forEach(function(e){var t=e.level,n=e.message,r=e.extras;"info"===t||"debug"===t?console.log(n,null!==r&&void 0!==r?r:""):console[t](n,null!==r&&void 0!==r?r:"")});this._logs=[]},e}(),s=n(4087),u=function(e){var t,n,r;this.retry=null===(t=e.retry)||void 0===t||t,this.type=null!==(n=e.type)&&void 0!==n?n:"plugin Error",this.reason=null!==(r=e.reason)&&void 0!==r?r:""},l=function(){function e(e,t,n,o){void 0===t&&(t=(0,r.v4)()),void 0===n&&(n=new s.r),void 0===o&&(o=new a),this.attempts=0,this.event=e,this._id=t,this.logger=o,this.stats=n}return e.system=function(){},e.prototype.isSame=function(e){return e.id===this.id},e.prototype.cancel=function(e){if(e)throw e;throw new u({reason:"Context Cancel"})},e.prototype.log=function(e,t,n){this.logger.log(e,t,n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),e.prototype.updateEvent=function(e,t){var n;if("integrations"===e.split(".")[0]){var r=e.split(".")[1];if(!1===(null===(n=this.event.integrations)||void 0===n?void 0:n[r]))return this.event}return(0,o.J)(this.event,e,t),this.event},e.prototype.failedDelivery=function(){return this._failedDelivery},e.prototype.setFailedDelivery=function(e){this._failedDelivery=e},e.prototype.logs=function(){return this.logger.logs},e.prototype.flush=function(){this.logger.flush(),this.stats.flush()},e.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},e}()},5629:(e,t,n)=>{"use strict";var r=n(5544),o=n(8599),i=n(3552),a=Object.prototype.toString;e.exports=function(e){return t=e,"[object Date]"===a.call(t)?e:function(e){return"[object Number]"===a.call(e)}(e)?new Date((n=e)<315576e5?1e3*n:n):r.is(e)?r.parse(e):o.is(e)?o.parse(e):i.is(e)?i.parse(e):new Date(e);var t,n}},5636:(e,t,n)=>{var r=n(1170),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),u=Array(s);++a<s;)u[a]=i[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=i[a];return l[t]=n(u),r(e,this,l)}}},5640:(e,t,n)=>{var r=n(3713),o=n(6924),i=n(6571),a=n(8239),s=n(1632);e.exports=function(e){if(null==e)return 0;if(i(e))return a(e)?s(e):e.length;var t=o(e);return"[object Map]"==t||"[object Set]"==t?e.size:r(e).length}},5647:(e,t,n)=>{var r=n(3279),o=n(5636),i=n(6350);e.exports=function(e,t){return i(o(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),o=n(6516)(r);e.exports=o},5654:(e,t,n)=>{var r=n(7937),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},5678:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;var o=r(n(6329)),i=n(6711),a=n(742),s=r(n(7636));function u(e,t){i.Facade.call(this,e,t)}t.Page=u,o.default(u,i.Facade);var l=u.prototype;l.action=function(){return"page"},l.type=l.action,l.category=i.Facade.field("category"),l.name=i.Facade.field("name"),l.title=i.Facade.proxy("properties.title"),l.path=i.Facade.proxy("properties.path"),l.url=i.Facade.proxy("properties.url"),l.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},l.properties=function(e){var t=this.field("properties")||{},n=this.category(),r=this.name();for(var o in e=e||{},n&&(t.category=n),r&&(t.name=r),e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=null==this[o]?this.proxy("properties."+o):this[o]();if(null==i)continue;t[e[o]]=i,o!==e[o]&&delete t[o]}return t},l.email=function(){var e=this.proxy("context.traits.email")||this.proxy("properties.email");if(e)return e;var t=this.userId();return s.default(t)?t:void 0},l.fullName=function(){var e=this.category(),t=this.name();return t&&e?e+" "+t:t},l.event=function(e){return e?"Viewed "+e+" Page":"Loaded a Page"},l.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new a.Track(t,this.opts)}},5713:e=>{e.exports=function(){}},5750:(e,t,n)=>{var r;try{r={clone:n(1740),constant:n(2541),each:n(2580),filter:n(723),has:n(2117),isArray:n(4052),isEmpty:n(4320),isFunction:n(1629),isUndefined:n(141),keys:n(8673),map:n(3411),reduce:n(2759),size:n(5640),transform:n(2717),union:n(450),values:n(6727)}}catch(o){}r||(r=window._),e.exports=r},5752:(e,t,n)=>{var r=n(9395),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var u=1&n,l=r(e),c=l.length;if(c!=r(t).length&&!u)return!1;for(var f=c;f--;){var d=l[f];if(!(u?d in t:o.call(t,d)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var v=!0;s.set(e,t),s.set(t,e);for(var g=u;++f<c;){var y=e[d=l[f]],m=t[d];if(i)var b=u?i(m,y,d,t,e,s):i(y,m,d,e,t,s);if(!(void 0===b?y===m||a(y,m,n,i,s):b)){v=!1;break}g||(g="constructor"==d)}if(v&&!g){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(v=!1)}return s.delete(e),s.delete(t),v}},5791:(e,t,n)=>{var r=n(6924),o=n(2761);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},5797:(e,t,n)=>{var r=n(4816);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},5814:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});var r=n(3945),o=n(5591),i=n(4387),a=function(e){function t(t,n){return e.call(this,t,n,new i.U)||this}return(0,r.C6)(t,e),t.system=function(){return new this({type:"track",event:"system"})},t}(o.j)},5816:e=>{e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},5822:(e,t,n)=>{var r=n(5750),o=n(4428);e.exports=function(e,t,n,r){return function(e,t,n,r){var i,a,s={},u=new o,l=function(e){var t=e.v!==i?e.v:e.w,r=s[t],o=n(e),l=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+o);l<r.distance&&(r.distance=l,r.predecessor=i,u.decrease(t,l))};e.nodes().forEach(function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},u.add(e,n)});for(;u.size()>0&&(i=u.removeMin(),(a=s[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(l);return s}(e,String(t),n||i,r||function(t){return e.outEdges(t)})};var i=r.constant(1)},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}},5921:(e,t,n)=>{var r=n(449),o=n(7574),i=n(6832),a=i&&i.isSet,s=a?o(a):r;e.exports=s},5983:(e,t,n)=>{var r=n(3536),o=n(7606);function i(e,t,n){for(var o;t.length&&(o=r.last(t)).i<=n;)t.pop(),e.push(o.vs),n++;return n}e.exports=function(e,t){var n=o.partition(e,function(e){return r.has(e,"barycenter")}),a=n.lhs,s=r.sortBy(n.rhs,function(e){return-e.i}),u=[],l=0,c=0,f=0;a.sort((d=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:d?t.i-e.i:e.i-t.i})),f=i(u,s,f),r.forEach(a,function(e){f+=e.vs.length,u.push(e.vs),l+=e.barycenter*e.weight,c+=e.weight,f=i(u,s,f)});var d;var h={vs:r.flatten(u,!0)};c&&(h.barycenter=l/c,h.weight=c);return h}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},5992:(e,t,n)=>{var r=n(5750);e.exports=function(e){var t,n={},o=[];function i(o){r.has(n,o)||(n[o]=!0,t.push(o),r.each(e.successors(o),i),r.each(e.predecessors(o),i))}return r.each(e.nodes(),function(e){t=[],i(e),t.length&&o.push(t)}),o}},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6105:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(8804));function i(e,t){return function(){var n=this.traits(),r=this.properties?this.properties():{};return o.default(n,"address."+e)||o.default(n,e)||(t?o.default(n,"address."+t):null)||(t?o.default(n,t):null)||o.default(r,"address."+e)||o.default(r,e)||(t?o.default(r,"address."+t):null)||(t?o.default(r,t):null)}}t.default=function(e){e.zip=i("postalCode","zip"),e.country=i("country"),e.street=i("street"),e.state=i("state"),e.city=i("city"),e.region=i("region")}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6272:(e,t,n)=>{var r=n(6571),o=n(2761);e.exports=function(e){return o(e)&&r(e)}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6322:(e,t,n)=>{var r=n(3536),o=n(954),i=n(2293),a=n(5983);e.exports=function e(t,n,s,u){var l=t.children(n),c=t.node(n),f=c?c.borderLeft:void 0,d=c?c.borderRight:void 0,h={};f&&(l=r.filter(l,function(e){return e!==f&&e!==d}));var p=o(t,l);r.forEach(p,function(n){if(t.children(n.v).length){var o=e(t,n.v,s,u);h[n.v]=o,r.has(o,"barycenter")&&(i=n,a=o,r.isUndefined(i.barycenter)?(i.barycenter=a.barycenter,i.weight=a.weight):(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight))}var i,a});var v=i(p,s);!function(e,t){r.forEach(e,function(e){e.vs=r.flatten(e.vs.map(function(e){return t[e]?t[e].vs:e}),!0)})}(v,h);var g=a(v,u);if(f&&(g.vs=r.flatten([f,g.vs,d],!0),t.predecessors(f).length)){var y=t.node(t.predecessors(f)[0]),m=t.node(t.predecessors(d)[0]);r.has(g,"barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+y.order+m.order)/(g.weight+2),g.weight+=2}return g}},6326:(e,t,n)=>{var r=n(8895),o=n(5990),i=n(9621),a=n(7828),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},6329:e=>{"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},6336:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});var r=function(){function e(e){var t;this.callbacks={},this.warned=!1,this.maxListeners=null!==(t=null===e||void 0===e?void 0:e.maxListeners)&&void 0!==t?t:10}return e.prototype.warnIfPossibleMemoryLeak=function(e){this.warned||this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},e.prototype.on=function(e,t){return this.callbacks[e]?(this.callbacks[e].push(t),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[t],this},e.prototype.once=function(e,t){var n=this,r=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];n.off(e,r),t.apply(n,o)};return this.on(e,r),this},e.prototype.off=function(e,t){var n,r=(null!==(n=this.callbacks[e])&&void 0!==n?n:[]).filter(function(e){return e!==t});return this.callbacks[e]=r,this},e.prototype.emit=function(e){for(var t,n=this,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return(null!==(t=this.callbacks[e])&&void 0!==t?t:[]).forEach(function(e){e.apply(n,r)}),this},e}()},6350:(e,t,n)=>{var r=n(8325),o=n(6578)(r);e.exports=o},6368:(e,t,n)=>{var r=n(5750),o=n(191),i=n(4428);e.exports=function(e,t){var n,a=new o,s={},u=new i;function l(e){var r=e.v===n?e.w:e.v,o=u.priority(r);if(void 0!==o){var i=t(e);i<o&&(s[r]=n,u.decrease(r,i))}}if(0===e.nodeCount())return a;r.each(e.nodes(),function(e){u.add(e,Number.POSITIVE_INFINITY),a.setNode(e)}),u.decrease(e.nodes()[0],0);var c=!1;for(;u.size()>0;){if(n=u.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(c)throw new Error("Input graph is not connected: "+e);c=!0}e.nodeEdges(n).forEach(l)}return a}},6399:(e,t,n)=>{var r=n(5538),o=n(3668),i=n(9987),a=n(5752),s=n(6924),u=n(4052),l=n(4543),c=n(1268),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,g,y){var m=u(e),b=u(t),_=m?d:s(e),w=b?d:s(t),x=(_=_==f?h:_)==h,E=(w=w==f?h:w)==h,O=_==w;if(O&&l(e)){if(!l(t))return!1;m=!0,x=!1}if(O&&!x)return y||(y=new r),m||c(e)?o(e,t,n,v,g,y):i(e,t,_,n,v,g,y);if(!(1&n)){var S=x&&p.call(e,"__wrapped__"),T=E&&p.call(t,"__wrapped__");if(S||T){var P=S?e.value():e,C=T?t.value():t;return y||(y=new r),g(P,C,n,v,y)}}return!!O&&(y||(y=new r),a(e,t,n,v,g,y))}},6474:function(e,t){!function(e){"use strict";const t=134217729,n=33306690738754706e-32;function r(e,t,n,r,o){let i,a,s,u,l=t[0],c=r[0],f=0,d=0;c>l==c>-l?(i=l,l=t[++f]):(i=c,c=r[++d]);let h=0;if(f<e&&d<n)for(c>l==c>-l?(s=i-((a=l+i)-l),l=t[++f]):(s=i-((a=c+i)-c),c=r[++d]),i=a,0!==s&&(o[h++]=s);f<e&&d<n;)c>l==c>-l?(s=i-((a=i+l)-(u=a-i))+(l-u),l=t[++f]):(s=i-((a=i+c)-(u=a-i))+(c-u),c=r[++d]),i=a,0!==s&&(o[h++]=s);for(;f<e;)s=i-((a=i+l)-(u=a-i))+(l-u),l=t[++f],i=a,0!==s&&(o[h++]=s);for(;d<n;)s=i-((a=i+c)-(u=a-i))+(c-u),c=r[++d],i=a,0!==s&&(o[h++]=s);return 0===i&&0!==h||(o[h++]=i),h}function o(e){return new Float64Array(e)}const i=33306690738754716e-32,a=22204460492503146e-32,s=11093356479670487e-47,u=o(4),l=o(8),c=o(12),f=o(16),d=o(4);e.orient2d=function(e,o,h,p,v,g){const y=(o-g)*(h-v),m=(e-v)*(p-g),b=y-m;if(0===y||0===m||y>0!=m>0)return b;const _=Math.abs(y+m);return Math.abs(b)>=i*_?b:-function(e,o,i,h,p,v,g){let y,m,b,_,w,x,E,O,S,T,P,C,k,A,N,j,R,I;const M=e-p,D=i-p,L=o-v,B=h-v;w=(N=(O=M-(E=(x=t*M)-(x-M)))*(T=B-(S=(x=t*B)-(x-B)))-((A=M*B)-E*S-O*S-E*T))-(P=N-(R=(O=L-(E=(x=t*L)-(x-L)))*(T=D-(S=(x=t*D)-(x-D)))-((j=L*D)-E*S-O*S-E*T))),u[0]=N-(P+w)+(w-R),w=(k=A-((C=A+P)-(w=C-A))+(P-w))-(P=k-j),u[1]=k-(P+w)+(w-j),w=(I=C+P)-C,u[2]=C-(I-w)+(P-w),u[3]=I;let F=function(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}(4,u),U=a*g;if(F>=U||-F>=U)return F;if(y=e-(M+(w=e-M))+(w-p),b=i-(D+(w=i-D))+(w-p),m=o-(L+(w=o-L))+(w-v),_=h-(B+(w=h-B))+(w-v),0===y&&0===m&&0===b&&0===_)return F;if(U=s*g+n*Math.abs(F),(F+=M*_+B*y-(L*b+D*m))>=U||-F>=U)return F;w=(N=(O=y-(E=(x=t*y)-(x-y)))*(T=B-(S=(x=t*B)-(x-B)))-((A=y*B)-E*S-O*S-E*T))-(P=N-(R=(O=m-(E=(x=t*m)-(x-m)))*(T=D-(S=(x=t*D)-(x-D)))-((j=m*D)-E*S-O*S-E*T))),d[0]=N-(P+w)+(w-R),w=(k=A-((C=A+P)-(w=C-A))+(P-w))-(P=k-j),d[1]=k-(P+w)+(w-j),w=(I=C+P)-C,d[2]=C-(I-w)+(P-w),d[3]=I;const z=r(4,u,4,d,l);w=(N=(O=M-(E=(x=t*M)-(x-M)))*(T=_-(S=(x=t*_)-(x-_)))-((A=M*_)-E*S-O*S-E*T))-(P=N-(R=(O=L-(E=(x=t*L)-(x-L)))*(T=b-(S=(x=t*b)-(x-b)))-((j=L*b)-E*S-O*S-E*T))),d[0]=N-(P+w)+(w-R),w=(k=A-((C=A+P)-(w=C-A))+(P-w))-(P=k-j),d[1]=k-(P+w)+(w-j),w=(I=C+P)-C,d[2]=C-(I-w)+(P-w),d[3]=I;const V=r(z,l,4,d,c);w=(N=(O=y-(E=(x=t*y)-(x-y)))*(T=_-(S=(x=t*_)-(x-_)))-((A=y*_)-E*S-O*S-E*T))-(P=N-(R=(O=m-(E=(x=t*m)-(x-m)))*(T=b-(S=(x=t*b)-(x-b)))-((j=m*b)-E*S-O*S-E*T))),d[0]=N-(P+w)+(w-R),w=(k=A-((C=A+P)-(w=C-A))+(P-w))-(P=k-j),d[1]=k-(P+w)+(w-j),w=(I=C+P)-C,d[2]=C-(I-w)+(P-w),d[3]=I;const W=r(V,c,4,d,f);return f[W-1]}(e,o,h,p,v,g,_)},e.orient2dfast=function(e,t,n,r,o,i){return(t-i)*(n-o)-(e-o)*(r-i)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},6487:e=>{e.exports=function(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}},6504:(e,t,n)=>{e.exports={graphlib:n(9207),layout:n(2320),debug:n(3163),util:{time:n(7606).time,notime:n(7606).notime},version:n(2632)}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},6532:(e,t,n)=>{var r=n(5538),o=n(6989);e.exports=function(e,t,n,i){var a=n.length,s=a,u=!i;if(null==e)return!s;for(e=Object(e);a--;){var l=n[a];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var c=(l=n[a])[0],f=e[c],d=l[1];if(u&&l[2]){if(void 0===f&&!(c in e))return!1}else{var h=new r;if(i)var p=i(f,d,c,e,t,h);if(!(void 0===p?o(d,f,3,i,h):p))return!1}}return!0}},6551:(e,t,n)=>{"use strict";n.d(t,{a:()=>i,s:()=>o});var r=n(9324);function o(){return!(0,r.B)()||window.navigator.onLine}function i(){return!o()}},6552:(e,t,n)=>{var r=n(7105),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},6571:(e,t,n)=>{var r=n(1629),o=n(6173);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},6575:(e,t,n)=>{"use strict";var r=n(3536),o=n(1720),i=n(8637),a=n(6322),s=n(6746),u=n(1406),l=n(9207).Graph,c=n(7606);function f(e,t,n){return r.map(t,function(t){return s(e,t,n)})}function d(e,t){var n=new l;r.forEach(e,function(e){var o=e.graph().root,i=a(e,o,n,t);r.forEach(i.vs,function(t,n){e.node(t).order=n}),u(e,n,i.vs)})}function h(e,t){r.forEach(t,function(t){r.forEach(t,function(t,n){e.node(t).order=n})})}e.exports=function(e){var t=c.maxRank(e),n=f(e,r.range(1,t+1),"inEdges"),a=f(e,r.range(t-1,-1,-1),"outEdges"),s=o(e);h(e,s);for(var u,l=Number.POSITIVE_INFINITY,p=0,v=0;v<4;++p,++v){d(p%2?n:a,p%4>=2),s=c.buildLayerMatrix(e);var g=i(e,s);g<l&&(v=0,u=r.cloneDeep(s),l=g)}h(e,u)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6614:(e,t,n)=>{var r=n(8420),o=n(1775);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var l=t[s],c=i?i(n[l],e[l],l,n,e):void 0;void 0===c&&(c=e[l]),a?o(n,l,c):r(n,l,c)}return n}},6655:(e,t,n)=>{"use strict";n.d(t,{g:()=>i,M:()=>a});var r=n(3945),o=n(6336);var i="onRemoveFromFuture",a=function(e){function t(t,n,r){var o=e.call(this)||this;return o.future=[],o.maxAttempts=t,o.queue=n,o.seen=null!==r&&void 0!==r?r:{},o}return(0,r.C6)(t,e),t.prototype.push=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.map(function(t){return!(e.updateAttempts(t)>e.maxAttempts||e.includes(t))&&(e.queue.push(t),!0)});return this.queue=this.queue.sort(function(t,n){return e.getAttempts(t)-e.getAttempts(n)}),r},t.prototype.pushWithBackoff=function(e,t){var n=this;if(void 0===t&&(t=0),0==t&&0===this.getAttempts(e))return this.push(e)[0];var r=this.updateAttempts(e);if(r>this.maxAttempts||this.includes(e))return!1;var o=function(e){var t=Math.random()+1,n=e.minTimeout,r=void 0===n?500:n,o=e.factor,i=void 0===o?2:o,a=e.attempt,s=e.maxTimeout,u=void 0===s?1/0:s;return Math.min(t*r*Math.pow(i,a),u)}({attempt:r-1});return t>0&&o<t&&(o=t),setTimeout(function(){n.queue.push(e),n.future=n.future.filter(function(t){return t.id!==e.id}),n.emit(i)},o),this.future.push(e),!0},t.prototype.getAttempts=function(e){var t;return null!==(t=this.seen[e.id])&&void 0!==t?t:0},t.prototype.updateAttempts=function(e){return this.seen[e.id]=this.getAttempts(e)+1,this.getAttempts(e)},t.prototype.includes=function(e){return this.queue.includes(e)||this.future.includes(e)||Boolean(this.queue.find(function(t){return t.id===e.id}))||Boolean(this.future.find(function(t){return t.id===e.id}))},t.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(t.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),t}(o.v)},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6711:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Facade=void 0;var o=r(n(6105)),i=n(4704),a=r(n(1417)),s=r(n(5629)),u=r(n(8804)),l=r(n(856));function c(e,t){t=t||{},this.raw=i.clone(e),"clone"in t||(t.clone=!0),t.clone&&(e=i.clone(e)),"traverse"in t||(t.traverse=!0),e.timestamp="timestamp"in e?s.default(e.timestamp):new Date,t.traverse&&l.default(e),this.opts=t,this.obj=e}t.Facade=c;var f=c.prototype;function d(e){return i.clone(e)}f.proxy=function(e){var t=e.split("."),n=this[e=t.shift()]||this.obj[e];return n?("function"===typeof n&&(n=n.call(this)||{}),0===t.length||(n=u.default(n,t.join("."))),this.opts.clone?d(n):n):n},f.field=function(e){var t=this.obj[e];return this.opts.clone?d(t):t},c.proxy=function(e){return function(){return this.proxy(e)}},c.field=function(e){return function(){return this.field(e)}},c.multi=function(e){return function(){var t=this.proxy(e+"s");if(Array.isArray(t))return t;var n=this.proxy(e);return n&&(n=[this.opts.clone?i.clone(n):n]),n||[]}},c.one=function(e){return function(){var t=this.proxy(e);if(t)return t;var n=this.proxy(e+"s");return Array.isArray(n)?n[0]:void 0}},f.json=function(){var e=this.opts.clone?i.clone(this.obj):this.obj;return this.type&&(e.type=this.type()),e},f.rawEvent=function(){return this.raw},f.options=function(e){var t=this.obj.options||this.obj.context||{},n=this.opts.clone?i.clone(t):t;if(!e)return n;if(this.enabled(e)){var r=this.integrations(),o=r[e]||u.default(r,e);return"object"!==typeof o&&(o=u.default(this.options(),e)),"object"===typeof o?o:{}}},f.context=f.options,f.enabled=function(e){var t=this.proxy("options.providers.all");"boolean"!==typeof t&&(t=this.proxy("options.all")),"boolean"!==typeof t&&(t=this.proxy("integrations.all")),"boolean"!==typeof t&&(t=!0);var n=t&&a.default(e),r=this.integrations();if(r.providers&&r.providers.hasOwnProperty(e)&&(n=r.providers[e]),r.hasOwnProperty(e)){var o=r[e];n="boolean"!==typeof o||o}return!!n},f.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},f.active=function(){var e=this.proxy("options.active");return null!==e&&void 0!==e||(e=!0),e},f.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},f.sessionId=f.anonymousId,f.groupId=c.proxy("options.groupId"),f.traits=function(e){var t=this.proxy("options.traits")||{},n=this.userId();for(var r in e=e||{},n&&(t.id=n),e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=null==this[r]?this.proxy("options.traits."+r):this[r]();if(null==o)continue;t[e[r]]=o,delete t[r]}return t},f.library=function(){var e=this.proxy("options.library");return e?"string"===typeof e?{name:e,version:null}:e:{name:"unknown",version:null}},f.device=function(){var e=this.proxy("context.device");"object"===typeof e&&null!==e||(e={});var t=this.library().name;return e.type||(t.indexOf("ios")>-1&&(e.type="ios"),t.indexOf("android")>-1&&(e.type="android")),e},f.userAgent=c.proxy("context.userAgent"),f.timezone=c.proxy("context.timezone"),f.timestamp=c.field("timestamp"),f.channel=c.field("channel"),f.ip=c.proxy("context.ip"),f.userId=c.field("userId"),o.default(f)},6727:(e,t,n)=>{var r=n(6983),o=n(8673);e.exports=function(e){return null==e?[]:r(e,o(e))}},6734:e=>{e.exports=function(e,t,n,r){var o=e[0],i=e[1],a=!1;void 0===n&&(n=0),void 0===r&&(r=t.length);for(var s=r-n,u=0,l=s-1;u<s;l=u++){var c=t[u+n][0],f=t[u+n][1],d=t[l+n][0],h=t[l+n][1];f>i!==h>i&&o<(d-c)*(i-f)/(h-f)+c&&(a=!a)}return a}},6741:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},6746:(e,t,n)=>{var r=n(3536),o=n(9207).Graph;e.exports=function(e,t,n){var i=function(e){var t;for(;e.hasNode(t=r.uniqueId("_root")););return t}(e),a=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(t){return e.node(t)});return r.forEach(e.nodes(),function(o){var s=e.node(o),u=e.parent(o);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(a.setNode(o),a.setParent(o,u||i),r.forEach(e[n](o),function(t){var n=t.v===o?t.w:t.v,i=a.edge(n,o),s=r.isUndefined(i)?0:i.weight;a.setEdge(n,o,{weight:e.edge(t).weight+s})}),r.has(s,"minRank")&&a.setNode(o,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),a}},6788:(e,t,n)=>{var r=n(7160),o=n(5204),i=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},6806:(e,t,n)=>{var r=n(1516);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},6903:(e,t,n)=>{"use strict";var r=n(3536),o=n(7606);e.exports={run:function(e){e.graph().dummyChains=[],r.forEach(e.edges(),function(t){!function(e,t){var n,r,i,a=t.v,s=e.node(a).rank,u=t.w,l=e.node(u).rank,c=t.name,f=e.edge(t),d=f.labelRank;if(l===s+1)return;for(e.removeEdge(t),i=0,++s;s<l;++i,++s)f.points=[],r={width:0,height:0,edgeLabel:f,edgeObj:t,rank:s},n=o.addDummyNode(e,"edge",r,"_d"),s===d&&(r.width=f.width,r.height=f.height,r.dummy="edge-label",r.labelpos=f.labelpos),e.setEdge(a,n,{weight:f.weight},c),0===i&&e.graph().dummyChains.push(n),a=n;e.setEdge(a,u,{weight:f.weight},c)}(e,t)})},undo:function(e){r.forEach(e.graph().dummyChains,function(t){var n,r=e.node(t),o=r.edgeLabel;for(e.setEdge(r.edgeObj,o);r.dummy;)n=e.successors(t)[0],e.removeNode(t),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),t=n,r=e.node(t)})}}},6913:(e,t,n)=>{var r=n(9812),o=n(4552),i=n(6095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},6924:(e,t,n)=>{var r=n(7685),o=n(5204),i=n(5387),a=n(2070),s=n(6600),u=n(6913),l=n(6996),c="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",v=l(r),g=l(o),y=l(i),m=l(a),b=l(s),_=u;(r&&_(new r(new ArrayBuffer(1)))!=p||o&&_(new o)!=c||i&&_(i.resolve())!=f||a&&_(new a)!=d||s&&_(new s)!=h)&&(_=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case v:return p;case g:return c;case y:return f;case m:return d;case b:return h}return t}),e.exports=_},6945:(e,t,n)=>{var r=n(5750);e.exports=function(e,t,n){return function(e,t,n){var r={},o=e.nodes();return o.forEach(function(e){r[e]={},r[e][e]={distance:0},o.forEach(function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})}),n(e).forEach(function(n){var o=n.v===e?n.w:n.v,i=t(n);r[e][o]={distance:i,predecessor:e}})}),o.forEach(function(e){var t=r[e];o.forEach(function(n){var i=r[n];o.forEach(function(n){var r=i[e],o=t[n],a=i[n],s=r.distance+o.distance;s<a.distance&&(a.distance=s,a.predecessor=o.predecessor)})})}),r}(e,t||o,n||function(t){return e.outEdges(t)})};var o=r.constant(1)},6954:(e,t,n)=>{var r=n(1629),o=n(7857),i=n(6686),a=n(6996),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?d:s).test(a(e))}},6983:(e,t,n)=>{var r=n(149);e.exports=function(e,t){return r(t,function(t){return e[t]})}},6989:(e,t,n)=>{var r=n(6399),o=n(2761);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!==t&&n!==n:r(t,n,i,a,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},6998:(e,t,n)=>{"use strict";var r=n(3536),o=n(8027),i=n(1007).slack,a=n(1007).longestPath,s=n(9207).alg.preorder,u=n(9207).alg.postorder,l=n(7606).simplify;function c(e){e=l(e),a(e);var t,n=o(e);for(h(n),f(n,e);t=v(n);)y(n,e,t,g(n,e,t))}function f(e,t){var n=u(e,e.nodes());n=n.slice(0,n.length-1),r.forEach(n,function(n){!function(e,t,n){var r=e.node(n),o=r.parent;e.edge(n,o).cutvalue=d(e,t,n)}(e,t,n)})}function d(e,t,n){var o=e.node(n).parent,i=!0,a=t.edge(n,o),s=0;return a||(i=!1,a=t.edge(o,n)),s=a.weight,r.forEach(t.nodeEdges(n),function(r){var a,u,l=r.v===n,c=l?r.w:r.v;if(c!==o){var f=l===i,d=t.edge(r).weight;if(s+=f?d:-d,a=n,u=c,e.hasEdge(a,u)){var h=e.edge(n,c).cutvalue;s+=f?-h:h}}}),s}function h(e,t){arguments.length<2&&(t=e.nodes()[0]),p(e,{},1,t)}function p(e,t,n,o,i){var a=n,s=e.node(o);return t[o]=!0,r.forEach(e.neighbors(o),function(i){r.has(t,i)||(n=p(e,t,n,i,o))}),s.low=a,s.lim=n++,i?s.parent=i:delete s.parent,n}function v(e){return r.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function g(e,t,n){var o=n.v,a=n.w;t.hasEdge(o,a)||(o=n.w,a=n.v);var s=e.node(o),u=e.node(a),l=s,c=!1;s.lim>u.lim&&(l=u,c=!0);var f=r.filter(t.edges(),function(t){return c===m(e,e.node(t.v),l)&&c!==m(e,e.node(t.w),l)});return r.minBy(f,function(e){return i(t,e)})}function y(e,t,n,o){var i=n.v,a=n.w;e.removeEdge(i,a),e.setEdge(o.v,o.w,{}),h(e),f(e,t),function(e,t){var n=r.find(e.nodes(),function(e){return!t.node(e).parent}),o=s(e,n);o=o.slice(1),r.forEach(o,function(n){var r=e.node(n).parent,o=t.edge(n,r),i=!1;o||(o=t.edge(r,n),i=!0),t.node(n).rank=t.node(r).rank+(i?o.minlen:-o.minlen)})}(e,t)}function m(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=c,c.initLowLimValues=h,c.initCutValues=f,c.calcCutValue=d,c.leaveEdge=v,c.enterEdge=g,c.exchangeEdges=y},7071:(e,t,n)=>{var r=n(3536),o=n(7606);function i(e,t,n,a,s,u,l){var c=e.children(l);if(c.length){var f=o.addBorderNode(e,"_bt"),d=o.addBorderNode(e,"_bb"),h=e.node(l);e.setParent(f,l),h.borderTop=f,e.setParent(d,l),h.borderBottom=d,r.forEach(c,function(r){i(e,t,n,a,s,u,r);var o=e.node(r),c=o.borderTop?o.borderTop:r,h=o.borderBottom?o.borderBottom:r,p=o.borderTop?a:2*a,v=c!==h?1:s-u[l]+1;e.setEdge(f,c,{weight:p,minlen:v,nestingEdge:!0}),e.setEdge(h,d,{weight:p,minlen:v,nestingEdge:!0})}),e.parent(l)||e.setEdge(t,f,{weight:0,minlen:s+u[l]})}else l!==t&&e.setEdge(t,l,{weight:0,minlen:n})}e.exports={run:function(e){var t=o.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(o,i){var a=e.children(o);a&&a.length&&r.forEach(a,function(e){n(e,i+1)}),t[o]=i}return r.forEach(e.children(),function(e){n(e,1)}),t}(e),a=r.max(r.values(n))-1,s=2*a+1;e.graph().nestingRoot=t,r.forEach(e.edges(),function(t){e.edge(t).minlen*=s});var u=function(e){return r.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}(e)+1;r.forEach(e.children(),function(r){i(e,t,s,u,a,n,r)}),e.graph().nodeRankFactor=s},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,r.forEach(e.edges(),function(t){e.edge(t).nestingEdge&&e.removeEdge(t)})}}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),o=n(2777),i=n(4052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},7132:(e,t,n)=>{var r=n(5538),o=n(726),i=n(8420),a=n(1104),s=n(5119),u=n(4353),l=n(1980),c=n(8124),f=n(9075),d=n(9395),h=n(8592),p=n(6924),v=n(8268),g=n(8630),y=n(310),m=n(4052),b=n(4543),_=n(7887),w=n(6686),x=n(5921),E=n(8673),O=n(474),S="[object Arguments]",T="[object Function]",P="[object Object]",C={};C[S]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[P]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[T]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,k,A,N,j){var R,I=1&n,M=2&n,D=4&n;if(k&&(R=N?k(t,A,N,j):k(t)),void 0!==R)return R;if(!w(t))return t;var L=m(t);if(L){if(R=v(t),!I)return l(t,R)}else{var B=p(t),F=B==T||"[object GeneratorFunction]"==B;if(b(t))return u(t,I);if(B==P||B==S||F&&!N){if(R=M||F?{}:y(t),!I)return M?f(t,s(R,t)):c(t,a(R,t))}else{if(!C[B])return N?t:{};R=g(t,B,I)}}j||(j=new r);var U=j.get(t);if(U)return U;j.set(t,R),x(t)?t.forEach(function(r){R.add(e(r,n,k,r,t,j))}):_(t)&&t.forEach(function(r,o){R.set(o,e(r,n,k,o,t,j))});var z=L?void 0:(D?M?h:d:M?O:E)(t);return o(z||t,function(r,o){z&&(r=t[o=r]),i(R,o,e(r,n,k,o,t,j))}),R}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),o=n(9935),i=n(4190),a=n(1946),s=n(1714);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},7168:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+o+")"+"?",l="[\\ufe0e\\ufe0f]?",c=l+u+("(?:\\u200d(?:"+[i,a,s].join("|")+")"+l+u+")*"),f="(?:"+[i+r+"?",r,a,s,n].join("|")+")",d=RegExp(o+"(?="+o+")|"+f+c,"g");e.exports=function(e){for(var t=d.lastIndex=0;d.test(e);)++t;return t}},7171:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=[];return r(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>i(u,n))l<o&&0>i(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<o&&0>i(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,d=null,h=3,p=!1,v=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(g=!1,_(e),!v)if(null!==r(l))v=!0,R(x);else{var t=r(c);null!==t&&I(w,t.startTime-e)}}function x(e,n){v=!1,g&&(g=!1,m(T),T=-1),p=!0;var i=h;try{for(_(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!k());){var a=d.callback;if("function"===typeof a){d.callback=null,h=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(l)&&o(l),_(n)}else o(l);d=r(l)}if(null!==d)var u=!0;else{var f=r(c);null!==f&&I(w,f.startTime-n),u=!1}return u}finally{d=null,h=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,O=!1,S=null,T=-1,P=5,C=-1;function k(){return!(t.unstable_now()-C<P)}function A(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?E():(O=!1,S=null)}}else O=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,j=N.port2;N.port1.onmessage=A,E=function(){j.postMessage(null)}}else E=function(){y(A,0)};function R(e){S=e,O||(O=!0,E())}function I(e,n){T=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(c,e),null===r(l)&&e===r(c)&&(g?(m(T),T=-1):g=!0,I(w,i-a))):(e.sortIndex=s,n(l,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},7251:(e,t,n)=>{var r=n(8724),o=n(7160),i=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},7390:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var r=n(2173);function o(e,t){var n=new r.Facade(e,t);return"track"===e.type&&(n=new r.Track(e,t)),"identify"===e.type&&(n=new r.Identify(e,t)),"page"===e.type&&(n=new r.Page(e,t)),"alias"===e.type&&(n=new r.Alias(e,t)),"group"===e.type&&(n=new r.Group(e,t)),"screen"===e.type&&(n=new r.Screen(e,t)),Object.defineProperty(n,"obj",{value:e,writable:!0}),n}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},7562:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=void 0;var o=r(n(6329)),i=n(6711);function a(e,t){i.Facade.call(this,e,t)}t.Delete=a,o.default(a,i.Facade),a.prototype.type=function(){return"delete"}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7606:(e,t,n)=>{"use strict";var r=n(3536),o=n(9207).Graph;function i(e,t,n,o){var i;do{i=r.uniqueId(o)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function a(e){return r.max(r.map(e.nodes(),function(t){var n=e.node(t).rank;if(!r.isUndefined(n))return n}))}e.exports={addDummyNode:i,simplify:function(e){var t=(new o).setGraph(e.graph());return r.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),r.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})}),t},asNonCompoundGraph:function(e){var t=new o({multigraph:e.isMultigraph()}).setGraph(e.graph());return r.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),r.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t},successorWeights:function(e){var t=r.map(e.nodes(),function(t){var n={};return r.forEach(e.outEdges(t),function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight}),n});return r.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=r.map(e.nodes(),function(t){var n={};return r.forEach(e.inEdges(t),function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight}),n});return r.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,o=e.x,i=e.y,a=t.x-o,s=t.y-i,u=e.width/2,l=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*u>Math.abs(a)*l?(s<0&&(l=-l),n=l*a/s,r=l):(a<0&&(u=-u),n=u,r=u*s/a);return{x:o+n,y:i+r}},buildLayerMatrix:function(e){var t=r.map(r.range(a(e)+1),function(){return[]});return r.forEach(e.nodes(),function(n){var o=e.node(n),i=o.rank;r.isUndefined(i)||(t[i][o.order]=n)}),t},normalizeRanks:function(e){var t=r.min(r.map(e.nodes(),function(t){return e.node(t).rank}));r.forEach(e.nodes(),function(n){var o=e.node(n);r.has(o,"rank")&&(o.rank-=t)})},removeEmptyRanks:function(e){var t=r.min(r.map(e.nodes(),function(t){return e.node(t).rank})),n=[];r.forEach(e.nodes(),function(r){var o=e.node(r).rank-t;n[o]||(n[o]=[]),n[o].push(r)});var o=0,i=e.graph().nodeRankFactor;r.forEach(n,function(t,n){r.isUndefined(t)&&n%i!==0?--o:o&&r.forEach(t,function(t){e.node(t).rank+=o})})},addBorderNode:function(e,t,n,r){var o={width:0,height:0};arguments.length>=4&&(o.rank=n,o.order=r);return i(e,"border",o,t)},maxRank:a,partition:function(e,t){var n={lhs:[],rhs:[]};return r.forEach(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n},time:function(e,t){var n=r.now();try{return t()}finally{console.log(e+" time: "+(r.now()-n)+"ms")}},notime:function(e,t){return t()}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7636:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/.+\@.+\..+/;t.default=function(e){return n.test(e)}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7801:(e,t,n)=>{"use strict";function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}}n.d(t,{p:()=>r})},7828:e=>{e.exports=function(){return[]}},7842:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Group=void 0;var o=r(n(6329)),i=r(n(7636)),a=r(n(5629)),s=n(6711);function u(e,t){s.Facade.call(this,e,t)}t.Group=u,o.default(u,s.Facade);var l=u.prototype;l.action=function(){return"group"},l.type=l.action,l.groupId=s.Facade.field("groupId"),l.created=function(){var e=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(e)return a.default(e)},l.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.groupId();return i.default(t)?t:void 0},l.traits=function(e){var t=this.properties(),n=this.groupId();for(var r in e=e||{},n&&(t.id=n),e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=null==this[r]?this.proxy("traits."+r):this[r]();if(null==o)continue;t[e[r]]=o,delete t[r]}return t},l.name=s.Facade.proxy("traits.name"),l.industry=s.Facade.proxy("traits.industry"),l.employees=s.Facade.proxy("traits.employees"),l.properties=function(){return this.field("traits")||this.field("properties")||{}}},7857:(e,t,n)=>{var r=n(3440),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},7887:(e,t,n)=>{var r=n(5791),o=n(7574),i=n(6832),a=i&&i.isMap,s=a?o(a):r;e.exports=s},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),o=n(4657);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8027:(e,t,n)=>{"use strict";var r=n(3536),o=n(9207).Graph,i=n(1007).slack;function a(e,t){return r.forEach(e.nodes(),function n(o){r.forEach(t.nodeEdges(o),function(r){var a=r.v,s=o===a?r.w:a;e.hasNode(s)||i(t,r)||(e.setNode(s,{}),e.setEdge(o,s,{}),n(s))})}),e.nodeCount()}function s(e,t){return r.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return i(t,n)})}function u(e,t,n){r.forEach(e.nodes(),function(e){t.node(e).rank+=n})}e.exports=function(e){var t,n,r=new o({directed:!1}),l=e.nodes()[0],c=e.nodeCount();r.setNode(l,{});for(;a(r,e)<c;)t=s(r,e),n=r.hasNode(t.v)?i(e,t):-i(e,t),u(r,e,n);return r}},8114:e=>{e.exports=function(e,t){return e.has(t)}},8122:(e,t,n)=>{var r=n(6686),o=n(6140),i=n(3516),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},8124:(e,t,n)=>{var r=n(6614),o=n(9621);e.exports=function(e,t){return r(e,o(e),t)}},8178:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var r="npm";function o(){return r}},8182:(e,t,n)=>{var r=n(2070),o=n(5713),i=n(2074),a=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=a},8239:(e,t,n)=>{var r=n(6913),o=n(4052),i=n(2761);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==r(e)}},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},8268:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},8311:e=>{e.exports="2.1.8"},8325:(e,t,n)=>{var r=n(2541),o=n(5654),i=n(3279),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},8335:(e,t,n)=>{"use strict";var r=n(3536),o=n(9207).Graph,i=n(7606);function a(e,t){var n={};return r.reduce(t,function(t,o){var i=0,a=0,s=t.length,l=r.last(o);return r.forEach(o,function(t,c){var f=function(e,t){if(e.node(t).dummy)return r.find(e.predecessors(t),function(t){return e.node(t).dummy})}(e,t),d=f?e.node(f).order:s;(f||t===l)&&(r.forEach(o.slice(a,c+1),function(t){r.forEach(e.predecessors(t),function(r){var o=e.node(r),a=o.order;!(a<i||d<a)||o.dummy&&e.node(t).dummy||u(n,r,t)})}),a=c+1,i=d)}),o}),n}function s(e,t){var n={};if(e.nodeCount()>1e3)return n;function o(t,o,i,a,s){var l;r.forEach(r.range(o,i),function(o){l=t[o],e.node(l).dummy&&r.forEach(e.predecessors(l),function(t){var r=e.node(t);r.dummy&&(r.order<a||r.order>s)&&u(n,t,l)})})}return r.reduce(t,function(t,n){var i,a=-1,s=0;return r.forEach(n,function(r,u){if("border"===e.node(r).dummy){var l=e.predecessors(r);l.length&&(i=e.node(l[0]).order,o(n,s,u,a,i),s=u,a=i)}o(n,s,n.length,i,t.length)}),n}),n}function u(e,t,n){if(t>n){var r=t;t=n,n=r}var o=e[t];o||(e[t]=o={}),o[n]=!0}function l(e,t,n){if(t>n){var o=t;t=n,n=o}return r.has(e[t],n)}function c(e,t,n,o){var i={},a={},s={};return r.forEach(t,function(e){r.forEach(e,function(e,t){i[e]=e,a[e]=e,s[e]=t})}),r.forEach(t,function(e){var t=-1;r.forEach(e,function(e){var u=o(e);if(u.length){u=r.sortBy(u,function(e){return s[e]});for(var c=(u.length-1)/2,f=Math.floor(c),d=Math.ceil(c);f<=d;++f){var h=u[f];a[e]===e&&t<s[h]&&!l(n,e,h)&&(a[h]=e,a[e]=i[e]=i[h],t=s[h])}}})}),{root:i,align:a}}function f(e,t,n,i,a){var s={},u=function(e,t,n,i){var a=new o,s=e.graph(),u=function(e,t,n){return function(o,i,a){var s,u=o.node(i),l=o.node(a),c=0;if(c+=u.width/2,r.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":s=-u.width/2;break;case"r":s=u.width/2}if(s&&(c+=n?s:-s),s=0,c+=(u.dummy?t:e)/2,c+=(l.dummy?t:e)/2,c+=l.width/2,r.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":s=l.width/2;break;case"r":s=-l.width/2}return s&&(c+=n?s:-s),s=0,c}}(s.nodesep,s.edgesep,i);return r.forEach(t,function(t){var o;r.forEach(t,function(t){var r=n[t];if(a.setNode(r),o){var i=n[o],s=a.edge(i,r);a.setEdge(i,r,Math.max(u(e,t,o),s||0))}o=t})}),a}(e,t,n,a),l=a?"borderLeft":"borderRight";function c(e,t){for(var n=u.nodes(),r=n.pop(),o={};r;)o[r]?e(r):(o[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return c(function(e){s[e]=u.inEdges(e).reduce(function(e,t){return Math.max(e,s[t.v]+u.edge(t))},0)},u.predecessors.bind(u)),c(function(t){var n=u.outEdges(t).reduce(function(e,t){return Math.min(e,s[t.w]-u.edge(t))},Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==l&&(s[t]=Math.max(s[t],n))},u.successors.bind(u)),r.forEach(i,function(e){s[e]=s[n[e]]}),s}function d(e,t){return r.minBy(r.values(t),function(t){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return r.forIn(t,function(t,r){var i=function(e,t){return e.node(t).width}(e,r)/2;n=Math.max(t+i,n),o=Math.min(t-i,o)}),n-o})}function h(e,t){var n=r.values(t),o=r.min(n),i=r.max(n);r.forEach(["u","d"],function(n){r.forEach(["l","r"],function(a){var s,u=n+a,l=e[u];if(l!==t){var c=r.values(l);(s="l"===a?o-r.min(c):i-r.max(c))&&(e[u]=r.mapValues(l,function(e){return e+s}))}})})}function p(e,t){return r.mapValues(e.ul,function(n,o){if(t)return e[t.toLowerCase()][o];var i=r.sortBy(r.map(e,o));return(i[1]+i[2])/2})}e.exports={positionX:function(e){var t,n=i.buildLayerMatrix(e),o=r.merge(a(e,n),s(e,n)),u={};r.forEach(["u","d"],function(i){t="u"===i?n:r.values(n).reverse(),r.forEach(["l","r"],function(n){"r"===n&&(t=r.map(t,function(e){return r.values(e).reverse()}));var a=("u"===i?e.predecessors:e.successors).bind(e),s=c(e,t,o,a),l=f(e,t,s.root,s.align,"r"===n);"r"===n&&(l=r.mapValues(l,function(e){return-e})),u[i+n]=l})});var l=d(e,u);return h(u,l),p(u,e.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:u,hasConflict:l,verticalAlignment:c,horizontalCompaction:f,alignCoordinates:h,findSmallestWidthAlignment:d,balance:p}},8353:(e,t,n)=>{var r=n(5750);function o(e){var t={},n={},o=[];if(r.each(e.sinks(),function a(s){if(r.has(n,s))throw new i;r.has(t,s)||(n[s]=!0,t[s]=!0,r.each(e.predecessors(s),a),delete n[s],o.push(s))}),r.size(t)!==e.nodeCount())throw new i;return o}function i(){}e.exports=o,o.CycleException=i,i.prototype=new Error},8420:(e,t,n)=>{var r=n(1775),o=n(3211),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},8460:e=>{var t=function(){};t.prototype={fit:function(e){var t,n,r,o,i=e.length,a=i>0?e[0].width:0,s=i>0?e[0].height:0;for(this.root={x:0,y:0,width:a,height:s},t=0;t<i;t++)r=e[t],(n=this.findNode(this.root,r.width,r.height))?(o=this.splitNode(n,r.width,r.height),r.x=o.x,r.y=o.y):(o=this.growNode(r.width,r.height),r.x=o.x,r.y=o.y)},findNode:function(e,t,n){return e.used?this.findNode(e.right,t,n)||this.findNode(e.down,t,n):t<=e.width&&n<=e.height?e:null},splitNode:function(e,t,n){return e.used=!0,e.down={x:e.x,y:e.y+n,width:e.width,height:e.height-n},e.right={x:e.x+t,y:e.y,width:e.width-t,height:n},e},growNode:function(e,t){var n=e<=this.root.width,r=t<=this.root.height,o=r&&this.root.height>=this.root.width+e,i=n&&this.root.width>=this.root.height+t;return o?this.growRight(e,t):i?this.growDown(e,t):r?this.growRight(e,t):n?this.growDown(e,t):null},growRight:function(e,t){var n;return this.root={used:!0,x:0,y:0,width:this.root.width+e,height:this.root.height,down:this.root,right:{x:this.root.width,y:0,width:e,height:this.root.height}},(n=this.findNode(this.root,e,t))?this.splitNode(n,e,t):null},growDown:function(e,t){var n;return this.root={used:!0,x:0,y:0,width:this.root.width,height:this.root.height+t,down:{x:0,y:this.root.height,width:this.root.width,height:t},right:this.root},(n=this.findNode(this.root,e,t))?this.splitNode(n,e,t):null}},e.exports=t},8468:(e,t,n)=>{var r=n(5816),o=n(644),i=n(4020);e.exports=function(e,t,n){return t===t?i(e,t,n):r(e,o,n)}},8500:(e,t,n)=>{"use strict";var r=n(3536);function o(e){r.forEach(e.nodes(),function(t){i(e.node(t))}),r.forEach(e.edges(),function(t){i(e.edge(t))})}function i(e){var t=e.width;e.width=e.height,e.height=t}function a(e){e.y=-e.y}function s(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||o(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){r.forEach(e.nodes(),function(t){a(e.node(t))}),r.forEach(e.edges(),function(t){var n=e.edge(t);r.forEach(n.points,a),r.has(n,"y")&&a(n)})}(e);"lr"!==t&&"rl"!==t||(!function(e){r.forEach(e.nodes(),function(t){s(e.node(t))}),r.forEach(e.edges(),function(t){var n=e.edge(t);r.forEach(n.points,s),r.has(n,"x")&&s(n)})}(e),o(e))}}},8541:(e,t,n)=>{var r=n(9812),o=n(149),i=n(4052),a=n(9841),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8582:(e,t,n)=>{e.exports={components:n(5992),dijkstra:n(5822),dijkstraAll:n(8976),findCycles:n(247),floydWarshall:n(6945),isAcyclic:n(9825),postorder:n(1896),preorder:n(127),prim:n(6368),tarjan:n(8808),topsort:n(8353)}},8584:(e,t,n)=>{"use strict";function r(e,t){var n=t.methodName,r=t.integrationName,o=t.type,i=t.didError,a=void 0!==i&&i;e.stats.increment("analytics_js.integration.invoke".concat(a?".error":""),1,["method:".concat(n),"integration_name:".concat(r),"type:".concat(o)])}n.d(t,{y:()=>r})},8592:(e,t,n)=>{var r=n(4262),o=n(6326),i=n(474);e.exports=function(e){return r(e,i,o)}},8599:(e,t)=>{"use strict";var n=/\d{13}/;t.is=function(e){return n.test(e)},t.parse=function(e){return e=parseInt(e,10),new Date(e)}},8630:(e,t,n)=>{var r=n(1516),o=n(6806),i=n(8962),a=n(1295),s=n(8710);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},8637:(e,t,n)=>{"use strict";var r=n(3536);function o(e,t,n){for(var o=r.zipObject(n,r.map(n,function(e,t){return t})),i=r.flatten(r.map(t,function(t){return r.sortBy(r.map(e.outEdges(t),function(t){return{pos:o[t.w],weight:e.edge(t).weight}}),"pos")}),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var u=r.map(new Array(s),function(){return 0}),l=0;return r.forEach(i.forEach(function(e){var t=e.pos+a;u[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=u[t+1]),u[t=t-1>>1]+=e.weight;l+=e.weight*n})),l}e.exports=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=o(e,t[r-1],t[r]);return n}},8673:(e,t,n)=>{var r=n(3204),o=n(3713),i=n(6571);e.exports=function(e){return i(e)?r(e):o(e)}},8710:(e,t,n)=>{var r=n(1516);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},8718:(e,t,n)=>{"use strict";function r(e){return"string"===typeof e}function o(e){return"number"===typeof e}function i(e){return"function"===typeof e}function a(e){return void 0!==e&&null!==e}function s(e){return"object"===Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}n.d(t,{Et:()=>o,Kg:()=>r,Qd:()=>s,Tn:()=>i,t2:()=>a})},8724:(e,t,n)=>{var r=n(7615),o=n(5051),i=n(2154),a=n(8734),s=n(2662);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},8734:(e,t,n)=>{var r=n(5575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},8804:e=>{function t(e){return function(t,n,r,i){var a,s=i&&function(e){return"function"===typeof e}(i.normalizer)?i.normalizer:o;n=s(n);for(var u=!1;!u;)l();function l(){for(a in t){var e=s(a);if(0===n.indexOf(e)){var r=n.substr(e.length);if("."===r.charAt(0)||0===r.length){n=r.substr(1);var o=t[a];return null==o?void(u=!0):n.length?void(t=o):void(u=!0)}}}a=void 0,u=!0}if(a)return null==t?t:e(t,a,r)}}function n(e,t){return e.hasOwnProperty(t)&&delete e[t],e}function r(e,t,n){return e.hasOwnProperty(t)&&(e[t]=n),e}function o(e){return e.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}e.exports=t(function(e,t){if(e.hasOwnProperty(t))return e[t]}),e.exports.find=e.exports,e.exports.replace=function(e,n,o,i){return t(r).call(this,e,n,o,i),e},e.exports.del=function(e,r,o){return t(n).call(this,e,r,null,o),e}},8808:(e,t,n)=>{var r=n(5750);e.exports=function(e){var t=0,n=[],o={},i=[];function a(s){var u=o[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach(function(e){r.has(o,e)?o[e].onStack&&(u.lowlink=Math.min(u.lowlink,o[e].index)):(a(e),u.lowlink=Math.min(u.lowlink,o[e].lowlink))}),u.lowlink===u.index){var l,c=[];do{l=n.pop(),o[l].onStack=!1,c.push(l)}while(s!==l);i.push(c)}}return e.nodes().forEach(function(e){r.has(o,e)||a(e)}),i}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),o=n(6571);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,function(e,r,o){i[++n]=t(e,r,o)}),i}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),o=n(6179),i=n(6704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},8962:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},8976:(e,t,n)=>{var r=n(5822),o=n(5750);e.exports=function(e,t,n){return o.transform(e.nodes(),function(o,i){o[i]=r(e,i,t,n)},{})}},9057:(e,t,n)=>{var r=n(5324),o=n(2777),i=n(4052),a=n(9194),s=n(6173),u=n(914);e.exports=function(e,t,n){for(var l=-1,c=(t=r(t,e)).length,f=!1;++l<c;){var d=u(t[l]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++l!=c?f:!!(c=null==e?0:e.length)&&s(c)&&a(d,c)&&(i(e)||o(e))}},9061:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Alias=void 0;var o=r(n(6329)),i=n(6711);function a(e,t){i.Facade.call(this,e,t)}t.Alias=a,o.default(a,i.Facade),a.prototype.action=function(){return"alias"},a.prototype.type=a.prototype.action,a.prototype.previousId=function(){return this.field("previousId")||this.field("from")},a.prototype.from=a.prototype.previousId,a.prototype.userId=function(){return this.field("userId")||this.field("to")},a.prototype.to=a.prototype.userId},9075:(e,t,n)=>{var r=n(6614),o=n(6326);e.exports=function(e,t){return r(e,o(e),t)}},9096:(e,t,n)=>{var r=n(9256),o=n(5029),i=n(3279),a=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},9165:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Identify=void 0;var o=n(6711),i=r(n(8804)),a=r(n(6329)),s=r(n(7636)),u=r(n(5629)),l=function(e){return e.trim()};function c(e,t){o.Facade.call(this,e,t)}t.Identify=c,a.default(c,o.Facade);var f=c.prototype;f.action=function(){return"identify"},f.type=f.action,f.traits=function(e){var t=this.field("traits")||{},n=this.userId();for(var r in e=e||{},n&&(t.id=n),e){var o=null==this[r]?this.proxy("traits."+r):this[r]();null!=o&&(t[e[r]]=o,r!==e[r]&&delete t[r])}return t},f.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.userId();return s.default(t)?t:void 0},f.created=function(){var e=this.proxy("traits.created")||this.proxy("traits.createdAt");if(e)return u.default(e)},f.companyCreated=function(){var e=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(e)return u.default(e)},f.companyName=function(){return this.proxy("traits.company.name")},f.name=function(){var e=this.proxy("traits.name");if("string"===typeof e)return l(e);var t=this.firstName(),n=this.lastName();return t&&n?l(t+" "+n):void 0},f.firstName=function(){var e=this.proxy("traits.firstName");if("string"===typeof e)return l(e);var t=this.proxy("traits.name");return"string"===typeof t?l(t).split(" ")[0]:void 0},f.lastName=function(){var e=this.proxy("traits.lastName");if("string"===typeof e)return l(e);var t=this.proxy("traits.name");if("string"===typeof t){var n=l(t).indexOf(" ");if(-1!==n)return l(t.substr(n+1))}},f.uid=function(){return this.userId()||this.username()||this.email()},f.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},f.age=function(){var e=this.birthday(),t=i.default(this.traits(),"age");return null!=t?t:e instanceof Date?(new Date).getFullYear()-e.getFullYear():void 0},f.avatar=function(){var e=this.traits();return i.default(e,"avatar")||i.default(e,"photoUrl")||i.default(e,"avatarUrl")},f.position=function(){var e=this.traits();return i.default(e,"position")||i.default(e,"jobTitle")},f.username=o.Facade.proxy("traits.username"),f.website=o.Facade.one("traits.website"),f.websites=o.Facade.multi("traits.website"),f.phone=o.Facade.one("traits.phone"),f.phones=o.Facade.multi("traits.phone"),f.address=o.Facade.proxy("traits.address"),f.gender=o.Facade.proxy("traits.gender"),f.birthday=o.Facade.proxy("traits.birthday")},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9207:(e,t,n)=>{var r=n(9383);e.exports={Graph:r.Graph,json:n(1097),alg:n(8582),version:r.version}},9256:(e,t,n)=>{var r=n(6532),o=n(3781),i=n(1310);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9324:(e,t,n)=>{"use strict";function r(){return"undefined"!==typeof window}function o(){return!r()}n.d(t,{B:()=>r,S:()=>o})},9383:(e,t,n)=>{e.exports={Graph:n(191),version:n(8311)}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),o=n(9621),i=n(8673);e.exports=function(e){return r(e,i,o)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9421:e=>{e.exports=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}},9557:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Screen=void 0;var o=r(n(6329)),i=n(5678),a=n(742);function s(e,t){i.Page.call(this,e,t)}t.Screen=s,o.default(s,i.Page),s.prototype.action=function(){return"screen"},s.prototype.type=s.prototype.action,s.prototype.event=function(e){return e?"Viewed "+e+" Screen":"Loaded a Screen"},s.prototype.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new a.Track(t,this.opts)}},9612:function(e){var t;t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=26)}([function(e,t,n){"use strict";function r(){}r.QUALITY=1,r.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,r.DEFAULT_INCREMENTAL=!1,r.DEFAULT_ANIMATION_ON_LAYOUT=!0,r.DEFAULT_ANIMATION_DURING_LAYOUT=!1,r.DEFAULT_ANIMATION_PERIOD=50,r.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,r.DEFAULT_GRAPH_MARGIN=15,r.NODE_DIMENSIONS_INCLUDE_LABELS=!1,r.SIMPLE_NODE_SIZE=40,r.SIMPLE_NODE_HALF_SIZE=r.SIMPLE_NODE_SIZE/2,r.EMPTY_COMPOUND_NODE_SIZE=40,r.MIN_EDGE_LENGTH=1,r.WORLD_BOUNDARY=1e6,r.INITIAL_WORLD_BOUNDARY=r.WORLD_BOUNDARY/1e3,r.WORLD_CENTER_X=1200,r.WORLD_CENTER_Y=900,e.exports=r},function(e,t,n){"use strict";var r=n(2),o=n(8),i=n(9);function a(e,t,n){r.call(this,n),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=n,this.bendpoints=[],this.source=e,this.target=t}for(var s in a.prototype=Object.create(r.prototype),r)a[s]=r[s];a.prototype.getSource=function(){return this.source},a.prototype.getTarget=function(){return this.target},a.prototype.isInterGraph=function(){return this.isInterGraph},a.prototype.getLength=function(){return this.length},a.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},a.prototype.getBendpoints=function(){return this.bendpoints},a.prototype.getLca=function(){return this.lca},a.prototype.getSourceInLca=function(){return this.sourceInLca},a.prototype.getTargetInLca=function(){return this.targetInLca},a.prototype.getOtherEnd=function(e){if(this.source===e)return this.target;if(this.target===e)return this.source;throw"Node is not incident with this edge"},a.prototype.getOtherEndInGraph=function(e,t){for(var n=this.getOtherEnd(e),r=t.getGraphManager().getRoot();;){if(n.getOwner()==t)return n;if(n.getOwner()==r)break;n=n.getOwner().getParent()}return null},a.prototype.updateLength=function(){var e=new Array(4);this.isOverlapingSourceAndTarget=o.getIntersection(this.target.getRect(),this.source.getRect(),e),this.isOverlapingSourceAndTarget||(this.lengthX=e[0]-e[2],this.lengthY=e[1]-e[3],Math.abs(this.lengthX)<1&&(this.lengthX=i.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=i.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},a.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=i.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=i.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},e.exports=a},function(e,t,n){"use strict";e.exports=function(e){this.vGraphObject=e}},function(e,t,n){"use strict";var r=n(2),o=n(10),i=n(13),a=n(0),s=n(16),u=n(4);function l(e,t,n,a){null==n&&null==a&&(a=t),r.call(this,a),null!=e.graphManager&&(e=e.graphManager),this.estimatedSize=o.MIN_VALUE,this.inclusionTreeDepth=o.MAX_VALUE,this.vGraphObject=a,this.edges=[],this.graphManager=e,this.rect=null!=n&&null!=t?new i(t.x,t.y,n.width,n.height):new i}for(var c in l.prototype=Object.create(r.prototype),r)l[c]=r[c];l.prototype.getEdges=function(){return this.edges},l.prototype.getChild=function(){return this.child},l.prototype.getOwner=function(){return this.owner},l.prototype.getWidth=function(){return this.rect.width},l.prototype.setWidth=function(e){this.rect.width=e},l.prototype.getHeight=function(){return this.rect.height},l.prototype.setHeight=function(e){this.rect.height=e},l.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},l.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},l.prototype.getCenter=function(){return new u(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},l.prototype.getLocation=function(){return new u(this.rect.x,this.rect.y)},l.prototype.getRect=function(){return this.rect},l.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},l.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},l.prototype.setRect=function(e,t){this.rect.x=e.x,this.rect.y=e.y,this.rect.width=t.width,this.rect.height=t.height},l.prototype.setCenter=function(e,t){this.rect.x=e-this.rect.width/2,this.rect.y=t-this.rect.height/2},l.prototype.setLocation=function(e,t){this.rect.x=e,this.rect.y=t},l.prototype.moveBy=function(e,t){this.rect.x+=e,this.rect.y+=t},l.prototype.getEdgeListToNode=function(e){var t=[],n=this;return n.edges.forEach(function(r){if(r.target==e){if(r.source!=n)throw"Incorrect edge source!";t.push(r)}}),t},l.prototype.getEdgesBetween=function(e){var t=[],n=this;return n.edges.forEach(function(r){if(r.source!=n&&r.target!=n)throw"Incorrect edge source and/or target";r.target!=e&&r.source!=e||t.push(r)}),t},l.prototype.getNeighborsList=function(){var e=new Set,t=this;return t.edges.forEach(function(n){if(n.source==t)e.add(n.target);else{if(n.target!=t)throw"Incorrect incidency!";e.add(n.source)}}),e},l.prototype.withChildren=function(){var e=new Set;if(e.add(this),null!=this.child)for(var t=this.child.getNodes(),n=0;n<t.length;n++)t[n].withChildren().forEach(function(t){e.add(t)});return e},l.prototype.getNoOfChildren=function(){var e=0;if(null==this.child)e=1;else for(var t=this.child.getNodes(),n=0;n<t.length;n++)e+=t[n].getNoOfChildren();return 0==e&&(e=1),e},l.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},l.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},l.prototype.scatter=function(){var e,t,n=-a.INITIAL_WORLD_BOUNDARY,r=a.INITIAL_WORLD_BOUNDARY;e=a.WORLD_CENTER_X+s.nextDouble()*(r-n)+n;var o=-a.INITIAL_WORLD_BOUNDARY,i=a.INITIAL_WORLD_BOUNDARY;t=a.WORLD_CENTER_Y+s.nextDouble()*(i-o)+o,this.rect.x=e,this.rect.y=t},l.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var e=this.getChild();if(e.updateBounds(!0),this.rect.x=e.getLeft(),this.rect.y=e.getTop(),this.setWidth(e.getRight()-e.getLeft()),this.setHeight(e.getBottom()-e.getTop()),a.NODE_DIMENSIONS_INCLUDE_LABELS){var t=e.getRight()-e.getLeft(),n=e.getBottom()-e.getTop();this.labelWidth>t&&(this.rect.x-=(this.labelWidth-t)/2,this.setWidth(this.labelWidth)),this.labelHeight>n&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-n)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-n),this.setHeight(this.labelHeight))}}},l.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==o.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},l.prototype.transform=function(e){var t=this.rect.x;t>a.WORLD_BOUNDARY?t=a.WORLD_BOUNDARY:t<-a.WORLD_BOUNDARY&&(t=-a.WORLD_BOUNDARY);var n=this.rect.y;n>a.WORLD_BOUNDARY?n=a.WORLD_BOUNDARY:n<-a.WORLD_BOUNDARY&&(n=-a.WORLD_BOUNDARY);var r=new u(t,n),o=e.inverseTransformPoint(r);this.setLocation(o.x,o.y)},l.prototype.getLeft=function(){return this.rect.x},l.prototype.getRight=function(){return this.rect.x+this.rect.width},l.prototype.getTop=function(){return this.rect.y},l.prototype.getBottom=function(){return this.rect.y+this.rect.height},l.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},e.exports=l},function(e,t,n){"use strict";function r(e,t){null==e&&null==t?(this.x=0,this.y=0):(this.x=e,this.y=t)}r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.setX=function(e){this.x=e},r.prototype.setY=function(e){this.y=e},r.prototype.getDifference=function(e){return new DimensionD(this.x-e.x,this.y-e.y)},r.prototype.getCopy=function(){return new r(this.x,this.y)},r.prototype.translate=function(e){return this.x+=e.width,this.y+=e.height,this},e.exports=r},function(e,t,n){"use strict";var r=n(2),o=n(10),i=n(0),a=n(6),s=n(3),u=n(1),l=n(13),c=n(12),f=n(11);function d(e,t,n){r.call(this,n),this.estimatedSize=o.MIN_VALUE,this.margin=i.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=e,null!=t&&t instanceof a?this.graphManager=t:null!=t&&t instanceof Layout&&(this.graphManager=t.graphManager)}for(var h in d.prototype=Object.create(r.prototype),r)d[h]=r[h];d.prototype.getNodes=function(){return this.nodes},d.prototype.getEdges=function(){return this.edges},d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getParent=function(){return this.parent},d.prototype.getLeft=function(){return this.left},d.prototype.getRight=function(){return this.right},d.prototype.getTop=function(){return this.top},d.prototype.getBottom=function(){return this.bottom},d.prototype.isConnected=function(){return this.isConnected},d.prototype.add=function(e,t,n){if(null==t&&null==n){var r=e;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(r)>-1)throw"Node already in graph!";return r.owner=this,this.getNodes().push(r),r}var o=e;if(!(this.getNodes().indexOf(t)>-1&&this.getNodes().indexOf(n)>-1))throw"Source or target not in graph!";if(t.owner!=n.owner||t.owner!=this)throw"Both owners must be this graph!";return t.owner!=n.owner?null:(o.source=t,o.target=n,o.isInterGraph=!1,this.getEdges().push(o),t.edges.push(o),n!=t&&n.edges.push(o),o)},d.prototype.remove=function(e){var t=e;if(e instanceof s){if(null==t)throw"Node is null!";if(null==t.owner||t.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var n=t.edges.slice(),r=n.length,o=0;o<r;o++)(i=n[o]).isInterGraph?this.graphManager.remove(i):i.source.owner.remove(i);if(-1==(a=this.nodes.indexOf(t)))throw"Node not in owner node list!";this.nodes.splice(a,1)}else if(e instanceof u){var i;if(null==(i=e))throw"Edge is null!";if(null==i.source||null==i.target)throw"Source and/or target is null!";if(null==i.source.owner||null==i.target.owner||i.source.owner!=this||i.target.owner!=this)throw"Source and/or target owner is invalid!";var a,l=i.source.edges.indexOf(i),c=i.target.edges.indexOf(i);if(!(l>-1&&c>-1))throw"Source and/or target doesn't know this edge!";if(i.source.edges.splice(l,1),i.target!=i.source&&i.target.edges.splice(c,1),-1==(a=i.source.owner.getEdges().indexOf(i)))throw"Not in owner's edge list!";i.source.owner.getEdges().splice(a,1)}},d.prototype.updateLeftTop=function(){for(var e,t,n,r=o.MAX_VALUE,i=o.MAX_VALUE,a=this.getNodes(),s=a.length,u=0;u<s;u++){var l=a[u];r>(e=l.getTop())&&(r=e),i>(t=l.getLeft())&&(i=t)}return r==o.MAX_VALUE?null:(n=void 0!=a[0].getParent().paddingLeft?a[0].getParent().paddingLeft:this.margin,this.left=i-n,this.top=r-n,new c(this.left,this.top))},d.prototype.updateBounds=function(e){for(var t,n,r,i,a,s=o.MAX_VALUE,u=-o.MAX_VALUE,c=o.MAX_VALUE,f=-o.MAX_VALUE,d=this.nodes,h=d.length,p=0;p<h;p++){var v=d[p];e&&null!=v.child&&v.updateBounds(),s>(t=v.getLeft())&&(s=t),u<(n=v.getRight())&&(u=n),c>(r=v.getTop())&&(c=r),f<(i=v.getBottom())&&(f=i)}var g=new l(s,c,u-s,f-c);s==o.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),a=void 0!=d[0].getParent().paddingLeft?d[0].getParent().paddingLeft:this.margin,this.left=g.x-a,this.right=g.x+g.width+a,this.top=g.y-a,this.bottom=g.y+g.height+a},d.calculateBounds=function(e){for(var t,n,r,i,a=o.MAX_VALUE,s=-o.MAX_VALUE,u=o.MAX_VALUE,c=-o.MAX_VALUE,f=e.length,d=0;d<f;d++){var h=e[d];a>(t=h.getLeft())&&(a=t),s<(n=h.getRight())&&(s=n),u>(r=h.getTop())&&(u=r),c<(i=h.getBottom())&&(c=i)}return new l(a,u,s-a,c-u)},d.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){for(var e=0,t=this.nodes,n=t.length,r=0;r<n;r++)e+=t[r].calcEstimatedSize();return this.estimatedSize=0==e?i.EMPTY_COMPOUND_NODE_SIZE:e/Math.sqrt(this.nodes.length),this.estimatedSize},d.prototype.updateConnected=function(){var e=this;if(0!=this.nodes.length){var t,n,r=new f,o=new Set,i=this.nodes[0];for(i.withChildren().forEach(function(e){r.push(e),o.add(e)});0!==r.length;)for(var a=(t=(i=r.shift()).getEdges()).length,s=0;s<a;s++)null==(n=t[s].getOtherEndInGraph(i,this))||o.has(n)||n.withChildren().forEach(function(e){r.push(e),o.add(e)});if(this.isConnected=!1,o.size>=this.nodes.length){var u=0;o.forEach(function(t){t.owner==e&&u++}),u==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},e.exports=d},function(e,t,n){"use strict";var r,o=n(1);function i(e){r=n(5),this.layout=e,this.graphs=[],this.edges=[]}i.prototype.addRoot=function(){var e=this.layout.newGraph(),t=this.layout.newNode(null),n=this.add(e,t);return this.setRootGraph(n),this.rootGraph},i.prototype.add=function(e,t,n,r,o){if(null==n&&null==r&&null==o){if(null==e)throw"Graph is null!";if(null==t)throw"Parent node is null!";if(this.graphs.indexOf(e)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(e),null!=e.parent)throw"Already has a parent!";if(null!=t.child)throw"Already has a child!";return e.parent=t,t.child=e,e}o=n,n=e;var i=(r=t).getOwner(),a=o.getOwner();if(null==i||i.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==a||a.getGraphManager()!=this)throw"Target not in this graph mgr!";if(i==a)return n.isInterGraph=!1,i.add(n,r,o);if(n.isInterGraph=!0,n.source=r,n.target=o,this.edges.indexOf(n)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(n),null==n.source||null==n.target)throw"Edge source and/or target is null!";if(-1!=n.source.edges.indexOf(n)||-1!=n.target.edges.indexOf(n))throw"Edge already in source and/or target incidency list!";return n.source.edges.push(n),n.target.edges.push(n),n},i.prototype.remove=function(e){if(e instanceof r){var t=e;if(t.getGraphManager()!=this)throw"Graph not in this graph mgr";if(t!=this.rootGraph&&(null==t.parent||t.parent.graphManager!=this))throw"Invalid parent node!";for(var n,i=[],a=(i=i.concat(t.getEdges())).length,s=0;s<a;s++)n=i[s],t.remove(n);var u,l=[];for(a=(l=l.concat(t.getNodes())).length,s=0;s<a;s++)u=l[s],t.remove(u);t==this.rootGraph&&this.setRootGraph(null);var c=this.graphs.indexOf(t);this.graphs.splice(c,1),t.parent=null}else if(e instanceof o){if(null==(n=e))throw"Edge is null!";if(!n.isInterGraph)throw"Not an inter-graph edge!";if(null==n.source||null==n.target)throw"Source and/or target is null!";if(-1==n.source.edges.indexOf(n)||-1==n.target.edges.indexOf(n))throw"Source and/or target doesn't know this edge!";if(c=n.source.edges.indexOf(n),n.source.edges.splice(c,1),c=n.target.edges.indexOf(n),n.target.edges.splice(c,1),null==n.source.owner||null==n.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==n.source.owner.getGraphManager().edges.indexOf(n))throw"Not in owner graph manager's edge list!";c=n.source.owner.getGraphManager().edges.indexOf(n),n.source.owner.getGraphManager().edges.splice(c,1)}},i.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},i.prototype.getGraphs=function(){return this.graphs},i.prototype.getAllNodes=function(){if(null==this.allNodes){for(var e=[],t=this.getGraphs(),n=t.length,r=0;r<n;r++)e=e.concat(t[r].getNodes());this.allNodes=e}return this.allNodes},i.prototype.resetAllNodes=function(){this.allNodes=null},i.prototype.resetAllEdges=function(){this.allEdges=null},i.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},i.prototype.getAllEdges=function(){if(null==this.allEdges){for(var e=[],t=this.getGraphs(),n=(t.length,0);n<t.length;n++)e=e.concat(t[n].getEdges());e=e.concat(this.edges),this.allEdges=e}return this.allEdges},i.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},i.prototype.setAllNodesToApplyGravitation=function(e){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=e},i.prototype.getRoot=function(){return this.rootGraph},i.prototype.setRootGraph=function(e){if(e.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=e,null==e.parent&&(e.parent=this.layout.newNode("Root node"))},i.prototype.getLayout=function(){return this.layout},i.prototype.isOneAncestorOfOther=function(e,t){if(null==e||null==t)throw"assert failed";if(e==t)return!0;for(var n,r=e.getOwner();null!=(n=r.getParent());){if(n==t)return!0;if(null==(r=n.getOwner()))break}for(r=t.getOwner();null!=(n=r.getParent());){if(n==e)return!0;if(null==(r=n.getOwner()))break}return!1},i.prototype.calcLowestCommonAncestors=function(){for(var e,t,n,r,o,i=this.getAllEdges(),a=i.length,s=0;s<a;s++)if(t=(e=i[s]).source,n=e.target,e.lca=null,e.sourceInLca=t,e.targetInLca=n,t!=n){for(r=t.getOwner();null==e.lca;){for(e.targetInLca=n,o=n.getOwner();null==e.lca;){if(o==r){e.lca=o;break}if(o==this.rootGraph)break;if(null!=e.lca)throw"assert failed";e.targetInLca=o.getParent(),o=e.targetInLca.getOwner()}if(r==this.rootGraph)break;null==e.lca&&(e.sourceInLca=r.getParent(),r=e.sourceInLca.getOwner())}if(null==e.lca)throw"assert failed"}else e.lca=t.getOwner()},i.prototype.calcLowestCommonAncestor=function(e,t){if(e==t)return e.getOwner();for(var n=e.getOwner();null!=n;){for(var r=t.getOwner();null!=r;){if(r==n)return r;r=r.getParent().getOwner()}n=n.getParent().getOwner()}return n},i.prototype.calcInclusionTreeDepths=function(e,t){var n;null==e&&null==t&&(e=this.rootGraph,t=1);for(var r=e.getNodes(),o=r.length,i=0;i<o;i++)(n=r[i]).inclusionTreeDepth=t,null!=n.child&&this.calcInclusionTreeDepths(n.child,t+1)},i.prototype.includesInvalidEdge=function(){for(var e,t=this.edges.length,n=0;n<t;n++)if(e=this.edges[n],this.isOneAncestorOfOther(e.source,e.target))return!0;return!1},e.exports=i},function(e,t,n){"use strict";var r=n(0);function o(){}for(var i in r)o[i]=r[i];o.MAX_ITERATIONS=2500,o.DEFAULT_EDGE_LENGTH=50,o.DEFAULT_SPRING_STRENGTH=.45,o.DEFAULT_REPULSION_STRENGTH=4500,o.DEFAULT_GRAVITY_STRENGTH=.4,o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,o.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,o.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,o.COOLING_ADAPTATION_FACTOR=.33,o.ADAPTATION_LOWER_NODE_LIMIT=1e3,o.ADAPTATION_UPPER_NODE_LIMIT=5e3,o.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,o.MAX_NODE_DISPLACEMENT=3*o.MAX_NODE_DISPLACEMENT_INCREMENTAL,o.MIN_REPULSION_DIST=o.DEFAULT_EDGE_LENGTH/10,o.CONVERGENCE_CHECK_PERIOD=100,o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,o.MIN_EDGE_LENGTH=1,o.GRID_CALCULATION_CHECK_PERIOD=10,e.exports=o},function(e,t,n){"use strict";var r=n(12);function o(){}o.calcSeparationAmount=function(e,t,n,r){if(!e.intersects(t))throw"assert failed";var o=new Array(2);this.decideDirectionsForOverlappingNodes(e,t,o),n[0]=Math.min(e.getRight(),t.getRight())-Math.max(e.x,t.x),n[1]=Math.min(e.getBottom(),t.getBottom())-Math.max(e.y,t.y),e.getX()<=t.getX()&&e.getRight()>=t.getRight()?n[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight()):t.getX()<=e.getX()&&t.getRight()>=e.getRight()&&(n[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight())),e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()?n[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()):t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()&&(n[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()));var i=Math.abs((t.getCenterY()-e.getCenterY())/(t.getCenterX()-e.getCenterX()));t.getCenterY()===e.getCenterY()&&t.getCenterX()===e.getCenterX()&&(i=1);var a=i*n[0],s=n[1]/i;n[0]<s?s=n[0]:a=n[1],n[0]=-1*o[0]*(s/2+r),n[1]=-1*o[1]*(a/2+r)},o.decideDirectionsForOverlappingNodes=function(e,t,n){e.getCenterX()<t.getCenterX()?n[0]=-1:n[0]=1,e.getCenterY()<t.getCenterY()?n[1]=-1:n[1]=1},o.getIntersection2=function(e,t,n){var r=e.getCenterX(),o=e.getCenterY(),i=t.getCenterX(),a=t.getCenterY();if(e.intersects(t))return n[0]=r,n[1]=o,n[2]=i,n[3]=a,!0;var s=e.getX(),u=e.getY(),l=e.getRight(),c=e.getX(),f=e.getBottom(),d=e.getRight(),h=e.getWidthHalf(),p=e.getHeightHalf(),v=t.getX(),g=t.getY(),y=t.getRight(),m=t.getX(),b=t.getBottom(),_=t.getRight(),w=t.getWidthHalf(),x=t.getHeightHalf(),E=!1,O=!1;if(r===i){if(o>a)return n[0]=r,n[1]=u,n[2]=i,n[3]=b,!1;if(o<a)return n[0]=r,n[1]=f,n[2]=i,n[3]=g,!1}else if(o===a){if(r>i)return n[0]=s,n[1]=o,n[2]=y,n[3]=a,!1;if(r<i)return n[0]=l,n[1]=o,n[2]=v,n[3]=a,!1}else{var S=e.height/e.width,T=t.height/t.width,P=(a-o)/(i-r),C=void 0,k=void 0,A=void 0,N=void 0,j=void 0,R=void 0;if(-S===P?r>i?(n[0]=c,n[1]=f,E=!0):(n[0]=l,n[1]=u,E=!0):S===P&&(r>i?(n[0]=s,n[1]=u,E=!0):(n[0]=d,n[1]=f,E=!0)),-T===P?i>r?(n[2]=m,n[3]=b,O=!0):(n[2]=y,n[3]=g,O=!0):T===P&&(i>r?(n[2]=v,n[3]=g,O=!0):(n[2]=_,n[3]=b,O=!0)),E&&O)return!1;if(r>i?o>a?(C=this.getCardinalDirection(S,P,4),k=this.getCardinalDirection(T,P,2)):(C=this.getCardinalDirection(-S,P,3),k=this.getCardinalDirection(-T,P,1)):o>a?(C=this.getCardinalDirection(-S,P,1),k=this.getCardinalDirection(-T,P,3)):(C=this.getCardinalDirection(S,P,2),k=this.getCardinalDirection(T,P,4)),!E)switch(C){case 1:N=u,A=r+-p/P,n[0]=A,n[1]=N;break;case 2:A=d,N=o+h*P,n[0]=A,n[1]=N;break;case 3:N=f,A=r+p/P,n[0]=A,n[1]=N;break;case 4:A=c,N=o+-h*P,n[0]=A,n[1]=N}if(!O)switch(k){case 1:R=g,j=i+-x/P,n[2]=j,n[3]=R;break;case 2:j=_,R=a+w*P,n[2]=j,n[3]=R;break;case 3:R=b,j=i+x/P,n[2]=j,n[3]=R;break;case 4:j=m,R=a+-w*P,n[2]=j,n[3]=R}}return!1},o.getCardinalDirection=function(e,t,n){return e>t?n:1+n%4},o.getIntersection=function(e,t,n,o){if(null==o)return this.getIntersection2(e,t,n);var i,a,s,u,l,c,f,d=e.x,h=e.y,p=t.x,v=t.y,g=n.x,y=n.y,m=o.x,b=o.y;return 0===(f=(i=v-h)*(u=g-m)-(a=b-y)*(s=d-p))?null:new r((s*(c=m*y-g*b)-u*(l=p*h-d*v))/f,(a*l-i*c)/f)},o.angleOfVector=function(e,t,n,r){var o=void 0;return e!==n?(o=Math.atan((r-t)/(n-e)),n<e?o+=Math.PI:r<t&&(o+=this.TWO_PI)):o=r<t?this.ONE_AND_HALF_PI:this.HALF_PI,o},o.doIntersect=function(e,t,n,r){var o=e.x,i=e.y,a=t.x,s=t.y,u=n.x,l=n.y,c=r.x,f=r.y,d=(a-o)*(f-l)-(c-u)*(s-i);if(0===d)return!1;var h=((f-l)*(c-o)+(u-c)*(f-i))/d,p=((i-s)*(c-o)+(a-o)*(f-i))/d;return 0<h&&h<1&&0<p&&p<1},o.HALF_PI=.5*Math.PI,o.ONE_AND_HALF_PI=1.5*Math.PI,o.TWO_PI=2*Math.PI,o.THREE_PI=3*Math.PI,e.exports=o},function(e,t,n){"use strict";function r(){}r.sign=function(e){return e>0?1:e<0?-1:0},r.floor=function(e){return e<0?Math.ceil(e):Math.floor(e)},r.ceil=function(e){return e<0?Math.floor(e):Math.ceil(e)},e.exports=r},function(e,t,n){"use strict";function r(){}r.MAX_VALUE=2147483647,r.MIN_VALUE=-2147483648,e.exports=r},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return{value:e,next:null,prev:null}},i=function(e,t,n,r){return null!==e?e.next=t:r.head=t,null!==n?n.prev=t:r.tail=t,t.prev=e,t.next=n,r.length++,t},a=function(e,t){var n=e.prev,r=e.next;return null!==n?n.next=r:t.head=r,null!==r?r.prev=n:t.tail=n,e.prev=e.next=null,t.length--,e},s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.length=0,this.head=null,this.tail=null,null!=t&&t.forEach(function(e){return n.push(e)})}return r(e,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(e,t){return i(t.prev,o(e),t,this)}},{key:"insertAfter",value:function(e,t){return i(t,o(e),t.next,this)}},{key:"insertNodeBefore",value:function(e,t){return i(t.prev,e,t,this)}},{key:"insertNodeAfter",value:function(e,t){return i(t,e,t.next,this)}},{key:"push",value:function(e){return i(this.tail,o(e),null,this)}},{key:"unshift",value:function(e){return i(null,o(e),this.head,this)}},{key:"remove",value:function(e){return a(e,this)}},{key:"pop",value:function(){return a(this.tail,this).value}},{key:"popNode",value:function(){return a(this.tail,this)}},{key:"shift",value:function(){return a(this.head,this).value}},{key:"shiftNode",value:function(){return a(this.head,this)}},{key:"get_object_at",value:function(e){if(e<=this.length()){for(var t=1,n=this.head;t<e;)n=n.next,t++;return n.value}}},{key:"set_object_at",value:function(e,t){if(e<=this.length()){for(var n=1,r=this.head;n<e;)r=r.next,n++;r.value=t}}}]),e}();e.exports=s},function(e,t,n){"use strict";function r(e,t,n){this.x=null,this.y=null,null==e&&null==t&&null==n?(this.x=0,this.y=0):"number"==typeof e&&"number"==typeof t&&null==n?(this.x=e,this.y=t):"Point"==e.constructor.name&&null==t&&null==n&&(n=e,this.x=n.x,this.y=n.y)}r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.getLocation=function(){return new r(this.x,this.y)},r.prototype.setLocation=function(e,t,n){"Point"==e.constructor.name&&null==t&&null==n?(n=e,this.setLocation(n.x,n.y)):"number"==typeof e&&"number"==typeof t&&null==n&&(parseInt(e)==e&&parseInt(t)==t?this.move(e,t):(this.x=Math.floor(e+.5),this.y=Math.floor(t+.5)))},r.prototype.move=function(e,t){this.x=e,this.y=t},r.prototype.translate=function(e,t){this.x+=e,this.y+=t},r.prototype.equals=function(e){if("Point"==e.constructor.name){var t=e;return this.x==t.x&&this.y==t.y}return this==e},r.prototype.toString=function(){return(new r).constructor.name+"[x="+this.x+",y="+this.y+"]"},e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){this.x=0,this.y=0,this.width=0,this.height=0,null!=e&&null!=t&&null!=n&&null!=r&&(this.x=e,this.y=t,this.width=n,this.height=r)}r.prototype.getX=function(){return this.x},r.prototype.setX=function(e){this.x=e},r.prototype.getY=function(){return this.y},r.prototype.setY=function(e){this.y=e},r.prototype.getWidth=function(){return this.width},r.prototype.setWidth=function(e){this.width=e},r.prototype.getHeight=function(){return this.height},r.prototype.setHeight=function(e){this.height=e},r.prototype.getRight=function(){return this.x+this.width},r.prototype.getBottom=function(){return this.y+this.height},r.prototype.intersects=function(e){return!(this.getRight()<e.x)&&!(this.getBottom()<e.y)&&!(e.getRight()<this.x)&&!(e.getBottom()<this.y)},r.prototype.getCenterX=function(){return this.x+this.width/2},r.prototype.getMinX=function(){return this.getX()},r.prototype.getMaxX=function(){return this.getX()+this.width},r.prototype.getCenterY=function(){return this.y+this.height/2},r.prototype.getMinY=function(){return this.getY()},r.prototype.getMaxY=function(){return this.getY()+this.height},r.prototype.getWidthHalf=function(){return this.width/2},r.prototype.getHeightHalf=function(){return this.height/2},e.exports=r},function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(){}o.lastID=0,o.createID=function(e){return o.isPrimitive(e)?e:(null!=e.uniqueID||(e.uniqueID=o.getString(),o.lastID++),e.uniqueID)},o.getString=function(e){return null==e&&(e=o.lastID),"Object#"+e},o.isPrimitive=function(e){var t="undefined"===typeof e?"undefined":r(e);return null==e||"object"!=t&&"function"!=t},e.exports=o},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n(0),i=n(6),a=n(3),s=n(1),u=n(5),l=n(4),c=n(17),f=n(27);function d(e){f.call(this),this.layoutQuality=o.QUALITY,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=o.DEFAULT_INCREMENTAL,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new i(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=e&&(this.isRemoteUse=e)}d.RANDOM_SEED=1,d.prototype=Object.create(f.prototype),d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},d.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},d.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},d.prototype.newGraphManager=function(){var e=new i(this);return this.graphManager=e,e},d.prototype.newGraph=function(e){return new u(null,this.graphManager,e)},d.prototype.newNode=function(e){return new a(this.graphManager,e)},d.prototype.newEdge=function(e){return new s(null,null,e)},d.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},d.prototype.runLayout=function(){var e;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),e=!this.checkLayoutSuccess()&&this.layout(),"during"!==o.ANIMATE&&(e&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,e)},d.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},d.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var e=this.graphManager.getAllEdges(),t=0;t<e.length;t++)e[t];var n=this.graphManager.getRoot().getNodes();for(t=0;t<n.length;t++)n[t];this.update(this.graphManager.getRoot())}},d.prototype.update=function(e){if(null==e)this.update2();else if(e instanceof a){var t=e;if(null!=t.getChild())for(var n=t.getChild().getNodes(),r=0;r<n.length;r++)update(n[r]);null!=t.vGraphObject&&t.vGraphObject.update(t)}else if(e instanceof s){var o=e;null!=o.vGraphObject&&o.vGraphObject.update(o)}else if(e instanceof u){var i=e;null!=i.vGraphObject&&i.vGraphObject.update(i)}},d.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=o.QUALITY,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=o.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},d.prototype.transform=function(e){if(void 0==e)this.transform(new l(0,0));else{var t=new c,n=this.graphManager.getRoot().updateLeftTop();if(null!=n){t.setWorldOrgX(e.x),t.setWorldOrgY(e.y),t.setDeviceOrgX(n.x),t.setDeviceOrgY(n.y);for(var r=this.getAllNodes(),o=0;o<r.length;o++)r[o].transform(t)}}},d.prototype.positionNodesRandomly=function(e){if(void 0==e)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var t,n,r=e.getNodes(),o=0;o<r.length;o++)null==(n=(t=r[o]).getChild())||0==n.getNodes().length?t.scatter():(this.positionNodesRandomly(n),t.updateBounds())},d.prototype.getFlatForest=function(){for(var e=[],t=!0,n=this.graphManager.getRoot().getNodes(),o=!0,i=0;i<n.length;i++)null!=n[i].getChild()&&(o=!1);if(!o)return e;var a=new Set,s=[],u=new Map,l=[];for(l=l.concat(n);l.length>0&&t;){for(s.push(l[0]);s.length>0&&t;){var c=s[0];s.splice(0,1),a.add(c);var f=c.getEdges();for(i=0;i<f.length;i++){var d=f[i].getOtherEnd(c);if(u.get(c)!=d){if(a.has(d)){t=!1;break}s.push(d),u.set(d,c)}}}if(t){var h=[].concat(r(a));for(e.push(h),i=0;i<h.length;i++){var p=h[i],v=l.indexOf(p);v>-1&&l.splice(v,1)}a=new Set,u=new Map}else e=[]}return e},d.prototype.createDummyNodesForBendpoints=function(e){for(var t=[],n=e.source,r=this.graphManager.calcLowestCommonAncestor(e.source,e.target),o=0;o<e.bendpoints.length;o++){var i=this.newNode(null);i.setRect(new Point(0,0),new Dimension(1,1)),r.add(i);var a=this.newEdge(null);this.graphManager.add(a,n,i),t.add(i),n=i}return a=this.newEdge(null),this.graphManager.add(a,n,e.target),this.edgeToDummyNodes.set(e,t),e.isInterGraph()?this.graphManager.remove(e):r.remove(e),t},d.prototype.createBendpointsFromDummyNodes=function(){var e=[];e=e.concat(this.graphManager.getAllEdges()),e=[].concat(r(this.edgeToDummyNodes.keys())).concat(e);for(var t=0;t<e.length;t++){var n=e[t];if(n.bendpoints.length>0){for(var o=this.edgeToDummyNodes.get(n),i=0;i<o.length;i++){var a=o[i],s=new l(a.getCenterX(),a.getCenterY()),u=n.bendpoints.get(i);u.x=s.x,u.y=s.y,a.getOwner().remove(a)}this.graphManager.add(n,n.source,n.target)}}},d.transform=function(e,t,n,r){if(void 0!=n&&void 0!=r){var o=t;return e<=50?o-=(t-t/n)/50*(50-e):o+=(t*r-t)/50*(e-50),o}var i,a;return e<=50?(i=9*t/500,a=t/10):(i=9*t/50,a=-8*t),i*e+a},d.findCenterOfTree=function(e){var t=[];t=t.concat(e);var n=[],r=new Map,o=!1,i=null;1!=t.length&&2!=t.length||(o=!0,i=t[0]);for(var a=0;a<t.length;a++){var s=(c=t[a]).getNeighborsList().size;r.set(c,c.getNeighborsList().size),1==s&&n.push(c)}var u=[];for(u=u.concat(n);!o;){var l=[];for(l=l.concat(u),u=[],a=0;a<t.length;a++){var c=t[a],f=t.indexOf(c);f>=0&&t.splice(f,1),c.getNeighborsList().forEach(function(e){if(n.indexOf(e)<0){var t=r.get(e)-1;1==t&&u.push(e),r.set(e,t)}})}n=n.concat(u),1!=t.length&&2!=t.length||(o=!0,i=t[0])}return i},d.prototype.setGraphManager=function(e){this.graphManager=e},e.exports=d},function(e,t,n){"use strict";function r(){}r.seed=1,r.x=0,r.nextDouble=function(){return r.x=1e4*Math.sin(r.seed++),r.x-Math.floor(r.x)},e.exports=r},function(e,t,n){"use strict";var r=n(4);function o(e,t){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o.prototype.getWorldOrgX=function(){return this.lworldOrgX},o.prototype.setWorldOrgX=function(e){this.lworldOrgX=e},o.prototype.getWorldOrgY=function(){return this.lworldOrgY},o.prototype.setWorldOrgY=function(e){this.lworldOrgY=e},o.prototype.getWorldExtX=function(){return this.lworldExtX},o.prototype.setWorldExtX=function(e){this.lworldExtX=e},o.prototype.getWorldExtY=function(){return this.lworldExtY},o.prototype.setWorldExtY=function(e){this.lworldExtY=e},o.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},o.prototype.setDeviceOrgX=function(e){this.ldeviceOrgX=e},o.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},o.prototype.setDeviceOrgY=function(e){this.ldeviceOrgY=e},o.prototype.getDeviceExtX=function(){return this.ldeviceExtX},o.prototype.setDeviceExtX=function(e){this.ldeviceExtX=e},o.prototype.getDeviceExtY=function(){return this.ldeviceExtY},o.prototype.setDeviceExtY=function(e){this.ldeviceExtY=e},o.prototype.transformX=function(e){var t=0,n=this.lworldExtX;return 0!=n&&(t=this.ldeviceOrgX+(e-this.lworldOrgX)*this.ldeviceExtX/n),t},o.prototype.transformY=function(e){var t=0,n=this.lworldExtY;return 0!=n&&(t=this.ldeviceOrgY+(e-this.lworldOrgY)*this.ldeviceExtY/n),t},o.prototype.inverseTransformX=function(e){var t=0,n=this.ldeviceExtX;return 0!=n&&(t=this.lworldOrgX+(e-this.ldeviceOrgX)*this.lworldExtX/n),t},o.prototype.inverseTransformY=function(e){var t=0,n=this.ldeviceExtY;return 0!=n&&(t=this.lworldOrgY+(e-this.ldeviceOrgY)*this.lworldExtY/n),t},o.prototype.inverseTransformPoint=function(e){return new r(this.inverseTransformX(e.x),this.inverseTransformY(e.y))},e.exports=o},function(e,t,n){"use strict";var r=n(15),o=n(7),i=n(0),a=n(8),s=n(9);function u(){r.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}for(var l in u.prototype=Object.create(r.prototype),r)u[l]=r[l];u.prototype.initParameters=function(){r.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},u.prototype.calcIdealEdgeLengths=function(){for(var e,t,n,r,a,s,u=this.getGraphManager().getAllEdges(),l=0;l<u.length;l++)(e=u[l]).idealLength=this.idealEdgeLength,e.isInterGraph&&(n=e.getSource(),r=e.getTarget(),a=e.getSourceInLca().getEstimatedSize(),s=e.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(e.idealLength+=a+s-2*i.SIMPLE_NODE_SIZE),t=e.getLca().getInclusionTreeDepth(),e.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(n.getInclusionTreeDepth()+r.getInclusionTreeDepth()-2*t))},u.prototype.initSpringEmbedder=function(){var e=this.getAllNodes().length;this.incremental?(e>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(e-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(e>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(e-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},u.prototype.calcSpringForces=function(){for(var e,t=this.getAllEdges(),n=0;n<t.length;n++)e=t[n],this.calcSpringForce(e,e.idealLength)},u.prototype.calcRepulsionForces=function(){var e,t,n,r,i,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&a&&this.updateGrid(),i=new Set,e=0;e<u.length;e++)n=u[e],this.calculateRepulsionForceOfANode(n,i,a,s),i.add(n);else for(e=0;e<u.length;e++)for(n=u[e],t=e+1;t<u.length;t++)r=u[t],n.getOwner()==r.getOwner()&&this.calcRepulsionForce(n,r)},u.prototype.calcGravitationalForces=function(){for(var e,t=this.getAllNodesToApplyGravitation(),n=0;n<t.length;n++)e=t[n],this.calcGravitationalForce(e)},u.prototype.moveNodes=function(){for(var e=this.getAllNodes(),t=0;t<e.length;t++)e[t].move()},u.prototype.calcSpringForce=function(e,t){var n,r,o,i,a=e.getSource(),s=e.getTarget();if(this.uniformLeafNodeSizes&&null==a.getChild()&&null==s.getChild())e.updateLengthSimple();else if(e.updateLength(),e.isOverlapingSourceAndTarget)return;0!=(n=e.getLength())&&(o=(r=this.springConstant*(n-t))*(e.lengthX/n),i=r*(e.lengthY/n),a.springForceX+=o,a.springForceY+=i,s.springForceX-=o,s.springForceY-=i)},u.prototype.calcRepulsionForce=function(e,t){var n,r,i,u,l,c,f,d=e.getRect(),h=t.getRect(),p=new Array(2),v=new Array(4);if(d.intersects(h)){a.calcSeparationAmount(d,h,p,o.DEFAULT_EDGE_LENGTH/2),c=2*p[0],f=2*p[1];var g=e.noOfChildren*t.noOfChildren/(e.noOfChildren+t.noOfChildren);e.repulsionForceX-=g*c,e.repulsionForceY-=g*f,t.repulsionForceX+=g*c,t.repulsionForceY+=g*f}else this.uniformLeafNodeSizes&&null==e.getChild()&&null==t.getChild()?(n=h.getCenterX()-d.getCenterX(),r=h.getCenterY()-d.getCenterY()):(a.getIntersection(d,h,v),n=v[2]-v[0],r=v[3]-v[1]),Math.abs(n)<o.MIN_REPULSION_DIST&&(n=s.sign(n)*o.MIN_REPULSION_DIST),Math.abs(r)<o.MIN_REPULSION_DIST&&(r=s.sign(r)*o.MIN_REPULSION_DIST),i=n*n+r*r,u=Math.sqrt(i),c=(l=this.repulsionConstant*e.noOfChildren*t.noOfChildren/i)*n/u,f=l*r/u,e.repulsionForceX-=c,e.repulsionForceY-=f,t.repulsionForceX+=c,t.repulsionForceY+=f},u.prototype.calcGravitationalForce=function(e){var t,n,r,o,i,a,s,u;n=((t=e.getOwner()).getRight()+t.getLeft())/2,r=(t.getTop()+t.getBottom())/2,o=e.getCenterX()-n,i=e.getCenterY()-r,a=Math.abs(o)+e.getWidth()/2,s=Math.abs(i)+e.getHeight()/2,e.getOwner()==this.graphManager.getRoot()?(a>(u=t.getEstimatedSize()*this.gravityRangeFactor)||s>u)&&(e.gravitationForceX=-this.gravityConstant*o,e.gravitationForceY=-this.gravityConstant*i):(a>(u=t.getEstimatedSize()*this.compoundGravityRangeFactor)||s>u)&&(e.gravitationForceX=-this.gravityConstant*o*this.compoundGravityConstant,e.gravitationForceY=-this.gravityConstant*i*this.compoundGravityConstant)},u.prototype.isConverged=function(){var e,t=!1;return this.totalIterations>this.maxIterations/3&&(t=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),e=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,e||t},u.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},u.prototype.calcNoOfChildrenForAllNodes=function(){for(var e,t=this.graphManager.getAllNodes(),n=0;n<t.length;n++)(e=t[n]).noOfChildren=e.getNoOfChildren()},u.prototype.calcGrid=function(e){var t,n;t=parseInt(Math.ceil((e.getRight()-e.getLeft())/this.repulsionRange)),n=parseInt(Math.ceil((e.getBottom()-e.getTop())/this.repulsionRange));for(var r=new Array(t),o=0;o<t;o++)r[o]=new Array(n);for(o=0;o<t;o++)for(var i=0;i<n;i++)r[o][i]=new Array;return r},u.prototype.addNodeToGrid=function(e,t,n){var r,o,i,a;r=parseInt(Math.floor((e.getRect().x-t)/this.repulsionRange)),o=parseInt(Math.floor((e.getRect().width+e.getRect().x-t)/this.repulsionRange)),i=parseInt(Math.floor((e.getRect().y-n)/this.repulsionRange)),a=parseInt(Math.floor((e.getRect().height+e.getRect().y-n)/this.repulsionRange));for(var s=r;s<=o;s++)for(var u=i;u<=a;u++)this.grid[s][u].push(e),e.setGridCoordinates(r,o,i,a)},u.prototype.updateGrid=function(){var e,t,n=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),e=0;e<n.length;e++)t=n[e],this.addNodeToGrid(t,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},u.prototype.calculateRepulsionForceOfANode=function(e,t,n,r){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&n||r){var i,a=new Set;e.surrounding=new Array;for(var s=this.grid,u=e.startX-1;u<e.finishX+2;u++)for(var l=e.startY-1;l<e.finishY+2;l++)if(!(u<0||l<0||u>=s.length||l>=s[0].length))for(var c=0;c<s[u][l].length;c++)if(i=s[u][l][c],e.getOwner()==i.getOwner()&&e!=i&&!t.has(i)&&!a.has(i)){var f=Math.abs(e.getCenterX()-i.getCenterX())-(e.getWidth()/2+i.getWidth()/2),d=Math.abs(e.getCenterY()-i.getCenterY())-(e.getHeight()/2+i.getHeight()/2);f<=this.repulsionRange&&d<=this.repulsionRange&&a.add(i)}e.surrounding=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(a))}for(u=0;u<e.surrounding.length;u++)this.calcRepulsionForce(e,e.surrounding[u])},u.prototype.calcRepulsionRange=function(){return 0},e.exports=u},function(e,t,n){"use strict";var r=n(1),o=n(7);function i(e,t,n){r.call(this,e,t,n),this.idealLength=o.DEFAULT_EDGE_LENGTH}for(var a in i.prototype=Object.create(r.prototype),r)i[a]=r[a];e.exports=i},function(e,t,n){"use strict";var r=n(3);function o(e,t,n,o){r.call(this,e,t,n,o),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var i in o.prototype=Object.create(r.prototype),r)o[i]=r[i];o.prototype.setGridCoordinates=function(e,t,n,r){this.startX=e,this.finishX=t,this.startY=n,this.finishY=r},e.exports=o},function(e,t,n){"use strict";function r(e,t){this.width=0,this.height=0,null!==e&&null!==t&&(this.height=t,this.width=e)}r.prototype.getWidth=function(){return this.width},r.prototype.setWidth=function(e){this.width=e},r.prototype.getHeight=function(){return this.height},r.prototype.setHeight=function(e){this.height=e},e.exports=r},function(e,t,n){"use strict";var r=n(14);function o(){this.map={},this.keys=[]}o.prototype.put=function(e,t){var n=r.createID(e);this.contains(n)||(this.map[n]=t,this.keys.push(e))},o.prototype.contains=function(e){return r.createID(e),null!=this.map[e]},o.prototype.get=function(e){var t=r.createID(e);return this.map[t]},o.prototype.keySet=function(){return this.keys},e.exports=o},function(e,t,n){"use strict";var r=n(14);function o(){this.set={}}o.prototype.add=function(e){var t=r.createID(e);this.contains(t)||(this.set[t]=e)},o.prototype.remove=function(e){delete this.set[r.createID(e)]},o.prototype.clear=function(){this.set={}},o.prototype.contains=function(e){return this.set[r.createID(e)]==e},o.prototype.isEmpty=function(){return 0===this.size()},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAllTo=function(e){for(var t=Object.keys(this.set),n=t.length,r=0;r<n;r++)e.push(this.set[t[r]])},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAll=function(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];this.add(r)}},e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(11),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null===n&&void 0===n||(this.compareFunction=this._defaultCompareFunction);var r=void 0;r=t instanceof o?t.size():t.length,this._quicksort(t,0,r-1)}return r(e,[{key:"_quicksort",value:function(e,t,n){if(t<n){var r=this._partition(e,t,n);this._quicksort(e,t,r),this._quicksort(e,r+1,n)}}},{key:"_partition",value:function(e,t,n){for(var r=this._get(e,t),o=t,i=n;;){for(;this.compareFunction(r,this._get(e,i));)i--;for(;this.compareFunction(this._get(e,o),r);)o++;if(!(o<i))return i;this._swap(e,o,i),o++,i--}}},{key:"_get",value:function(e,t){return e instanceof o?e.get_object_at(t):e[t]}},{key:"_set",value:function(e,t,n){e instanceof o?e.set_object_at(t,n):e[t]=n}},{key:"_swap",value:function(e,t,n){var r=this._get(e,t);this._set(e,t,this._get(e,n)),this._set(e,n,r)}},{key:"_defaultCompareFunction",value:function(e,t){return t>e}}]),e}();e.exports=i},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sequence1=t,this.sequence2=n,this.match_score=r,this.mismatch_penalty=o,this.gap_penalty=i,this.iMax=t.length+1,this.jMax=n.length+1,this.grid=new Array(this.iMax);for(var a=0;a<this.iMax;a++){this.grid[a]=new Array(this.jMax);for(var s=0;s<this.jMax;s++)this.grid[a][s]=0}this.tracebackGrid=new Array(this.iMax);for(var u=0;u<this.iMax;u++){this.tracebackGrid[u]=new Array(this.jMax);for(var l=0;l<this.jMax;l++)this.tracebackGrid[u][l]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return r(e,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var e=1;e<this.jMax;e++)this.grid[0][e]=this.grid[0][e-1]+this.gap_penalty,this.tracebackGrid[0][e]=[!1,!1,!0];for(var t=1;t<this.iMax;t++)this.grid[t][0]=this.grid[t-1][0]+this.gap_penalty,this.tracebackGrid[t][0]=[!1,!0,!1];for(var n=1;n<this.iMax;n++)for(var r=1;r<this.jMax;r++){var o=[this.sequence1[n-1]===this.sequence2[r-1]?this.grid[n-1][r-1]+this.match_score:this.grid[n-1][r-1]+this.mismatch_penalty,this.grid[n-1][r]+this.gap_penalty,this.grid[n][r-1]+this.gap_penalty],i=this.arrayAllMaxIndexes(o);this.grid[n][r]=o[i[0]],this.tracebackGrid[n][r]=[i.includes(0),i.includes(1),i.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var e=[];for(e.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});e[0];){var t=e[0],n=this.tracebackGrid[t.pos[0]][t.pos[1]];n[0]&&e.push({pos:[t.pos[0]-1,t.pos[1]-1],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),n[1]&&e.push({pos:[t.pos[0]-1,t.pos[1]],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:"-"+t.seq2}),n[2]&&e.push({pos:[t.pos[0],t.pos[1]-1],seq1:"-"+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),0===t.pos[0]&&0===t.pos[1]&&this.alignments.push({sequence1:t.seq1,sequence2:t.seq2}),e.shift()}return this.alignments}},{key:"getAllIndexes",value:function(e,t){for(var n=[],r=-1;-1!==(r=e.indexOf(t,r+1));)n.push(r);return n}},{key:"arrayAllMaxIndexes",value:function(e){return this.getAllIndexes(e,Math.max.apply(null,e))}}]),e}();e.exports=o},function(e,t,n){"use strict";var r=function(){};r.FDLayout=n(18),r.FDLayoutConstants=n(7),r.FDLayoutEdge=n(19),r.FDLayoutNode=n(20),r.DimensionD=n(21),r.HashMap=n(22),r.HashSet=n(23),r.IGeometry=n(8),r.IMath=n(9),r.Integer=n(10),r.Point=n(12),r.PointD=n(4),r.RandomSeed=n(16),r.RectangleD=n(13),r.Transform=n(17),r.UniqueIDGeneretor=n(14),r.Quicksort=n(24),r.LinkedList=n(11),r.LGraphObject=n(2),r.LGraph=n(5),r.LEdge=n(1),r.LGraphManager=n(6),r.LNode=n(3),r.Layout=n(15),r.LayoutConstants=n(0),r.NeedlemanWunsch=n(25),e.exports=r},function(e,t,n){"use strict";function r(){this.listeners=[]}var o=r.prototype;o.addListener=function(e,t){this.listeners.push({event:e,callback:t})},o.removeListener=function(e,t){for(var n=this.listeners.length;n>=0;n--){var r=this.listeners[n];r.event===e&&r.callback===t&&this.listeners.splice(n,1)}},o.emit=function(e,t){for(var n=0;n<this.listeners.length;n++){var r=this.listeners[n];e===r.event&&r.callback(t)}},e.exports=r}])},e.exports=t()},9621:(e,t,n)=>{var r=n(7529),o=n(7828),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return i.call(e,t)}))}:o;e.exports=s},9738:(e,t,n)=>{"use strict";n.d(t,{x:()=>d});var r=n(3945),o=n(6655),i=n(5814),a=n(9324),s={getItem:function(){},setItem:function(){},removeItem:function(){}};try{s=(0,a.B)()&&window.localStorage?window.localStorage:s}catch(h){console.warn("Unable to access localStorage",h)}function u(e){var t=s.getItem(e);return(t?JSON.parse(t):[]).map(function(e){return new i.o(e.event,e.id)})}function l(e){var t=s.getItem(e);return t?JSON.parse(t):{}}function c(e){s.removeItem(e)}function f(e,t,n){void 0===n&&(n=0);var r="persisted-queue:v1:".concat(e,":lock"),o=s.getItem(r),i=o?JSON.parse(o):null,a=null===i||function(e){return(new Date).getTime()>e}(i);if(a)return s.setItem(r,JSON.stringify((new Date).getTime()+50)),t(),void s.removeItem(r);!a&&n<3?setTimeout(function(){f(e,t,n+1)},50):console.error("Unable to retrieve lock")}var d=function(e){function t(t,n){var o=e.call(this,t,[])||this,i="persisted-queue:v1:".concat(n,":items"),a="persisted-queue:v1:".concat(n,":seen"),d=[],p={};return f(n,function(){try{d=u(i),p=l(a),c(i),c(a),o.queue=(0,r.fX)((0,r.fX)([],d,!0),o.queue,!0),o.seen=(0,r.Cl)((0,r.Cl)({},p),o.seen)}catch(h){console.error(h)}}),window.addEventListener("pagehide",function(){if(o.todo>0){var e=(0,r.fX)((0,r.fX)([],o.queue,!0),o.future,!0);try{f(n,function(){!function(e,t){var n=u(e),o=(0,r.fX)((0,r.fX)([],t,!0),n,!0).reduce(function(e,t){var n;return(0,r.Cl)((0,r.Cl)({},e),((n={})[t.id]=t,n))},{});s.setItem(e,JSON.stringify(Object.values(o)))}(i,e),function(e,t){var n=l(e);s.setItem(e,JSON.stringify((0,r.Cl)((0,r.Cl)({},n),t)))}(a,o.seen)})}catch(h){console.error(h)}}}),o}return(0,r.C6)(t,e),t}(o.M)},9799:(e,t,n)=>{"use strict";function r(e,t){return new Promise(function(n,r){var o=setTimeout(function(){r(Error("Promise timed out"))},t);e.then(function(e){return clearTimeout(o),n(e)}).catch(r)})}function o(e,t,n){var o;return(o=n,new Promise(function(e){return setTimeout(e,o)})).then(function(){return r(function(){try{return Promise.resolve(t(e))}catch(n){return Promise.reject(n)}}(),1e3)}).catch(function(t){null===e||void 0===e||e.log("warn","Callback Error",{error:t}),null===e||void 0===e||e.stats.increment("callback_error")}).then(function(){return e})}n.d(t,{s2:()=>r,w_:()=>o})},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9825:(e,t,n)=>{var r=n(8353);e.exports=function(e){try{r(e)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},9841:(e,t,n)=>{var r=n(6913),o=n(2761);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},9892:(e,t,n)=>{"use strict";n.r(t),n.d(t,{applyDestinationMiddleware:()=>a,sourceMiddlewarePlugin:()=>s});var r=n(3945),o=n(5591),i=n(7390);function a(e,t,n){return(0,r.sH)(this,void 0,void 0,function(){function o(t,n){return(0,r.sH)(this,void 0,void 0,function(){var o,a,s;return(0,r.YH)(this,function(u){switch(u.label){case 0:return o=!1,a=null,[4,n({payload:(0,i.W)(t,{clone:!0,traverse:!1}),integration:e,next:function(e){o=!0,null===e&&(a=null),e&&(a=e.obj)}})];case 1:return u.sent(),o||null===a||(a.integrations=(0,r.Cl)((0,r.Cl)({},t.integrations),((s={})[e]=!1,s))),[2,a]}})})}var a,s,u,l,c;return(0,r.YH)(this,function(e){switch(e.label){case 0:a=(0,i.W)(t,{clone:!0,traverse:!1}).rawEvent(),s=0,u=n,e.label=1;case 1:return s<u.length?(l=u[s],[4,o(a,l)]):[3,4];case 2:if(null===(c=e.sent()))return[2,null];a=c,e.label=3;case 3:return s++,[3,1];case 4:return[2,a]}})})}function s(e,t){function n(n){return(0,r.sH)(this,void 0,void 0,function(){var a;return(0,r.YH)(this,function(r){switch(r.label){case 0:return a=!1,[4,e({payload:(0,i.W)(n.event,{clone:!0,traverse:!1}),integrations:null!==t&&void 0!==t?t:{},next:function(e){a=!0,e&&(n.event=e.obj)}})];case 1:if(r.sent(),!a)throw new o.d({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,n]}})})}return{name:"Source Middleware ".concat(e.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(e){return Promise.resolve(e)},track:n,page:n,screen:n,identify:n,alias:n,group:n}}},9935:(e,t,n)=>{var r=n(1340),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),o=n(2929),i=n(3211),a=n(3668),s=n(4160),u=n(2074),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=u),e.size!=t.size&&!p)return!1;var v=d.get(e);if(v)return v==t;r|=2,d.set(e,t);var g=a(h(e),h(t),r,l,f,d);return d.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+({10:"tsub-middleware",50:"ajs-destination",104:"schemaFilter",248:"auto-track",521:"remoteMiddleware",538:"queryString",574:"CoseBilkentLayout",654:"HierarchicalLayout",694:"legacyVideos"}[e]||e)+"."+{10:"9103a3ba",50:"42d12446",104:"5194df9e",248:"6c81a7dc",381:"c30cc9af",521:"1f5b3c76",538:"bd32cb8e",574:"fa2fe318",654:"0b2a9419",694:"77ee575d"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="learnify-frontend:";n.l=(r,o,i,a)=>{if(e[r])e[r].push(o);else{var s,u;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+i){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var d=(t,n)=>{s.onerror=s.onload=null,clearTimeout(h);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach(e=>e(n)),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{n.b=document.baseURI||self.location.href;var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((n,r)=>o=e[t]=[n,r]);r.push(o[2]=i);var a=n.p+n.u(t),s=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var o,i,a=r[0],s=r[1],u=r[2],l=0;if(a.some(t=>0!==e[t])){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(u)u(n)}for(t&&t(r);l<a.length;l++)i=a[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunklearnify_frontend=self.webpackChunklearnify_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{coseBilkentLayoutFallbackWorker:()=>kv,createCoseBilkentLayoutWorker:()=>Av,createHierarchicalLayoutWorker:()=>$v,hierarchicalLayoutFallbackWorker:()=>Kv});var t,r=n(5043),o=n.t(r,2),i=n(4391);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const s="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,n,r,o){void 0===o&&(o={});let{window:i=document.defaultView,v5Compat:l=!1}=o,h=i.history,p=t.Pop,v=null,g=y();function y(){return(h.state||{idx:null}).idx}function m(){p=t.Pop;let e=y(),n=null==e?null:e-g;g=e,v&&v({action:p,location:_.location,delta:n})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,h.replaceState(a({},h.state,{idx:g}),""));let _={get action(){return p},get location(){return e(i,h)},listen(e){if(v)throw new Error("A history only accepts one active listener");return i.addEventListener(s,m),v=e,()=>{i.removeEventListener(s,m),v=null}},createHref:e=>n(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){p=t.Push;let o=f(_.location,e,n);r&&r(o,e),g=y()+1;let a=c(o,g),s=_.createHref(o);try{h.pushState(a,"",s)}catch(Lr){if(Lr instanceof DOMException&&"DataCloneError"===Lr.name)throw Lr;i.location.assign(s)}l&&v&&v({action:p,location:_.location,delta:1})},replace:function(e,n){p=t.Replace;let o=f(_.location,e,n);r&&r(o,e),g=y();let i=c(o,g),a=_.createHref(o);h.replaceState(i,"",a),l&&v&&v({action:p,location:_.location,delta:0})},go:e=>h.go(e)};return _}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let o=N(("string"===typeof t?h(t):t).pathname||"/",n);if(null==o)return null;let i=m(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let s=0;null==a&&s<i.length;++s){let e=A(o);a=C(i[s],e,r)}return a}function m(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(u(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=D([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),m(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:P(s,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))o(e,t,r);else o(e,t)}),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=b(r.join("/")),s=[];return s.push(...a.map(e=>""===e?i:[i,e].join("/"))),o&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}const _=/^:[\w-]+$/,w=3,x=2,E=1,O=10,S=-2,T=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=S),t&&(r+=x),n.filter(e=>!T(e)).reduce((e,t)=>e+(_.test(t)?w:""===t?E:O),r)}function C(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,o={},i="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],u=s===r.length-1,l="/"===i?t:t.slice(i.length)||"/",c=k({path:e.relativePath,caseSensitive:e.caseSensitive,end:u},l),f=e.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=k({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!c)return null;Object.assign(o,c.params),a.push({params:o,pathname:D([i,c.pathname]),pathnameBase:L(D([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=D([i,c.pathnameBase]))}return a}function k(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const u=s[n];return e[r]=o&&!u?void 0:(u||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:a,pattern:e}}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(Lr){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Lr+")."),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function j(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function I(e,t){let n=R(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function M(e,t,n,r){let o;void 0===r&&(r=!1),"string"===typeof e?o=h(e):(o=a({},e),u(!o.pathname||!o.pathname.includes("?"),j("?","pathname","search",o)),u(!o.pathname||!o.pathname.includes("#"),j("#","pathname","hash",o)),u(!o.search||!o.search.includes("#"),j("#","search","hash",o)));let i,s=""===e||""===o.pathname,l=s?"/":o.pathname;if(null==l)i=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"===typeof e?h(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:B(r),hash:F(o)}}(o,i),f=l&&"/"!==l&&l.endsWith("/"),d=(s||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!f&&!d||(c.pathname+="/"),c}const D=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],V=(new Set(z),["get",...z]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const H=r.createContext(null);const G=r.createContext(null);const q=r.createContext(null);const Y=r.createContext(null);const X=r.createContext({outlet:null,matches:[],isDataRoute:!1});const K=r.createContext(null);function $(){return null!=r.useContext(Y)}function Z(){return $()||u(!1),r.useContext(Y).location}function Q(e){r.useContext(q).static||r.useLayoutEffect(e)}function J(){let{isDataRoute:e}=r.useContext(X);return e?function(){let{router:e}=le(se.UseNavigateStable),t=fe(ue.UseNavigateStable),n=r.useRef(!1);Q(()=>{n.current=!0});let o=r.useCallback(function(r,o){void 0===o&&(o={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},o)))},[e,t]);return o}():function(){$()||u(!1);let e=r.useContext(H),{basename:t,future:n,navigator:o}=r.useContext(q),{matches:i}=r.useContext(X),{pathname:a}=Z(),s=JSON.stringify(I(i,n.v7_relativeSplatPath)),l=r.useRef(!1);Q(()=>{l.current=!0});let c=r.useCallback(function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void o.go(n);let i=M(n,JSON.parse(s),a,"path"===r.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:D([t,i.pathname])),(r.replace?o.replace:o.push)(i,r.state,r)},[t,o,s,a,e]);return c}()}function ee(e,t){let{relative:n}=void 0===t?{}:t,{future:o}=r.useContext(q),{matches:i}=r.useContext(X),{pathname:a}=Z(),s=JSON.stringify(I(i,o.v7_relativeSplatPath));return r.useMemo(()=>M(e,JSON.parse(s),a,"path"===n),[e,s,a,n])}function te(e,n,o,i){$()||u(!1);let{navigator:a}=r.useContext(q),{matches:s}=r.useContext(X),l=s[s.length-1],c=l?l.params:{},f=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,p=Z();if(n){var v;let e="string"===typeof n?h(n):n;"/"===f||(null==(v=e.pathname)?void 0:v.startsWith(f))||u(!1),d=e}else d=p;let y=d.pathname||"/",m=y;if("/"!==f){let e=f.replace(/^\//,"").split("/");m="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=g(e,{pathname:m});let _=ae(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:D([f,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:D([f,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,o,i);return n&&_?r.createElement(Y.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Pop}},_):_}function ne(){let e=function(){var e;let t=r.useContext(K),n=ce(ue.UseRouteError),o=fe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[o]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,null)}const re=r.createElement(ne,null);class oe extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(X.Provider,{value:this.props.routeContext},r.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:n,children:o}=e,i=r.useContext(H);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(X.Provider,{value:t},o)}function ae(e,t,n,o){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===o&&(o=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=o)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=s.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||u(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,f=-1;if(n&&o&&o.v7_partialHydration)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(f=r),e.route.id){let{loaderData:t,errors:r}=n,o=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||o){c=!0,s=f>=0?s.slice(0,f+1):[s[0]];break}}}return s.reduceRight((e,o,i)=>{let a,u=!1,d=null,h=null;var p;n&&(a=l&&o.route.id?l[o.route.id]:void 0,d=o.route.errorElement||re,c&&(f<0&&0===i?(p="route-fallback",!1||de[p]||(de[p]=!0),u=!0,h=null):f===i&&(u=!0,h=o.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,i+1)),g=()=>{let t;return t=a?d:u?h:o.route.Component?r.createElement(o.route.Component,null):o.route.element?o.route.element:e,r.createElement(ie,{match:o,routeContext:{outlet:e,matches:v,isDataRoute:null!=n},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===i)?r.createElement(oe,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var se=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(se||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function le(e){let t=r.useContext(H);return t||u(!1),t}function ce(e){let t=r.useContext(G);return t||u(!1),t}function fe(e){let t=function(){let e=r.useContext(X);return e||u(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const de={};function he(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function pe(e){u(!1)}function ve(e){let{basename:n="/",children:o=null,location:i,navigationType:a=t.Pop,navigator:s,static:l=!1,future:c}=e;$()&&u(!1);let f=n.replace(/^\/*/,"/"),d=r.useMemo(()=>({basename:f,navigator:s,static:l,future:W({v7_relativeSplatPath:!1},c)}),[f,c,s,l]);"string"===typeof i&&(i=h(i));let{pathname:p="/",search:v="",hash:g="",state:y=null,key:m="default"}=i,b=r.useMemo(()=>{let e=N(p,f);return null==e?null:{location:{pathname:e,search:v,hash:g,state:y,key:m},navigationType:a}},[f,p,v,g,y,m,a]);return null==b?null:r.createElement(q.Provider,{value:d},r.createElement(Y.Provider,{children:o,value:b}))}function ge(e){let{children:t,location:n}=e;return te(ye(t),n)}new Promise(()=>{});r.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,(e,o)=>{if(!r.isValidElement(e))return;let i=[...t,o];if(e.type===r.Fragment)return void n.push.apply(n,ye(e.props.children,i));e.type!==pe&&u(!1),e.props.index&&e.props.children&&u(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ye(e.props.children,i)),n.push(a)}),n}var me=n(7950),be=n.t(me,2);function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const xe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(qm){}new Map;const Ee=o.startTransition;be.flushSync,o.useId;function Oe(e){let{basename:t,children:n,future:o,window:i}=e,a=r.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),p(function(e,t){let{pathname:n,search:r,hash:o}=e.location;return f("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:d(t)},null,e)}({window:i,v5Compat:!0}));let s=a.current,[u,l]=r.useState({action:s.action,location:s.location}),{v7_startTransition:c}=o||{},h=r.useCallback(e=>{c&&Ee?Ee(()=>l(e)):l(e)},[l,c]);return r.useLayoutEffect(()=>s.listen(h),[s,h]),r.useEffect(()=>he(o),[o]),r.createElement(ve,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:s,future:o})}const Se="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=r.forwardRef(function(e,t){let n,{onClick:o,relative:i,reloadDocument:a,replace:s,state:l,target:c,to:f,preventScrollReset:h,viewTransition:p}=e,v=we(e,xe),{basename:g}=r.useContext(q),y=!1;if("string"===typeof f&&Te.test(f)&&(n=f,Se))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=N(t.pathname,g);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:y=!0}catch(qm){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;$()||u(!1);let{basename:o,navigator:i}=r.useContext(q),{hash:a,pathname:s,search:l}=ee(e,{relative:n}),c=s;return"/"!==o&&(c="/"===s?o:D([o,s])),i.createHref({pathname:c,search:l,hash:a})}(f,{relative:i}),b=function(e,t){let{target:n,replace:o,state:i,preventScrollReset:a,relative:s,viewTransition:u}=void 0===t?{}:t,l=J(),c=Z(),f=ee(e,{relative:s});return r.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==o?o:d(c)===d(f);l(e,{replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:u})}},[c,l,f,o,i,n,e,a,s,u])}(f,{replace:s,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:p});return r.createElement("a",_e({},v,{href:n||m,onClick:y||a?o:function(e){o&&o(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var Ce,ke;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ce||(Ce={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ke||(ke={}));var Ae={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ne=r.createContext&&r.createContext(Ae),je=function(){return je=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},je.apply(this,arguments)},Re=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function Ie(e){return e&&e.map(function(e,t){return r.createElement(e.tag,je({key:t},e.attr),Ie(e.child))})}function Me(e){return function(t){return r.createElement(De,je({attr:je({},e.attr)},t),Ie(e.child))}}function De(e){var t=function(t){var n,o=e.attr,i=e.size,a=e.title,s=Re(e,["attr","size","title"]),u=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",je({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,s,{className:n,style:je(je({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&r.createElement("title",null,a),e.children)};return void 0!==Ne?r.createElement(Ne.Consumer,null,function(e){return t(e)}):t(Ae)}function Le(e){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"}}]})(e)}function Be(e){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"}}]})(e)}function Fe(e){return Me({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"}}]})(e)}function Ue(e){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"}}]})(e)}function ze(e){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function Ve(e){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function We(e){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"}}]})(e)}function He(e){return Me({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function Ge(e){return Me({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function qe(e){return Me({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"}}]})(e)}function Ye(e){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(e)}function Xe(e){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.5 231.4l-192-160C287.9 54.3 256 68.6 256 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2zm-256 0l-192-160C31.9 54.3 0 68.6 0 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2z"}}]})(e)}function Ke(e){return Me({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function $e(e){return Me({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"}}]})(e)}function Ze(e){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(e)}function Qe(e){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}}]})(e)}function Je(e){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"}}]})(e)}function et(e){return Me({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M384 320H256c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32zM192 32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v128c0 17.67 14.33 32 32 32h95.72l73.16 128.04C211.98 300.98 232.4 288 256 288h.28L192 175.51V128h224V64H192V32zM608 0H480c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32z"}}]})(e)}function tt(e){return Me({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"}}]})(e)}function nt(e){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"}}]})(e)}function rt(e){return Me({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"}}]})(e)}function ot(e){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}}]})(e)}function it(e){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"}}]})(e)}function at(e){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"}}]})(e)}function st(e){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"}}]})(e)}function ut(e){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"}}]})(e)}function lt(e){return Me({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function ct(e){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function ft(e){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function dt(e){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}const ht="http://localhost:3001/api";async function pt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0;try{const r={method:t,headers:{"Content-Type":"application/json"}};n&&(r.body=JSON.stringify(n));const o=await fetch(e,r);if(!o.ok){return{error:(await o.json()).message||"An error occurred"}}return{data:await o.json()}}catch(Lr){return{error:Lr.message||"Network error"}}}const vt=async(e,t,n)=>pt(`${ht}/flashcards/${e}/weakness`,"POST",{messages:t,solution:n});var gt=n(579);const yt=()=>(0,gt.jsx)("nav",{className:"bg-gradient-to-r from-blue-600 to-purple-700 p-4 shadow-lg",children:(0,gt.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,gt.jsx)(Pe,{to:"/",className:"text-white text-3xl font-bold tracking-wide",children:"Learnify"}),(0,gt.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,gt.jsxs)("ul",{className:"flex space-x-6",children:[(0,gt.jsx)("li",{children:(0,gt.jsxs)(Pe,{to:"/",className:"text-white hover:text-blue-200 transition duration-300 flex items-center text-lg",children:[(0,gt.jsx)(Ke,{className:"mr-2"})," Home"]})}),(0,gt.jsx)("li",{children:(0,gt.jsxs)(Pe,{to:"/decks",className:"text-white hover:text-blue-200 transition duration-300 flex items-center text-lg",children:[(0,gt.jsx)(Be,{className:"mr-2"})," My Decks"]})}),(0,gt.jsx)("li",{children:(0,gt.jsxs)(Pe,{to:"/import",className:"text-white hover:text-blue-200 transition duration-300 flex items-center text-lg",children:[(0,gt.jsx)(qe,{className:"mr-2"})," Import Document"]})}),(0,gt.jsx)("li",{children:(0,gt.jsxs)(Pe,{to:"/text-import",className:"text-white hover:text-blue-200 transition duration-300 flex items-center text-lg",children:[(0,gt.jsx)(qe,{className:"mr-2"})," Import From Text"]})}),(0,gt.jsx)("li",{children:(0,gt.jsxs)(Pe,{to:"/feedback",className:"text-white hover:text-blue-200 transition duration-300 flex items-center text-lg",children:[(0,gt.jsx)($e,{className:"mr-2"})," Feedback"]})}),(0,gt.jsx)("li",{children:(0,gt.jsxs)(Pe,{to:"/graph",className:"text-white hover:text-blue-200 transition duration-300 flex items-center text-lg",children:[(0,gt.jsx)(et,{className:"mr-2"})," Graph"]})})]}),(0,gt.jsxs)("button",{onClick:async()=>{try{const t=await(async()=>pt(`${ht}/flashcards/reset-seen`,"POST"))();var e;if(t.error)alert("Error resetting cards: "+t.error);else alert(`Successfully reset ${(null===(e=t.data)||void 0===e?void 0:e.affectedRows)||0} flashcards!`)}catch(Lr){alert("Error resetting cards: "+Lr)}},className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition duration-300 flex items-center text-sm font-medium",children:[(0,gt.jsx)(nt,{className:"mr-2"})," Reset Cards"]})]})]})}),mt=e=>{let{children:t,className:n}=e;return(0,gt.jsx)("div",{className:`container mx-auto px-4 py-8 ${n||""}`,children:t})},bt=e=>{let{variant:t="primary",size:n="md",children:r,className:o,...i}=e;return(0,gt.jsx)("button",{className:`font-semibold rounded-lg shadow-md transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 ${{primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-300 text-gray-800 hover:bg-gray-400 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500"}[t]} ${{sm:"px-3 py-1 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[n]} ${o||""}`,...i,children:r})},_t=()=>(0,gt.jsxs)(mt,{className:"text-center py-20",children:[(0,gt.jsxs)("h1",{className:"text-5xl font-extrabold text-gray-900 mb-6 leading-tight",children:["Welcome to ",(0,gt.jsx)("span",{className:"text-blue-600",children:"Learnify"}),"!"]}),(0,gt.jsx)("p",{className:"text-xl text-gray-700 mb-10 max-w-2xl mx-auto",children:"Your ultimate flashcard companion for effective learning. Create, manage, and master your knowledge with ease."}),(0,gt.jsxs)("div",{className:"flex justify-center space-x-4 flex-wrap",children:[(0,gt.jsx)(Pe,{to:"/decks",children:(0,gt.jsxs)(bt,{size:"lg",variant:"primary",className:"flex items-center mb-4",children:[(0,gt.jsx)(Be,{className:"mr-3 text-2xl"})," Browse Decks"]})}),(0,gt.jsx)(Pe,{to:"/import",children:(0,gt.jsxs)(bt,{size:"lg",variant:"secondary",className:"flex items-center mb-4",children:[(0,gt.jsx)(qe,{className:"mr-3 text-2xl"})," Import Document"]})}),(0,gt.jsx)(Pe,{to:"/text-import",children:(0,gt.jsxs)(bt,{size:"lg",variant:"secondary",className:"flex items-center mb-4",children:[(0,gt.jsx)(qe,{className:"mr-3 text-2xl"})," Import From Text"]})}),(0,gt.jsx)(Pe,{to:"/feedback",children:(0,gt.jsxs)(bt,{size:"lg",variant:"success",className:"flex items-center mb-4",children:[(0,gt.jsx)($e,{className:"mr-3 text-2xl"})," Get Feedback"]})}),(0,gt.jsx)(Pe,{to:"/graph",children:(0,gt.jsxs)(bt,{size:"lg",variant:"secondary",className:"flex items-center mb-4",children:[(0,gt.jsx)(et,{className:"mr-3 text-2xl"})," Knowledge Graph"]})})]}),(0,gt.jsxs)("div",{className:"mt-16 text-gray-600",children:[(0,gt.jsx)("p",{className:"text-lg font-semibold mb-4",children:"How it works:"}),(0,gt.jsxs)("ul",{className:"list-disc list-inside text-left inline-block text-md",children:[(0,gt.jsx)("li",{className:"mb-2",children:"Create new flashcard decks for any topic."}),(0,gt.jsx)("li",{className:"mb-2",children:"Add questions and answers to your flashcards."}),(0,gt.jsx)("li",{className:"mb-2",children:"Play decks to test your knowledge and track your progress."}),(0,gt.jsx)("li",{className:"mb-2",children:"Get personalized feedback and learning recommendations."}),(0,gt.jsx)("li",{children:"(Coming soon) Import documents to automatically generate flashcards!"})]})]})]}),wt=e=>{let{deck:t,onDelete:n,onEdit:r}=e;return(0,gt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 flex flex-col justify-between border border-gray-200 hover:shadow-xl transition-shadow duration-300",children:[(0,gt.jsxs)("div",{children:[(0,gt.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:t.name}),(0,gt.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:t.description||"No description provided."})]}),(0,gt.jsxs)("div",{className:"flex flex-col space-y-2 mt-4",children:[(0,gt.jsx)(Pe,{to:`/decks/${t.id}/play`,children:(0,gt.jsxs)(bt,{variant:"primary",className:"w-full flex items-center justify-center",children:[(0,gt.jsx)(Qe,{className:"mr-2"})," Play Deck"]})}),(0,gt.jsxs)(bt,{variant:"secondary",onClick:()=>r(t),className:"w-full flex items-center justify-center",children:[(0,gt.jsx)(He,{className:"mr-2"})," Edit Deck"]}),(0,gt.jsxs)(bt,{variant:"danger",onClick:()=>n(t.id),className:"w-full flex items-center justify-center",children:[(0,gt.jsx)(ct,{className:"mr-2"})," Delete Deck"]})]})]})},xt=e=>{let{label:t,id:n,className:r,...o}=e;return(0,gt.jsxs)("div",{className:"mb-4",children:[t&&(0,gt.jsx)("label",{htmlFor:n,className:"block text-gray-700 text-sm font-bold mb-2",children:t}),(0,gt.jsx)("input",{id:n,className:`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500 ${r||""}`,...o})]})},Et=e=>{let{label:t,id:n,className:r,...o}=e;return(0,gt.jsxs)("div",{className:"mb-4",children:[t&&(0,gt.jsx)("label",{htmlFor:n,className:"block text-gray-700 text-sm font-bold mb-2",children:t}),(0,gt.jsx)("textarea",{id:n,className:`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500 ${r||""}`,rows:4,...o})]})},Ot=()=>{const[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)(!0),[i,a]=(0,r.useState)(null),[s,u]=(0,r.useState)(!1),[l,c]=(0,r.useState)(""),[f,d]=(0,r.useState)(""),[h,p]=(0,r.useState)(null),v=async()=>{o(!0),a(null);const{data:e,error:n}=await(async()=>pt(`${ht}/decks`))();e?t(e):n&&a(n),o(!1)};(0,r.useEffect)(()=>{v()},[]);const g=async n=>{if(window.confirm("Are you sure you want to delete this deck?")){const{message:r,error:o}=await(async e=>pt(`${ht}/decks/${e}`,"DELETE"))(n);r?t(e.filter(e=>e.id!==n)):o&&a(o)}},y=e=>{p(e),c(e.name),d(e.description),u(!0)};return n?(0,gt.jsx)(mt,{className:"text-center",children:(0,gt.jsx)("p",{className:"text-gray-600 text-lg",children:"Loading decks..."})}):i?(0,gt.jsxs)(mt,{className:"text-center",children:[(0,gt.jsxs)("p",{className:"text-red-600 text-lg",children:["Error: ",i]}),(0,gt.jsx)(bt,{onClick:v,className:"mt-4",children:"Retry"})]}):(0,gt.jsxs)(mt,{children:[(0,gt.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,gt.jsx)("h1",{className:"text-4xl font-bold text-gray-800",children:"My Flashcard Decks"}),(0,gt.jsxs)(bt,{onClick:()=>u(!0),className:"flex items-center",children:[(0,gt.jsx)(Je,{className:"mr-2"})," Create New Deck"]})]}),0===e.length?(0,gt.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[(0,gt.jsx)("p",{className:"text-gray-600 text-lg mb-4",children:"No decks found. Start by creating a new one!"}),(0,gt.jsx)(bt,{onClick:()=>u(!0),children:"Create First Deck"})]}):(0,gt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,gt.jsx)(wt,{deck:e,onDelete:g,onEdit:y},e.id))}),s&&(0,gt.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center z-50",children:(0,gt.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-md",children:[(0,gt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:h?"Edit Deck":"Create New Deck"}),(0,gt.jsx)(xt,{id:"deck-name",label:"Deck Name",placeholder:"e.g., Biology Basics",value:l,onChange:e=>c(e.target.value)}),(0,gt.jsx)(Et,{id:"deck-description",label:"Description (Optional)",placeholder:"A brief description of this deck...",value:f,onChange:e=>d(e.target.value)}),i&&(0,gt.jsx)("p",{className:"text-red-500 text-sm mb-4",children:i}),(0,gt.jsxs)("div",{className:"flex justify-end space-x-4 mt-6",children:[(0,gt.jsx)(bt,{variant:"secondary",onClick:()=>{u(!1),p(null),c(""),d(""),a(null)},children:"Cancel"}),(0,gt.jsx)(bt,{onClick:async()=>{if(l.trim())if(h){const{data:n,error:r}=await(async(e,t)=>pt(`${ht}/decks/${e}`,"PUT",t))(h.id,{name:l,description:f});n?(t(e.map(e=>e.id===n.id?{...e,...n}:e)),u(!1),p(null),c(""),d("")):r&&a(r)}else{const{data:n,error:r}=await(async(e,t)=>pt(`${ht}/decks`,"POST",{name:e,description:t}))(l,f);n?(t([...e,n]),u(!1),c(""),d("")):r&&a(r)}else alert("Deck name cannot be empty.")},children:h?"Save Changes":"Create Deck"})]})]})})]})},St=e=>{let{messages:t,onSendMessage:n,isLoading:o,isCompleted:i,disabled:a=!1}=e;const[s,u]=(0,r.useState)(""),l=(0,r.useRef)(null);(0,r.useEffect)(()=>{(()=>{var e;null===(e=l.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[t]);return(0,gt.jsxs)("div",{className:"flex flex-col h-96 bg-gray-50 rounded-lg border",children:[(0,gt.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===t.length&&(0,gt.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,gt.jsx)(rt,{className:"mx-auto text-3xl mb-2"}),(0,gt.jsx)("p",{children:"Type your answer below to get started!"})]}),t.map((e,t)=>{return(0,gt.jsx)("div",{className:"flex "+("user"===e.role?"justify-end":"justify-start"),children:(0,gt.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg "+("user"===e.role?"bg-blue-500 text-white":!0===e.isCorrect?"bg-green-100 text-green-800 border border-green-200":!1===e.isCorrect?"bg-red-100 text-red-800 border border-red-200":"bg-white text-gray-800 border border-gray-200"),children:[(0,gt.jsxs)("div",{className:"flex items-center mb-1",children:["user"===e.role?(0,gt.jsx)(dt,{className:"text-sm mr-2"}):(0,gt.jsxs)("div",{className:"flex items-center",children:[(0,gt.jsx)(rt,{className:"text-sm mr-2"}),!0===e.isCorrect&&(0,gt.jsx)(Ve,{className:"text-green-600 text-xs ml-1"}),!1===e.isCorrect&&(0,gt.jsx)(lt,{className:"text-red-600 text-xs ml-1"})]}),(0,gt.jsx)("span",{className:"text-xs opacity-75",children:(n=e.timestamp,new Date(n).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))})]}),(0,gt.jsx)("p",{className:"text-sm",children:e.content})]})},t);var n}),o&&(0,gt.jsx)("div",{className:"flex justify-start",children:(0,gt.jsx)("div",{className:"bg-white text-gray-800 border border-gray-200 px-4 py-2 rounded-lg",children:(0,gt.jsxs)("div",{className:"flex items-center",children:[(0,gt.jsx)(rt,{className:"text-sm mr-2"}),(0,gt.jsxs)("div",{className:"flex space-x-1",children:[(0,gt.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,gt.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,gt.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})}),(0,gt.jsx)("div",{ref:l})]}),(0,gt.jsxs)("div",{className:"border-t bg-white p-4 rounded-b-lg",children:[(0,gt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),!s.trim()||o||i||a||(n(s.trim()),u(""))},className:"flex space-x-2",children:[(0,gt.jsx)("input",{type:"text",value:s,onChange:e=>u(e.target.value),placeholder:i?"Great job! Click 'Next Card' to continue.":"Type your answer here...",disabled:o||i||a,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"}),(0,gt.jsx)(bt,{type:"submit",disabled:!s.trim()||o||i||a,className:"flex items-center px-4 py-2",children:(0,gt.jsx)(Ze,{className:"text-sm"})})]}),i&&(0,gt.jsx)("div",{className:"mt-2 text-center",children:(0,gt.jsxs)("p",{className:"text-green-600 text-sm font-medium",children:[(0,gt.jsx)(Ve,{className:"inline mr-1"}),"Correct! You can now move to the next card."]})})]})]})},Tt=e=>{let{flashcard:t}=e;return(0,gt.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-8 min-h-[250px] flex flex-col justify-center items-center text-center border-b-4 border-blue-500",children:[(0,gt.jsx)("div",{className:"text-gray-700 text-sm font-semibold mb-2",children:"Question"}),(0,gt.jsx)("p",{className:"text-3xl font-bold text-gray-900 leading-relaxed",children:t.question})]})},Pt=()=>{const{id:e}=function(){let{matches:e}=r.useContext(X),t=e[e.length-1];return t?t.params:{}}(),t=Number(e),[n,o]=(0,r.useState)(null),[i,a]=(0,r.useState)(null),[s,u]=(0,r.useState)(!0),[l,c]=(0,r.useState)(!1),[f,d]=(0,r.useState)(null),[h,p]=(0,r.useState)([]),[v,g]=(0,r.useState)(!1),[y,m]=(0,r.useState)(!1),[b,_]=(0,r.useState)(!1),[w,x]=(0,r.useState)(null),E=(0,r.useCallback)(async()=>{u(!0),d(null);const{data:e,error:n}=await(async e=>pt(`${ht}/decks/${e}`))(t);e?o(e):n&&d(n),u(!1)},[t]),O=(0,r.useCallback)(async()=>{const{data:e,error:n}=await(async e=>pt(`${ht}/decks/${e}/unseen-count`))(t);e?x(e):n&&console.error("Failed to fetch card progress:",n)},[t]),S=(0,r.useCallback)(async()=>{c(!0),d(null);const{data:e,error:n}=await(async e=>pt(`${ht}/decks/${e}/next-card`))(t);e?(a(e),_(!1),await O()):n&&(n.includes("No unseen cards remaining")?(_(!0),a(null),await O()):d(n)),c(!1)},[t,O]);(0,r.useEffect)(()=>{E()},[E]),(0,r.useEffect)(()=>{n&&(O(),S())},[n,S,O]);const T=()=>{p([]),g(!1),m(!1)},P=async()=>{T(),await S()},C=async()=>{d(null),c(!0);const{error:e}=await(async e=>pt(`${ht}/decks/${e}/reset-cards`,"POST"))(t);e?(d(e),c(!1)):(_(!1),T(),await S())};return s?(0,gt.jsx)(mt,{className:"text-center",children:(0,gt.jsx)("p",{className:"text-gray-600 text-lg",children:"Loading deck..."})}):f?(0,gt.jsxs)(mt,{className:"text-center",children:[(0,gt.jsxs)("p",{className:"text-red-600 text-lg",children:["Error: ",f]}),(0,gt.jsx)(bt,{onClick:E,className:"mt-4",children:"Retry"})]}):n?b?(0,gt.jsxs)(mt,{className:"text-center",children:[(0,gt.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Deck Completed!"}),(0,gt.jsxs)("p",{className:"text-gray-600 text-lg mb-6",children:["You've completed all cards in \"",n.name,'". Great job!']}),w&&(0,gt.jsxs)("p",{className:"text-gray-500 text-sm mb-6",children:["You've seen ",w.totalCount," out of ",w.totalCount," cards"]}),(0,gt.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,gt.jsxs)(bt,{onClick:C,className:"flex items-center",children:[(0,gt.jsx)(it,{className:"mr-2"})," Play Again"]}),(0,gt.jsx)(bt,{onClick:()=>window.history.back(),variant:"secondary",children:"Go Back to Decks"})]})]}):l?(0,gt.jsx)(mt,{className:"text-center",children:(0,gt.jsx)("p",{className:"text-gray-600 text-lg",children:"Loading next card..."})}):i?(0,gt.jsxs)(mt,{children:[(0,gt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,gt.jsxs)("div",{children:[(0,gt.jsxs)("h1",{className:"text-4xl font-bold text-gray-800",children:["Playing: ",n.name]}),w&&(0,gt.jsxs)("p",{className:"text-gray-600 mt-2",children:[w.unseenCount," cards remaining (",w.seenCount," of ",w.totalCount," completed)"]})]}),(0,gt.jsxs)(bt,{onClick:C,variant:"secondary",className:"flex items-center",children:[(0,gt.jsx)(it,{className:"mr-2"})," Reset Deck"]})]}),(0,gt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,gt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,gt.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[(0,gt.jsx)(Tt,{flashcard:i}),(0,gt.jsx)("div",{className:"flex justify-center space-x-4 mt-8",children:(0,gt.jsxs)(bt,{variant:"secondary",onClick:async()=>{if(!i)return;d(null);const e=(new Date).toISOString(),{error:t}=await(async(e,t)=>pt(`${ht}/flashcardanswers/skip`,"POST",{flashcardId:e,time:t}))(i.id,e);t&&d(t),h.length>0&&vt(i.id,h,i.answer),await P()},className:"flex items-center",disabled:l,children:[(0,gt.jsx)(Xe,{className:"mr-2"})," Skip"]})})]}),(0,gt.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[(0,gt.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Answer & Get Feedback"}),(0,gt.jsx)(St,{messages:h,onSendMessage:async e=>{if(!i)return;g(!0),d(null);const t=(new Date).toISOString(),n={role:"user",content:e,timestamp:t};p(e=>[...e,n]);const{data:r,error:o}=await(async(e,t,n)=>pt(`${ht}/flashcardanswers/validate`,"POST",{flashcardId:e,userAnswer:t,time:n}))(i.id,e,t);if(r){const e={role:"assistant",content:r.feedback||"",timestamp:(new Date).toISOString(),isCorrect:r.isCorrect};p(t=>[...t,e]),m(r.isCorrect)}else o&&d(o);g(!1)},isLoading:v,isCompleted:y}),y&&(0,gt.jsxs)("div",{className:"flex justify-center space-x-4 mt-6",children:[(0,gt.jsxs)(bt,{onClick:()=>{T()},variant:"secondary",className:"flex items-center",children:[(0,gt.jsx)(nt,{className:"mr-2"})," Try Again"]}),(0,gt.jsxs)(bt,{onClick:()=>{P(),(async()=>{i&&(c(!0),d(null),await vt(i.id,h,i.answer))})()},variant:"primary",className:"flex items-center",disabled:l,children:["Next Card ",(0,gt.jsx)(Le,{className:"ml-2"})]})]})]})]}),f&&(0,gt.jsx)("div",{className:"mt-6 text-center",children:(0,gt.jsxs)("p",{className:"text-red-600 flex items-center justify-center",children:[(0,gt.jsx)(ut,{className:"mr-2"})," Error: ",f]})})]})]}):(0,gt.jsxs)(mt,{className:"text-center",children:[(0,gt.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"No Card Available"}),(0,gt.jsx)("p",{className:"text-gray-600 text-lg",children:"Unable to load the next card."}),(0,gt.jsx)(bt,{onClick:S,className:"mt-4",children:"Try Again"})]}):(0,gt.jsxs)(mt,{className:"text-center",children:[(0,gt.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Deck Not Found"}),(0,gt.jsx)("p",{className:"text-gray-600 text-lg",children:"This deck might not exist."}),(0,gt.jsx)(bt,{onClick:()=>window.history.back(),className:"mt-6",children:"Go Back to Decks"})]})},Ct=()=>{const[e,t]=(0,r.useState)(null),[n,o]=(0,r.useState)("idle"),[i,a]=(0,r.useState)("");return(0,gt.jsxs)(mt,{children:[(0,gt.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-8 text-center",children:"Import Document to Create Flashcards"}),(0,gt.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-2xl mx-auto",children:[(0,gt.jsxs)("p",{className:"text-gray-700 mb-6 text-center",children:["Upload a document (e.g., PDF, text file) and we'll help you generate flashcards from its content.",(0,gt.jsx)("br",{}),(0,gt.jsx)("span",{className:"text-sm text-gray-500",children:"(Note: This feature is currently a placeholder. The backend processing is under development.)"})]}),(0,gt.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center mb-6 hover:border-blue-400 transition duration-300",children:[(0,gt.jsx)("input",{type:"file",id:"document-upload",className:"hidden",onChange:e=>{e.target.files&&e.target.files.length>0&&(t(e.target.files[0]),o("idle"),a(""))},accept:".pdf,.txt,.doc,.docx"}),(0,gt.jsxs)("label",{htmlFor:"document-upload",className:"cursor-pointer text-blue-600 hover:text-blue-800 font-semibold flex flex-col items-center justify-center",children:[(0,gt.jsx)(ft,{className:"text-5xl mb-4 text-gray-400"}),(0,gt.jsx)("span",{className:"text-lg",children:e?e.name:"Drag & Drop your file here, or click to browse"}),e&&(0,gt.jsxs)("span",{className:"text-sm text-gray-500 mt-2",children:["File selected: ",e.name]})]})]}),(0,gt.jsx)(bt,{onClick:async()=>{if(!e)return void a("Please select a file first.");o("uploading"),a("Processing document...");const n=await(async e=>{if(!e)return pt(`${ht}/processDocument`,"POST",{});{const t=new FormData;t.append("document",e);try{const e=await fetch(`${ht}/processDocument`,{method:"POST",body:t});return e.ok?{data:await e.json()}:{error:(await e.json()).message||"Failed to process document"}}catch(Lr){return{error:Lr.message||"Network error during file upload"}}}})(e);n.data?(o("success"),a(n.data.message||"Document processed successfully!"),t(null)):n.error&&(o("error"),a(n.error||"Failed to process document."))},disabled:!e||"uploading"===n,className:"w-full flex items-center justify-center",children:"uploading"===n?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,gt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,gt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Uploading..."]}):(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(ft,{className:"mr-2"})," Upload Document"]})}),i&&(0,gt.jsxs)("div",{className:"mt-6 p-4 rounded-lg flex items-center "+("success"===n?"bg-green-100 text-green-800":"error"===n?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:["success"===n&&(0,gt.jsx)(ze,{className:"mr-3 text-xl"}),"error"===n&&(0,gt.jsx)(ut,{className:"mr-3 text-xl"}),(0,gt.jsx)("p",{children:i})]})]})]})},kt=e=>{const t=[];let n=e,r=0;const o=/<important>(.*?)<\/important>/g;let i;for(;null!==(i=o.exec(e));){const e=i[0],o=i[1],a=i.index,s=a-r,u=s+o.length;t.push({start:s,end:u});const l=n.substring(0,a-r),c=n.substring(a-r+e.length);n=l+o+c,r+=e.length-o.length}return{cleanText:n,highlights:t}},At=(e,t)=>{if(0===e.length)return{wordStart:0,wordEnd:0};if(t<0&&(t=0),t>e.length&&(t=e.length),t===e.length||!/\p{L}|\p{N}/u.test(e[t])){if(!(t>0&&/\p{L}|\p{N}/u.test(e[t-1])))return{wordStart:t,wordEnd:t};t--}let n=t;for(;n>0&&/\p{L}|\p{N}/u.test(e[n-1]);)n--;let r=t;for(;r<e.length&&/\p{L}|\p{N}/u.test(e[r]);)r++;return{wordStart:n,wordEnd:r}},Nt=e=>{if(e.length<=1)return e;const t=[...e].sort((e,t)=>e.start-t.start),n=[];let r={...t[0]};for(let o=1;o<t.length;o++){const e=t[o];e.start<=r.end?r.end=Math.max(r.end,e.end):(n.push(r),r={...e})}return n.push(r),n},jt=e=>{let{onSendToWebhook:t,onSendToTestWebhook:n,webhookLoading:o=!1,testWebhookLoading:i=!1,webhookStatus:a="",testWebhookStatus:s=""}=e;const[u,l]=(0,r.useState)("Paste your text here to start highlighting..."),[c,f]=(0,r.useState)([]),[d,h]=(0,r.useState)(!0),p=(0,r.useRef)(null);r.useEffect(()=>{const{cleanText:e,highlights:t}=kt(u);t.length>0&&(l(e),f(Nt(t)))},[]);const v=()=>{if(!u)return"";const e=[...c].sort((e,t)=>e.start-t.start);let t=[],n=0;return e.forEach(e=>{e.start>n&&t.push(u.substring(n,e.start)),t.push(`<important>${u.substring(e.start,e.end)}</important>`),n=e.end}),n<u.length&&t.push(u.substring(n)),t.join("")},g=(0,r.useCallback)(()=>{if(0===c.length)return u;let e=0;const t=[];return c.forEach((n,r)=>{n.start>e&&t.push(u.substring(e,n.start)),t.push((0,gt.jsxs)("span",{className:"relative group bg-yellow-300 rounded-sm px-1 py-0.5 cursor-pointer",children:[u.substring(n.start,n.end),(0,gt.jsx)("button",{onClick:e=>{var t;e.stopPropagation(),t=r,f(e=>e.filter((e,n)=>n!==t))},className:"absolute -top-2 -right-2 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove highlight",children:"\xd7"})]},`${n.start}-${n.end}-${r}`)),e=n.end}),e<u.length&&t.push(u.substring(e)),t},[u,c]);return(0,gt.jsxs)("div",{className:"space-y-6",children:[(0,gt.jsxs)("div",{className:"text-center",children:[(0,gt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Text Highlighter"}),(0,gt.jsx)("p",{className:"text-gray-500",children:"Select text with your mouse to highlight it. Click the 'X' on a highlight to remove it."})]}),(0,gt.jsx)("div",{ref:p,onMouseUp:()=>{if(d)return;const e=window.getSelection();if(!e||!p.current||!p.current.contains(e.anchorNode)||!p.current.contains(e.focusNode))return;let{start:t,end:n}=(e=>{const t=window.getSelection();if(!t||!t.rangeCount)return{start:0,end:0};const n=t.getRangeAt(0),r=document.createRange();r.selectNodeContents(e),r.setEnd(n.startContainer,n.startOffset);const o=r.toString().length,i=document.createRange();i.selectNodeContents(e),i.setEnd(n.endContainer,n.endOffset);const a=i.toString().length;return o>a?{start:a,end:o}:{start:o,end:a}})(p.current);const{wordStart:r,wordEnd:o}=((e,t,n)=>{if(0===e.length)return{wordStart:0,wordEnd:0};if(t===n)return At(e,t);let r=t;for(;r>0&&/\p{L}|\p{N}/u.test(e[r-1]);)r--;let o=n;for(;o<e.length&&/\p{L}|\p{N}/u.test(e[o]);)o++;if(r>=o||0===e.substring(r,o).trim().length){const{wordStart:r,wordEnd:o}=At(e,t);return r<o?{wordStart:r,wordEnd:o}:{wordStart:t,wordEnd:n}}return{wordStart:r,wordEnd:o}})(u,t,n);if(r>=o||0===u.substring(r,o).trim().length)return void e.removeAllRanges();const i={start:r,end:o};f(e=>Nt([...e,i])),e.removeAllRanges()},onInput:e=>{const t=e.currentTarget.textContent||"",n=window.getSelection();let r=0;if(n&&n.rangeCount>0&&p.current){const e=n.getRangeAt(0),t=document.createRange();t.selectNodeContents(p.current),t.setEnd(e.endContainer,e.endOffset),r=t.toString().length}l(t),d&&"Paste your text here to start highlighting..."!==t&&h(!1),setTimeout(()=>{if(p.current&&n){const t=p.current.firstChild;if(t&&t.nodeType===Node.TEXT_NODE){var e;const o=document.createRange(),i=Math.min(r,(null===(e=t.textContent)||void 0===e?void 0:e.length)||0);o.setStart(t,i),o.setEnd(t,i),n.removeAllRanges(),n.addRange(o)}}},0)},onPaste:e=>{e.preventDefault();const t=e.clipboardData.getData("text"),{cleanText:n,highlights:r}=kt(t);l(n),f(Nt(r)),h(!1),p.current&&(p.current.innerText=n)},onClick:()=>{d&&(l(""),h(!1),p.current&&(p.current.innerText="",p.current.focus()))},contentEditable:!0,suppressContentEditableWarning:!0,className:"w-full h-80 p-4 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 overflow-y-auto whitespace-pre-wrap leading-relaxed "+(d?"text-gray-400 italic":""),style:{lineHeight:"1.75"},children:g()}),(0,gt.jsxs)("div",{className:"space-y-4",children:[(0,gt.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between",children:[(0,gt.jsxs)("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:[(0,gt.jsx)("span",{className:"font-semibold",children:c.length})," highlight(s) created."]}),(0,gt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[(0,gt.jsx)(bt,{onClick:async()=>{u&&!d&&t&&await t(v(),c)},disabled:!u||d||o,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400",children:o?"Sending...":"Send to Webhook"}),(0,gt.jsx)(bt,{onClick:async()=>{u&&!d&&n&&await n(v(),c)},disabled:!u||d||i,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400",children:i?"Sending...":"Send to Test Webhook"}),(0,gt.jsx)(bt,{onClick:()=>{const e=v();if(!e)return;const t=new Blob([e],{type:"text/plain;charset=utf-8"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="highlighted.txt",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)},disabled:0===c.length,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400",children:"Download Text"})]})]}),a&&(0,gt.jsx)("div",{className:"text-sm text-center py-2 px-4 rounded-lg bg-gray-100",children:a}),s&&(0,gt.jsx)("div",{className:"text-sm text-center py-2 px-4 rounded-lg bg-gray-100",children:s})]})]})},Rt=()=>{const[e,t]=(0,r.useState)(!1),[n,o]=(0,r.useState)(!1),[i,a]=(0,r.useState)(""),[s,u]=(0,r.useState)("");return(0,gt.jsxs)(mt,{children:[(0,gt.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-8 text-center",children:"Import from Text"}),(0,gt.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-4xl mx-auto",children:[(0,gt.jsx)("p",{className:"text-gray-700 mb-6 text-center",children:"Paste your text below and highlight important sections. We'll help you generate flashcards from the highlighted content."}),(0,gt.jsx)(jt,{onSendToWebhook:async(e,n)=>{t(!0),a("");try{const t=await(async(e,t)=>{const n={text:e,highlights:t,timestamp:(new Date).toISOString()};try{const e=await fetch("http://localhost:5678/webhook/create-deck",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!e.ok)throw new Error(`Webhook error: ${e.status}`);return{success:!0,message:"Successfully sent to webhook"}}catch(Lr){return{success:!1,error:Lr.message||"Network error"}}})(e,n);t.success?a("\u2705 "+t.message):a("\u274c "+t.error)}catch(Lr){a("\u274c Network error")}finally{t(!1),setTimeout(()=>a(""),3e3)}},onSendToTestWebhook:async(e,t)=>{o(!0),u("");try{const n=await(async(e,t)=>{const n={text:e,highlights:t,timestamp:(new Date).toISOString()};try{const e=await fetch("http://localhost:5678/webhook-test/create-deck",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!e.ok)throw new Error(`Test webhook error: ${e.status}`);return{success:!0,message:"Successfully sent to test webhook"}}catch(Lr){return{success:!1,error:Lr.message||"Network error"}}})(e,t);n.success?u("\u2705 "+n.message):u("\u274c "+n.error)}catch(Lr){u("\u274c Network error")}finally{o(!1),setTimeout(()=>u(""),3e3)}},webhookLoading:e,testWebhookLoading:n,webhookStatus:i,testWebhookStatus:s})]})]})},It=()=>{const[e,t]=(0,r.useState)(""),[n,o]=(0,r.useState)(!1),[i,a]=(0,r.useState)(null),s=async()=>{o(!0),a(null);const{data:e,error:n}=await(async()=>pt(`${ht}/feedback`))();e?t(e.feedback):n&&a(n),o(!1)};return(0,r.useEffect)(()=>{s()},[]),(0,gt.jsx)(mt,{children:(0,gt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,gt.jsxs)("div",{className:"text-center mb-8",children:[(0,gt.jsxs)("h1",{className:"text-4xl font-bold text-gray-800 mb-4 flex items-center justify-center",children:[(0,gt.jsx)($e,{className:"mr-3 text-yellow-500"}),"Feedback & Recommendations"]}),(0,gt.jsx)("p",{className:"text-gray-600 text-lg",children:"Get personalized insights about your learning progress and recommendations for improvement."})]}),(0,gt.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-8 mb-6",children:[(0,gt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,gt.jsxs)("h2",{className:"text-2xl font-semibold text-gray-800 flex items-center",children:[(0,gt.jsx)(Ue,{className:"mr-2 text-blue-500"}),"Your Learning Insights"]}),(0,gt.jsxs)(bt,{onClick:s,disabled:n,variant:"secondary",className:"flex items-center",children:[(0,gt.jsx)(nt,{className:"mr-2 "+(n?"animate-spin":"")}),n?"Refreshing...":"Refresh"]})]}),n&&!e&&(0,gt.jsxs)("div",{className:"text-center py-12",children:[(0,gt.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,gt.jsx)("p",{className:"text-gray-600 mt-4",children:"Analyzing your learning progress..."})]}),i&&(0,gt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[(0,gt.jsxs)("p",{className:"text-red-600 text-lg mb-4",children:["Error: ",i]}),(0,gt.jsx)(bt,{onClick:s,variant:"primary",children:"Try Again"})]}),e&&!n&&(0,gt.jsxs)("div",{className:"space-y-6",children:[(0,gt.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 border border-blue-200",children:[(0,gt.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"AI-Generated Feedback & Recommendations"}),(0,gt.jsx)("div",{className:"prose max-w-none",children:(0,gt.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e})})]}),(0,gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8",children:[(0,gt.jsxs)("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200",children:[(0,gt.jsx)("h4",{className:"text-lg font-semibold text-green-800 mb-3",children:"\ud83d\udca1 Quick Tips"}),(0,gt.jsxs)("ul",{className:"text-green-700 space-y-2",children:[(0,gt.jsx)("li",{children:"\u2022 Review flashcards regularly for better retention"}),(0,gt.jsx)("li",{children:"\u2022 Focus on cards you find most challenging"}),(0,gt.jsx)("li",{children:"\u2022 Take breaks between study sessions"})]})]}),(0,gt.jsxs)("div",{className:"bg-orange-50 rounded-lg p-6 border border-orange-200",children:[(0,gt.jsx)("h4",{className:"text-lg font-semibold text-orange-800 mb-3",children:"\ud83d\udcca Study Statistics"}),(0,gt.jsxs)("ul",{className:"text-orange-700 space-y-2",children:[(0,gt.jsx)("li",{children:"\u2022 Cards studied: Coming soon"}),(0,gt.jsx)("li",{children:"\u2022 Average accuracy: Coming soon"}),(0,gt.jsx)("li",{children:"\u2022 Study streak: Coming soon"})]})]})]})]})]}),(0,gt.jsx)("div",{className:"text-center text-gray-500 text-sm",children:(0,gt.jsxs)("p",{children:["This feedback is generated based on your learning patterns and performance.",(0,gt.jsx)("br",{}),"Keep practicing to see more personalized recommendations!"]})})]})})};function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lt(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vt(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ht(e))||t){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ft(e,t,n){return(t=Vt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||Ht(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e){return function(e){if(Array.isArray(e))return Mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ht(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function Ht(e,t){if(e){if("string"==typeof e)return Mt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(e,t):void 0}}var Gt="undefined"===typeof window?null:window,qt=Gt?Gt.navigator:null;Gt&&Gt.document;var Yt,Xt,Kt,$t,Zt,Qt,Jt,en,tn,nn,rn,on,an,sn,un,ln,cn,fn,dn,hn,pn,vn,gn,yn,mn,bn,_n,wn,xn=Wt(""),En=Wt({}),On=Wt(function(){}),Sn="undefined"===typeof HTMLElement?"undefined":Wt(HTMLElement),Tn=function(e){return e&&e.instanceString&&Cn(e.instanceString)?e.instanceString():null},Pn=function(e){return null!=e&&Wt(e)==xn},Cn=function(e){return null!=e&&Wt(e)===On},kn=function(e){return!Rn(e)&&(Array.isArray?Array.isArray(e):null!=e&&e instanceof Array)},An=function(e){return null!=e&&Wt(e)===En&&!kn(e)&&e.constructor===Object},Nn=function(e){return null!=e&&Wt(e)===Wt(1)&&!isNaN(e)},jn=function(e){return"undefined"===Sn?void 0:null!=e&&e instanceof HTMLElement},Rn=function(e){return In(e)||Mn(e)},In=function(e){return"collection"===Tn(e)&&e._private.single},Mn=function(e){return"collection"===Tn(e)&&!e._private.single},Dn=function(e){return"core"===Tn(e)},Ln=function(e){return"stylesheet"===Tn(e)},Bn=function(e){return void 0===e||null===e||!(""!==e&&!e.match(/^\s+$/))},Fn=function(e){return function(e){return null!=e&&Wt(e)===En}(e)&&Cn(e.then)},Un=function(e,t){t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var n=function(){var r,o=arguments,i=t.apply(this,o),a=n.cache;return(r=a[i])||(r=a[i]=e.apply(this,o)),r};return n.cache={},n},zn=Un(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Vn=Un(function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),Wn=Un(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),Hn=function(e){return Bn(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Gn=function(e,t){return e.slice(-1*t.length)===t},qn="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Yn="rgb[a]?\\(("+qn+"[%]?)\\s*,\\s*("+qn+"[%]?)\\s*,\\s*("+qn+"[%]?)(?:\\s*,\\s*("+qn+"))?\\)",Xn="rgb[a]?\\((?:"+qn+"[%]?)\\s*,\\s*(?:"+qn+"[%]?)\\s*,\\s*(?:"+qn+"[%]?)(?:\\s*,\\s*(?:"+qn+"))?\\)",Kn="hsl[a]?\\(("+qn+")\\s*,\\s*("+qn+"[%])\\s*,\\s*("+qn+"[%])(?:\\s*,\\s*("+qn+"))?\\)",$n="hsl[a]?\\((?:"+qn+")\\s*,\\s*(?:"+qn+"[%])\\s*,\\s*(?:"+qn+"[%])(?:\\s*,\\s*(?:"+qn+"))?\\)",Zn=function(e,t){return e<t?-1:e>t?1:0},Qn=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];if(null!=r)for(var o=Object.keys(r),i=0;i<o.length;i++){var a=o[i];e[a]=r[a]}}return e},Jn=function(e){return(kn(e)?e:null)||function(e){return er[e.toLowerCase()]}(e)||function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,n,r,o=16;return 4===e.length?(t=parseInt(e[1]+e[1],o),n=parseInt(e[2]+e[2],o),r=parseInt(e[3]+e[3],o)):(t=parseInt(e[1]+e[2],o),n=parseInt(e[3]+e[4],o),r=parseInt(e[5]+e[6],o)),[t,n,r]}}(e)||function(e){var t,n=new RegExp("^"+Yn+"$").exec(e);if(n){t=[];for(var r=[],o=1;o<=3;o++){var i=n[o];if("%"===i[i.length-1]&&(r[o]=!0),i=parseFloat(i),r[o]&&(i=i/100*255),i<0||i>255)return;t.push(Math.floor(i))}var a=r[1]||r[2]||r[3],s=r[1]&&r[2]&&r[3];if(a&&!s)return;var u=n[4];if(void 0!==u){if((u=parseFloat(u))<0||u>1)return;t.push(u)}}return t}(e)||function(e){var t,n,r,o,i,a,s,u;function l(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var c=new RegExp("^"+Kn+"$").exec(e);if(c){if((n=parseInt(c[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(r=parseFloat(c[2]))<0||r>100)return;if(r/=100,(o=parseFloat(c[3]))<0||o>100)return;if(o/=100,void 0!==(i=c[4])&&((i=parseFloat(i))<0||i>1))return;if(0===r)a=s=u=Math.round(255*o);else{var f=o<.5?o*(1+r):o+r-o*r,d=2*o-f;a=Math.round(255*l(d,f,n+1/3)),s=Math.round(255*l(d,f,n)),u=Math.round(255*l(d,f,n-1/3))}t=[a,s,u,i]}return t}(e)},er={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},tr=function(e){for(var t=e.map,n=e.keys,r=n.length,o=0;o<r;o++){var i=n[o];if(An(i))throw Error("Tried to set map with object key");o<n.length-1?(null==t[i]&&(t[i]={}),t=t[i]):t[i]=e.value}},nr=function(e){for(var t=e.map,n=e.keys,r=n.length,o=0;o<r;o++){var i=n[o];if(An(i))throw Error("Tried to get map with object key");if(null==(t=t[i]))return t}return t},rr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};function or(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ir(){if(Xt)return Yt;return Xt=1,Yt=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Yt}function ar(){if(Qt)return Zt;Qt=1;var e=function(){if($t)return Kt;$t=1;var e="object"==typeof rr&&rr&&rr.Object===Object&&rr;return Kt=e}(),t="object"==typeof self&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Zt=n}function sr(){if(on)return rn;on=1;var e=function(){if(nn)return tn;nn=1;var e=/\s/;return tn=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n},tn}(),t=/^\s+/;return rn=function(n){return n?n.slice(0,e(n)+1).replace(t,""):n},rn}function ur(){if(sn)return an;sn=1;var e=ar().Symbol;return an=e}function lr(){if(hn)return dn;hn=1;var e=ur(),t=function(){if(ln)return un;ln=1;var e=ur(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,o=e?e.toStringTag:void 0;return un=function(e){var t=n.call(e,o),i=e[o];try{e[o]=void 0;var a=!0}catch(qm){}var s=r.call(e);return a&&(t?e[o]=i:delete e[o]),s}}(),n=function(){if(fn)return cn;fn=1;var e=Object.prototype.toString;return cn=function(t){return e.call(t)}}(),r=e?e.toStringTag:void 0;return dn=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?t(e):n(e)}}function cr(){if(yn)return gn;yn=1;var e=lr(),t=vn?pn:(vn=1,pn=function(e){return null!=e&&"object"==typeof e});return gn=function(n){return"symbol"==typeof n||t(n)&&"[object Symbol]"==e(n)}}var fr=function(){if(wn)return _n;wn=1;var e=ir(),t=function(){if(en)return Jt;en=1;var e=ar();return Jt=function(){return e.Date.now()}}(),n=function(){if(bn)return mn;bn=1;var e=sr(),t=ir(),n=cr(),r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt;return mn=function(s){if("number"==typeof s)return s;if(n(s))return NaN;if(t(s)){var u="function"==typeof s.valueOf?s.valueOf():s;s=t(u)?u+"":u}if("string"!=typeof s)return 0===s?s:+s;s=e(s);var l=o.test(s);return l||i.test(s)?a(s.slice(2),l?2:8):r.test(s)?NaN:+s}}(),r=Math.max,o=Math.min;return _n=function(i,a,s){var u,l,c,f,d,h,p=0,v=!1,g=!1,y=!0;if("function"!=typeof i)throw new TypeError("Expected a function");function m(e){var t=u,n=l;return u=l=void 0,p=e,f=i.apply(n,t)}function b(e){var t=e-h;return void 0===h||t>=a||t<0||g&&e-p>=c}function _(){var e=t();if(b(e))return w(e);d=setTimeout(_,function(e){var t=a-(e-h);return g?o(t,c-(e-p)):t}(e))}function w(e){return d=void 0,y&&u?m(e):(u=l=void 0,f)}function x(){var e=t(),n=b(e);if(u=arguments,l=this,h=e,n){if(void 0===d)return function(e){return p=e,d=setTimeout(_,a),v?m(e):f}(h);if(g)return clearTimeout(d),d=setTimeout(_,a),m(h)}return void 0===d&&(d=setTimeout(_,a)),f}return a=n(a)||0,e(s)&&(v=!!s.leading,c=(g="maxWait"in s)?r(n(s.maxWait)||0,a):c,y="trailing"in s?!!s.trailing:y),x.cancel=function(){void 0!==d&&clearTimeout(d),p=0,u=h=l=d=void 0},x.flush=function(){return void 0===d?f:w(t())},x},_n}(),dr=or(fr),hr=Gt?Gt.performance:null,pr=hr&&hr.now?function(){return hr.now()}:function(){return Date.now()},vr=function(){if(Gt){if(Gt.requestAnimationFrame)return function(e){Gt.requestAnimationFrame(e)};if(Gt.mozRequestAnimationFrame)return function(e){Gt.mozRequestAnimationFrame(e)};if(Gt.webkitRequestAnimationFrame)return function(e){Gt.webkitRequestAnimationFrame(e)};if(Gt.msRequestAnimationFrame)return function(e){Gt.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(pr())},1e3/60)}}(),gr=function(e){return vr(e)},yr=pr,mr=9261,br=5381,_r=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mr;!(t=e.next()).done;)n=65599*n+t.value|0;return n},wr=function(e){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:mr)+e|0},xr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:br;return(t<<5)+t+e|0},Er=function(e){return 2097152*e[0]+e[1]},Or=function(e,t){return[wr(e[0],t[0]),xr(e[1],t[1])]},Sr=function(e,t){var n={value:0,done:!1},r=0,o=e.length;return _r({next:function(){return r<o?n.value=e[r++]:n.done=!0,n}},t)},Tr=function(e,t){var n={value:0,done:!1},r=0,o=e.length;return _r({next:function(){return r<o?n.value=e.charCodeAt(r++):n.done=!0,n}},t)},Pr=function(){return Cr(arguments)},Cr=function(e){for(var t,n=0;n<e.length;n++){var r=e[n];t=0===n?Tr(r):Tr(r,t)}return t},kr=!0,Ar=null!=console.warn,Nr=null!=console.trace,jr=Number.MAX_SAFE_INTEGER||9007199254740991,Rr=function(){return!0},Ir=function(){return!1},Mr=function(){return 0},Dr=function(){},Lr=function(e){throw new Error(e)},Br=function(e){if(void 0===e)return kr;kr=!!e},Fr=function(e){Br()&&(Ar?console.warn(e):(console.log(e),Nr&&console.trace()))},Ur=function(e){return null==e?e:kn(e)?e.slice():An(e)?function(e){return Qn({},e)}(e):e},zr=function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t},Vr={},Wr=function(){return Vr},Hr=function(e){var t=Object.keys(e);return function(n){for(var r={},o=0;o<t.length;o++){var i=t[o],a=null==n?void 0:n[i];r[i]=void 0===a?e[i]:a}return r}},Gr=function(e,t,n){for(var r=e.length-1;r>=0;r--)e[r]===t&&e.splice(r,1)},qr=function(e){e.splice(0,e.length)},Yr=function(e,t,n){return n&&(t=Wn(n,t)),e[t]},Xr=function(e,t,n,r){n&&(t=Wn(n,t)),e[t]=r},Kr="undefined"!==typeof Map?Map:function(){return Lt(function e(){Dt(this,e),this._obj={}},[{key:"set",value:function(e,t){return this._obj[e]=t,this}},{key:"delete",value:function(e){return this._obj[e]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(e){return void 0!==this._obj[e]}},{key:"get",value:function(e){return this._obj[e]}}])}(),$r=function(){return Lt(function e(t){if(Dt(this,e),this._obj=Object.create(null),this.size=0,null!=t){var n;n=null!=t.instanceString&&t.instanceString()===this.instanceString()?t.toArray():t;for(var r=0;r<n.length;r++)this.add(n[r])}},[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){var t=this._obj;1!==t[e]&&(t[e]=1,this.size++)}},{key:"delete",value:function(e){var t=this._obj;1===t[e]&&(t[e]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var e=this;return Object.keys(this._obj).filter(function(t){return e.has(t)})}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}}])}(),Zr="undefined"!==("undefined"===typeof Set?"undefined":Wt(Set))?Set:$r,Qr=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==e&&void 0!==t&&Dn(e)){var r=t.group;if(null==r&&(r=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"===r||"edges"===r){this.length=1,this[0]=this;var o=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:r,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,pannable:void 0===t.pannable?"edges"===r:!!t.pannable,active:!1,classes:new Zr,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==o.position.x&&(o.position.x=0),null==o.position.y&&(o.position.y=0),t.renderedPosition){var i=t.renderedPosition,a=e.pan(),s=e.zoom();o.position={x:(i.x-a.x)/s,y:(i.y-a.y)/s}}var u=[];kn(t.classes)?u=t.classes:Pn(t.classes)&&(u=t.classes.split(/\s+/));for(var l=0,c=u.length;l<c;l++){var f=u[l];f&&""!==f&&o.classes.add(f)}this.createEmitter(),(void 0===n||n)&&this.restore();var d=t.style||t.css;d&&(Fr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(d))}else Lr("An element must be of type `nodes` or `edges`; you specified `"+r+"`")}else Lr("An element must have a core reference and parameters set")},Jr=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,n,r){var o;An(t)&&!Rn(t)&&(t=(o=t).roots||o.root,n=o.visit,r=o.directed),r=2!==arguments.length||Cn(n)?r:n,n=Cn(n)?n:function(){};for(var i,a=this._private.cy,s=t=Pn(t)?this.filter(t):t,u=[],l=[],c={},f={},d={},h=0,p=this.byGroup(),v=p.nodes,g=p.edges,y=0;y<s.length;y++){var m=s[y],b=m.id();m.isNode()&&(u.unshift(m),e.bfs&&(d[b]=!0,l.push(m)),f[b]=0)}for(var _,w=function(){var t=e.bfs?u.shift():u.pop(),o=t.id();if(e.dfs){if(d[o])return 0;d[o]=!0,l.push(t)}var a,s=f[o],p=c[o],y=null!=p?p.source():null,m=null!=p?p.target():null,b=null==p?void 0:t.same(y)?m[0]:y[0];if(!0===(a=n(t,p,b,h++,s)))return i=t,1;if(!1===a)return 1;for(var _=t.connectedEdges().filter(function(e){return(!r||e.source().same(t))&&g.has(e)}),w=0;w<_.length;w++){var x=_[w],E=x.connectedNodes().filter(function(e){return!e.same(t)&&v.has(e)}),O=E.id();0===E.length||d[O]||(E=E[0],u.push(E),e.bfs&&(d[O]=!0,l.push(E)),c[O]=x,f[O]=f[o]+1)}};0!==u.length&&(0===(_=w())||1!==_););for(var x=a.collection(),E=0;E<l.length;E++){var O=l[E],S=c[O.id()];null!=S&&x.push(S),x.push(O)}return{path:a.collection(x),found:a.collection(i)}}},eo={breadthFirstSearch:Jr({bfs:!0}),depthFirstSearch:Jr({dfs:!0})};eo.bfs=eo.breadthFirstSearch,eo.dfs=eo.depthFirstSearch;var to,no,ro,oo={exports:{}},io=oo.exports;function ao(){return to||(to=1,e=oo,function(){var t,n,r,o,i,a,s,u,l,c,f,d,h,p,v;r=Math.floor,c=Math.min,n=function(e,t){return e<t?-1:e>t?1:0},l=function(e,t,o,i,a){var s;if(null==o&&(o=0),null==a&&(a=n),o<0)throw new Error("lo must be non-negative");for(null==i&&(i=e.length);o<i;)a(t,e[s=r((o+i)/2)])<0?i=s:o=s+1;return[].splice.apply(e,[o,o-o].concat(t)),t},a=function(e,t,r){return null==r&&(r=n),e.push(t),p(e,0,e.length-1,r)},i=function(e,t){var r,o;return null==t&&(t=n),r=e.pop(),e.length?(o=e[0],e[0]=r,v(e,0,t)):o=r,o},u=function(e,t,r){var o;return null==r&&(r=n),o=e[0],e[0]=t,v(e,0,r),o},s=function(e,t,r){var o;return null==r&&(r=n),e.length&&r(e[0],t)<0&&(t=(o=[e[0],t])[0],e[0]=o[1],v(e,0,r)),t},o=function(e,t){var o,i,a,s,u,l;for(null==t&&(t=n),u=[],i=0,a=(s=function(){l=[];for(var t=0,n=r(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)l.push(t);return l}.apply(this).reverse()).length;i<a;i++)o=s[i],u.push(v(e,o,t));return u},h=function(e,t,r){var o;if(null==r&&(r=n),-1!==(o=e.indexOf(t)))return p(e,0,o,r),v(e,o,r)},f=function(e,t,r){var i,a,u,l,c;if(null==r&&(r=n),!(a=e.slice(0,t)).length)return a;for(o(a,r),u=0,l=(c=e.slice(t)).length;u<l;u++)i=c[u],s(a,i,r);return a.sort(r).reverse()},d=function(e,t,r){var a,s,u,f,d,h,p,v,g;if(null==r&&(r=n),10*t<=e.length){if(!(u=e.slice(0,t).sort(r)).length)return u;for(s=u[u.length-1],f=0,h=(p=e.slice(t)).length;f<h;f++)r(a=p[f],s)<0&&(l(u,a,0,null,r),u.pop(),s=u[u.length-1]);return u}for(o(e,r),g=[],d=0,v=c(t,e.length);0<=v?d<v:d>v;0<=v?++d:--d)g.push(i(e,r));return g},p=function(e,t,r,o){var i,a,s;for(null==o&&(o=n),i=e[r];r>t&&o(i,a=e[s=r-1>>1])<0;)e[r]=a,r=s;return e[r]=i},v=function(e,t,r){var o,i,a,s,u;for(null==r&&(r=n),i=e.length,u=t,a=e[t],o=2*t+1;o<i;)(s=o+1)<i&&!(r(e[o],e[s])<0)&&(o=s),e[t]=e[o],o=2*(t=o)+1;return e[t]=a,p(e,u,t,r)},t=function(){function e(e){this.cmp=null!=e?e:n,this.nodes=[]}return e.push=a,e.pop=i,e.replace=u,e.pushpop=s,e.heapify=o,e.updateItem=h,e.nlargest=f,e.nsmallest=d,e.prototype.push=function(e){return a(this.nodes,e,this.cmp)},e.prototype.pop=function(){return i(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return u(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return s(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return o(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return h(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),e.exports=t}.call(io)),oo.exports;var e}var so,uo=or(ro?no:(ro=1,no=ao())),lo=Hr({root:null,weight:function(e){return 1},directed:!1}),co={dijkstra:function(e){if(!An(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=lo(e),r=n.root,o=n.weight,i=n.directed,a=this,s=o,u=Pn(r)?this.filter(r)[0]:r[0],l={},c={},f={},d=this.byGroup(),h=d.nodes,p=d.edges;p.unmergeBy(function(e){return e.isLoop()});for(var v=function(e){return l[e.id()]},g=function(e,t){l[e.id()]=t,y.updateItem(e)},y=new uo(function(e,t){return v(e)-v(t)}),m=0;m<h.length;m++){var b=h[m];l[b.id()]=b.same(u)?0:1/0,y.push(b)}for(var _=function(e,t){for(var n,r=(i?e.edgesTo(t):e.edgesWith(t)).intersect(p),o=1/0,a=0;a<r.length;a++){var u=r[a],l=s(u);(l<o||!n)&&(o=l,n=u)}return{edge:n,dist:o}};y.size()>0;){var w=y.pop(),x=v(w),E=w.id();if(f[E]=x,x!==1/0)for(var O=w.neighborhood().intersect(h),S=0;S<O.length;S++){var T=O[S],P=T.id(),C=_(w,T),k=x+C.dist;k<v(T)&&(g(T,k),c[P]={node:w,edge:C.edge})}}return{distanceTo:function(e){var t=Pn(e)?h.filter(e)[0]:e[0];return f[t.id()]},pathTo:function(e){var t=Pn(e)?h.filter(e)[0]:e[0],n=[],r=t,o=r.id();if(t.length>0)for(n.unshift(t);c[o];){var i=c[o];n.unshift(i.edge),n.unshift(i.node),o=(r=i.node).id()}return a.spawn(n)}}}},fo={kruskal:function(e){e=e||function(e){return 1};for(var t=this.byGroup(),n=t.nodes,r=t.edges,o=n.length,i=new Array(o),a=n,s=function(e){for(var t=0;t<i.length;t++){if(i[t].has(e))return t}},u=0;u<o;u++)i[u]=this.spawn(n[u]);for(var l=r.sort(function(t,n){return e(t)-e(n)}),c=0;c<l.length;c++){var f=l[c],d=f.source()[0],h=f.target()[0],p=s(d),v=s(h),g=i[p],y=i[v];p!==v&&(a.merge(f),g.merge(y),i.splice(v,1))}return a}},ho=Hr({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),po={aStar:function(e){var t=this.cy(),n=ho(e),r=n.root,o=n.goal,i=n.heuristic,a=n.directed,s=n.weight;r=t.collection(r)[0],o=t.collection(o)[0];var u,l,c=r.id(),f=o.id(),d={},h={},p={},v=new uo(function(e,t){return h[e.id()]-h[t.id()]}),g=new Zr,y={},m={},b=function(e,t){v.push(e),g.add(t)},_=function(){u=v.pop(),l=u.id(),g.delete(l)},w=function(e){return g.has(e)};b(r,c),d[c]=0,h[c]=i(r);for(var x=0;v.size()>0;){if(_(),x++,l===f){for(var E=[],O=o,S=f,T=m[S];E.unshift(O),null!=T&&E.unshift(T),null!=(O=y[S]);)T=m[S=O.id()];return{found:!0,distance:d[l],path:this.spawn(E),steps:x}}p[l]=!0;for(var P=u._private.edges,C=0;C<P.length;C++){var k=P[C];if(this.hasElementWithId(k.id())&&(!a||k.data("source")===l)){var A=k.source(),N=k.target(),j=A.id()!==l?A:N,R=j.id();if(this.hasElementWithId(R)&&!p[R]){var I=d[l]+s(k);w(R)?I<d[R]&&(d[R]=I,h[R]=I+i(j),y[R]=u,m[R]=k):(d[R]=I,h[R]=I+i(j),b(j,R),y[R]=u,m[R]=k)}}}}return{found:!1,distance:void 0,path:void 0,steps:x}}},vo=Hr({weight:function(e){return 1},directed:!1}),go={floydWarshall:function(e){for(var t=this.cy(),n=vo(e),r=n.weight,o=n.directed,i=r,a=this.byGroup(),s=a.nodes,u=a.edges,l=s.length,c=l*l,f=function(e){return s.indexOf(e)},d=function(e){return s[e]},h=new Array(c),p=0;p<c;p++){var v=p%l,g=(p-v)/l;h[p]=g===v?0:1/0}for(var y=new Array(c),m=new Array(c),b=0;b<u.length;b++){var _=u[b],w=_.source()[0],x=_.target()[0];if(w!==x){var E=f(w),O=f(x),S=E*l+O,T=i(_);if(h[S]>T&&(h[S]=T,y[S]=O,m[S]=_),!o){var P=O*l+E;!o&&h[P]>T&&(h[P]=T,y[P]=E,m[P]=_)}}}for(var C=0;C<l;C++)for(var k=0;k<l;k++)for(var A=k*l+C,N=0;N<l;N++){var j=k*l+N,R=C*l+N;h[A]+h[R]<h[j]&&(h[j]=h[A]+h[R],y[j]=y[A])}var I=function(e){return f(function(e){return(Pn(e)?t.filter(e):e)[0]}(e))},M={distance:function(e,t){var n=I(e),r=I(t);return h[n*l+r]},path:function(e,n){var r=I(e),o=I(n),i=d(r);if(r===o)return i.collection();if(null==y[r*l+o])return t.collection();var a,s=t.collection(),u=r;for(s.merge(i);r!==o;)u=r,r=y[r*l+o],a=m[u*l+r],s.merge(a),s.merge(d(r));return s}};return M}},yo=Hr({weight:function(e){return 1},directed:!1,root:null}),mo={bellmanFord:function(e){var t=this,n=yo(e),r=n.weight,o=n.directed,i=n.root,a=r,s=this,u=this.cy(),l=this.byGroup(),c=l.edges,f=l.nodes,d=f.length,h=new Kr,p=!1,v=[];i=u.collection(i)[0],c.unmergeBy(function(e){return e.isLoop()});for(var g=c.length,y=function(e){var t=h.get(e.id());return t||(t={},h.set(e.id(),t)),t},m=function(e){return(Pn(e)?u.$(e):e)[0]},b=0;b<d;b++){var _=f[b],w=y(_);_.same(i)?w.dist=0:w.dist=1/0,w.pred=null,w.edge=null}for(var x=!1,E=function(e,t,n,r,o,i){var a=r.dist+i;a<o.dist&&!n.same(r.edge)&&(o.dist=a,o.pred=e,o.edge=n,x=!0)},O=1;O<d;O++){x=!1;for(var S=0;S<g;S++){var T=c[S],P=T.source(),C=T.target(),k=a(T),A=y(P),N=y(C);E(P,0,T,A,N,k),o||E(C,0,T,N,A,k)}if(!x)break}if(x)for(var j=[],R=0;R<g;R++){var I=c[R],M=I.source(),D=I.target(),L=a(I),B=y(M).dist,F=y(D).dist;if(B+L<F||!o&&F+L<B){if(p||(Fr("Graph contains a negative weight cycle for Bellman-Ford"),p=!0),!1===e.findNegativeWeightCycles)break;var U=[];B+L<F&&U.push(M),!o&&F+L<B&&U.push(D);for(var z=U.length,V=0;V<z;V++){var W=U[V],H=[W];H.push(y(W).edge);for(var G=y(W).pred;-1===H.indexOf(G);)H.push(G),H.push(y(G).edge),G=y(G).pred;for(var q=(H=H.slice(H.indexOf(G)))[0].id(),Y=0,X=2;X<H.length;X+=2)H[X].id()<q&&(q=H[X].id(),Y=X);(H=H.slice(Y).concat(H.slice(0,Y))).push(H[0]);var K=H.map(function(e){return e.id()}).join(",");-1===j.indexOf(K)&&(v.push(s.spawn(H)),j.push(K))}}}return{distanceTo:function(e){return y(m(e)).dist},pathTo:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,r=[],o=m(e);;){if(null==o)return t.spawn();var a=y(o),u=a.edge,l=a.pred;if(r.unshift(o[0]),o.same(n)&&r.length>0)break;null!=u&&r.unshift(u),o=l}return s.spawn(r)},hasNegativeWeightCycle:p,negativeWeightCycles:v}}},bo=Math.sqrt(2),_o=function(e,t,n){0===n.length&&Lr("Karger-Stein must be run on a connected (sub)graph");for(var r=n[e],o=r[1],i=r[2],a=t[o],s=t[i],u=n,l=u.length-1;l>=0;l--){var c=u[l],f=c[1],d=c[2];(t[f]===a&&t[d]===s||t[f]===s&&t[d]===a)&&u.splice(l,1)}for(var h=0;h<u.length;h++){var p=u[h];p[1]===s?(u[h]=p.slice(),u[h][1]=a):p[2]===s&&(u[h]=p.slice(),u[h][2]=a)}for(var v=0;v<t.length;v++)t[v]===s&&(t[v]=a);return u},wo=function(e,t,n,r){for(;n>r;){var o=Math.floor(Math.random()*t.length);t=_o(o,e,t),n--}return t},xo={kargerStein:function(){var e=this,t=this.byGroup(),n=t.nodes,r=t.edges;r.unmergeBy(function(e){return e.isLoop()});var o=n.length,i=r.length,a=Math.ceil(Math.pow(Math.log(o)/Math.LN2,2)),s=Math.floor(o/bo);if(!(o<2)){for(var u=[],l=0;l<i;l++){var c=r[l];u.push([l,n.indexOf(c.source()),n.indexOf(c.target())])}for(var f=1/0,d=[],h=new Array(o),p=new Array(o),v=new Array(o),g=function(e,t){for(var n=0;n<o;n++)t[n]=e[n]},y=0;y<=a;y++){for(var m=0;m<o;m++)p[m]=m;var b=wo(p,u.slice(),o,s),_=b.slice();g(p,v);var w=wo(p,b,s,2),x=wo(v,_,s,2);w.length<=x.length&&w.length<f?(f=w.length,d=w,g(p,h)):x.length<=w.length&&x.length<f&&(f=x.length,d=x,g(v,h))}for(var E=this.spawn(d.map(function(e){return r[e[0]]})),O=this.spawn(),S=this.spawn(),T=h[0],P=0;P<h.length;P++){var C=h[P],k=n[P];C===T?O.merge(k):S.merge(k)}var A=function(t){var n=e.spawn();return t.forEach(function(t){n.merge(t),t.connectedEdges().forEach(function(t){e.contains(t)&&!E.contains(t)&&n.merge(t)})}),n},N=[A(O),A(S)];return{cut:E,components:N,partition1:O,partition2:S}}Lr("At least 2 nodes are required for Karger-Stein algorithm")}},Eo=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},Oo=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},So=function(e){return{x:e[0],y:e[1]}},To=function(e,t){return Math.atan2(t,e)-Math.PI/2},Po=Math.log2||function(e){return Math.log(e)/Math.log(2)},Co=function(e){return e>0?1:e<0?-1:0},ko=function(e,t){return Math.sqrt(Ao(e,t))},Ao=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},No=function(e){for(var t=e.length,n=0,r=0;r<t;r++)n+=e[r];for(var o=0;o<t;o++)e[o]=e[o]/n;return e},jo=function(e,t,n,r){return(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n},Ro=function(e,t,n,r){return{x:jo(e.x,t.x,n.x,r),y:jo(e.y,t.y,n.y,r)}},Io=function(e,t,n){return Math.max(e,Math.min(n,t))},Mo=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},Do=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},Lo=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Bo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Fo=function(e){var t,n,r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===i.length)t=n=r=o=i[0];else if(2===i.length)t=r=i[0],o=n=i[1];else if(4===i.length){var a=Ut(i,4);t=a[0],n=a[1],r=a[2],o=a[3]}return e.x1-=o,e.x2+=n,e.y1-=t,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Uo=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},zo=function(e,t){return!(e.x1>t.x2)&&(!(t.x1>e.x2)&&(!(e.x2<t.x1)&&(!(t.x2<e.x1)&&(!(e.y2<t.y1)&&(!(t.y2<e.y1)&&(!(e.y1>t.y2)&&!(t.y1>e.y2)))))))},Vo=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},Wo=function(e,t){return Vo(e,t.x,t.y)},Ho=function(e,t){return Vo(e,t.x1,t.y1)&&Vo(e,t.x2,t.y2)},Go=null!==(so=Math.hypot)&&void 0!==so?so:function(e,t){return Math.sqrt(e*e+t*t)};function qo(e,t,n,r,o,i){var a=function(e,t){if(e.length<3)throw new Error("Need at least 3 vertices");var n=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},r=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},o=function(e,t){return{x:e.x*t,y:e.y*t}},i=function(e,t){return e.x*t.y-e.y*t.x},a=function(e){var t=Go(e.x,e.y);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},s=function(e,t,a,s){var u=r(t,e),l=r(s,a),c=i(u,l);if(Math.abs(c)<1e-9)return n(e,o(u,.5));var f=i(r(a,e),l)/c;return n(e,o(u,f))},u=e.map(function(e){return{x:e.x,y:e.y}});(function(e){for(var t=0,n=0;n<e.length;n++){var r=e[n],o=e[(n+1)%e.length];t+=r.x*o.y-o.x*r.y}return t/2})(u)<0&&u.reverse();for(var l=u.length,c=[],f=0;f<l;f++){var d=u[f],h=u[(f+1)%l],p=r(h,d),v=a({x:p.y,y:-p.x});c.push(v)}for(var g=c.map(function(e,r){return{p1:n(u[r],o(e,t)),p2:n(u[(r+1)%l],o(e,t))}}),y=[],m=0;m<l;m++){var b=g[(m-1+l)%l],_=g[m],w=s(b.p1,b.p2,_.p1,_.p2);y.push(w)}return y}(ai(e,t,n,r,o),i),s=Mo();return a.forEach(function(e){return Lo(s,e.x,e.y)}),s}var Yo=function(e,t,n,r,o,i,a){var s,u,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"auto",c="auto"===l?di(o,i):l,f=o/2,d=i/2,h=(c=Math.min(c,f,d))!==f,p=c!==d;if(h){var v=r-d-a;if((s=ii(e,t,n,r,n-f+c-a,v,n+f-c+a,v,!1)).length>0)return s}if(p){var g=n+f+a;if((s=ii(e,t,n,r,g,r-d+c-a,g,r+d-c+a,!1)).length>0)return s}if(h){var y=r+d+a;if((s=ii(e,t,n,r,n-f+c-a,y,n+f-c+a,y,!1)).length>0)return s}if(p){var m=n-f-a;if((s=ii(e,t,n,r,m,r-d+c-a,m,r+d-c+a,!1)).length>0)return s}var b=n-f+c,_=r-d+c;if((u=ri(e,t,n,r,b,_,c+a)).length>0&&u[0]<=b&&u[1]<=_)return[u[0],u[1]];var w=n+f-c,x=r-d+c;if((u=ri(e,t,n,r,w,x,c+a)).length>0&&u[0]>=w&&u[1]<=x)return[u[0],u[1]];var E=n+f-c,O=r+d-c;if((u=ri(e,t,n,r,E,O,c+a)).length>0&&u[0]>=E&&u[1]>=O)return[u[0],u[1]];var S=n-f+c,T=r+d-c;return(u=ri(e,t,n,r,S,T,c+a)).length>0&&u[0]<=S&&u[1]>=T?[u[0],u[1]]:[]},Xo=function(e,t,n,r,o,i,a){var s=a,u=Math.min(n,o),l=Math.max(n,o),c=Math.min(r,i),f=Math.max(r,i);return u-s<=e&&e<=l+s&&c-s<=t&&t<=f+s},Ko=function(e,t,n,r,o,i,a,s,u){var l=Math.min(n,a,o)-u,c=Math.max(n,a,o)+u,f=Math.min(r,s,i)-u,d=Math.max(r,s,i)+u;return!(e<l||e>c||t<f||t>d)},$o=function(e,t,n,r,o,i,a,s){var u=[];!function(e,t,n,r,o){var i,a,s,u,l,c,f,d;0===e&&(e=1e-5),s=-27*(r/=e)+(t/=e)*(9*(n/=e)-t*t*2),i=(a=(3*n-t*t)/9)*a*a+(s/=54)*s,o[1]=0,f=t/3,i>0?(l=(l=s+Math.sqrt(i))<0?-Math.pow(-l,1/3):Math.pow(l,1/3),c=(c=s-Math.sqrt(i))<0?-Math.pow(-c,1/3):Math.pow(c,1/3),o[0]=-f+l+c,f+=(l+c)/2,o[4]=o[2]=-f,f=Math.sqrt(3)*(-c+l)/2,o[3]=f,o[5]=-f):(o[5]=o[3]=0,0===i?(d=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),o[0]=2*d-f,o[4]=o[2]=-(d+f)):(u=(a=-a)*a*a,u=Math.acos(s/Math.sqrt(u)),d=2*Math.sqrt(a),o[0]=-f+d*Math.cos(u/3),o[2]=-f+d*Math.cos((u+2*Math.PI)/3),o[4]=-f+d*Math.cos((u+4*Math.PI)/3)))}(1*n*n-4*n*o+2*n*a+4*o*o-4*o*a+a*a+r*r-4*r*i+2*r*s+4*i*i-4*i*s+s*s,9*n*o-3*n*n-3*n*a-6*o*o+3*o*a+9*r*i-3*r*r-3*r*s-6*i*i+3*i*s,3*n*n-6*n*o+n*a-n*e+2*o*o+2*o*e-a*e+3*r*r-6*r*i+r*s-r*t+2*i*i+2*i*t-s*t,1*n*o-n*n+n*e-o*e+r*i-r*r+r*t-i*t,u);for(var l=[],c=0;c<6;c+=2)Math.abs(u[c+1])<1e-7&&u[c]>=0&&u[c]<=1&&l.push(u[c]);l.push(1),l.push(0);for(var f,d,h,p=-1,v=0;v<l.length;v++)f=Math.pow(1-l[v],2)*n+2*(1-l[v])*l[v]*o+l[v]*l[v]*a,d=Math.pow(1-l[v],2)*r+2*(1-l[v])*l[v]*i+l[v]*l[v]*s,h=Math.pow(f-e,2)+Math.pow(d-t,2),p>=0?h<p&&(p=h):p=h;return p},Zo=function(e,t,n,r,o,i){var a=[e-n,t-r],s=[o-n,i-r],u=s[0]*s[0]+s[1]*s[1],l=a[0]*a[0]+a[1]*a[1],c=a[0]*s[0]+a[1]*s[1],f=c*c/u;return c<0?l:f>u?(e-o)*(e-o)+(t-i)*(t-i):l-f},Qo=function(e,t,n){for(var r,o,i,a,s=0,u=0;u<n.length/2;u++)if(r=n[2*u],o=n[2*u+1],u+1<n.length/2?(i=n[2*(u+1)],a=n[2*(u+1)+1]):(i=n[2*(u+1-n.length/2)],a=n[2*(u+1-n.length/2)+1]),r==e&&i==e);else{if(!(r>=e&&e>=i||r<=e&&e<=i))continue;(e-r)/(i-r)*(a-o)+o>t&&s++}return s%2!==0},Jo=function(e,t,n,r,o,i,a,s,u){var l,c=new Array(n.length);null!=s[0]?(l=Math.atan(s[1]/s[0]),s[0]<0?l+=Math.PI/2:l=-l-Math.PI/2):l=s;for(var f,d=Math.cos(-l),h=Math.sin(-l),p=0;p<c.length/2;p++)c[2*p]=i/2*(n[2*p]*d-n[2*p+1]*h),c[2*p+1]=a/2*(n[2*p+1]*d+n[2*p]*h),c[2*p]+=r,c[2*p+1]+=o;if(u>0){var v=ti(c,-u);f=ei(v)}else f=c;return Qo(e,t,f)},ei=function(e){for(var t,n,r,o,i,a,s,u,l=new Array(e.length/2),c=0;c<e.length/4;c++){t=e[4*c],n=e[4*c+1],r=e[4*c+2],o=e[4*c+3],c<e.length/4-1?(i=e[4*(c+1)],a=e[4*(c+1)+1],s=e[4*(c+1)+2],u=e[4*(c+1)+3]):(i=e[0],a=e[1],s=e[2],u=e[3]);var f=ii(t,n,r,o,i,a,s,u,!0);l[2*c]=f[0],l[2*c+1]=f[1]}return l},ti=function(e,t){for(var n,r,o,i,a=new Array(2*e.length),s=0;s<e.length/2;s++){n=e[2*s],r=e[2*s+1],s<e.length/2-1?(o=e[2*(s+1)],i=e[2*(s+1)+1]):(o=e[0],i=e[1]);var u=i-r,l=-(o-n),c=Math.sqrt(u*u+l*l),f=u/c,d=l/c;a[4*s]=n+f*t,a[4*s+1]=r+d*t,a[4*s+2]=o+f*t,a[4*s+3]=i+d*t}return a},ni=function(e,t,n,r,o,i,a){return e-=o,t-=i,(e/=n/2+a)*e+(t/=r/2+a)*t<=1},ri=function(e,t,n,r,o,i,a){var s=[n-e,r-t],u=[e-o,t-i],l=s[0]*s[0]+s[1]*s[1],c=2*(u[0]*s[0]+u[1]*s[1]),f=c*c-4*l*(u[0]*u[0]+u[1]*u[1]-a*a);if(f<0)return[];var d=(-c+Math.sqrt(f))/(2*l),h=(-c-Math.sqrt(f))/(2*l),p=Math.min(d,h),v=Math.max(d,h),g=[];if(p>=0&&p<=1&&g.push(p),v>=0&&v<=1&&g.push(v),0===g.length)return[];var y=g[0]*s[0]+e,m=g[0]*s[1]+t;return g.length>1?g[0]==g[1]?[y,m]:[y,m,g[1]*s[0]+e,g[1]*s[1]+t]:[y,m]},oi=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},ii=function(e,t,n,r,o,i,a,s,u){var l=e-o,c=n-e,f=a-o,d=t-i,h=r-t,p=s-i,v=f*d-p*l,g=c*d-h*l,y=p*c-f*h;if(0!==y){var m=v/y,b=g/y,_=-.001;return _<=m&&m<=1.001&&_<=b&&b<=1.001||u?[e+m*c,t+m*h]:[]}return 0===v||0===g?oi(e,n,a)===a?[a,s]:oi(e,n,o)===o?[o,i]:oi(o,a,n)===n?[n,r]:[]:[]},ai=function(e,t,n,r,o){var i=[],a=r/2,s=o/2,u=t,l=n;i.push({x:u+a*e[0],y:l+s*e[1]});for(var c=1;c<e.length/2;c++)i.push({x:u+a*e[2*c],y:l+s*e[2*c+1]});return i},si=function(e,t,n,r,o,i,a,s){var u,l,c,f,d,h,p=[],v=new Array(n.length),g=!0;if(null==i&&(g=!1),g){for(var y=0;y<v.length/2;y++)v[2*y]=n[2*y]*i+r,v[2*y+1]=n[2*y+1]*a+o;if(s>0){var m=ti(v,-s);l=ei(m)}else l=v}else l=n;for(var b=0;b<l.length/2;b++)c=l[2*b],f=l[2*b+1],b<l.length/2-1?(d=l[2*(b+1)],h=l[2*(b+1)+1]):(d=l[0],h=l[1]),0!==(u=ii(e,t,r,o,c,f,d,h)).length&&p.push(u[0],u[1]);return p},ui=function(e,t,n){var r=[e[0]-t[0],e[1]-t[1]],o=Math.sqrt(r[0]*r[0]+r[1]*r[1]),i=(o-n)/o;return i<0&&(i=1e-5),[t[0]+i*r[0],t[1]+i*r[1]]},li=function(e,t){var n=fi(e,t);return n=ci(n)},ci=function(e){for(var t,n,r=e.length/2,o=1/0,i=1/0,a=-1/0,s=-1/0,u=0;u<r;u++)t=e[2*u],n=e[2*u+1],o=Math.min(o,t),a=Math.max(a,t),i=Math.min(i,n),s=Math.max(s,n);for(var l=2/(a-o),c=2/(s-i),f=0;f<r;f++)t=e[2*f]=e[2*f]*l,n=e[2*f+1]=e[2*f+1]*c,o=Math.min(o,t),a=Math.max(a,t),i=Math.min(i,n),s=Math.max(s,n);if(i<-1)for(var d=0;d<r;d++)n=e[2*d+1]=e[2*d+1]+(-1-i);return e},fi=function(e,t){var n=1/e*2*Math.PI,r=e%2===0?Math.PI/2+n/2:Math.PI/2;r+=t;for(var o,i=new Array(2*e),a=0;a<e;a++)o=a*n+r,i[2*a]=Math.cos(o),i[2*a+1]=Math.sin(-o);return i},di=function(e,t){return Math.min(e/4,t/4,8)},hi=function(e,t){return Math.min(e/10,t/10,8)},pi=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function vi(e,t){function n(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],o=e[(n+1)%e.length],i={x:o.x-r.x,y:o.y-r.y},a={x:-i.y,y:i.x},s=Math.sqrt(a.x*a.x+a.y*a.y);t.push({x:a.x/s,y:a.y/s})}return t}function r(e,t){var n,r=1/0,o=-1/0,i=Bt(e);try{for(i.s();!(n=i.n()).done;){var a=n.value,s=a.x*t.x+a.y*t.y;r=Math.min(r,s),o=Math.max(o,s)}}catch(u){i.e(u)}finally{i.f()}return{min:r,max:o}}function o(e,t){return!(e.max<t.min||t.max<e.min)}var i,a=Bt([].concat(zt(n(e)),zt(n(t))));try{for(a.s();!(i=a.n()).done;){var s=i.value;if(!o(r(e,s),r(t,s)))return!1}}catch(u){a.e(u)}finally{a.f()}return!0}var gi=Hr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),yi={pageRank:function(e){for(var t=gi(e),n=t.dampingFactor,r=t.precision,o=t.iterations,i=t.weight,a=this._private.cy,s=this.byGroup(),u=s.nodes,l=s.edges,c=u.length,f=c*c,d=l.length,h=new Array(f),p=new Array(c),v=(1-n)/c,g=0;g<c;g++){for(var y=0;y<c;y++){h[g*c+y]=0}p[g]=0}for(var m=0;m<d;m++){var b=l[m],_=b.data("source"),w=b.data("target");if(_!==w){var x=u.indexOfId(_),E=u.indexOfId(w),O=i(b);h[E*c+x]+=O,p[x]+=O}}for(var S=1/c+v,T=0;T<c;T++)if(0===p[T])for(var P=0;P<c;P++){h[P*c+T]=S}else for(var C=0;C<c;C++){var k=C*c+T;h[k]=h[k]/p[T]+v}for(var A,N=new Array(c),j=new Array(c),R=0;R<c;R++)N[R]=1;for(var I=0;I<o;I++){for(var M=0;M<c;M++)j[M]=0;for(var D=0;D<c;D++)for(var L=0;L<c;L++){var B=D*c+L;j[D]+=h[B]*N[L]}No(j),A=N,N=j,j=A;for(var F=0,U=0;U<c;U++){var z=A[U]-N[U];F+=z*z}if(F<r)break}return{rank:function(e){return e=a.collection(e)[0],N[u.indexOf(e)]}}}},mi=Hr({root:null,weight:function(e){return 1},directed:!1,alpha:0}),bi={degreeCentralityNormalized:function(e){e=mi(e);var t=this.cy(),n=this.nodes(),r=n.length;if(e.directed){for(var o={},i={},a=0,s=0,u=0;u<r;u++){var l=n[u],c=l.id();e.root=l;var f=this.degreeCentrality(e);a<f.indegree&&(a=f.indegree),s<f.outdegree&&(s=f.outdegree),o[c]=f.indegree,i[c]=f.outdegree}return{indegree:function(e){return 0==a?0:(Pn(e)&&(e=t.filter(e)),o[e.id()]/a)},outdegree:function(e){return 0===s?0:(Pn(e)&&(e=t.filter(e)),i[e.id()]/s)}}}for(var d={},h=0,p=0;p<r;p++){var v=n[p];e.root=v;var g=this.degreeCentrality(e);h<g.degree&&(h=g.degree),d[v.id()]=g.degree}return{degree:function(e){return 0===h?0:(Pn(e)&&(e=t.filter(e)),d[e.id()]/h)}}},degreeCentrality:function(e){e=mi(e);var t=this.cy(),n=this,r=e,o=r.root,i=r.weight,a=r.directed,s=r.alpha;if(o=t.collection(o)[0],a){for(var u=o.connectedEdges(),l=u.filter(function(e){return e.target().same(o)&&n.has(e)}),c=u.filter(function(e){return e.source().same(o)&&n.has(e)}),f=l.length,d=c.length,h=0,p=0,v=0;v<l.length;v++)h+=i(l[v]);for(var g=0;g<c.length;g++)p+=i(c[g]);return{indegree:Math.pow(f,1-s)*Math.pow(h,s),outdegree:Math.pow(d,1-s)*Math.pow(p,s)}}for(var y=o.connectedEdges().intersection(n),m=y.length,b=0,_=0;_<y.length;_++)b+=i(y[_]);return{degree:Math.pow(m,1-s)*Math.pow(b,s)}}};bi.dc=bi.degreeCentrality,bi.dcn=bi.degreeCentralityNormalised=bi.degreeCentralityNormalized;var _i=Hr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),wi={closenessCentralityNormalized:function(e){for(var t=_i(e),n=t.harmonic,r=t.weight,o=t.directed,i=this.cy(),a={},s=0,u=this.nodes(),l=this.floydWarshall({weight:r,directed:o}),c=0;c<u.length;c++){for(var f=0,d=u[c],h=0;h<u.length;h++)if(c!==h){var p=l.distance(d,u[h]);f+=n?1/p:p}n||(f=1/f),s<f&&(s=f),a[d.id()]=f}return{closeness:function(e){return 0==s?0:(e=Pn(e)?i.filter(e)[0].id():e.id(),a[e]/s)}}},closenessCentrality:function(e){var t=_i(e),n=t.root,r=t.weight,o=t.directed,i=t.harmonic;n=this.filter(n)[0];for(var a=this.dijkstra({root:n,weight:r,directed:o}),s=0,u=this.nodes(),l=0;l<u.length;l++){var c=u[l];if(!c.same(n)){var f=a.distanceTo(c);s+=i?1/f:f}}return i?s:1/s}};wi.cc=wi.closenessCentrality,wi.ccn=wi.closenessCentralityNormalised=wi.closenessCentralityNormalized;var xi=Hr({weight:null,directed:!1}),Ei={betweennessCentrality:function(e){for(var t=xi(e),n=t.directed,r=t.weight,o=null!=r,i=this.cy(),a=this.nodes(),s={},u={},l=0,c=function(e,t){u[e]=t,t>l&&(l=t)},f=function(e){return u[e]},d=0;d<a.length;d++){var h=a[d],p=h.id();s[p]=n?h.outgoers().nodes():h.openNeighborhood().nodes(),c(p,0)}for(var v=function(){for(var e=a[g].id(),t=[],n={},u={},l={},d=new uo(function(e,t){return l[e]-l[t]}),h=0;h<a.length;h++){var p=a[h].id();n[p]=[],u[p]=0,l[p]=1/0}for(u[e]=1,l[e]=0,d.push(e);!d.empty();){var v=d.pop();if(t.push(v),o)for(var y=0;y<s[v].length;y++){var m=s[v][y],b=i.getElementById(v),_=void 0;_=b.edgesTo(m).length>0?b.edgesTo(m)[0]:m.edgesTo(b)[0];var w=r(_);m=m.id(),l[m]>l[v]+w&&(l[m]=l[v]+w,d.nodes.indexOf(m)<0?d.push(m):d.updateItem(m),u[m]=0,n[m]=[]),l[m]==l[v]+w&&(u[m]=u[m]+u[v],n[m].push(v))}else for(var x=0;x<s[v].length;x++){var E=s[v][x].id();l[E]==1/0&&(d.push(E),l[E]=l[v]+1),l[E]==l[v]+1&&(u[E]=u[E]+u[v],n[E].push(v))}}for(var O={},S=0;S<a.length;S++)O[a[S].id()]=0;for(;t.length>0;){for(var T=t.pop(),P=0;P<n[T].length;P++){var C=n[T][P];O[C]=O[C]+u[C]/u[T]*(1+O[T])}T!=a[g].id()&&c(T,f(T)+O[T])}},g=0;g<a.length;g++)v();var y={betweenness:function(e){var t=i.collection(e).id();return f(t)},betweennessNormalized:function(e){if(0==l)return 0;var t=i.collection(e).id();return f(t)/l}};return y.betweennessNormalised=y.betweennessNormalized,y}};Ei.bc=Ei.betweennessCentrality;var Oi=Hr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),Si=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r](e);return n},Ti=function(e,t){for(var n,r=0;r<t;r++){n=0;for(var o=0;o<t;o++)n+=e[o*t+r];for(var i=0;i<t;i++)e[i*t+r]=e[i*t+r]/n}},Pi=function(e,t,n){for(var r=new Array(n*n),o=0;o<n;o++){for(var i=0;i<n;i++)r[o*n+i]=0;for(var a=0;a<n;a++)for(var s=0;s<n;s++)r[o*n+s]+=e[o*n+a]*t[a*n+s]}return r},Ci=function(e,t,n){for(var r=e.slice(0),o=1;o<n;o++)e=Pi(e,r,t);return e},ki=function(e,t,n){for(var r=new Array(t*t),o=0;o<t*t;o++)r[o]=Math.pow(e[o],n);return Ti(r,t),r},Ai=function(e,t,n,r){for(var o=0;o<n;o++){if(Math.round(e[o]*Math.pow(10,r))/Math.pow(10,r)!==Math.round(t[o]*Math.pow(10,r))/Math.pow(10,r))return!1}return!0},Ni=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},ji=function(e){for(var t=this.nodes(),n=this.edges(),r=this.cy(),o=function(e){return Oi(e)}(e),i={},a=0;a<t.length;a++)i[t[a].id()]=a;for(var s,u=t.length,l=u*u,c=new Array(l),f=0;f<l;f++)c[f]=0;for(var d=0;d<n.length;d++){var h=n[d],p=i[h.source().id()],v=i[h.target().id()],g=Si(h,o.attributes);c[p*u+v]+=g,c[v*u+p]+=g}!function(e,t,n){for(var r=0;r<t;r++)e[r*t+r]=n}(c,u,o.multFactor),Ti(c,u);for(var y=!0,m=0;y&&m<o.maxIterations;)y=!1,s=Ci(c,u,o.expandFactor),c=ki(s,u,o.inflateFactor),Ai(c,s,l,4)||(y=!0),m++;var b=function(e,t,n,r){for(var o=[],i=0;i<t;i++){for(var a=[],s=0;s<t;s++)Math.round(1e3*e[i*t+s])/1e3>0&&a.push(n[s]);0!==a.length&&o.push(r.collection(a))}return o}(c,u,t,r);return b=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&Ni(e[t],e[n])&&e.splice(n,1);return e}(b),b},Ri={markovClustering:ji,mcl:ji},Ii=function(e){return e},Mi=function(e,t){return Math.abs(t-e)},Di=function(e,t,n){return e+Mi(t,n)},Li=function(e,t,n){return e+Math.pow(n-t,2)},Bi=function(e){return Math.sqrt(e)},Fi=function(e,t,n){return Math.max(e,Mi(t,n))},Ui=function(e,t,n,r,o){for(var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ii,a=r,s=0;s<e;s++)a=o(a,t(s),n(s));return i(a)},zi={euclidean:function(e,t,n){return e>=2?Ui(e,t,n,0,Li,Bi):Ui(e,t,n,0,Di)},squaredEuclidean:function(e,t,n){return Ui(e,t,n,0,Li)},manhattan:function(e,t,n){return Ui(e,t,n,0,Di)},max:function(e,t,n){return Ui(e,t,n,-1/0,Fi)}};function Vi(e,t,n,r,o,i){var a;return a=Cn(e)?e:zi[e]||zi.euclidean,0===t&&Cn(e)?a(o,i):a(t,n,r,o,i)}zi["squared-euclidean"]=zi.squaredEuclidean,zi.squaredeuclidean=zi.squaredEuclidean;var Wi=Hr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Hi=function(e){return Wi(e)},Gi=function(e,t,n,r,o){var i="kMedoids"!==o?function(e){return n[e]}:function(e){return r[e](n)},a=n,s=t;return Vi(e,r.length,i,function(e){return r[e](t)},a,s)},qi=function(e,t,n){for(var r=n.length,o=new Array(r),i=new Array(r),a=new Array(t),s=null,u=0;u<r;u++)o[u]=e.min(n[u]).value,i[u]=e.max(n[u]).value;for(var l=0;l<t;l++){s=[];for(var c=0;c<r;c++)s[c]=Math.random()*(i[c]-o[c])+o[c];a[l]=s}return a},Yi=function(e,t,n,r,o){for(var i=1/0,a=0,s=0;s<t.length;s++){var u=Gi(n,e,t[s],r,o);u<i&&(i=u,a=s)}return a},Xi=function(e,t,n){for(var r=[],o=null,i=0;i<t.length;i++)n[(o=t[i]).id()]===e&&r.push(o);return r},Ki=function(e,t,n){return Math.abs(t-e)<=n},$i=function(e,t,n){for(var r=0;r<e.length;r++)for(var o=0;o<e[r].length;o++){if(Math.abs(e[r][o]-t[r][o])>n)return!1}return!0},Zi=function(e,t,n){for(var r=0;r<n;r++)if(e===t[r])return!0;return!1},Qi=function(e,t){var n=new Array(t);if(e.length<50)for(var r=0;r<t;r++){for(var o=e[Math.floor(Math.random()*e.length)];Zi(o,n,r);)o=e[Math.floor(Math.random()*e.length)];n[r]=o}else for(var i=0;i<t;i++)n[i]=e[Math.floor(Math.random()*e.length)];return n},Ji=function(e,t,n){for(var r=0,o=0;o<t.length;o++)r+=Gi("manhattan",t[o],e,n,"kMedoids");return r},ea=function(e,t,n,r,o){for(var i,a,s=0;s<t.length;s++)for(var u=0;u<e.length;u++)r[s][u]=Math.pow(n[s][u],o.m);for(var l=0;l<e.length;l++)for(var c=0;c<o.attributes.length;c++){i=0,a=0;for(var f=0;f<t.length;f++)i+=r[f][l]*o.attributes[c](t[f]),a+=r[f][l];e[l][c]=i/a}},ta=function(e,t,n,r,o){for(var i=0;i<e.length;i++)t[i]=e[i].slice();for(var a,s,u,l=2/(o.m-1),c=0;c<n.length;c++)for(var f=0;f<r.length;f++){a=0;for(var d=0;d<n.length;d++)s=Gi(o.distance,r[f],n[c],o.attributes,"cmeans"),u=Gi(o.distance,r[f],n[d],o.attributes,"cmeans"),a+=Math.pow(s/u,l);e[f][c]=1/a}},na=function(e){var t,n,r,o,i,a=this.cy(),s=this.nodes(),u=Hi(e);o=new Array(s.length);for(var l=0;l<s.length;l++)o[l]=new Array(u.k);r=new Array(s.length);for(var c=0;c<s.length;c++)r[c]=new Array(u.k);for(var f=0;f<s.length;f++){for(var d=0,h=0;h<u.k;h++)r[f][h]=Math.random(),d+=r[f][h];for(var p=0;p<u.k;p++)r[f][p]=r[f][p]/d}n=new Array(u.k);for(var v=0;v<u.k;v++)n[v]=new Array(u.attributes.length);i=new Array(s.length);for(var g=0;g<s.length;g++)i[g]=new Array(u.k);for(var y=!0,m=0;y&&m<u.maxIterations;)y=!1,ea(n,s,r,i,u),ta(r,o,n,s,u),$i(r,o,u.sensitivityThreshold)||(y=!0),m++;return t=function(e,t,n,r){for(var o,i,a=new Array(n.k),s=0;s<a.length;s++)a[s]=[];for(var u=0;u<t.length;u++){o=-1/0,i=-1;for(var l=0;l<t[0].length;l++)t[u][l]>o&&(o=t[u][l],i=l);a[i].push(e[u])}for(var c=0;c<a.length;c++)a[c]=r.collection(a[c]);return a}(s,r,u,a),{clusters:t,degreeOfMembership:r}},ra={kMeans:function(e){var t,n=this.cy(),r=this.nodes(),o=null,i=Hi(e),a=new Array(i.k),s={};i.testMode?"number"===typeof i.testCentroids?(i.testCentroids,t=qi(r,i.k,i.attributes)):t="object"===Wt(i.testCentroids)?i.testCentroids:qi(r,i.k,i.attributes):t=qi(r,i.k,i.attributes);for(var u=!0,l=0;u&&l<i.maxIterations;){for(var c=0;c<r.length;c++)s[(o=r[c]).id()]=Yi(o,t,i.distance,i.attributes,"kMeans");u=!1;for(var f=0;f<i.k;f++){var d=Xi(f,r,s);if(0!==d.length){for(var h=i.attributes.length,p=t[f],v=new Array(h),g=new Array(h),y=0;y<h;y++){g[y]=0;for(var m=0;m<d.length;m++)o=d[m],g[y]+=i.attributes[y](o);v[y]=g[y]/d.length,Ki(v[y],p[y],i.sensitivityThreshold)||(u=!0)}t[f]=v,a[f]=n.collection(d)}}l++}return a},kMedoids:function(e){var t,n,r=this.cy(),o=this.nodes(),i=null,a=Hi(e),s=new Array(a.k),u={},l=new Array(a.k);a.testMode?"number"===typeof a.testCentroids||(t="object"===Wt(a.testCentroids)?a.testCentroids:Qi(o,a.k)):t=Qi(o,a.k);for(var c=!0,f=0;c&&f<a.maxIterations;){for(var d=0;d<o.length;d++)u[(i=o[d]).id()]=Yi(i,t,a.distance,a.attributes,"kMedoids");c=!1;for(var h=0;h<t.length;h++){var p=Xi(h,o,u);if(0!==p.length){l[h]=Ji(t[h],p,a.attributes);for(var v=0;v<p.length;v++)(n=Ji(p[v],p,a.attributes))<l[h]&&(l[h]=n,t[h]=p[v],c=!0);s[h]=r.collection(p)}}f++}return s},fuzzyCMeans:na,fcm:na},oa=Hr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),ia={single:"min",complete:"max"},aa=function(e,t,n,r,o){for(var i,a=0,s=1/0,u=o.attributes,l=function(e,t){return Vi(o.distance,u.length,function(t){return u[t](e)},function(e){return u[e](t)},e,t)},c=0;c<e.length;c++){var f=e[c].key,d=n[f][r[f]];d<s&&(a=f,s=d)}if("threshold"===o.mode&&s>=o.threshold||"dendrogram"===o.mode&&1===e.length)return!1;var h,p=t[a],v=t[r[a]];h="dendrogram"===o.mode?{left:p,right:v,key:p.key}:{value:p.value.concat(v.value),key:p.key},e[p.index]=h,e.splice(v.index,1),t[p.key]=h;for(var g=0;g<e.length;g++){var y=e[g];p.key===y.key?i=1/0:"min"===o.linkage?(i=n[p.key][y.key],n[p.key][y.key]>n[v.key][y.key]&&(i=n[v.key][y.key])):"max"===o.linkage?(i=n[p.key][y.key],n[p.key][y.key]<n[v.key][y.key]&&(i=n[v.key][y.key])):i="mean"===o.linkage?(n[p.key][y.key]*p.size+n[v.key][y.key]*v.size)/(p.size+v.size):"dendrogram"===o.mode?l(y.value,p.value):l(y.value[0],p.value[0]),n[p.key][y.key]=n[y.key][p.key]=i}for(var m=0;m<e.length;m++){var b=e[m].key;if(r[b]===p.key||r[b]===v.key){for(var _=b,w=0;w<e.length;w++){var x=e[w].key;n[b][x]<n[b][_]&&(_=x)}r[b]=_}e[m].index=m}return p.key=v.key=p.index=v.index=null,!0},sa=function(e,t,n){e&&(e.value?t.push(e.value):(e.left&&sa(e.left,t),e.right&&sa(e.right,t)))},ua=function(e,t){if(!e)return"";if(e.left&&e.right){var n=ua(e.left,t),r=ua(e.right,t),o=t.add({group:"nodes",data:{id:n+","+r}});return t.add({group:"edges",data:{source:n,target:o.id()}}),t.add({group:"edges",data:{source:r,target:o.id()}}),o.id()}return e.value?e.value.id():void 0},la=function(e,t,n){if(!e)return[];var r=[],o=[],i=[];return 0===t?(e.left&&sa(e.left,r),e.right&&sa(e.right,o),i=r.concat(o),[n.collection(i)]):1===t?e.value?[n.collection(e.value)]:(e.left&&sa(e.left,r),e.right&&sa(e.right,o),[n.collection(r),n.collection(o)]):e.value?[n.collection(e.value)]:(e.left&&(r=la(e.left,t-1,n)),e.right&&(o=la(e.right,t-1,n)),r.concat(o))},ca=function(e){for(var t=this.cy(),n=this.nodes(),r=function(e){var t=oa(e),n=ia[t.linkage];return null!=n&&(t.linkage=n),t}(e),o=r.attributes,i=function(e,t){return Vi(r.distance,o.length,function(t){return o[t](e)},function(e){return o[e](t)},e,t)},a=[],s=[],u=[],l=[],c=0;c<n.length;c++){var f={value:"dendrogram"===r.mode?n[c]:[n[c]],key:c,index:c};a[c]=f,l[c]=f,s[c]=[],u[c]=0}for(var d=0;d<a.length;d++)for(var h=0;h<=d;h++){var p=void 0;p="dendrogram"===r.mode?d===h?1/0:i(a[d].value,a[h].value):d===h?1/0:i(a[d].value[0],a[h].value[0]),s[d][h]=p,s[h][d]=p,p<s[d][u[d]]&&(u[d]=h)}for(var v,g=aa(a,l,s,u,r);g;)g=aa(a,l,s,u,r);return"dendrogram"===r.mode?(v=la(a[0],r.dendrogramDepth,t),r.addDendrogram&&ua(a[0],t)):(v=new Array(a.length),a.forEach(function(e,n){e.key=e.index=null,v[n]=t.collection(e.value)})),v},fa={hierarchicalClustering:ca,hca:ca},da=Hr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),ha=function(e,t,n,r){var o=function(e,t){return r[t](e)};return-Vi(e,r.length,function(e){return o(t,e)},function(e){return o(n,e)},t,n)},pa=function(e,t){var n=null;return n="median"===t?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t)):e=e.slice(t,n);for(var i=0,a=e.length-1;a>=0;a--){var s=e[a];o?isFinite(s)||(e[a]=-1/0,i++):e.splice(a,1)}r&&e.sort(function(e,t){return e-t});var u=e.length,l=Math.floor(u/2);return u%2!==0?e[l+1+i]:(e[l-1+i]+e[l+i])/2}(e):"mean"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=0,o=0,i=t;i<n;i++){var a=e[i];isFinite(a)&&(r+=a,o++)}return r/o}(e):"min"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=1/0,o=t;o<n;o++){var i=e[o];isFinite(i)&&(r=Math.min(i,r))}return r}(e):"max"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=-1/0,o=t;o<n;o++){var i=e[o];isFinite(i)&&(r=Math.max(i,r))}return r}(e):t,n},va=function(e,t,n){for(var r=[],o=0;o<e;o++){for(var i=-1,a=-1/0,s=0;s<n.length;s++){var u=n[s];t[o*e+u]>a&&(i=u,a=t[o*e+u])}i>0&&r.push(i)}for(var l=0;l<n.length;l++)r[n[l]]=n[l];return r},ga=function(e){for(var t,n,r,o,i,a,s=this.cy(),u=this.nodes(),l=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||Lr("Damping must range on [0.5, 1).  Got: ".concat(t));var r=["median","mean","min","max"];return r.some(function(e){return e===n})||Nn(n)||Lr("Preference must be one of [".concat(r.map(function(e){return"'".concat(e,"'")}).join(", "),"] or a number.  Got: ").concat(n)),da(e)}(e),c={},f=0;f<u.length;f++)c[u[f].id()]=f;n=(t=u.length)*t,r=new Array(n);for(var d=0;d<n;d++)r[d]=-1/0;for(var h=0;h<t;h++)for(var p=0;p<t;p++)h!==p&&(r[h*t+p]=ha(l.distance,u[h],u[p],l.attributes));o=pa(r,l.preference);for(var v=0;v<t;v++)r[v*t+v]=o;i=new Array(n);for(var g=0;g<n;g++)i[g]=0;a=new Array(n);for(var y=0;y<n;y++)a[y]=0;for(var m=new Array(t),b=new Array(t),_=new Array(t),w=0;w<t;w++)m[w]=0,b[w]=0,_[w]=0;for(var x,E=new Array(t*l.minIterations),O=0;O<E.length;O++)E[O]=0;for(x=0;x<l.maxIterations;x++){for(var S=0;S<t;S++){for(var T=-1/0,P=-1/0,C=-1,k=0,A=0;A<t;A++)m[A]=i[S*t+A],(k=a[S*t+A]+r[S*t+A])>=T?(P=T,T=k,C=A):k>P&&(P=k);for(var N=0;N<t;N++)i[S*t+N]=(1-l.damping)*(r[S*t+N]-T)+l.damping*m[N];i[S*t+C]=(1-l.damping)*(r[S*t+C]-P)+l.damping*m[C]}for(var j=0;j<t;j++){for(var R=0,I=0;I<t;I++)m[I]=a[I*t+j],b[I]=Math.max(0,i[I*t+j]),R+=b[I];R-=b[j],b[j]=i[j*t+j],R+=b[j];for(var M=0;M<t;M++)a[M*t+j]=(1-l.damping)*Math.min(0,R-b[M])+l.damping*m[M];a[j*t+j]=(1-l.damping)*(R-b[j])+l.damping*m[j]}for(var D=0,L=0;L<t;L++){var B=a[L*t+L]+i[L*t+L]>0?1:0;E[x%l.minIterations*t+L]=B,D+=B}if(D>0&&(x>=l.minIterations-1||x==l.maxIterations-1)){for(var F=0,U=0;U<t;U++){_[U]=0;for(var z=0;z<l.minIterations;z++)_[U]+=E[z*t+U];0!==_[U]&&_[U]!==l.minIterations||F++}if(F===t)break}}for(var V=function(e,t,n){for(var r=[],o=0;o<e;o++)t[o*e+o]+n[o*e+o]>0&&r.push(o);return r}(t,i,a),W=function(e,t,n){for(var r=va(e,t,n),o=0;o<n.length;o++){for(var i=[],a=0;a<r.length;a++)r[a]===n[o]&&i.push(a);for(var s=-1,u=-1/0,l=0;l<i.length;l++){for(var c=0,f=0;f<i.length;f++)c+=t[i[f]*e+i[l]];c>u&&(s=l,u=c)}n[o]=i[s]}return va(e,t,n)}(t,r,V),H={},G=0;G<V.length;G++)H[V[G]]=[];for(var q=0;q<u.length;q++){var Y=W[c[u[q].id()]];null!=Y&&H[Y].push(u[q])}for(var X=new Array(V.length),K=0;K<V.length;K++)X[K]=s.collection(H[V[K]]);return X},ya={affinityPropagation:ga,ap:ga},ma=Hr({root:void 0,directed:!1}),ba={hierholzer:function(e){if(!An(e)){var t=arguments;e={root:t[0],directed:t[1]}}var n,r,o,i=ma(e),a=i.root,s=i.directed,u=this,l=!1;a&&(o=Pn(a)?this.filter(a)[0].id():a[0].id());var c={},f={};s?u.forEach(function(e){var t=e.id();if(e.isNode()){var o=e.indegree(!0),i=e.outdegree(!0),a=o-i,s=i-o;1==a?n?l=!0:n=t:1==s?r?l=!0:r=t:(s>1||a>1)&&(l=!0),c[t]=[],e.outgoers().forEach(function(e){e.isEdge()&&c[t].push(e.id())})}else f[t]=[void 0,e.target().id()]}):u.forEach(function(e){var t=e.id();e.isNode()?(e.degree(!0)%2&&(n?r?l=!0:r=t:n=t),c[t]=[],e.connectedEdges().forEach(function(e){return c[t].push(e.id())})):f[t]=[e.source().id(),e.target().id()]});var d={found:!1,trail:void 0};if(l)return d;if(r&&n)if(s){if(o&&r!=o)return d;o=r}else{if(o&&r!=o&&n!=o)return d;o||(o=r)}else o||(o=u[0].id());var h=function(e){for(var t,n,r,o=e,i=[e];c[o].length;)t=c[o].shift(),n=f[t][0],o!=(r=f[t][1])?(c[r]=c[r].filter(function(e){return e!=t}),o=r):s||o==n||(c[n]=c[n].filter(function(e){return e!=t}),o=n),i.unshift(t),i.unshift(o);return i},p=[],v=[];for(v=h(o);1!=v.length;)0==c[v[0]].length?(p.unshift(u.getElementById(v.shift())),p.unshift(u.getElementById(v.shift()))):v=h(v.shift()).concat(v);for(var g in p.unshift(u.getElementById(v.shift())),c)if(c[g].length)return d;return d.found=!0,d.trail=this.spawn(p,!0),d}},_a=function(){var e=this,t={},n=0,r=0,o=[],i=[],a={},s=function(u,l,c){u===c&&(r+=1),t[l]={id:n,low:n++,cutVertex:!1};var f,d,h,p,v=e.getElementById(l).connectedEdges().intersection(e);0===v.size()?o.push(e.spawn(e.getElementById(l))):v.forEach(function(n){f=n.source().id(),d=n.target().id(),(h=f===l?d:f)!==c&&(p=n.id(),a[p]||(a[p]=!0,i.push({x:l,y:h,edge:n})),h in t?t[l].low=Math.min(t[l].low,t[h].id):(s(u,h,l),t[l].low=Math.min(t[l].low,t[h].low),t[l].id<=t[h].low&&(t[l].cutVertex=!0,function(n,r){for(var a=i.length-1,s=[],u=e.spawn();i[a].x!=n||i[a].y!=r;)s.push(i.pop().edge),a--;s.push(i.pop().edge),s.forEach(function(n){var r=n.connectedNodes().intersection(e);u.merge(n),r.forEach(function(n){var r=n.id(),o=n.connectedEdges().intersection(e);u.merge(n),t[r].cutVertex?u.merge(o.filter(function(e){return e.isLoop()})):u.merge(o)})}),o.push(u)}(l,h))))})};e.forEach(function(e){if(e.isNode()){var n=e.id();n in t||(r=0,s(n,n),t[n].cutVertex=r>1)}});var u=Object.keys(t).filter(function(e){return t[e].cutVertex}).map(function(t){return e.getElementById(t)});return{cut:e.spawn(u),components:o}},wa=function(){var e=this,t={},n=0,r=[],o=[],i=e.spawn(e),a=function(s){if(o.push(s),t[s]={index:n,low:n++,explored:!1},e.getElementById(s).connectedEdges().intersection(e).forEach(function(e){var n=e.target().id();n!==s&&(n in t||a(n),t[n].explored||(t[s].low=Math.min(t[s].low,t[n].low)))}),t[s].index===t[s].low){for(var u=e.spawn();;){var l=o.pop();if(u.merge(e.getElementById(l)),t[l].low=t[s].index,t[l].explored=!0,l===s)break}var c=u.edgesWith(u),f=u.merge(c);r.push(f),i=i.difference(f)}};return e.forEach(function(e){if(e.isNode()){var n=e.id();n in t||a(n)}}),{cut:i,components:r}},xa={};[eo,co,fo,po,go,mo,xo,yi,bi,wi,Ei,Ri,ra,fa,ya,ba,{hopcroftTarjanBiconnected:_a,htbc:_a,htb:_a,hopcroftTarjanBiconnectedComponents:_a},{tarjanStronglyConnected:wa,tsc:wa,tscc:wa,tarjanStronglyConnectedComponents:wa}].forEach(function(e){Qn(xa,e)});var Ea=function(e){if(!(this instanceof Ea))return new Ea(e);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"===typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Ea.prototype={fulfill:function(e){return Oa(this,1,"fulfillValue",e)},reject:function(e){return Oa(this,2,"rejectReason",e)},then:function(e,t){var n=this,r=new Ea;return n.onFulfilled.push(Pa(e,r,"fulfill")),n.onRejected.push(Pa(t,r,"reject")),Sa(n),r.proxy}};var Oa=function(e,t,n,r){return 0===e.state&&(e.state=t,e[n]=r,Sa(e)),e},Sa=function(e){1===e.state?Ta(e,"onFulfilled",e.fulfillValue):2===e.state&&Ta(e,"onRejected",e.rejectReason)},Ta=function(e,t,n){if(0!==e[t].length){var r=e[t];e[t]=[];var o=function(){for(var e=0;e<r.length;e++)r[e](n)};"function"===typeof setImmediate?setImmediate(o):setTimeout(o,0)}},Pa=function(e,t,n){return function(r){if("function"!==typeof e)t[n].call(t,r);else{var o;try{o=e(r)}catch(qm){return void t.reject(qm)}Ca(t,o)}}},Ca=function(e,t){if(e!==t&&e.proxy!==t){var n;if("object"===Wt(t)&&null!==t||"function"===typeof t)try{n=t.then}catch(qm){return void e.reject(qm)}if("function"!==typeof n)e.fulfill(t);else{var r=!1;try{n.call(t,function(n){r||(r=!0,n===t?e.reject(new TypeError("circular thenable chain")):Ca(e,n))},function(t){r||(r=!0,e.reject(t))})}catch(qm){r||e.reject(qm)}}}else e.reject(new TypeError("cannot resolve promise with itself"))};Ea.all=function(e){return new Ea(function(t,n){for(var r=new Array(e.length),o=0,i=function(n,i){r[n]=i,++o===e.length&&t(r)},a=0;a<e.length;a++)(function(t){var r=e[t];null!=r&&null!=r.then?r.then(function(e){i(t,e)},function(e){n(e)}):i(t,r)})(a)})},Ea.resolve=function(e){return new Ea(function(t,n){t(e)})},Ea.reject=function(e){return new Ea(function(t,n){n(e)})};var ka="undefined"!==typeof Promise?Promise:Ea,Aa=function(e,t,n){var r=Dn(e),o=!r,i=this._private=Qn({duration:1e3},t,n);if(i.target=e,i.style=i.style||i.css,i.started=!1,i.playing=!1,i.hooked=!1,i.applying=!1,i.progress=0,i.completes=[],i.frames=[],i.complete&&Cn(i.complete)&&i.completes.push(i.complete),o){var a=e.position();i.startPosition=i.startPosition||{x:a.x,y:a.y},i.startStyle=i.startStyle||e.cy().style().getAnimationStartStyle(e,i.style)}if(r){var s=e.pan();i.startPan={x:s.x,y:s.y},i.startZoom=e.zoom()}this.length=1,this[0]=this},Na=Aa.prototype;Qn(Na,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=e.target._private.animation;(e.queue?t.queue:t.current).push(this),Rn(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(t,n){var r=e[t];null!=r&&(e[t]=e[n],e[n]=r)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var r=0;r<e.style.length;r++){var o=e.style[r],i=o.name,a=e.startStyle[i];e.startStyle[i]=o,e.style[r]=a}return t&&this.play(),this},promise:function(e){var t,n=this._private;if("frame"===e)t=n.frames;else t=n.completes;return new ka(function(e,n){t.push(function(){e()})})}}),Na.complete=Na.completed,Na.run=Na.play,Na.running=Na.playing;var ja,Ra,Ia,Ma,Da,La,Ba,Fa,Ua,za,Va,Wa,Ha,Ga,qa,Ya,Xa,Ka,$a,Za,Qa,Ja,es,ts,ns,rs,os,is,as,ss,us,ls,cs,fs,ds,hs,ps,vs,gs,ys,ms,bs,_s,ws,xs,Es,Os,Ss,Ts,Ps,Cs,ks,As,Ns,js,Rs,Is,Ms,Ds,Ls,Bs,Fs,Us,zs,Vs,Ws,Hs,Gs,qs,Ys,Xs,Ks,$s,Zs,Qs,Js,eu,tu,nu,ru,ou,iu,au,su,uu,lu,cu={animated:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return!1;var n=t[0];return n?n._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return this;for(var n=0;n<t.length;n++){t[n]._private.animation.queue=[]}return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var n=this,r=void 0!==n.length,o=r?n:[n],i=this._private.cy||this,a=!r,s=!a;if(!i.styleEnabled())return this;var u=i.style();if(e=Qn({},e,t),0===Object.keys(e).length)return new Aa(o[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(s&&(e.style=u.getPropsList(e.style||e.css),e.css=void 0),s&&null!=e.renderedPosition){var l=e.renderedPosition,c=i.pan(),f=i.zoom();e.position=Oo(l,f,c)}if(a&&null!=e.panBy){var d=e.panBy,h=i.pan();e.pan={x:h.x+d.x,y:h.y+d.y}}var p=e.center||e.centre;if(a&&null!=p){var v=i.getCenterPan(p.eles,e.zoom);null!=v&&(e.pan=v)}if(a&&null!=e.fit){var g=e.fit,y=i.getFitViewport(g.eles||g.boundingBox,g.padding);null!=y&&(e.pan=y.pan,e.zoom=y.zoom)}if(a&&An(e.zoom)){var m=i.getZoomedViewport(e.zoom);null!=m?(m.zoomed&&(e.zoom=m.zoom),m.panned&&(e.pan=m.pan)):e.zoom=null}return new Aa(o[0],e)}},animate:function(){return function(e,t){var n=this,r=void 0!==n.length?n:[n];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=Qn({},e,t));for(var o=0;o<r.length;o++){var i=r[o],a=i.animated()&&(void 0===e.queue||e.queue);i.animation(e,a?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var n=this,r=void 0!==n.length?n:[n],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var i=0;i<r.length;i++){for(var a=r[i]._private,s=a.animation.current,u=0;u<s.length;u++){var l=s[u]._private;t&&(l.duration=0)}e&&(a.animation.queue=[]),t||(a.animation.current=[])}return o.notify("draw"),this}}};function fu(){if(Ra)return ja;Ra=1;var e=Array.isArray;return ja=e}function du(){if(za)return Ua;za=1;var e=function(){if(Fa)return Ba;Fa=1;var e=ar()["__core-js_shared__"];return Ba=e}(),t=function(){var t=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();return Ua=function(e){return!!t&&t in e}}function hu(){if(Ga)return Ha;Ga=1;var e=function(){if(La)return Da;La=1;var e=lr(),t=ir();return Da=function(n){if(!t(n))return!1;var r=e(n);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r}}(),t=du(),n=ir(),r=function(){if(Wa)return Va;Wa=1;var e=Function.prototype.toString;return Va=function(t){if(null!=t){try{return e.call(t)}catch(qm){}try{return t+""}catch(qm){}}return""}}(),o=/^\[object .+?Constructor\]$/,i=Function.prototype,a=Object.prototype,s=i.toString,u=a.hasOwnProperty,l=RegExp("^"+s.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return Ha=function(i){return!(!n(i)||t(i))&&(e(i)?l:o).test(r(i))}}function pu(){if(Ka)return Xa;Ka=1;var e=hu(),t=(Ya||(Ya=1,qa=function(e,t){return null==e?void 0:e[t]}),qa);return Xa=function(n,r){var o=t(n,r);return e(o)?o:void 0},Xa}function vu(){if(Za)return $a;Za=1;var e=pu()(Object,"create");return $a=e}function gu(){if(ls)return us;ls=1;var e=function(){if(Ja)return Qa;Ja=1;var e=vu();return Qa=function(){this.__data__=e?e(null):{},this.size=0}}(),t=ts?es:(ts=1,es=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),n=function(){if(rs)return ns;rs=1;var e=vu(),t=Object.prototype.hasOwnProperty;return ns=function(n){var r=this.__data__;if(e){var o=r[n];return"__lodash_hash_undefined__"===o?void 0:o}return t.call(r,n)?r[n]:void 0},ns}(),r=function(){if(is)return os;is=1;var e=vu(),t=Object.prototype.hasOwnProperty;return os=function(n){var r=this.__data__;return e?void 0!==r[n]:t.call(r,n)},os}(),o=function(){if(ss)return as;ss=1;var e=vu();return as=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=e&&void 0===n?"__lodash_hash_undefined__":n,this},as}();function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,us=i}function yu(){if(hs)return ds;return hs=1,ds=function(e,t){return e===t||e!==e&&t!==t}}function mu(){if(vs)return ps;vs=1;var e=yu();return ps=function(t,n){for(var r=t.length;r--;)if(e(t[r][0],n))return r;return-1},ps}function bu(){if(Ss)return Os;Ss=1;var e=fs?cs:(fs=1,cs=function(){this.__data__=[],this.size=0}),t=function(){if(ys)return gs;ys=1;var e=mu(),t=Array.prototype.splice;return gs=function(n){var r=this.__data__,o=e(r,n);return!(o<0)&&(o==r.length-1?r.pop():t.call(r,o,1),--this.size,!0)},gs}(),n=function(){if(bs)return ms;bs=1;var e=mu();return ms=function(t){var n=this.__data__,r=e(n,t);return r<0?void 0:n[r][1]},ms}(),r=function(){if(ws)return _s;ws=1;var e=mu();return _s=function(t){return e(this.__data__,t)>-1}}(),o=function(){if(Es)return xs;Es=1;var e=mu();return xs=function(t,n){var r=this.__data__,o=e(r,t);return o<0?(++this.size,r.push([t,n])):r[o][1]=n,this},xs}();function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,Os=i}function _u(){if(ks)return Cs;ks=1;var e=gu(),t=bu(),n=function(){if(Ps)return Ts;Ps=1;var e=pu()(ar(),"Map");return Ts=e}();return Cs=function(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}}function wu(){if(Rs)return js;Rs=1;var e=(Ns||(Ns=1,As=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}),As);return js=function(t,n){var r=t.__data__;return e(n)?r["string"==typeof n?"string":"hash"]:r.map},js}function xu(){if(Ws)return Vs;Ws=1;var e=_u(),t=function(){if(Ms)return Is;Ms=1;var e=wu();return Is=function(t){var n=e(this,t).delete(t);return this.size-=n?1:0,n}}(),n=function(){if(Ls)return Ds;Ls=1;var e=wu();return Ds=function(t){return e(this,t).get(t)}}(),r=function(){if(Fs)return Bs;Fs=1;var e=wu();return Bs=function(t){return e(this,t).has(t)}}(),o=function(){if(zs)return Us;zs=1;var e=wu();return Us=function(t,n){var r=e(this,t),o=r.size;return r.set(t,n),this.size+=r.size==o?0:1,this},Us}();function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,Vs=i}function Eu(){if(Ys)return qs;Ys=1;var e=function(){if(Gs)return Hs;Gs=1;var e=xu();function t(n,r){if("function"!=typeof n||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var o=function(){var e=arguments,t=r?r.apply(this,e):e[0],i=o.cache;if(i.has(t))return i.get(t);var a=n.apply(this,e);return o.cache=i.set(t,a)||i,a};return o.cache=new(t.Cache||e),o}return t.Cache=e,Hs=t}();return qs=function(t){var n=e(t,function(e){return 500===r.size&&r.clear(),e}),r=n.cache;return n},qs}function Ou(){if(Ks)return Xs;Ks=1;var e=Eu(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(t,function(e,t,o,i){r.push(o?i.replace(n,"$1"):t||e)}),r});return Xs=r}function Su(){if(Zs)return $s;return Zs=1,$s=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},$s}function Tu(){if(tu)return eu;tu=1;var e=function(){if(Js)return Qs;Js=1;var e=ur(),t=Su(),n=fu(),r=cr(),o=e?e.prototype:void 0,i=o?o.toString:void 0;return Qs=function e(o){if("string"==typeof o)return o;if(n(o))return t(o,e)+"";if(r(o))return i?i.call(o):"";var a=o+"";return"0"==a&&1/o==-1/0?"-0":a},Qs}();return eu=function(t){return null==t?"":e(t)}}function Pu(){if(ru)return nu;ru=1;var e=fu(),t=function(){if(Ma)return Ia;Ma=1;var e=fu(),t=cr(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;return Ia=function(o,i){if(e(o))return!1;var a=typeof o;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=o&&!t(o))||r.test(o)||!n.test(o)||null!=i&&o in Object(i)},Ia}(),n=Ou(),r=Tu();return nu=function(o,i){return e(o)?o:t(o,i)?[o]:n(r(o))},nu}function Cu(){if(iu)return ou;iu=1;var e=cr();return ou=function(t){if("string"==typeof t||e(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}}var ku,Au,Nu,ju,Ru,Iu,Mu,Du,Lu,Bu,Fu,Uu,zu=function(){if(lu)return uu;lu=1;var e=function(){if(su)return au;su=1;var e=Pu(),t=Cu();return au=function(n,r){for(var o=0,i=(r=e(r,n)).length;null!=n&&o<i;)n=n[t(r[o++])];return o&&o==i?n:void 0},au}();return uu=function(t,n,r){var o=null==t?void 0:e(t,n);return void 0===o?r:o},uu}(),Vu=or(zu);function Wu(){if(ju)return Nu;ju=1;var e=function(){if(Au)return ku;Au=1;var e=pu(),t=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(qm){}}();return ku=t}();return Nu=function(t,n,r){"__proto__"==n&&e?e(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r},Nu}function Hu(){if(Bu)return Lu;Bu=1;var e=function(){if(Iu)return Ru;Iu=1;var e=Wu(),t=yu(),n=Object.prototype.hasOwnProperty;return Ru=function(r,o,i){var a=r[o];n.call(r,o)&&t(a,i)&&(void 0!==i||o in r)||e(r,o,i)},Ru}(),t=Pu(),n=function(){if(Du)return Mu;Du=1;var e=/^(?:0|[1-9]\d*)$/;return Mu=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n},Mu}(),r=ir(),o=Cu();return Lu=function(i,a,s,u){if(!r(i))return i;for(var l=-1,c=(a=t(a,i)).length,f=c-1,d=i;null!=d&&++l<c;){var h=o(a[l]),p=s;if("__proto__"===h||"constructor"===h||"prototype"===h)return i;if(l!=f){var v=d[h];void 0===(p=u?u(v,h,d):void 0)&&(p=r(v)?v:n(a[l+1])?[]:{})}e(d,h,p),d=d[h]}return i},Lu}var Gu,qu,Yu,Xu,Ku=function(){if(Uu)return Fu;Uu=1;var e=Hu();return Fu=function(t,n,r){return null==t?t:e(t,n,r)},Fu}(),$u=or(Ku);var Zu=function(){if(Xu)return Yu;Xu=1;var e=Su(),t=(qu||(qu=1,Gu=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}),Gu),n=fu(),r=cr(),o=Ou(),i=Cu(),a=Tu();return Yu=function(s){return n(s)?e(s,i):r(s)?[s]:t(o(a(s)))}}(),Qu=or(Zu),Ju={data:function(e){return e=Qn({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(e){},beforeSet:function(e,t){},onSet:function(e){},canSet:function(e){return!0}},e),function(t,n){var r=e,o=this,i=void 0!==o.length,a=i?o:[o],s=i?o[0]:o;if(Pn(t)){var u,l=-1!==t.indexOf(".")&&Qu(t);if(r.allowGetting&&void 0===n)return s&&(r.beforeGet(s),u=l&&void 0===s._private[r.field][t]?Vu(s._private[r.field],l):s._private[r.field][t]),u;if(r.allowSetting&&void 0!==n&&!r.immutableKeys[t]){var c=Ft({},t,n);r.beforeSet(o,c);for(var f=0,d=a.length;f<d;f++){var h=a[f];r.canSet(h)&&(l&&void 0===s._private[r.field][t]?$u(h._private[r.field],l,n):h._private[r.field][t]=n)}r.updateStyle&&o.updateStyle(),r.onSet(o),r.settingTriggersEvent&&o[r.triggerFnName](r.settingEvent)}}else if(r.allowSetting&&An(t)){var p,v,g=t,y=Object.keys(g);r.beforeSet(o,g);for(var m=0;m<y.length;m++){if(v=g[p=y[m]],!r.immutableKeys[p])for(var b=0;b<a.length;b++){var _=a[b];r.canSet(_)&&(_._private[r.field][p]=v)}}r.updateStyle&&o.updateStyle(),r.onSet(o),r.settingTriggersEvent&&o[r.triggerFnName](r.settingEvent)}else if(r.allowBinding&&Cn(t)){var w=t;o.on(r.bindingEvent,w)}else if(r.allowGetting&&void 0===t){var x;return s&&(r.beforeGet(s),x=s._private[r.field]),x}return o}},removeData:function(e){return e=Qn({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(t){var n=e,r=this,o=void 0!==r.length?r:[r];if(Pn(t)){for(var i=t.split(/\s+/),a=i.length,s=0;s<a;s++){var u=i[s];if(!Bn(u))if(!n.immutableKeys[u])for(var l=0,c=o.length;l<c;l++)o[l]._private[n.field][u]=void 0}n.triggerEvent&&r[n.triggerFnName](n.event)}else if(void 0===t){for(var f=0,d=o.length;f<d;f++)for(var h=o[f]._private[n.field],p=Object.keys(h),v=0;v<p.length;v++){var g=p[v];!n.immutableKeys[g]&&(h[g]=void 0)}n.triggerEvent&&r[n.triggerFnName](n.event)}return r}}},el={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(e,t){var n=this,r=Array.prototype.slice.call(arguments,0);return new ka(function(e,t){var o=r.concat([function(t){n.off.apply(n,i),e(t)}]),i=o.concat([]);n.on.apply(n,o)})}}},tl={};[cu,Ju,el].forEach(function(e){Qn(tl,e)});var nl={animate:tl.animate(),animation:tl.animation(),animated:tl.animated(),clearQueue:tl.clearQueue(),delay:tl.delay(),delayAnimation:tl.delayAnimation(),stop:tl.stop()},rl={classes:function(e){var t=this;if(void 0===e){var n=[];return t[0]._private.classes.forEach(function(e){return n.push(e)}),n}kn(e)||(e=(e||"").match(/\S+/g)||[]);for(var r=[],o=new Zr(e),i=0;i<t.length;i++){for(var a=t[i],s=a._private,u=s.classes,l=!1,c=0;c<e.length;c++){var f=e[c];if(!u.has(f)){l=!0;break}}l||(l=u.size!==e.length),l&&(s.classes=o,r.push(a))}return r.length>0&&this.spawn(r).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){kn(e)||(e=e.match(/\S+/g)||[]);for(var n=this,r=void 0===t,o=[],i=0,a=n.length;i<a;i++)for(var s=n[i],u=s._private.classes,l=!1,c=0;c<e.length;c++){var f=e[c],d=u.has(f),h=!1;t||r&&!d?(u.add(f),h=!0):(!t||r&&d)&&(u.delete(f),h=!0),!l&&h&&(o.push(s),l=!0)}return o.length>0&&this.spawn(o).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}};rl.className=rl.classNames=rl.classes;var ol={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:qn,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};ol.variable="(?:[\\w-.]|(?:\\\\"+ol.metaChar+"))+",ol.className="(?:[\\w-]|(?:\\\\"+ol.metaChar+"))+",ol.value=ol.string+"|"+ol.number,ol.id=ol.variable,function(){var e,t,n;for(e=ol.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],ol.comparatorOp+="|@"+t;for(e=ol.comparatorOp.split("|"),n=0;n<e.length;n++)(t=e[n]).indexOf("!")>=0||"="!==t&&(ol.comparatorOp+="|\\!"+t)}();var il=0,al=1,sl=2,ul=3,ll=4,cl=5,fl=6,dl=7,hl=8,pl=9,vl=10,gl=11,yl=12,ml=13,bl=14,_l=15,wl=16,xl=17,El=18,Ol=19,Sl=20,Tl=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(e,t){return function(e,t){return-1*Zn(e,t)}(e.selector,t.selector)}),Pl=function(){for(var e,t={},n=0;n<Tl.length;n++)t[(e=Tl[n]).selector]=e.matches;return t}(),Cl="("+Tl.map(function(e){return e.selector}).join("|")+")",kl=function(e){return e.replace(new RegExp("\\\\("+ol.metaChar+")","g"),function(e,t){return t})},Al=function(e,t,n){e[e.length-1]=n},Nl=[{name:"group",query:!0,regex:"("+ol.group+")",populate:function(e,t,n){var r=Ut(n,1)[0];t.checks.push({type:il,value:"*"===r?r:r+"s"})}},{name:"state",query:!0,regex:Cl,populate:function(e,t,n){var r=Ut(n,1)[0];t.checks.push({type:dl,value:r})}},{name:"id",query:!0,regex:"\\#("+ol.id+")",populate:function(e,t,n){var r=Ut(n,1)[0];t.checks.push({type:hl,value:kl(r)})}},{name:"className",query:!0,regex:"\\.("+ol.className+")",populate:function(e,t,n){var r=Ut(n,1)[0];t.checks.push({type:pl,value:kl(r)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+ol.variable+")\\s*\\]",populate:function(e,t,n){var r=Ut(n,1)[0];t.checks.push({type:ll,field:kl(r)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+ol.variable+")\\s*("+ol.comparatorOp+")\\s*("+ol.value+")\\s*\\]",populate:function(e,t,n){var r=Ut(n,3),o=r[0],i=r[1],a=r[2];a=null!=new RegExp("^"+ol.string+"$").exec(a)?a.substring(1,a.length-1):parseFloat(a),t.checks.push({type:ul,field:kl(o),operator:i,value:a})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+ol.boolOp+")\\s*("+ol.variable+")\\s*\\]",populate:function(e,t,n){var r=Ut(n,2),o=r[0],i=r[1];t.checks.push({type:cl,field:kl(i),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+ol.meta+")\\s*("+ol.comparatorOp+")\\s*("+ol.number+")\\s*\\]\\]",populate:function(e,t,n){var r=Ut(n,3),o=r[0],i=r[1],a=r[2];t.checks.push({type:fl,field:kl(o),operator:i,value:parseFloat(a)})}},{name:"nextQuery",separator:!0,regex:ol.separator,populate:function(e,t){var n=e.currentSubject,r=e.edgeCount,o=e.compoundCount,i=e[e.length-1];return null!=n&&(i.subject=n,e.currentSubject=null),i.edgeCount=r,i.compoundCount=o,e.edgeCount=0,e.compoundCount=0,e[e.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:ol.directedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,o={checks:[]};return n.checks.push({type:gl,source:r,target:o}),Al(e,0,n),e.edgeCount++,o}var i={checks:[]},a=t,s={checks:[]};return i.checks.push({type:yl,source:a,target:s}),Al(e,0,i),e.edgeCount++,s}},{name:"undirectedEdge",separator:!0,regex:ol.undirectedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,o={checks:[]};return n.checks.push({type:vl,nodes:[r,o]}),Al(e,0,n),e.edgeCount++,o}var i={checks:[]},a=t,s={checks:[]};return i.checks.push({type:bl,node:a,neighbor:s}),Al(e,0,i),s}},{name:"child",separator:!0,regex:ol.child,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},o=e[e.length-1];return n.checks.push({type:_l,parent:o,child:r}),Al(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var i={checks:[]},a=e[e.length-1],s={checks:[]},u={checks:[]},l={checks:[]},c={checks:[]};return i.checks.push({type:Ol,left:a,right:s,subject:u}),u.checks=t.checks,t.checks=[{type:Sl}],c.checks.push({type:Sl}),s.checks.push({type:xl,parent:c,child:l}),Al(e,0,i),e.currentSubject=u,e.compoundCount++,l}var f={checks:[]},d={checks:[]},h=[{type:xl,parent:f,child:d}];return f.checks=t.checks,t.checks=h,e.compoundCount++,d}},{name:"descendant",separator:!0,regex:ol.descendant,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},o=e[e.length-1];return n.checks.push({type:wl,ancestor:o,descendant:r}),Al(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var i={checks:[]},a=e[e.length-1],s={checks:[]},u={checks:[]},l={checks:[]},c={checks:[]};return i.checks.push({type:Ol,left:a,right:s,subject:u}),u.checks=t.checks,t.checks=[{type:Sl}],c.checks.push({type:Sl}),s.checks.push({type:El,ancestor:c,descendant:l}),Al(e,0,i),e.currentSubject=u,e.compoundCount++,l}var f={checks:[]},d={checks:[]},h=[{type:El,ancestor:f,descendant:d}];return f.checks=t.checks,t.checks=h,e.compoundCount++,d}},{name:"subject",modifier:!0,regex:ol.subject,populate:function(e,t){if(null!=e.currentSubject&&e.currentSubject!==t)return Fr("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var n=e[e.length-1].checks[0],r=null==n?null:n.type;r===gl?n.type=ml:r===vl&&(n.type=bl,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];Nl.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var jl=function(e){for(var t,n,r,o=0;o<Nl.length;o++){var i=Nl[o],a=i.name,s=e.match(i.regexObj);if(null!=s){n=s,t=i,r=a;var u=s[0];e=e.substring(u.length);break}}return{expr:t,match:n,name:r,remaining:e}},Rl={parse:function(e){var t=this,n=t.inputText=e,r=t[0]={checks:[]};for(t.length=1,n=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e}(n);;){var o=jl(n);if(null==o.expr)return Fr("The selector `"+e+"`is invalid"),!1;var i=o.match.slice(1),a=o.expr.populate(t,r,i);if(!1===a)return!1;if(null!=a&&(r=a),(n=o.remaining).match(/^\s*$/))break}var s=t[t.length-1];null!=t.currentSubject&&(s.subject=t.currentSubject),s.edgeCount=t.edgeCount,s.compoundCount=t.compoundCount;for(var u=0;u<t.length;u++){var l=t[u];if(l.compoundCount>0&&l.edgeCount>0)return Fr("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(l.edgeCount>1)return Fr("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;1===l.edgeCount&&Fr("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var e=function(e){return null==e?"":e},t=function(t){return Pn(t)?'"'+t+'"':e(t)},n=function(e){return" "+e+" "},r=function(r,i){var a=r.type,s=r.value;switch(a){case il:var u=e(s);return u.substring(0,u.length-1);case ul:var l=r.field,c=r.operator;return"["+l+n(e(c))+t(s)+"]";case cl:var f=r.operator,d=r.field;return"["+e(f)+d+"]";case ll:return"["+r.field+"]";case fl:var h=r.operator;return"[["+r.field+n(e(h))+t(s)+"]]";case dl:return s;case hl:return"#"+s;case pl:return"."+s;case xl:case _l:return o(r.parent,i)+n(">")+o(r.child,i);case El:case wl:return o(r.ancestor,i)+" "+o(r.descendant,i);case Ol:var p=o(r.left,i),v=o(r.subject,i),g=o(r.right,i);return p+(p.length>0?" ":"")+v+g;case Sl:return""}},o=function(e,t){return e.checks.reduce(function(n,o,i){return n+(t===e&&0===i?"$":"")+r(o,t)},"")},i="",a=0;a<this.length;a++){var s=this[a];i+=o(s,s.subject),this.length>1&&a<this.length-1&&(i+=", ")}return this.toStringCache=i,i}},Il=function(e,t,n){var r,o,i,a=Pn(e),s=Nn(e),u=Pn(n),l=!1,c=!1,f=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),c=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),l=!0),(a||u||l)&&(o=a||s?""+e:"",i=""+n),l&&(e=o=o.toLowerCase(),n=i=i.toLowerCase()),t){case"*=":r=o.indexOf(i)>=0;break;case"$=":r=o.indexOf(i,o.length-i.length)>=0;break;case"^=":r=0===o.indexOf(i);break;case"=":r=e===n;break;case">":f=!0,r=e>n;break;case">=":f=!0,r=e>=n;break;case"<":f=!0,r=e<n;break;case"<=":f=!0,r=e<=n;break;default:r=!1}return!c||null==e&&f||(r=!r),r},Ml=function(e,t){return e.data(t)},Dl=[],Ll=function(e,t){return e.checks.every(function(e){return Dl[e.type](e,t)})};Dl[il]=function(e,t){var n=e.value;return"*"===n||n===t.group()},Dl[dl]=function(e,t){return function(e,t){return Pl[e](t)}(e.value,t)},Dl[hl]=function(e,t){var n=e.value;return t.id()===n},Dl[pl]=function(e,t){var n=e.value;return t.hasClass(n)},Dl[fl]=function(e,t){var n=e.field,r=e.operator,o=e.value;return Il(function(e,t){return e[t]()}(t,n),r,o)},Dl[ul]=function(e,t){var n=e.field,r=e.operator,o=e.value;return Il(Ml(t,n),r,o)},Dl[cl]=function(e,t){var n=e.field,r=e.operator;return function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return void 0===e}}(Ml(t,n),r)},Dl[ll]=function(e,t){var n=e.field;return e.operator,void 0!==Ml(t,n)},Dl[vl]=function(e,t){var n=e.nodes[0],r=e.nodes[1],o=t.source(),i=t.target();return Ll(n,o)&&Ll(r,i)||Ll(r,o)&&Ll(n,i)},Dl[bl]=function(e,t){return Ll(e.node,t)&&t.neighborhood().some(function(t){return t.isNode()&&Ll(e.neighbor,t)})},Dl[gl]=function(e,t){return Ll(e.source,t.source())&&Ll(e.target,t.target())},Dl[yl]=function(e,t){return Ll(e.source,t)&&t.outgoers().some(function(t){return t.isNode()&&Ll(e.target,t)})},Dl[ml]=function(e,t){return Ll(e.target,t)&&t.incomers().some(function(t){return t.isNode()&&Ll(e.source,t)})},Dl[_l]=function(e,t){return Ll(e.child,t)&&Ll(e.parent,t.parent())},Dl[xl]=function(e,t){return Ll(e.parent,t)&&t.children().some(function(t){return Ll(e.child,t)})},Dl[wl]=function(e,t){return Ll(e.descendant,t)&&t.ancestors().some(function(t){return Ll(e.ancestor,t)})},Dl[El]=function(e,t){return Ll(e.ancestor,t)&&t.descendants().some(function(t){return Ll(e.descendant,t)})},Dl[Ol]=function(e,t){return Ll(e.subject,t)&&Ll(e.left,t)&&Ll(e.right,t)},Dl[Sl]=function(){return!0},Dl[al]=function(e,t){return e.value.has(t)},Dl[sl]=function(e,t){return(0,e.value)(t)};var Bl={matches:function(e){for(var t=0;t<this.length;t++){var n=this[t];if(Ll(n,e))return!0}return!1},filter:function(e){var t=this;if(1===t.length&&1===t[0].checks.length&&t[0].checks[0].type===hl)return e.getElementById(t[0].checks[0].value).collection();var n=function(e){for(var n=0;n<t.length;n++){var r=t[n];if(Ll(r,e))return!0}return!1};return null==t.text()&&(n=function(){return!0}),e.filter(n)}},Fl=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==e||Pn(e)&&e.match(/^\s*$/)||(Rn(e)?this.addQuery({checks:[{type:al,value:e.collection()}]}):Cn(e)?this.addQuery({checks:[{type:sl,value:e}]}):Pn(e)?this.parse(e)||(this.invalid=!0):Lr("A selector must be created from a string; found "))},Ul=Fl.prototype;[Rl,Bl].forEach(function(e){return Qn(Ul,e)}),Ul.text=function(){return this.inputText},Ul.size=function(){return this.length},Ul.eq=function(e){return this[e]},Ul.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},Ul.addQuery=function(e){this[this.length++]=e},Ul.selector=Ul.toString;var zl={allAre:function(e){var t=new Fl(e);return this.every(function(e){return t.matches(e)})},is:function(e){var t=new Fl(e);return this.some(function(e){return t.matches(e)})},some:function(e,t){for(var n=0;n<this.length;n++){if(t?e.apply(t,[this[n],n,this]):e(this[n],n,this))return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){if(!(t?e.apply(t,[this[n],n,this]):e(this[n],n,this)))return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length;return t===e.length&&(1===t?this[0]===e[0]:this.every(function(t){return e.hasElementWithId(t.id())}))},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(e){return t.hasElementWithId(e.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(e){return t.hasElementWithId(e.id())})}};zl.allAreNeighbours=zl.allAreNeighbors,zl.has=zl.contains,zl.equal=zl.equals=zl.same;var Vl,Wl,Hl=function(e,t){return function(n,r,o,i){var a,s=n,u=this;if(null==s?a="":Rn(s)&&1===s.length&&(a=s.id()),1===u.length&&a){var l=u[0]._private,c=l.traversalCache=l.traversalCache||{},f=c[t]=c[t]||[],d=Tr(a),h=f[d];return h||(f[d]=e.call(u,n,r,o,i))}return e.call(u,n,r,o,i)}},Gl={parent:function(e){var t=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var r=0;r<this.length;r++){var o=this[r]._private.parent;o&&t.push(o)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var o=n[r];t.push(o)}n=n.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var r=this[n].parents();t=(t=t||r).intersect(r)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isChild()}).filter(e)},children:Hl(function(e){for(var t=[],n=0;n<this.length;n++)for(var r=this[n]._private.children,o=0;o<r.length;o++)t.push(r[o]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){var t=[];return function e(n){for(var r=0;r<n.length;r++){var o=n[r];t.push(o),o.children().nonempty()&&e(o.children())}}(this.children()),this.spawn(t,!0).filter(e)}};function ql(e,t,n,r){for(var o=[],i=new Zr,a=e.cy().hasCompoundNodes(),s=0;s<e.length;s++){var u=e[s];n?o.push(u):a&&r(o,i,u)}for(;o.length>0;){var l=o.shift();t(l),i.add(l.id()),a&&r(o,i,l)}return e}function Yl(e,t,n){if(n.isParent())for(var r=n._private.children,o=0;o<r.length;o++){var i=r[o];t.has(i.id())||e.push(i)}}function Xl(e,t,n){if(n.isChild()){var r=n._private.parent;t.has(r.id())||e.push(r)}}function Kl(e,t,n){Xl(e,t,n),Yl(e,t,n)}Gl.forEachDown=function(e){return ql(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Yl)},Gl.forEachUp=function(e){return ql(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Xl)},Gl.forEachUpAndDown=function(e){return ql(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Kl)},Gl.ancestors=Gl.parents,(Vl=Wl={data:tl.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:tl.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:tl.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:tl.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:tl.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:tl.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}}).attr=Vl.data,Vl.removeAttr=Vl.removeData;var $l,Zl,Ql=Wl,Jl={};function ec(e){return function(t){var n=this;if(void 0===t&&(t=!0),0!==n.length&&n.isNode()&&!n.removed()){for(var r=0,o=n[0],i=o._private.edges,a=0;a<i.length;a++){var s=i[a];!t&&s.isLoop()||(r+=e(o,s))}return r}}}function tc(e,t){return function(n){for(var r,o=this.nodes(),i=0;i<o.length;i++){var a=o[i][e](n);void 0===a||void 0!==r&&!t(a,r)||(r=a)}return r}}Qn(Jl,{degree:ec(function(e,t){return t.source().same(t.target())?2:1}),indegree:ec(function(e,t){return t.target().same(e)?1:0}),outdegree:ec(function(e,t){return t.source().same(e)?1:0})}),Qn(Jl,{minDegree:tc("degree",function(e,t){return e<t}),maxDegree:tc("degree",function(e,t){return e>t}),minIndegree:tc("indegree",function(e,t){return e<t}),maxIndegree:tc("indegree",function(e,t){return e>t}),minOutdegree:tc("outdegree",function(e,t){return e<t}),maxOutdegree:tc("outdegree",function(e,t){return e>t})}),Qn(Jl,{totalDegree:function(e){for(var t=0,n=this.nodes(),r=0;r<n.length;r++)t+=n[r].degree(e);return t}});var nc=function(e,t,n){for(var r=0;r<e.length;r++){var o=e[r];if(!o.locked()){var i=o._private.position,a={x:null!=t.x?t.x-i.x:0,y:null!=t.y?t.y-i.y:0};!o.isParent()||0===a.x&&0===a.y||o.children().shift(a,n),o.dirtyBoundingBoxCache()}}},rc={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){nc(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};$l=Zl={position:tl.data(rc),silentPosition:tl.data(Qn({},rc,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){nc(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(An(e))t?this.silentPosition(e):this.position(e);else if(Cn(e)){var n=e,r=this.cy();r.startBatch();for(var o=0;o<this.length;o++){var i,a=this[o];(i=n(a,o))&&(t?a.silentPosition(i):a.position(i))}r.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var r;if(An(e)?(r={x:Nn(e.x)?e.x:0,y:Nn(e.y)?e.y:0},n=t):Pn(e)&&Nn(t)&&((r={x:0,y:0})[e]=t),null!=r){var o=this.cy();o.startBatch();for(var i=0;i<this.length;i++){var a=this[i];if(!(o.hasCompoundNodes()&&a.isChild()&&a.ancestors().anySame(this))){var s=a.position(),u={x:s.x+r.x,y:s.y+r.y};n?a.silentPosition(u):a.position(u)}}o.endBatch()}return this},silentShift:function(e,t){return An(e)?this.shift(e,!0):Pn(e)&&Nn(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],r=this.cy(),o=r.zoom(),i=r.pan(),a=An(e)?e:void 0,s=void 0!==a||void 0!==t&&Pn(e);if(n&&n.isNode()){if(!s){var u=n.position();return a=Eo(u,o,i),void 0===e?a:a[e]}for(var l=0;l<this.length;l++){var c=this[l];void 0!==t?c.position(e,(t-i[e])/o):void 0!==a&&c.position(Oo(a,o,i))}}else if(!s)return;return this},relativePosition:function(e,t){var n=this[0],r=this.cy(),o=An(e)?e:void 0,i=void 0!==o||void 0!==t&&Pn(e),a=r.hasCompoundNodes();if(n&&n.isNode()){if(!i){var s=n.position(),u=a?n.parent():null,l=u&&u.length>0,c=l;l&&(u=u[0]);var f=c?u.position():{x:0,y:0};return o={x:s.x-f.x,y:s.y-f.y},void 0===e?o:o[e]}for(var d=0;d<this.length;d++){var h=this[d],p=a?h.parent():null,v=p&&p.length>0,g=v;v&&(p=p[0]);var y=g?p.position():{x:0,y:0};void 0!==t?h.position(e,t+y[e]):void 0!==o&&h.position({x:o.x+y.x,y:o.y+y.y})}}else if(!i)return;return this}},$l.modelPosition=$l.point=$l.position,$l.modelPositions=$l.points=$l.positions,$l.renderedPoint=$l.renderedPosition,$l.relativePoint=$l.relativePosition;var oc,ic,ac=Zl;oc=ic={},ic.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),o=n.pan(),i=t.x1*r+o.x,a=t.x2*r+o.x,s=t.y1*r+o.y,u=t.y2*r+o.y;return{x1:i,x2:a,y1:s,y2:u,w:a-i,h:u-s}},ic.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp(function(t){if(t.isParent()){var n=t._private;n.compoundBoundsClean=!1,n.bbCache=null,e||t.emitAndNotify("bounds")}}),this):this},ic.updateCompoundBounds=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function n(e){if(e.isParent()){var t=e._private,n=e.children(),r="include"===e.pstyle("compound-sizing-wrt-labels").value,o={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},i=n.boundingBox({includeLabels:r,includeOverlays:!1,useCache:!1}),a=t.position;0!==i.w&&0!==i.h||((i={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue}).x1=a.x-i.w/2,i.x2=a.x+i.w/2,i.y1=a.y-i.h/2,i.y2=a.y+i.h/2);var s=o.width.left.value;"px"===o.width.left.units&&o.width.val>0&&(s=100*s/o.width.val);var u=o.width.right.value;"px"===o.width.right.units&&o.width.val>0&&(u=100*u/o.width.val);var l=o.height.top.value;"px"===o.height.top.units&&o.height.val>0&&(l=100*l/o.height.val);var c=o.height.bottom.value;"px"===o.height.bottom.units&&o.height.val>0&&(c=100*c/o.height.val);var f=y(o.width.val-i.w,s,u),d=f.biasDiff,h=f.biasComplementDiff,p=y(o.height.val-i.h,l,c),v=p.biasDiff,g=p.biasComplementDiff;t.autoPadding=function(e,t,n,r){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(r){case"width":return e>0?n.pfValue*e:0;case"height":return t>0?n.pfValue*t:0;case"average":return e>0&&t>0?n.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?n.pfValue*t:n.pfValue*e:0;case"max":return e>0&&t>0?e>t?n.pfValue*e:n.pfValue*t:0;default:return 0}}(i.w,i.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),t.autoWidth=Math.max(i.w,o.width.val),a.x=(-d+i.x1+i.x2+h)/2,t.autoHeight=Math.max(i.h,o.height.val),a.y=(-v+i.y1+i.y2+g)/2}function y(e,t,n){var r=0,o=0,i=t+n;return e>0&&i>0&&(r=t/i*e,o=n/i*e),{biasDiff:r,biasComplementDiff:o}}}for(var r=0;r<this.length;r++){var o=this[r],i=o._private;i.compoundBoundsClean&&!e||(n(o),t.batching()||(i.compoundBoundsClean=!0))}return this};var sc=function(e){return e===1/0||e===-1/0?0:e},uc=function(e,t,n,r,o){r-t!==0&&o-n!==0&&null!=t&&null!=n&&null!=r&&null!=o&&(e.x1=t<e.x1?t:e.x1,e.x2=r>e.x2?r:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=o>e.y2?o:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},lc=function(e,t){return null==t?e:uc(e,t.x1,t.y1,t.x2,t.y2)},cc=function(e,t,n){return Yr(e,t,n)},fc=function(e,t,n){if(!t.cy().headless()){var r,o,i=t._private,a=i.rstyle,s=a.arrowWidth/2;if("none"!==t.pstyle(n+"-arrow-shape").value){"source"===n?(r=a.srcX,o=a.srcY):"target"===n?(r=a.tgtX,o=a.tgtY):(r=a.midX,o=a.midY);var u=i.arrowBounds=i.arrowBounds||{},l=u[n]=u[n]||{};l.x1=r-s,l.y1=o-s,l.x2=r+s,l.y2=o+s,l.w=l.x2-l.x1,l.h=l.y2-l.y1,Bo(l,1),uc(e,l.x1,l.y1,l.x2,l.y2)}}},dc=function(e,t,n){if(!t.cy().headless()){var r;r=n?n+"-":"";var o=t._private,i=o.rstyle;if(t.pstyle(r+"label").strValue){var a,s,u,l,c=t.pstyle("text-halign"),f=t.pstyle("text-valign"),d=cc(i,"labelWidth",n),h=cc(i,"labelHeight",n),p=cc(i,"labelX",n),v=cc(i,"labelY",n),g=t.pstyle(r+"text-margin-x").pfValue,y=t.pstyle(r+"text-margin-y").pfValue,m=t.isEdge(),b=t.pstyle(r+"text-rotation"),_=t.pstyle("text-outline-width").pfValue,w=t.pstyle("text-border-width").pfValue/2,x=t.pstyle("text-background-padding").pfValue,E=h,O=d,S=O/2,T=E/2;if(m)a=p-S,s=p+S,u=v-T,l=v+T;else{switch(c.value){case"left":a=p-O,s=p;break;case"center":a=p-S,s=p+S;break;case"right":a=p,s=p+O}switch(f.value){case"top":u=v-E,l=v;break;case"center":u=v-T,l=v+T;break;case"bottom":u=v,l=v+E}}var P=g-Math.max(_,w)-x-2,C=g+Math.max(_,w)+x+2,k=y-Math.max(_,w)-x-2,A=y+Math.max(_,w)+x+2;a+=P,s+=C,u+=k,l+=A;var N=n||"main",j=o.labelBounds,R=j[N]=j[N]||{};R.x1=a,R.y1=u,R.x2=s,R.y2=l,R.w=s-a,R.h=l-u,R.leftPad=P,R.rightPad=C,R.topPad=k,R.botPad=A;var I=m&&"autorotate"===b.strValue,M=null!=b.pfValue&&0!==b.pfValue;if(I||M){var D=I?cc(o.rstyle,"labelAngle",n):b.pfValue,L=Math.cos(D),B=Math.sin(D),F=(a+s)/2,U=(u+l)/2;if(!m){switch(c.value){case"left":F=s;break;case"right":F=a}switch(f.value){case"top":U=l;break;case"bottom":U=u}}var z=function(e,t){return{x:(e-=F)*L-(t-=U)*B+F,y:e*B+t*L+U}},V=z(a,u),W=z(a,l),H=z(s,u),G=z(s,l);a=Math.min(V.x,W.x,H.x,G.x),s=Math.max(V.x,W.x,H.x,G.x),u=Math.min(V.y,W.y,H.y,G.y),l=Math.max(V.y,W.y,H.y,G.y)}var q=N+"Rot",Y=j[q]=j[q]||{};Y.x1=a,Y.y1=u,Y.x2=s,Y.y2=l,Y.w=s-a,Y.h=l-u,uc(e,a,u,s,l),uc(o.labelBounds.all,a,u,s,l)}return e}},hc=function(e,t){if(!t.cy().headless()){var n=t.pstyle("outline-opacity").value,r=t.pstyle("outline-width").value+t.pstyle("outline-offset").value;pc(e,t,n,r,"outside",r/2)}},pc=function(e,t,n,r,o,i){if(!(0===n||r<=0||"inside"===o)){var a=t.cy(),s=t.pstyle("shape").value,u=a.renderer().nodeShapes[s],l=t.position(),c=l.x,f=l.y,d=t.width(),h=t.height();if(u.hasMiterBounds){"center"===o&&(r/=2);var p=u.miterBounds(c,f,d,h,r);lc(e,p)}else null!=i&&i>0&&Fo(e,[i,i,i,i])}},vc=function(e,t){var n,r,o,i,a,s,u,l=e._private.cy,c=l.styleEnabled(),f=l.headless(),d=Mo(),h=e._private,p=e.isNode(),v=e.isEdge(),g=h.rstyle,y=p&&c?e.pstyle("bounds-expansion").pfValue:[0],m=function(e){return"none"!==e.pstyle("display").value},b=!c||m(e)&&(!v||m(e.source())&&m(e.target()));if(b){var _=0;c&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(_=e.pstyle("overlay-padding").value);var w=0;c&&t.includeUnderlays&&0!==e.pstyle("underlay-opacity").value&&(w=e.pstyle("underlay-padding").value);var x=Math.max(_,w),E=0;if(c&&(E=e.pstyle("width").pfValue/2),p&&t.includeNodes){var O=e.position();a=O.x,s=O.y;var S=e.outerWidth()/2,T=e.outerHeight()/2;uc(d,n=a-S,o=s-T,r=a+S,i=s+T),c&&hc(d,e),c&&t.includeOutlines&&!f&&hc(d,e),c&&function(e,t){if(!t.cy().headless()){var n=t.pstyle("border-opacity").value,r=t.pstyle("border-width").pfValue,o=t.pstyle("border-position").value;pc(e,t,n,r,o)}}(d,e)}else if(v&&t.includeEdges)if(c&&!f){var P=e.pstyle("curve-style").strValue;if(n=Math.min(g.srcX,g.midX,g.tgtX),r=Math.max(g.srcX,g.midX,g.tgtX),o=Math.min(g.srcY,g.midY,g.tgtY),i=Math.max(g.srcY,g.midY,g.tgtY),uc(d,n-=E,o-=E,r+=E,i+=E),"haystack"===P){var C=g.haystackPts;if(C&&2===C.length){if(n=C[0].x,o=C[0].y,n>(r=C[1].x)){var k=n;n=r,r=k}if(o>(i=C[1].y)){var A=o;o=i,i=A}uc(d,n-E,o-E,r+E,i+E)}}else if("bezier"===P||"unbundled-bezier"===P||Gn(P,"segments")||Gn(P,"taxi")){var N;switch(P){case"bezier":case"unbundled-bezier":N=g.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":N=g.linePts}if(null!=N)for(var j=0;j<N.length;j++){var R=N[j];n=R.x-E,r=R.x+E,o=R.y-E,i=R.y+E,uc(d,n,o,r,i)}}}else{var I=e.source().position(),M=e.target().position();if((n=I.x)>(r=M.x)){var D=n;n=r,r=D}if((o=I.y)>(i=M.y)){var L=o;o=i,i=L}uc(d,n-=E,o-=E,r+=E,i+=E)}if(c&&t.includeEdges&&v&&(fc(d,e,"mid-source"),fc(d,e,"mid-target"),fc(d,e,"source"),fc(d,e,"target")),c)if("yes"===e.pstyle("ghost").value){var B=e.pstyle("ghost-offset-x").pfValue,F=e.pstyle("ghost-offset-y").pfValue;uc(d,d.x1+B,d.y1+F,d.x2+B,d.y2+F)}var U=h.bodyBounds=h.bodyBounds||{};Uo(U,d),Fo(U,y),Bo(U,1),c&&(n=d.x1,r=d.x2,o=d.y1,i=d.y2,uc(d,n-x,o-x,r+x,i+x));var z=h.overlayBounds=h.overlayBounds||{};Uo(z,d),Fo(z,y),Bo(z,1);var V=h.labelBounds=h.labelBounds||{};null!=V.all?((u=V.all).x1=1/0,u.y1=1/0,u.x2=-1/0,u.y2=-1/0,u.w=0,u.h=0):V.all=Mo(),c&&t.includeLabels&&(t.includeMainLabels&&dc(d,e,null),v&&(t.includeSourceLabels&&dc(d,e,"source"),t.includeTargetLabels&&dc(d,e,"target")))}return d.x1=sc(d.x1),d.y1=sc(d.y1),d.x2=sc(d.x2),d.y2=sc(d.y2),d.w=sc(d.x2-d.x1),d.h=sc(d.y2-d.y1),d.w>0&&d.h>0&&b&&(Fo(d,y),Bo(d,1)),d},gc=function(e){var t=0,n=function(e){return(e?1:0)<<t++},r=0;return r+=n(e.incudeNodes),r+=n(e.includeEdges),r+=n(e.includeLabels),r+=n(e.includeMainLabels),r+=n(e.includeSourceLabels),r+=n(e.includeTargetLabels),r+=n(e.includeOverlays),r+=n(e.includeOutlines)},yc=function(e){var t=function(e){return Math.round(e)};if(e.isEdge()){var n=e.source().position(),r=e.target().position();return Sr([t(n.x),t(n.y),t(r.x),t(r.y)])}var o=e.position();return Sr([t(o.x),t(o.y)])},mc=function(e,t){var n,r=e._private,o=e.isEdge(),i=(null==t?_c:gc(t))===_c;if(null==r.bbCache?(n=vc(e,bc),r.bbCache=n,r.bbCachePosKey=yc(e)):n=r.bbCache,!i){var a=e.isNode();n=Mo(),(t.includeNodes&&a||t.includeEdges&&!a)&&(t.includeOverlays?lc(n,r.overlayBounds):lc(n,r.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!o||t.includeSourceLabels&&t.includeTargetLabels)?lc(n,r.labelBounds.all):(t.includeMainLabels&&lc(n,r.labelBounds.mainRot),t.includeSourceLabels&&lc(n,r.labelBounds.sourceRot),t.includeTargetLabels&&lc(n,r.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},bc={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},_c=gc(bc),wc=Hr(bc);ic.boundingBox=function(e){var t,n=void 0===e||void 0===e.useCache||!0===e.useCache,r=Un(function(e){var t=e._private;return null==t.bbCache||t.styleDirty||t.bbCachePosKey!==yc(e)},function(e){return e.id()});if(n&&1===this.length&&!r(this[0]))e=void 0===e?bc:wc(e),t=mc(this[0],e);else{t=Mo();var o=wc(e=e||bc),i=this,a=i.cy().styleEnabled();this.edges().forEach(r),this.nodes().forEach(r),a&&this.recalculateRenderedStyle(n),this.updateCompoundBounds(!n);for(var s=0;s<i.length;s++){var u=i[s];r(u)&&u.dirtyBoundingBoxCache(),lc(t,mc(u,o))}}return t.x1=sc(t.x1),t.y1=sc(t.y1),t.x2=sc(t.x2),t.y2=sc(t.y2),t.w=sc(t.x2-t.x1),t.h=sc(t.y2-t.y1),t},ic.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},ic.boundingBoxAt=function(e){var t=this.nodes(),n=this.cy(),r=n.hasCompoundNodes(),o=n.collection();if(r&&(o=t.filter(function(e){return e.isParent()}),t=t.not(o)),An(e)){var i=e;e=function(){return i}}n.startBatch(),t.forEach(function(t,n){return t._private.bbAtOldPos=e(t,n)}).silentPositions(e),r&&(o.dirtyCompoundBoundsCache(),o.dirtyBoundingBoxCache(),o.updateCompoundBounds(!0));var a=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}}(this.boundingBox({useCache:!1}));return t.silentPositions(function(e){return e._private.bbAtOldPos}),r&&(o.dirtyCompoundBoundsCache(),o.dirtyBoundingBoxCache(),o.updateCompoundBounds(!0)),n.endBatch(),a},oc.boundingbox=oc.bb=oc.boundingBox,oc.renderedBoundingbox=oc.renderedBoundingBox;var xc,Ec,Oc=ic;xc=Ec={};var Sc=function(e){e.uppercaseName=Hn(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Hn(e.outerName),xc[e.name]=function(){var t=this[0],n=t._private,r=n.cy._private.styleEnabled;if(t){if(r){if(t.isParent())return t.updateCompoundBounds(),n[e.autoName]||0;var o=t.pstyle(e.name);return"label"===o.strValue?(t.recalculateRenderedStyle(),n.rstyle[e.labelName]||0):o.pfValue}return 1}},xc["outer"+e.uppercaseName]=function(){var t=this[0],n=t._private.cy._private.styleEnabled;if(t){if(n){var r=t[e.name](),o=t.pstyle("border-position").value;return r+("center"===o?t.pstyle("border-width").pfValue:"outside"===o?2*t.pstyle("border-width").pfValue:0)+2*t.padding()}return 1}},xc["rendered"+e.uppercaseName]=function(){var t=this[0];if(t)return t[e.name]()*this.cy().zoom()},xc["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t)return t[e.outerName]()*this.cy().zoom()}};Sc({name:"width"}),Sc({name:"height"}),Ec.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},Ec.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()},Ec.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var Tc=Ec,Pc={controlPoints:{get:function(e){return e.renderer().getControlPoints(e)},mult:!0},segmentPoints:{get:function(e){return e.renderer().getSegmentPoints(e)},mult:!0},sourceEndpoint:{get:function(e){return e.renderer().getSourceEndpoint(e)}},targetEndpoint:{get:function(e){return e.renderer().getTargetEndpoint(e)}},midpoint:{get:function(e){return e.renderer().getEdgeMidpoint(e)}}},Cc=Object.keys(Pc).reduce(function(e,t){var n=Pc[t],r=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)}(t);return e[t]=function(){return function(e,t){if(e.isEdge()&&e.takesUpSpace())return t(e)}(this,n.get)},n.mult?e[r]=function(){return function(e,t){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),r=n.pan(),o=n.zoom();return t(e).map(function(e){return Eo(e,o,r)})}}(this,n.get)}:e[r]=function(){return function(e,t){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return Eo(t(e),n.zoom(),n.pan())}}(this,n.get)},e},{}),kc=Qn({},ac,Oc,Tc,Cc),Ac=function(e,t){this.recycle(e,t)};function Nc(){return!1}function jc(){return!0}Ac.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Nc,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?jc:Nc):null!=e&&e.type?t=e:this.type=e,null!=t&&(this.originalEvent=t.originalEvent,this.type=null!=t.type?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,r=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:n.x*r+o.x,y:n.y*r+o.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=jc;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=jc;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=jc,this.stopPropagation()},isDefaultPrevented:Nc,isPropagationStopped:Nc,isImmediatePropagationStopped:Nc};var Rc=/^([^.]+)(\.(?:[^.]+))?$/,Ic={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Mc=Object.keys(Ic),Dc={};function Lc(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dc,t=arguments.length>1?arguments[1]:void 0,n=0;n<Mc.length;n++){var r=Mc[n];this[r]=e[r]||Ic[r]}this.context=t||this.context,this.listeners=[],this.emitting=0}var Bc=Lc.prototype,Fc=function(e,t,n,r,o,i,a){Cn(r)&&(o=r,r=null),a&&(i=null==i?a:Qn({},i,a));for(var s=kn(n)?n:n.split(/\s+/),u=0;u<s.length;u++){var l=s[u];if(!Bn(l)){var c=l.match(Rc);if(c)if(!1===t(e,l,c[1],c[2]?c[2]:null,r,o,i))break}}},Uc=function(e,t){return e.addEventFields(e.context,t),new Ac(t.type,t)},zc=function(e,t,n){if("event"!==Tn(n))if(An(n))t(e,Uc(e,n));else for(var r=kn(n)?n:n.split(/\s+/),o=0;o<r.length;o++){var i=r[o];if(!Bn(i)){var a=i.match(Rc);if(a){var s=a[1],u=a[2]?a[2]:null;t(e,Uc(e,{type:s,namespace:u,target:e.context}))}}}else t(e,n)};Bc.on=Bc.addListener=function(e,t,n,r,o){return Fc(this,function(e,t,n,r,o,i,a){Cn(i)&&e.listeners.push({event:t,callback:i,type:n,namespace:r,qualifier:o,conf:a})},e,t,n,r,o),this},Bc.one=function(e,t,n,r){return this.on(e,t,n,r,{one:!0})},Bc.removeListener=Bc.off=function(e,t,n,r){var o=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var i=this.listeners,a=function(a){var s=i[a];Fc(o,function(t,n,r,o,u,l){if((s.type===r||"*"===e)&&(!o&&".*"!==s.namespace||s.namespace===o)&&(!u||t.qualifierCompare(s.qualifier,u))&&(!l||s.callback===l))return i.splice(a,1),!1},e,t,n,r)},s=i.length-1;s>=0;s--)a(s);return this},Bc.removeAllListeners=function(){return this.removeListener("*")},Bc.emit=Bc.trigger=function(e,t,n){var r=this.listeners,o=r.length;return this.emitting++,kn(t)||(t=[t]),zc(this,function(e,i){null!=n&&(r=[{event:i.event,type:i.type,namespace:i.namespace,callback:n}],o=r.length);for(var a=function(){var n=r[s];if(n.type===i.type&&(!n.namespace||n.namespace===i.namespace||".*"===n.namespace)&&e.eventMatches(e.context,n,i)){var o=[i];null!=t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}}(o,t),e.beforeEmit(e.context,n,i),n.conf&&n.conf.one&&(e.listeners=e.listeners.filter(function(e){return e!==n}));var a=e.callbackContext(e.context,n,i),u=n.callback.apply(a,o);e.afterEmit(e.context,n,i),!1===u&&(i.stopPropagation(),i.preventDefault())}},s=0;s<o;s++)a();e.bubble(e.context)&&!i.isPropagationStopped()&&e.parent(e.context).emit(i,t)},e),this.emitting--,this};var Vc={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&In(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Wc=function(e){return Pn(e)?new Fl(e):e},Hc={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new Lc(Vc,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var r=Wc(t),o=0;o<this.length;o++){this[o].emitter().on(e,r,n)}return this},removeListener:function(e,t,n){for(var r=Wc(t),o=0;o<this.length;o++){this[o].emitter().removeListener(e,r,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){this[e].emitter().removeAllListeners()}return this},one:function(e,t,n){for(var r=Wc(t),o=0;o<this.length;o++){this[o].emitter().one(e,r,n)}return this},once:function(e,t,n){for(var r=Wc(t),o=0;o<this.length;o++){this[o].emitter().on(e,r,n,{once:!0,onceCollection:this})}},emit:function(e,t){for(var n=0;n<this.length;n++){this[n].emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify(e,this),this.emit(e,t),this}};tl.eventAliasesOn(Hc);var Gc={nodes:function(e){return this.filter(function(e){return e.isNode()}).filter(e)},edges:function(e){return this.filter(function(e){return e.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var r=this[n];r.isNode()?e.push(r):t.push(r)}return{nodes:e,edges:t}},filter:function(e,t){if(void 0===e)return this;if(Pn(e)||Rn(e))return new Fl(e).filter(this);if(Cn(e)){for(var n=this.spawn(),r=this,o=0;o<r.length;o++){var i=r[o];(t?e.apply(t,[i,o,r]):e(i,o,r))&&n.push(i)}return n}return this.spawn()},not:function(e){if(e){Pn(e)&&(e=this.filter(e));for(var t=this.spawn(),n=0;n<this.length;n++){var r=this[n];e.has(r)||t.push(r)}return t}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(Pn(e)){var t=e;return this.filter(t)}for(var n=this.spawn(),r=e,o=this.length<e.length,i=o?this:r,a=o?r:this,s=0;s<i.length;s++){var u=i[s];a.has(u)&&n.push(u)}return n},xor:function(e){var t=this._private.cy;Pn(e)&&(e=t.$(e));var n=this.spawn(),r=e,o=function(e,t){for(var r=0;r<e.length;r++){var o=e[r],i=o._private.data.id;t.hasElementWithId(i)||n.push(o)}};return o(this,r),o(r,this),n},diff:function(e){var t=this._private.cy;Pn(e)&&(e=t.$(e));var n=this.spawn(),r=this.spawn(),o=this.spawn(),i=e,a=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r],a=i._private.data.id;t.hasElementWithId(a)?o.merge(i):n.push(i)}};return a(this,i,n),a(i,this,r),{left:n,right:r,both:o}},add:function(e){var t=this._private.cy;if(!e)return this;if(Pn(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=this.spawnSelf(),o=0;o<e.length;o++){var i=e[o],a=!this.has(i);a&&r.push(i)}return r},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&Pn(e)){var r=e;e=n.mutableElements().filter(r)}for(var o=t.map,i=0;i<e.length;i++){var a=e[i],s=a._private.data.id;if(!o.has(s)){var u=this.length++;this[u]=a,o.set(s,{ele:a,index:u})}}return this},unmergeAt:function(e){var t=this[e].id(),n=this._private.map;this[e]=void 0,n.delete(t);var r=e===this.length-1;if(this.length>1&&!r){var o=this.length-1,i=this[o],a=i._private.data.id;this[o]=void 0,this[e]=i,n.set(a,{ele:i,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,r=t.map.get(n);if(!r)return this;var o=r.index;return this.unmergeAt(o),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&Pn(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=0;r<e.length;r++)this.unmergeOne(e[r]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){e(this[t])&&this.unmergeAt(t)}return this},map:function(e,t){for(var n=[],r=this,o=0;o<r.length;o++){var i=r[o],a=t?e.apply(t,[i,o,r]):e(i,o,r);n.push(a)}return n},reduce:function(e,t){for(var n=t,r=this,o=0;o<r.length;o++)n=e(n,r[o],o,r);return n},max:function(e,t){for(var n,r=-1/0,o=this,i=0;i<o.length;i++){var a=o[i],s=t?e.apply(t,[a,i,o]):e(a,i,o);s>r&&(r=s,n=a)}return{value:r,ele:n}},min:function(e,t){for(var n,r=1/0,o=this,i=0;i<o.length;i++){var a=o[i],s=t?e.apply(t,[a,i,o]):e(a,i,o);s<r&&(r=s,n=a)}return{value:r,ele:n}}},qc=Gc;qc.u=qc["|"]=qc["+"]=qc.union=qc.or=qc.add,qc["\\"]=qc["!"]=qc["-"]=qc.difference=qc.relativeComplement=qc.subtract=qc.not,qc.n=qc["&"]=qc["."]=qc.and=qc.intersection=qc.intersect,qc["^"]=qc["(+)"]=qc["(-)"]=qc.symmetricDifference=qc.symdiff=qc.xor,qc.fnFilter=qc.filterFn=qc.stdFilter=qc.filter,qc.complement=qc.abscomp=qc.absoluteComplement;var Yc=function(e,t){var n=e.cy().hasCompoundNodes();function r(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?n?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?jr:0}var o=r(e)-r(t);if(0!==o)return o;function i(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var a=i(e)-i(t);if(0!==a)return a;var s=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==s?s:e.poolIndex()-t.poolIndex()},Xc={forEach:function(e,t){if(Cn(e))for(var n=this.length,r=0;r<n;r++){var o=this[r];if(!1===(t?e.apply(t,[o,r,this]):e(o,r,this)))break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],r=this.length;null==t&&(t=r),null==e&&(e=0),e<0&&(e=r+e),t<0&&(t=r+t);for(var o=e;o>=0&&o<t&&o<r;o++)n.push(this[o]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!Cn(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(Yc)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:jr-1}var r=t.source,o=t.target,i=r.zDepth(),a=o.zDepth();return Math.max(i,a,0)}}};Xc.each=Xc.forEach;!function(){var e="undefined";("undefined"===typeof Symbol?"undefined":Wt(Symbol))!=e&&Wt(Symbol.iterator)!=e&&(Xc[Symbol.iterator]=function(){var e=this,t={value:void 0,done:!1},n=0,r=this.length;return Ft({next:function(){return n<r?t.value=e[n++]:(t.value=void 0,t.done=!0),t}},Symbol.iterator,function(){return this})})}();var Kc=Hr({nodeDimensionsIncludeLabels:!1}),$c={layoutDimensions:function(e){var t;if(e=Kc(e),this.takesUpSpace())if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();t={w:n.w,h:n.h}}else t={w:this.outerWidth(),h:this.outerHeight()};else t={w:0,h:0};return 0!==t.w&&0!==t.h||(t.w=t.h=1),t},layoutPositions:function(e,t,n){var r=this.nodes().filter(function(e){return!e.isParent()}),o=this.cy(),i=t.eles,a=function(e){return e.id()},s=Un(n,a);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=t.spacingFactor&&1!==t.spacingFactor,l=function(){if(!u)return null;for(var e=Mo(),t=0;t<r.length;t++){var n=r[t],o=s(n,t);Lo(e,o.x,o.y)}return e}(),c=Un(function(e,n){var r=s(e,n);u&&(r=function(e,t,n){var r=t.x1+t.w/2,o=t.y1+t.h/2;return{x:r+(n.x-r)*e,y:o+(n.y-o)*e}}(Math.abs(t.spacingFactor),l,r));return null!=t.transform&&(r=t.transform(e,r)),r},a);if(t.animate){for(var f=0;f<r.length;f++){var d=r[f],h=c(d,f);if(null==t.animateFilter||t.animateFilter(d,f)){var p=d.animation({position:h,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(p)}else d.position(h)}if(t.fit){var v=o.animation({fit:{boundingBox:i.boundingBoxAt(c),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(v)}else if(void 0!==t.zoom&&void 0!==t.pan){var g=o.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(g)}e.animations.forEach(function(e){return e.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),ka.all(e.animations.map(function(e){return e.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else r.positions(c),t.fit&&o.fit(t.eles,t.padding),null!=t.zoom&&o.zoom(t.zoom),t.pan&&o.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(Qn({},e,{eles:this}))}};function Zc(e,t,n){var r,o=n._private,i=o.styleCache=o.styleCache||[];return null!=(r=i[e])?r:r=i[e]=t(n)}function Qc(e,t){return e=Tr(e),function(n){return Zc(e,t,n)}}function Jc(e,t){e=Tr(e);var n=function(e){return t.call(e)};return function(){var t=this[0];if(t)return Zc(e,n,t)}}$c.createLayout=$c.makeLayout=$c.layout;var ef={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),r=t.styleEnabled();return n&&r&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e,t=this.cy(),n=function(e){return e._private.styleCache=null};t.hasCompoundNodes()?((e=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(e.connectedEdges()),e.forEach(n)):this.forEach(function(e){n(e),e.connectedEdges().forEach(n)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching())return t._private.batchStyleEles.merge(this),this;var n=this;e=!(!e&&void 0!==e),t.hasCompoundNodes()&&(n=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var r=n;return e?r.emitAndNotify("style"):r.emit("style"),n.forEach(function(e){return e._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var n=this[t];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],r=n.cy();if(r.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,r.style().apply(n));var o=n._private.style[e];return null!=o?o:t?r.style().getDefaultProperty(e):null}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];return n?t.style().getRenderedStyle(n,e):void 0},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var r=!1,o=n.style();if(An(e)){var i=e;o.applyBypass(this,i,r),this.emitAndNotify("style")}else if(Pn(e)){if(void 0===t){var a=this[0];return a?o.getStylePropertyValue(a,e):void 0}o.applyBypass(this,e,t,r),this.emitAndNotify("style")}else if(void 0===e){var s=this[0];return s?o.getRawStyle(s):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=!1,r=t.style(),o=this;if(void 0===e)for(var i=0;i<o.length;i++){var a=o[i];r.removeAllBypasses(a,n)}else{e=e.split(/\s+/);for(var s=0;s<o.length;s++){var u=o[s];r.removeBypasses(u,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var r=n._private,o=n.pstyle("opacity").value;if(!t)return o;var i=r.data.parent?n.parents():null;if(i)for(var a=0;a<i.length;a++){o*=i[a].pstyle("opacity").value}return o}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function tf(e,t){var n=e._private.data.parent?e.parents():null;if(n)for(var r=0;r<n.length;r++){if(!t(n[r]))return!1}return!0}function nf(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,r=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var o=this[0],i=e.hasCompoundNodes();if(o){var a=o._private;if(!t(o))return!1;if(o.isNode())return!i||tf(o,r);var s=a.source,u=a.target;return n(s)&&(!i||tf(s,n))&&(s===u||n(u)&&(!i||tf(u,n)))}}}var rf=Qc("eleTakesUpSpace",function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())});ef.takesUpSpace=Jc("takesUpSpace",nf({ok:rf}));var of=Qc("eleInteractive",function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&rf(e)}),af=Qc("parentInteractive",function(e){return"visible"===e.pstyle("visibility").value&&rf(e)});ef.interactive=Jc("interactive",nf({ok:of,parentOk:af,edgeOkViaNode:rf})),ef.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var sf=Qc("eleVisible",function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&rf(e)}),uf=rf;ef.visible=Jc("visible",nf({ok:sf,edgeOkViaNode:uf})),ef.hidden=function(){var e=this[0];if(e)return!e.visible()},ef.isBundledBezier=Jc("isBundledBezier",function(){return!!this.cy().styleEnabled()&&(!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace())}),ef.bypass=ef.css=ef.style,ef.renderedCss=ef.renderedStyle,ef.removeBypass=ef.removeCss=ef.removeStyle,ef.pstyle=ef.parsedStyle;var lf={};function cf(e){return function(){var t=arguments,n=[];if(2===t.length){var r=t[0],o=t[1];this.on(e.event,r,o)}else if(1===t.length&&Cn(t[0])){var i=t[0];this.on(e.event,i)}else if(0===t.length||1===t.length&&kn(t[0])){for(var a=1===t.length?t[0]:null,s=0;s<this.length;s++){var u=this[s],l=!e.ableField||u._private[e.ableField],c=u._private[e.field]!=e.value;if(e.overrideAble){var f=e.overrideAble(u);if(void 0!==f&&(l=f,!f))return this}l&&(u._private[e.field]=e.value,c&&n.push(u))}var d=this.spawn(n);d.updateStyle(),d.emit(e.event),a&&d.emit(a)}return this}}function ff(e){lf[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(void 0!==n)return n}return t._private[e.field]}},lf[e.on]=cf({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),lf[e.off]=cf({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}ff({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),ff({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&!e.pannable()&&void 0},on:"grabify",off:"ungrabify"}),ff({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),ff({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),lf.deselect=lf.unselect,lf.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},ff({field:"active",on:"activate",off:"unactivate"}),ff({field:"pannable",on:"panify",off:"unpanify"}),lf.inactive=function(){var e=this[0];if(e)return!e._private.active};var df={},hf=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var o=this[r];if(o.isNode()){for(var i=!1,a=o.connectedEdges(),s=0;s<a.length;s++){var u=a[s],l=u.source(),c=u.target();if(e.noIncomingEdges&&c===o&&l!==o||e.noOutgoingEdges&&l===o&&c!==o){i=!0;break}}i||n.push(o)}}return this.spawn(n,!0).filter(t)}},pf=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var o=this[r];if(o.isNode())for(var i=o.connectedEdges(),a=0;a<i.length;a++){var s=i[a],u=s.source(),l=s.target();e.outgoing&&u===o?(n.push(s),n.push(l)):e.incoming&&l===o&&(n.push(s),n.push(u))}}return this.spawn(n,!0).filter(t)}},vf=function(e){return function(t){for(var n=this,r=[],o={};;){var i=e.outgoing?n.outgoers():n.incomers();if(0===i.length)break;for(var a=!1,s=0;s<i.length;s++){var u=i[s],l=u.id();o[l]||(o[l]=!0,r.push(u),a=!0)}if(!a)break;n=i}return this.spawn(r,!0).filter(t)}};function gf(e){return function(t){for(var n=[],r=0;r<this.length;r++){var o=this[r]._private[e.attr];o&&n.push(o)}return this.spawn(n,!0).filter(t)}}function yf(e){return function(t){var n=[],r=this._private.cy,o=e||{};Pn(t)&&(t=r.$(t));for(var i=0;i<t.length;i++)for(var a=t[i]._private.edges,s=0;s<a.length;s++){var u=a[s],l=u._private.data,c=this.hasElementWithId(l.source)&&t.hasElementWithId(l.target),f=t.hasElementWithId(l.source)&&this.hasElementWithId(l.target);if(c||f){if(o.thisIsSrc||o.thisIsTgt){if(o.thisIsSrc&&!c)continue;if(o.thisIsTgt&&!f)continue}n.push(u)}}return this.spawn(n,!0)}}function mf(e){return e=Qn({},{codirected:!1},e),function(t){for(var n=[],r=this.edges(),o=e,i=0;i<r.length;i++)for(var a=r[i]._private,s=a.source,u=s._private.data.id,l=a.data.target,c=s._private.edges,f=0;f<c.length;f++){var d=c[f],h=d._private.data,p=h.target,v=h.source,g=p===l&&v===u,y=u===p&&l===v;(o.codirected&&g||!o.codirected&&(g||y))&&n.push(d)}return this.spawn(n,!0).filter(t)}}df.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},Qn(df,{roots:hf({noIncomingEdges:!0}),leaves:hf({noOutgoingEdges:!0}),outgoers:Hl(pf({outgoing:!0}),"outgoers"),successors:vf({outgoing:!0}),incomers:Hl(pf({incoming:!0}),"incomers"),predecessors:vf({})}),Qn(df,{neighborhood:Hl(function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var o=n[r],i=o.connectedEdges(),a=0;a<i.length;a++){var s=i[a],u=s.source(),l=s.target(),c=o===u?l:u;c.length>0&&t.push(c[0]),t.push(s[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),df.neighbourhood=df.neighborhood,df.closedNeighbourhood=df.closedNeighborhood,df.openNeighbourhood=df.openNeighborhood,Qn(df,{source:Hl(function(e){var t,n=this[0];return n&&(t=n._private.source||n.cy().collection()),t&&e?t.filter(e):t},"source"),target:Hl(function(e){var t,n=this[0];return n&&(t=n._private.target||n.cy().collection()),t&&e?t.filter(e):t},"target"),sources:gf({attr:"source"}),targets:gf({attr:"target"})}),Qn(df,{edgesWith:Hl(yf(),"edgesWith"),edgesTo:Hl(yf({thisIsSrc:!0}),"edgesTo")}),Qn(df,{connectedEdges:Hl(function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var o=r._private.edges,i=0;i<o.length;i++){var a=o[i];t.push(a)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:Hl(function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];r.isEdge()&&(t.push(r.source()[0]),t.push(r.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:Hl(mf(),"parallelEdges"),codirectedEdges:Hl(mf({codirected:!0}),"codirectedEdges")}),Qn(df,{components:function(e){var t=this,n=t.cy(),r=n.collection(),o=null==e?t.nodes():e.nodes(),i=[];null!=e&&o.empty()&&(o=e.sources());var a=function(e,t){r.merge(e),o.unmerge(e),t.merge(e)};if(o.empty())return t.spawn();var s=function(){var e=n.collection();i.push(e);var r=o[0];a(r,e),t.bfs({directed:!1,roots:r,visit:function(t){return a(t,e)}}),e.forEach(function(n){n.connectedEdges().forEach(function(n){t.has(n)&&e.has(n.source())&&e.has(n.target())&&e.merge(n)})})};do{s()}while(o.length>0);return i},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}}),df.componentsOf=df.components;var bf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==e){var o=new Kr,i=!1;if(t){if(t.length>0&&An(t[0])&&!In(t[0])){i=!0;for(var a=[],s=new Zr,u=0,l=t.length;u<l;u++){var c=t[u];null==c.data&&(c.data={});var f=c.data;if(null==f.id)f.id=zr();else if(e.hasElementWithId(f.id)||s.has(f.id))continue;var d=new Qr(e,c,!1);a.push(d),s.add(f.id)}t=a}}else t=[];this.length=0;for(var h=0,p=t.length;h<p;h++){var v=t[h][0];if(null!=v){var g=v._private.data.id;n&&o.has(g)||(n&&o.set(g,{index:this.length,ele:v}),this[this.length]=v,this.length++)}}this._private={eles:this,cy:e,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(e){this.lazyMap=e},rebuildMap:function(){for(var e=this.lazyMap=new Kr,t=this.eles,n=0;n<t.length;n++){var r=t[n];e.set(r.id(),{index:n,ele:r})}}},n&&(this._private.map=o),i&&!r&&this.restore()}else Lr("A collection must have a reference to the core")},_f=Qr.prototype=bf.prototype=Object.create(Array.prototype);_f.instanceString=function(){return"collection"},_f.spawn=function(e,t){return new bf(this.cy(),e,t)},_f.spawnSelf=function(){return this.spawn(this)},_f.cy=function(){return this._private.cy},_f.renderer=function(){return this._private.cy.renderer()},_f.element=function(){return this[0]},_f.collection=function(){return Mn(this)?this:new bf(this._private.cy,[this])},_f.unique=function(){return new bf(this._private.cy,this,!0)},_f.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)},_f.getElementById=function(e){e=""+e;var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new bf(t)},_f.$id=_f.getElementById,_f.poolIndex=function(){var e=this._private.cy._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index},_f.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},_f.indexOfId=function(e){return e=""+e,this._private.map.get(e).index},_f.json=function(e){var t=this.element(),n=this.cy();if(null==t&&e)return this;if(null!=t){var r=t._private;if(An(e)){if(n.startBatch(),e.data){t.data(e.data);var o=r.data;if(t.isEdge()){var i=!1,a={},s=e.data.source,u=e.data.target;null!=s&&s!=o.source&&(a.source=""+s,i=!0),null!=u&&u!=o.target&&(a.target=""+u,i=!0),i&&(t=t.move(a))}else{var l="parent"in e.data,c=e.data.parent;!l||null==c&&null==o.parent||c==o.parent||(void 0===c&&(c=null),null!=c&&(c=""+c),t=t.move({parent:c}))}}e.position&&t.position(e.position);var f=function(n,o,i){var a=e[n];null!=a&&a!==r[n]&&(a?t[o]():t[i]())};return f("removed","remove","restore"),f("selected","select","unselect"),f("selectable","selectify","unselectify"),f("locked","lock","unlock"),f("grabbable","grabify","ungrabify"),f("pannable","panify","unpanify"),null!=e.classes&&t.classes(e.classes),n.endBatch(),this}if(void 0===e){var d={data:Ur(r.data),position:Ur(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:null};d.classes="";var h=0;return r.classes.forEach(function(e){return d.classes+=0===h++?e:" "+e}),d}}},_f.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t].json();e.push(n)}return e},_f.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var r=this[n].json(),o=new Qr(e,r,!1);t.push(o)}return new bf(e,t)},_f.copy=_f.clone,_f.restore=function(){for(var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this,i=o.cy(),a=i._private,s=[],u=[],l=0,c=o.length;l<c;l++){var f=o[l];r&&!f.removed()||(f.isNode()?s.push(f):u.push(f))}e=s.concat(u);var d=function(){e.splice(t,1),t--};for(t=0;t<e.length;t++){var h=e[t],p=h._private,v=p.data;if(h.clearTraversalCache(),r||p.removed)if(void 0===v.id)v.id=zr();else if(Nn(v.id))v.id=""+v.id;else{if(Bn(v.id)||!Pn(v.id)){Lr("Can not create element with invalid string ID `"+v.id+"`"),d();continue}if(i.hasElementWithId(v.id)){Lr("Can not create second element with ID `"+v.id+"`"),d();continue}}else;var g=v.id;if(h.isNode()){var y=p.position;null==y.x&&(y.x=0),null==y.y&&(y.y=0)}if(h.isEdge()){for(var m=h,b=["source","target"],_=b.length,w=!1,x=0;x<_;x++){var E=b[x],O=v[E];Nn(O)&&(O=v[E]=""+v[E]),null==O||""===O?(Lr("Can not create edge `"+g+"` with unspecified "+E),w=!0):i.hasElementWithId(O)||(Lr("Can not create edge `"+g+"` with nonexistant "+E+" `"+O+"`"),w=!0)}if(w){d();continue}var S=i.getElementById(v.source),T=i.getElementById(v.target);S.same(T)?S._private.edges.push(m):(S._private.edges.push(m),T._private.edges.push(m)),m._private.source=S,m._private.target=T}p.map=new Kr,p.map.set(g,{ele:h,index:0}),p.removed=!1,r&&i.addToPool(h)}for(var P=0;P<s.length;P++){var C=s[P],k=C._private.data;Nn(k.parent)&&(k.parent=""+k.parent);var A=k.parent;if(null!=A||C._private.parent){var N=C._private.parent?i.collection().merge(C._private.parent):i.getElementById(A);if(N.empty())k.parent=void 0;else if(N[0].removed())Fr("Node added with missing parent, reference to parent removed"),k.parent=void 0,C._private.parent=null;else{for(var j=!1,R=N;!R.empty();){if(C.same(R)){j=!0,k.parent=void 0;break}R=R.parent()}j||(N[0]._private.children.push(C),C._private.parent=N[0],a.hasCompoundNodes=!0)}}}if(e.length>0){for(var I=e.length===o.length?o:new bf(i,e),M=0;M<I.length;M++){var D=I[M];D.isNode()||(D.parallelEdges().clearTraversalCache(),D.source().clearTraversalCache(),D.target().clearTraversalCache())}(a.hasCompoundNodes?i.collection().merge(I).merge(I.connectedNodes()).merge(I.parent()):I).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?I.emitAndNotify("add"):r&&I.emit("add")}return o},_f.removed=function(){var e=this[0];return e&&e._private.removed},_f.inside=function(){var e=this[0];return e&&!e._private.removed},_f.remove=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=[],o={},i=n._private.cy;function a(e){var n=o[e.id()];t&&e.removed()||n||(o[e.id()]=!0,e.isNode()?(r.push(e),function(e){for(var t=e._private.edges,n=0;n<t.length;n++)a(t[n])}(e),function(e){for(var t=e._private.children,n=0;n<t.length;n++)a(t[n])}(e)):r.unshift(e))}for(var s=0,u=n.length;s<u;s++){a(n[s])}function l(e,t){var n=e._private.edges;Gr(n,t),e.clearTraversalCache()}function c(e){e.clearTraversalCache()}var f=[];function d(e,t){t=t[0];var n=(e=e[0])._private.children,r=e.id();Gr(n,t),t._private.parent=null,f.ids[r]||(f.ids[r]=!0,f.push(e))}f.ids={},n.dirtyCompoundBoundsCache(),t&&i.removeFromPool(r);for(var h=0;h<r.length;h++){var p=r[h];if(p.isEdge()){var v=p.source()[0],g=p.target()[0];l(v,p),l(g,p);for(var y=p.parallelEdges(),m=0;m<y.length;m++){var b=y[m];c(b),b.isBundledBezier()&&b.dirtyBoundingBoxCache()}}else{var _=p.parent();0!==_.length&&d(_,p)}t&&(p._private.removed=!0)}var w=i._private.elements;i._private.hasCompoundNodes=!1;for(var x=0;x<w.length;x++){if(w[x].isParent()){i._private.hasCompoundNodes=!0;break}}var E=new bf(this.cy(),r);E.size()>0&&(e?E.emitAndNotify("remove"):t&&E.emit("remove"));for(var O=0;O<f.length;O++){var S=f[O];t&&S.removed()||S.updateStyle()}return E},_f.move=function(e){var t=this._private.cy,n=this,r=!1,o=!1,i=function(e){return null==e?e:""+e};if(void 0!==e.source||void 0!==e.target){var a=i(e.source),s=i(e.target),u=null!=a&&t.hasElementWithId(a),l=null!=s&&t.hasElementWithId(s);(u||l)&&(t.batch(function(){n.remove(r,o),n.emitAndNotify("moveout");for(var e=0;e<n.length;e++){var t=n[e],i=t._private.data;t.isEdge()&&(u&&(i.source=a),l&&(i.target=s))}n.restore(r,o)}),n.emitAndNotify("move"))}else if(void 0!==e.parent){var c=i(e.parent);if(null===c||t.hasElementWithId(c)){var f=null===c?void 0:c;t.batch(function(){var e=n.remove(r,o);e.emitAndNotify("moveout");for(var t=0;t<n.length;t++){var i=n[t],a=i._private.data;i.isNode()&&(a.parent=f)}e.restore(r,o)}),n.emitAndNotify("move")}}return this},[xa,nl,rl,zl,Gl,Ql,Jl,kc,Hc,Gc,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Xc,$c,ef,lf,df].forEach(function(e){Qn(_f,e)});var wf={add:function(e){var t,n=this;if(Rn(e)){var r=e;if(r._private.cy===n)t=r.restore();else{for(var o=[],i=0;i<r.length;i++){var a=r[i];o.push(a.json())}t=new bf(n,o)}}else if(kn(e)){t=new bf(n,e)}else if(An(e)&&(kn(e.nodes)||kn(e.edges))){for(var s=e,u=[],l=["nodes","edges"],c=0,f=l.length;c<f;c++){var d=l[c],h=s[d];if(kn(h))for(var p=0,v=h.length;p<v;p++){var g=Qn({group:d},h[p]);u.push(g)}}t=new bf(n,u)}else{t=new Qr(n,e).collection()}return t},remove:function(e){if(Rn(e));else if(Pn(e)){var t=e;e=this.$(t)}return e.remove()}};function xf(e,t,n,r){var o=.1,i="undefined"!==typeof Float32Array;if(4!==arguments.length)return!1;for(var a=0;a<4;++a)if("number"!==typeof arguments[a]||isNaN(arguments[a])||!isFinite(arguments[a]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var s=i?new Float32Array(11):new Array(11);function u(e,t){return 1-3*t+3*e}function l(e,t){return 3*t-6*e}function c(e){return 3*e}function f(e,t,n){return((u(t,n)*e+l(t,n))*e+c(t))*e}function d(e,t,n){return 3*u(t,n)*e*e+2*l(t,n)*e+c(t)}function h(t){for(var r=0,i=1;10!==i&&s[i]<=t;++i)r+=o;--i;var a=r+(t-s[i])/(s[i+1]-s[i])*o,u=d(a,e,n);return u>=.001?function(t,r){for(var o=0;o<4;++o){var i=d(r,e,n);if(0===i)return r;r-=(f(r,e,n)-t)/i}return r}(t,a):0===u?a:function(t,r,o){var i,a,s=0;do{(i=f(a=r+(o-r)/2,e,n)-t)>0?o=a:r=a}while(Math.abs(i)>1e-7&&++s<10);return a}(t,r,r+o)}var p=!1;function v(){p=!0,e===t&&n===r||function(){for(var t=0;t<11;++t)s[t]=f(t*o,e,n)}()}var g=function(o){return p||v(),e===t&&n===r?o:0===o?0:1===o?1:f(h(o),t,r)};g.getControlPoints=function(){return[{x:e,y:t},{x:n,y:r}]};var y="generateBezier("+[e,t,n,r]+")";return g.toString=function(){return y},g}var Ef=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var o={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:o.v,dv:e(o)}}function n(n,r){var o={dx:n.v,dv:e(n)},i=t(n,.5*r,o),a=t(n,.5*r,i),s=t(n,r,a),u=1/6*(o.dx+2*(i.dx+a.dx)+s.dx),l=1/6*(o.dv+2*(i.dv+a.dv)+s.dv);return n.x=n.x+u*r,n.v=n.v+l*r,n}return function e(t,r,o){var i,a,s,u={x:-1,v:0,tension:null,friction:null},l=[0],c=0,f=1e-4;for(t=parseFloat(t)||500,r=parseFloat(r)||20,o=o||null,u.tension=t,u.friction=r,a=(i=null!==o)?(c=e(t,r))/o*.016:.016;s=n(s||u,a),l.push(1+s.x),c+=16,Math.abs(s.x)>f&&Math.abs(s.v)>f;);return i?function(e){return l[e*(l.length-1)|0]}:c}}(),Of=function(e,t,n,r){var o=xf(e,t,n,r);return function(e,t,n){return e+(t-e)*o(n)}},Sf={linear:function(e,t,n){return e+(t-e)*n},ease:Of(.25,.1,.25,1),"ease-in":Of(.42,0,1,1),"ease-out":Of(0,0,.58,1),"ease-in-out":Of(.42,0,.58,1),"ease-in-sine":Of(.47,0,.745,.715),"ease-out-sine":Of(.39,.575,.565,1),"ease-in-out-sine":Of(.445,.05,.55,.95),"ease-in-quad":Of(.55,.085,.68,.53),"ease-out-quad":Of(.25,.46,.45,.94),"ease-in-out-quad":Of(.455,.03,.515,.955),"ease-in-cubic":Of(.55,.055,.675,.19),"ease-out-cubic":Of(.215,.61,.355,1),"ease-in-out-cubic":Of(.645,.045,.355,1),"ease-in-quart":Of(.895,.03,.685,.22),"ease-out-quart":Of(.165,.84,.44,1),"ease-in-out-quart":Of(.77,0,.175,1),"ease-in-quint":Of(.755,.05,.855,.06),"ease-out-quint":Of(.23,1,.32,1),"ease-in-out-quint":Of(.86,0,.07,1),"ease-in-expo":Of(.95,.05,.795,.035),"ease-out-expo":Of(.19,1,.22,1),"ease-in-out-expo":Of(1,0,0,1),"ease-in-circ":Of(.6,.04,.98,.335),"ease-out-circ":Of(.075,.82,.165,1),"ease-in-out-circ":Of(.785,.135,.15,.86),spring:function(e,t,n){if(0===n)return Sf.linear;var r=Ef(e,t,n);return function(e,t,n){return e+(t-e)*r(n)}},"cubic-bezier":Of};function Tf(e,t,n,r,o){if(1===r)return n;if(t===n)return n;var i=o(t,n,r);return null==e||((e.roundValue||e.color)&&(i=Math.round(i)),void 0!==e.min&&(i=Math.max(i,e.min)),void 0!==e.max&&(i=Math.min(i,e.max))),i}function Pf(e,t){return null!=e.pfValue||null!=e.value?null==e.pfValue||null!=t&&"%"===t.type.units?e.value:e.pfValue:e}function Cf(e,t,n,r,o){var i=null!=o?o.type:null;n<0?n=0:n>1&&(n=1);var a=Pf(e,o),s=Pf(t,o);if(Nn(a)&&Nn(s))return Tf(i,a,s,n,r);if(kn(a)&&kn(s)){for(var u=[],l=0;l<s.length;l++){var c=a[l],f=s[l];if(null!=c&&null!=f){var d=Tf(i,c,f,n,r);u.push(d)}else u.push(f)}return u}}function kf(e,t,n,r){var o=!r,i=e._private,a=t._private,s=a.easing,u=a.startTime,l=(r?e:e.cy()).style();if(!a.easingImpl)if(null==s)a.easingImpl=Sf.linear;else{var c,f,d;if(Pn(s))c=l.parse("transition-timing-function",s).value;else c=s;Pn(c)?(f=c,d=[]):(f=c[1],d=c.slice(2).map(function(e){return+e})),d.length>0?("spring"===f&&d.push(a.duration),a.easingImpl=Sf[f].apply(null,d)):a.easingImpl=Sf[f]}var h,p=a.easingImpl;if(h=0===a.duration?1:(n-u)/a.duration,a.applying&&(h=a.progress),h<0?h=0:h>1&&(h=1),null==a.delay){var v=a.startPosition,g=a.position;if(g&&o&&!e.locked()){var y={};Af(v.x,g.x)&&(y.x=Cf(v.x,g.x,h,p)),Af(v.y,g.y)&&(y.y=Cf(v.y,g.y,h,p)),e.position(y)}var m=a.startPan,b=a.pan,_=i.pan,w=null!=b&&r;w&&(Af(m.x,b.x)&&(_.x=Cf(m.x,b.x,h,p)),Af(m.y,b.y)&&(_.y=Cf(m.y,b.y,h,p)),e.emit("pan"));var x=a.startZoom,E=a.zoom,O=null!=E&&r;O&&(Af(x,E)&&(i.zoom=Io(i.minZoom,Cf(x,E,h,p),i.maxZoom)),e.emit("zoom")),(w||O)&&e.emit("viewport");var S=a.style;if(S&&S.length>0&&o){for(var T=0;T<S.length;T++){var P=S[T],C=P.name,k=P,A=a.startStyle[C],N=Cf(A,k,h,p,l.properties[A.name]);l.overrideBypass(e,C,N)}e.emit("style")}}return a.progress=h,h}function Af(e,t){return null!=e&&null!=t&&(!(!Nn(e)||!Nn(t))||!(!e||!t))}function Nf(e,t,n,r){var o=t._private;o.started=!0,o.startTime=n-o.progress*o.duration}function jf(e,t){var n=t._private.aniEles,r=[];function o(t,n){var o=t._private,i=o.animation.current,a=o.animation.queue,s=!1;if(0===i.length){var u=a.shift();u&&i.push(u)}for(var l=function(e){for(var t=e.length-1;t>=0;t--){(0,e[t])()}e.splice(0,e.length)},c=i.length-1;c>=0;c--){var f=i[c],d=f._private;d.stopped?(i.splice(c,1),d.hooked=!1,d.playing=!1,d.started=!1,l(d.frames)):(d.playing||d.applying)&&(d.playing&&d.applying&&(d.applying=!1),d.started||Nf(0,f,e),kf(t,f,e,n),d.applying&&(d.applying=!1),l(d.frames),null!=d.step&&d.step(e),f.completed()&&(i.splice(c,1),d.hooked=!1,d.playing=!1,d.started=!1,l(d.completes)),s=!0)}return n||0!==i.length||0!==a.length||r.push(t),s}for(var i=!1,a=0;a<n.length;a++){var s=o(n[a]);i=i||s}var u=o(t,!0);(i||u)&&(n.length>0?t.notify("draw",n):t.notify("draw")),n.unmerge(r),t.emit("step")}var Rf={animate:tl.animate(),animation:tl.animation(),animated:tl.animated(),clearQueue:tl.clearQueue(),delay:tl.delay(),delayAnimation:tl.delayAnimation(),stop:tl.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,e.styleEnabled()){var t=e.renderer();t&&t.beforeRender?t.beforeRender(function(t,n){jf(n,e)},t.beforeRenderPriorities.animations):function t(){e._private.animationsRunning&&gr(function(n){jf(n,e),t()})}()}}},If={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&In(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e}},Mf=function(e){return Pn(e)?new Fl(e):e},Df={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Lc(If,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,Mf(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,Mf(t),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,n){return this.emitter().one(e,Mf(t),n),this},once:function(e,t,n){return this.emitter().one(e,Mf(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};tl.eventAliasesOn(Df);var Lf={png:function(e){return e=e||{},this._private.renderer.png(e)},jpg:function(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)}};Lf.jpeg=Lf.jpg;var Bf={layout:function(e){var t=this;if(null!=e)if(null!=e.name){var n=e.name,r=t.extension("layout",n);if(null!=r){var o;o=Pn(e.eles)?t.$(e.eles):null!=e.eles?e.eles:t.$();var i=new r(Qn({},e,{cy:t,eles:o}));return i}Lr("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Lr("A `name` must be specified to make a layout");else Lr("Layout options must be specified to make a layout")}};Bf.createLayout=Bf.makeLayout=Bf.layout;var Ff={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var r=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();null!=t&&r.merge(t)}else if(n.notificationsEnabled){var o=this.renderer();!this.destroyed()&&o&&o.notify(e,t)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(0===e.batchCount)return this;if(e.batchCount--,0===e.batchCount){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var r=e.batchNotifications[n];r.empty()?t.notify(n):t.notify(n,r)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var n=Object.keys(e),r=0;r<n.length;r++){var o=n[r],i=e[o];t.getElementById(o).data(i)}})}},Uf=Hr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),zf={renderTo:function(e,t,n,r){return this._private.renderer.renderTo(e,t,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,n=t.extension("renderer",e.name);if(null!=n){void 0!==e.wheelSensitivity&&Fr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var r=Uf(e);r.cy=t,t._private.renderer=new n(r),this.notify("init")}else Lr("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(e){var t=e._private;t.rscratch={},t.rstyle={},t.animation.current=[],t.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};zf.invalidateDimensions=zf.resize;var Vf={collection:function(e,t){return Pn(e)?this.$(e):Rn(e)?e.collection():kn(e)?(t||(t={}),new bf(this,e,t.unique,t.removed)):new bf(this)},nodes:function(e){var t=this.$(function(e){return e.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(e){return e.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};Vf.elements=Vf.filter=Vf.$;var Wf={},Hf="t";Wf.apply=function(e){for(var t=this,n=t._private.cy.collection(),r=0;r<e.length;r++){var o=e[r],i=t.getContextMeta(o);if(!i.empty){var a=t.getContextStyle(i),s=t.applyContextStyle(i,a,o);o._private.appliedInitStyle?t.updateTransitions(o,s.diffProps):o._private.appliedInitStyle=!0,t.updateStyleHints(o)&&n.push(o)}}return n},Wf.getPropertiesDiff=function(e,t){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},o=e+"-"+t,i=r[o];if(i)return i;for(var a=[],s={},u=0;u<n.length;u++){var l=n[u],c=e[u]===Hf,f=t[u]===Hf,d=c!==f,h=l.mappedProperties.length>0;if(d||f&&h){var p=void 0;d&&h||d?p=l.properties:h&&(p=l.mappedProperties);for(var v=0;v<p.length;v++){for(var g=p[v],y=g.name,m=!1,b=u+1;b<n.length;b++){var _=n[b];if(t[b]===Hf&&(m=null!=_.properties[g.name]))break}s[y]||m||(s[y]=!0,a.push(y))}}}return r[o]=a,a},Wf.getContextMeta=function(e){for(var t,n=this,r="",o=e._private.styleCxtKey||"",i=0;i<n.length;i++){var a=n[i];r+=a.selector&&a.selector.matches(e)?Hf:"f"}return t=n.getPropertiesDiff(o,r),e._private.styleCxtKey=r,{key:r,diffPropNames:t,empty:0===t.length}},Wf.getContextStyle=function(e){var t=e.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var r={_private:{key:t}},o=0;o<this.length;o++){var i=this[o];if(t[o]===Hf)for(var a=0;a<i.properties.length;a++){var s=i.properties[a];r[s.name]=s}}return n[t]=r,r},Wf.applyContextStyle=function(e,t,n){for(var r=e.diffPropNames,o={},i=this.types,a=0;a<r.length;a++){var s=r[a],u=t[s],l=n.pstyle(s);if(!u){if(!l)continue;u=l.bypass?{name:s,deleteBypassed:!0}:{name:s,delete:!0}}if(l!==u){if(u.mapped===i.fn&&null!=l&&null!=l.mapping&&l.mapping.value===u.value){var c=l.mapping;if((c.fnValue=u.value(n))===c.prevFnValue)continue}var f=o[s]={prev:l};this.applyParsedProperty(n,u),f.next=n.pstyle(s),f.next&&f.next.bypass&&(f.next=f.next.bypassed)}}return{diffProps:o}},Wf.updateStyleHints=function(e){var t=e._private,n=this,r=n.propertyGroupNames,o=n.propertyGroupKeys,i=function(e,t,r){return n.getPropertiesHash(e,t,r)},a=t.styleKey;if(e.removed())return!1;var s="nodes"===t.group,u=e._private.style;r=Object.keys(u);for(var l=0;l<o.length;l++){var c=o[l];t.styleKeys[c]=[mr,br]}for(var f=function(e,n){return t.styleKeys[n][0]=wr(e,t.styleKeys[n][0])},d=function(e,n){return t.styleKeys[n][1]=xr(e,t.styleKeys[n][1])},h=function(e,t){f(e,t),d(e,t)},p=function(e,t){for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);f(r,t),d(r,t)}},v=function(e){return-128<e&&e<128&&Math.floor(e)!==e?2e9-(1024*e|0):e},g=0;g<r.length;g++){var y=r[g],m=u[y];if(null!=m){var b=this.properties[y],_=b.type,w=b.groupKey,x=void 0;null!=b.hashOverride?x=b.hashOverride(e,m):null!=m.pfValue&&(x=m.pfValue);var E=null==b.enums?m.value:null,O=null!=x,S=O||null!=E,T=m.units;if(_.number&&S&&!_.multiple)h(v(O?x:E),w),O||null==T||p(T,w);else p(m.strValue,w)}}for(var P,C,k=[mr,br],A=0;A<o.length;A++){var N=o[A],j=t.styleKeys[N];k[0]=wr(j[0],k[0]),k[1]=xr(j[1],k[1])}t.styleKey=(P=k[0],C=k[1],2097152*P+C);var R=t.styleKeys;t.labelDimsKey=Er(R.labelDimensions);var I=i(e,["label"],R.labelDimensions);if(t.labelKey=Er(I),t.labelStyleKey=Er(Or(R.commonLabel,I)),!s){var M=i(e,["source-label"],R.labelDimensions);t.sourceLabelKey=Er(M),t.sourceLabelStyleKey=Er(Or(R.commonLabel,M));var D=i(e,["target-label"],R.labelDimensions);t.targetLabelKey=Er(D),t.targetLabelStyleKey=Er(Or(R.commonLabel,D))}if(s){var L=t.styleKeys,B=L.nodeBody,F=L.nodeBorder,U=L.nodeOutline,z=L.backgroundImage,V=L.compound,W=L.pie,H=L.stripe,G=[B,F,U,z,V,W,H].filter(function(e){return null!=e}).reduce(Or,[mr,br]);t.nodeKey=Er(G),t.hasPie=null!=W&&W[0]!==mr&&W[1]!==br,t.hasStripe=null!=H&&H[0]!==mr&&H[1]!==br}return a!==t.styleKey},Wf.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null,t.hasStripe=null},Wf.applyParsedProperty=function(e,t){var n,r=this,o=t,i=e._private.style,a=r.types,s=r.properties[o.name].type,u=o.bypass,l=i[o.name],c=l&&l.bypass,f=e._private,d="mapping",h=function(e){return null==e?null:null!=e.pfValue?e.pfValue:e.value},p=function(){var t=h(l),n=h(o);r.checkTriggers(e,o.name,t,n)};if("curve-style"===t.name&&e.isEdge()&&("bezier"!==t.value&&e.isLoop()||"haystack"===t.value&&(e.source().isParent()||e.target().isParent()))&&(o=t=this.parse(t.name,"bezier",u)),o.delete)return i[o.name]=void 0,p(),!0;if(o.deleteBypassed)return l?!!l.bypass&&(l.bypassed=void 0,p(),!0):(p(),!0);if(o.deleteBypass)return l?!!l.bypass&&(i[o.name]=l.bypassed,p(),!0):(p(),!0);var v=function(){Fr("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+o.name+"` with data field `"+o.field+"`); try a `["+o.field+"]` selector to limit scope to elements with `"+o.field+"` defined")};switch(o.mapped){case a.mapData:for(var g,y=o.field.split("."),m=f.data,b=0;b<y.length&&m;b++){m=m[y[b]]}if(null==m)return v(),!1;if(!Nn(m))return Fr("Do not use continuous mappers without specifying numeric data (i.e. `"+o.field+": "+m+"` for `"+e.id()+"` is non-numeric)"),!1;var _=o.fieldMax-o.fieldMin;if((g=0===_?0:(m-o.fieldMin)/_)<0?g=0:g>1&&(g=1),s.color){var w=o.valueMin[0],x=o.valueMax[0],E=o.valueMin[1],O=o.valueMax[1],S=o.valueMin[2],T=o.valueMax[2],P=null==o.valueMin[3]?1:o.valueMin[3],C=null==o.valueMax[3]?1:o.valueMax[3],k=[Math.round(w+(x-w)*g),Math.round(E+(O-E)*g),Math.round(S+(T-S)*g),Math.round(P+(C-P)*g)];n={bypass:o.bypass,name:o.name,value:k,strValue:"rgb("+k[0]+", "+k[1]+", "+k[2]+")"}}else{if(!s.number)return!1;var A=o.valueMin+(o.valueMax-o.valueMin)*g;n=this.parse(o.name,A,o.bypass,d)}if(!n)return v(),!1;n.mapping=o,o=n;break;case a.data:for(var N=o.field.split("."),j=f.data,R=0;R<N.length&&j;R++){j=j[N[R]]}if(null!=j&&(n=this.parse(o.name,j,o.bypass,d)),!n)return v(),!1;n.mapping=o,o=n;break;case a.fn:var I=o.value,M=null!=o.fnValue?o.fnValue:I(e);if(o.prevFnValue=M,null==M)return Fr("Custom function mappers may not return null (i.e. `"+o.name+"` for ele `"+e.id()+"` is null)"),!1;if(!(n=this.parse(o.name,M,o.bypass,d)))return Fr("Custom function mappers may not return invalid values for the property type (i.e. `"+o.name+"` for ele `"+e.id()+"` is invalid)"),!1;n.mapping=Ur(o),o=n;break;case void 0:break;default:return!1}return u?(o.bypassed=c?l.bypassed:l,i[o.name]=o):c?l.bypassed=o:i[o.name]=o,p(),!0},Wf.cleanElements=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),t)for(var o=r._private.style,i=Object.keys(o),a=0;a<i.length;a++){var s=i[a],u=o[s];null!=u&&(u.bypass?u.bypassed=null:o[s]=null)}else r._private.style={}}},Wf.update=function(){this._private.cy.mutableElements().updateStyle()},Wf.updateTransitions=function(e,t){var n=this,r=e._private,o=e.pstyle("transition-property").value,i=e.pstyle("transition-duration").pfValue,a=e.pstyle("transition-delay").pfValue;if(o.length>0&&i>0){for(var s={},u=!1,l=0;l<o.length;l++){var c=o[l],f=e.pstyle(c),d=t[c];if(d){var h=d.prev,p=null!=d.next?d.next:f,v=!1,g=void 0,y=1e-6;h&&(Nn(h.pfValue)&&Nn(p.pfValue)?(v=p.pfValue-h.pfValue,g=h.pfValue+y*v):Nn(h.value)&&Nn(p.value)?(v=p.value-h.value,g=h.value+y*v):kn(h.value)&&kn(p.value)&&(v=h.value[0]!==p.value[0]||h.value[1]!==p.value[1]||h.value[2]!==p.value[2],g=h.strValue),v&&(s[c]=p.strValue,this.applyBypass(e,c,g),u=!0))}}if(!u)return;r.transitioning=!0,new ka(function(t){a>0?e.delayAnimation(a).play().promise().then(t):t()}).then(function(){return e.animation({style:s,duration:i,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){n.removeBypasses(e,o),e.emitAndNotify("style"),r.transitioning=!1})}else r.transitioning&&(this.removeBypasses(e,o),e.emitAndNotify("style"),r.transitioning=!1)},Wf.checkTrigger=function(e,t,n,r,o,i){var a=this.properties[t],s=o(a);e.removed()||null!=s&&s(n,r,e)&&i(a)},Wf.checkZOrderTrigger=function(e,t,n,r){var o=this;this.checkTrigger(e,t,n,r,function(e){return e.triggersZOrder},function(){o._private.cy.notify("zorder",e)})},Wf.checkBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(e){return e.triggersBounds},function(t){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache()})},Wf.checkConnectedEdgesBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(e){return e.triggersBoundsOfConnectedEdges},function(t){e.connectedEdges().forEach(function(e){e.dirtyBoundingBoxCache()})})},Wf.checkParallelEdgesBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(e){return e.triggersBoundsOfParallelEdges},function(t){e.parallelEdges().forEach(function(e){e.dirtyBoundingBoxCache()})})},Wf.checkTriggers=function(e,t,n,r){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,n,r),this.checkBoundsTrigger(e,t,n,r),this.checkConnectedEdgesBoundsTrigger(e,t,n,r),this.checkParallelEdgesBoundsTrigger(e,t,n,r)};var Gf={applyBypass:function(e,t,n,r){var o=[];if("*"===t||"**"===t){if(void 0!==n)for(var i=0;i<this.properties.length;i++){var a=this.properties[i].name,s=this.parse(a,n,!0);s&&o.push(s)}}else if(Pn(t)){var u=this.parse(t,n,!0);u&&o.push(u)}else{if(!An(t))return!1;var l=t;r=n;for(var c=Object.keys(l),f=0;f<c.length;f++){var d=c[f],h=l[d];if(void 0===h&&(h=l[Vn(d)]),void 0!==h){var p=this.parse(d,h,!0);p&&o.push(p)}}}if(0===o.length)return!1;for(var v=!1,g=0;g<e.length;g++){for(var y=e[g],m={},b=void 0,_=0;_<o.length;_++){var w=o[_];if(r){var x=y.pstyle(w.name);b=m[w.name]={prev:x}}v=this.applyParsedProperty(y,Ur(w))||v,r&&(b.next=y.pstyle(w.name))}v&&this.updateStyleHints(y),r&&this.updateTransitions(y,m,true)}return v},overrideBypass:function(e,t,n){t=zn(t);for(var r=0;r<e.length;r++){var o=e[r],i=o._private.style[t],a=this.properties[t].type,s=a.color,u=a.mutiple,l=i?null!=i.pfValue?i.pfValue:i.value:null;i&&i.bypass?(i.value=n,null!=i.pfValue&&(i.pfValue=n),i.strValue=s?"rgb("+n.join(",")+")":u?n.join(" "):""+n,this.updateStyleHints(o)):this.applyBypass(o,t,n),this.checkTriggers(o,t,l,n)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,n){for(var r=0;r<e.length;r++){for(var o=e[r],i={},a=0;a<t.length;a++){var s=t[a],u=this.properties[s],l=o.pstyle(u.name);if(l&&l.bypass){var c=this.parse(s,"",!0),f=i[u.name]={prev:l};this.applyParsedProperty(o,c),f.next=o.pstyle(u.name)}}this.updateStyleHints(o),n&&this.updateTransitions(o,i,true)}}},qf={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},containerCss:function(e){var t=this._private.cy,n=t.container(),r=t.window();if(r&&n&&r.getComputedStyle)return r.getComputedStyle(n).getPropertyValue(e)}},Yf={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){var n=this;if(e=e[0]){for(var r={},o=0;o<n.properties.length;o++){var i=n.properties[o],a=n.getStylePropertyValue(e,i.name,t);null!=a&&(r[i.name]=a,r[Vn(i.name)]=a)}return r}},getIndexedStyle:function(e,t,n,r){var o=e.pstyle(t)[n][r];return null!=o?o:e.cy().style().getDefaultProperty(t)[n][0]},getStylePropertyValue:function(e,t,n){if(e=e[0]){var r=this.properties[t];r.alias&&(r=r.pointsTo);var o=r.type,i=e.pstyle(r.name);if(i){var a=i.value,s=i.units,u=i.strValue;if(n&&o.number&&null!=a&&Nn(a)){var l=e.cy().zoom(),c=function(e){return e*l},f=function(e,t){return c(e)+t},d=kn(a),h=d?s.every(function(e){return null!=e}):null!=s;return h?d?a.map(function(e,t){return f(e,s[t])}).join(" "):f(a,s):d?a.map(function(e){return Pn(e)?e:""+c(e)}).join(" "):""+c(a)}if(null!=u)return u}return null}},getAnimationStartStyle:function(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r].name,i=e.pstyle(o);void 0!==i&&(i=An(i)?this.parse(o,i.strValue):this.parse(o,i)),i&&(n[o]=i)}return n},getPropsList:function(e){var t=[],n=e,r=this.properties;if(n)for(var o=Object.keys(n),i=0;i<o.length;i++){var a=o[i],s=n[a],u=r[a]||r[zn(a)],l=this.parse(u.name,s);l&&t.push(l)}return t},getNonDefaultPropertiesHash:function(e,t,n){var r,o,i,a,s,u,l=n.slice();for(s=0;s<t.length;s++)if(r=t[s],null!=(o=e.pstyle(r,!1)))if(null!=o.pfValue)l[0]=wr(a,l[0]),l[1]=xr(a,l[1]);else for(i=o.strValue,u=0;u<i.length;u++)a=i.charCodeAt(u),l[0]=wr(a,l[0]),l[1]=xr(a,l[1]);return l}};Yf.getPropertiesHash=Yf.getNonDefaultPropertiesHash;var Xf={appendFromJson:function(e){for(var t=this,n=0;n<e.length;n++){var r=e[n],o=r.selector,i=r.style||r.css,a=Object.keys(i);t.selector(o);for(var s=0;s<a.length;s++){var u=a[s],l=i[u];t.css(u,l)}}return t},fromJson:function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,o=n.properties,i={},a=0;a<o.length;a++){var s=o[a];i[s.name]=s.strValue}e.push({selector:r?r.toString():"core",style:i})}return e}},Kf={appendFromString:function(e){var t,n,r,o=this,i=""+e;function a(){i=i.length>t.length?i.substr(t.length):""}function s(){n=n.length>r.length?n.substr(r.length):""}for(i=i.replace(/[/][*](\s|.)+?[*][/]/g,"");;){if(i.match(/^\s*$/))break;var u=i.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!u){Fr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+i);break}t=u[0];var l=u[1];if("core"!==l)if(new Fl(l).invalid){Fr("Skipping parsing of block: Invalid selector found in string stylesheet: "+l),a();continue}var c=u[2],f=!1;n=c;for(var d=[];;){if(n.match(/^\s*$/))break;var h=n.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!h){Fr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+c),f=!0;break}r=h[0];var p=h[1],v=h[2];if(this.properties[p])o.parse(p,v)?(d.push({name:p,val:v}),s()):(Fr("Skipping property: Invalid property definition in: "+r),s());else Fr("Skipping property: Invalid property name in: "+r),s()}if(f){a();break}o.selector(l);for(var g=0;g<d.length;g++){var y=d[g];o.css(y.name,y.val)}a()}return o},fromString:function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t}},$f={};!function(){var e=qn,t=Xn,n=$n,r=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(r){var o=e+"|\\w+|"+t+"|"+n+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+r+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+o+")\\s*\\,\\s*("+o+")\\)$"},i=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];$f.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:r("data")},layoutData:{mapping:!0,regex:r("layoutData")},scratch:{mapping:!0,regex:r("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:i,singleRegexMatchValue:!0},urls:{regexes:i,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return Pn(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(e){var t=e.length;return 1===t||2===t||4===t}}};var a={zeroNonZero:function(e,t){return(null==e||null==t)&&e!==t||(0==e&&0!=t||0!=e&&0==t)},any:function(e,t){return e!=t},emptyNonEmpty:function(e,t){var n=Bn(e),r=Bn(t);return n&&!r||!n&&r}},s=$f.types,u=[{name:"label",type:s.text,triggersBounds:a.any,triggersZOrder:a.emptyNonEmpty},{name:"text-rotation",type:s.textRotation,triggersBounds:a.any},{name:"text-margin-x",type:s.bidirectionalSize,triggersBounds:a.any},{name:"text-margin-y",type:s.bidirectionalSize,triggersBounds:a.any}],l=[{name:"source-label",type:s.text,triggersBounds:a.any},{name:"source-text-rotation",type:s.textRotation,triggersBounds:a.any},{name:"source-text-margin-x",type:s.bidirectionalSize,triggersBounds:a.any},{name:"source-text-margin-y",type:s.bidirectionalSize,triggersBounds:a.any},{name:"source-text-offset",type:s.size,triggersBounds:a.any}],c=[{name:"target-label",type:s.text,triggersBounds:a.any},{name:"target-text-rotation",type:s.textRotation,triggersBounds:a.any},{name:"target-text-margin-x",type:s.bidirectionalSize,triggersBounds:a.any},{name:"target-text-margin-y",type:s.bidirectionalSize,triggersBounds:a.any},{name:"target-text-offset",type:s.size,triggersBounds:a.any}],f=[{name:"font-family",type:s.fontFamily,triggersBounds:a.any},{name:"font-style",type:s.fontStyle,triggersBounds:a.any},{name:"font-weight",type:s.fontWeight,triggersBounds:a.any},{name:"font-size",type:s.size,triggersBounds:a.any},{name:"text-transform",type:s.textTransform,triggersBounds:a.any},{name:"text-wrap",type:s.textWrap,triggersBounds:a.any},{name:"text-overflow-wrap",type:s.textOverflowWrap,triggersBounds:a.any},{name:"text-max-width",type:s.size,triggersBounds:a.any},{name:"text-outline-width",type:s.size,triggersBounds:a.any},{name:"line-height",type:s.positiveNumber,triggersBounds:a.any}],d=[{name:"text-valign",type:s.valign,triggersBounds:a.any},{name:"text-halign",type:s.halign,triggersBounds:a.any},{name:"color",type:s.color},{name:"text-outline-color",type:s.color},{name:"text-outline-opacity",type:s.zeroOneNumber},{name:"text-background-color",type:s.color},{name:"text-background-opacity",type:s.zeroOneNumber},{name:"text-background-padding",type:s.size,triggersBounds:a.any},{name:"text-border-opacity",type:s.zeroOneNumber},{name:"text-border-color",type:s.color},{name:"text-border-width",type:s.size,triggersBounds:a.any},{name:"text-border-style",type:s.borderStyle,triggersBounds:a.any},{name:"text-background-shape",type:s.textBackgroundShape,triggersBounds:a.any},{name:"text-justification",type:s.justification},{name:"box-select-labels",type:s.bool,triggersBounds:a.any}],h=[{name:"events",type:s.bool,triggersZOrder:a.any},{name:"text-events",type:s.bool,triggersZOrder:a.any}],p=[{name:"display",type:s.display,triggersZOrder:a.any,triggersBounds:a.any,triggersBoundsOfConnectedEdges:a.any,triggersBoundsOfParallelEdges:function(e,t,n){return e!==t&&"bezier"===n.pstyle("curve-style").value}},{name:"visibility",type:s.visibility,triggersZOrder:a.any},{name:"opacity",type:s.zeroOneNumber,triggersZOrder:a.zeroNonZero},{name:"text-opacity",type:s.zeroOneNumber},{name:"min-zoomed-font-size",type:s.size},{name:"z-compound-depth",type:s.zCompoundDepth,triggersZOrder:a.any},{name:"z-index-compare",type:s.zIndexCompare,triggersZOrder:a.any},{name:"z-index",type:s.number,triggersZOrder:a.any}],v=[{name:"overlay-padding",type:s.size,triggersBounds:a.any},{name:"overlay-color",type:s.color},{name:"overlay-opacity",type:s.zeroOneNumber,triggersBounds:a.zeroNonZero},{name:"overlay-shape",type:s.overlayShape,triggersBounds:a.any},{name:"overlay-corner-radius",type:s.cornerRadius}],g=[{name:"underlay-padding",type:s.size,triggersBounds:a.any},{name:"underlay-color",type:s.color},{name:"underlay-opacity",type:s.zeroOneNumber,triggersBounds:a.zeroNonZero},{name:"underlay-shape",type:s.overlayShape,triggersBounds:a.any},{name:"underlay-corner-radius",type:s.cornerRadius}],y=[{name:"transition-property",type:s.propList},{name:"transition-duration",type:s.time},{name:"transition-delay",type:s.time},{name:"transition-timing-function",type:s.easing}],m=function(e,t){return"label"===t.value?-e.poolIndex():t.pfValue},b=[{name:"height",type:s.nodeSize,triggersBounds:a.any,hashOverride:m},{name:"width",type:s.nodeSize,triggersBounds:a.any,hashOverride:m},{name:"shape",type:s.nodeShape,triggersBounds:a.any},{name:"shape-polygon-points",type:s.polygonPointList,triggersBounds:a.any},{name:"corner-radius",type:s.cornerRadius},{name:"background-color",type:s.color},{name:"background-fill",type:s.fill},{name:"background-opacity",type:s.zeroOneNumber},{name:"background-blacken",type:s.nOneOneNumber},{name:"background-gradient-stop-colors",type:s.colors},{name:"background-gradient-stop-positions",type:s.percentages},{name:"background-gradient-direction",type:s.gradientDirection},{name:"padding",type:s.sizeMaybePercent,triggersBounds:a.any},{name:"padding-relative-to",type:s.paddingRelativeTo,triggersBounds:a.any},{name:"bounds-expansion",type:s.boundsExpansion,triggersBounds:a.any}],_=[{name:"border-color",type:s.color},{name:"border-opacity",type:s.zeroOneNumber},{name:"border-width",type:s.size,triggersBounds:a.any},{name:"border-style",type:s.borderStyle},{name:"border-cap",type:s.lineCap},{name:"border-join",type:s.lineJoin},{name:"border-dash-pattern",type:s.numbers},{name:"border-dash-offset",type:s.number},{name:"border-position",type:s.linePosition}],w=[{name:"outline-color",type:s.color},{name:"outline-opacity",type:s.zeroOneNumber},{name:"outline-width",type:s.size,triggersBounds:a.any},{name:"outline-style",type:s.borderStyle},{name:"outline-offset",type:s.size,triggersBounds:a.any}],x=[{name:"background-image",type:s.urls},{name:"background-image-crossorigin",type:s.bgCrossOrigin},{name:"background-image-opacity",type:s.zeroOneNumbers},{name:"background-image-containment",type:s.bgContainment},{name:"background-image-smoothing",type:s.bools},{name:"background-position-x",type:s.bgPos},{name:"background-position-y",type:s.bgPos},{name:"background-width-relative-to",type:s.bgRelativeTo},{name:"background-height-relative-to",type:s.bgRelativeTo},{name:"background-repeat",type:s.bgRepeat},{name:"background-fit",type:s.bgFit},{name:"background-clip",type:s.bgClip},{name:"background-width",type:s.bgWH},{name:"background-height",type:s.bgWH},{name:"background-offset-x",type:s.bgPos},{name:"background-offset-y",type:s.bgPos}],E=[{name:"position",type:s.position,triggersBounds:a.any},{name:"compound-sizing-wrt-labels",type:s.compoundIncludeLabels,triggersBounds:a.any},{name:"min-width",type:s.size,triggersBounds:a.any},{name:"min-width-bias-left",type:s.sizeMaybePercent,triggersBounds:a.any},{name:"min-width-bias-right",type:s.sizeMaybePercent,triggersBounds:a.any},{name:"min-height",type:s.size,triggersBounds:a.any},{name:"min-height-bias-top",type:s.sizeMaybePercent,triggersBounds:a.any},{name:"min-height-bias-bottom",type:s.sizeMaybePercent,triggersBounds:a.any}],O=[{name:"line-style",type:s.lineStyle},{name:"line-color",type:s.color},{name:"line-fill",type:s.fill},{name:"line-cap",type:s.lineCap},{name:"line-opacity",type:s.zeroOneNumber},{name:"line-dash-pattern",type:s.numbers},{name:"line-dash-offset",type:s.number},{name:"line-outline-width",type:s.size},{name:"line-outline-color",type:s.color},{name:"line-gradient-stop-colors",type:s.colors},{name:"line-gradient-stop-positions",type:s.percentages},{name:"curve-style",type:s.curveStyle,triggersBounds:a.any,triggersBoundsOfParallelEdges:function(e,t){return e!==t&&("bezier"===e||"bezier"===t)}},{name:"haystack-radius",type:s.zeroOneNumber,triggersBounds:a.any},{name:"source-endpoint",type:s.edgeEndpoint,triggersBounds:a.any},{name:"target-endpoint",type:s.edgeEndpoint,triggersBounds:a.any},{name:"control-point-step-size",type:s.size,triggersBounds:a.any},{name:"control-point-distances",type:s.bidirectionalSizes,triggersBounds:a.any},{name:"control-point-weights",type:s.numbers,triggersBounds:a.any},{name:"segment-distances",type:s.bidirectionalSizes,triggersBounds:a.any},{name:"segment-weights",type:s.numbers,triggersBounds:a.any},{name:"segment-radii",type:s.numbers,triggersBounds:a.any},{name:"radius-type",type:s.radiusType,triggersBounds:a.any},{name:"taxi-turn",type:s.bidirectionalSizeMaybePercent,triggersBounds:a.any},{name:"taxi-turn-min-distance",type:s.size,triggersBounds:a.any},{name:"taxi-direction",type:s.axisDirection,triggersBounds:a.any},{name:"taxi-radius",type:s.number,triggersBounds:a.any},{name:"edge-distances",type:s.edgeDistances,triggersBounds:a.any},{name:"arrow-scale",type:s.positiveNumber,triggersBounds:a.any},{name:"loop-direction",type:s.angle,triggersBounds:a.any},{name:"loop-sweep",type:s.angle,triggersBounds:a.any},{name:"source-distance-from-node",type:s.size,triggersBounds:a.any},{name:"target-distance-from-node",type:s.size,triggersBounds:a.any}],S=[{name:"ghost",type:s.bool,triggersBounds:a.any},{name:"ghost-offset-x",type:s.bidirectionalSize,triggersBounds:a.any},{name:"ghost-offset-y",type:s.bidirectionalSize,triggersBounds:a.any},{name:"ghost-opacity",type:s.zeroOneNumber}],T=[{name:"selection-box-color",type:s.color},{name:"selection-box-opacity",type:s.zeroOneNumber},{name:"selection-box-border-color",type:s.color},{name:"selection-box-border-width",type:s.size},{name:"active-bg-color",type:s.color},{name:"active-bg-opacity",type:s.zeroOneNumber},{name:"active-bg-size",type:s.size},{name:"outside-texture-bg-color",type:s.color},{name:"outside-texture-bg-opacity",type:s.zeroOneNumber}],P=[];$f.pieBackgroundN=16,P.push({name:"pie-size",type:s.sizeMaybePercent}),P.push({name:"pie-hole",type:s.sizeMaybePercent}),P.push({name:"pie-start-angle",type:s.angle});for(var C=1;C<=$f.pieBackgroundN;C++)P.push({name:"pie-"+C+"-background-color",type:s.color}),P.push({name:"pie-"+C+"-background-size",type:s.percent}),P.push({name:"pie-"+C+"-background-opacity",type:s.zeroOneNumber});var k=[];$f.stripeBackgroundN=16,k.push({name:"stripe-size",type:s.sizeMaybePercent}),k.push({name:"stripe-direction",type:s.axisDirectionPrimary});for(var A=1;A<=$f.stripeBackgroundN;A++)k.push({name:"stripe-"+A+"-background-color",type:s.color}),k.push({name:"stripe-"+A+"-background-size",type:s.percent}),k.push({name:"stripe-"+A+"-background-opacity",type:s.zeroOneNumber});var N=[],j=$f.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:s.arrowShape,triggersBounds:a.any},{name:"arrow-color",type:s.color},{name:"arrow-fill",type:s.arrowFill},{name:"arrow-width",type:s.arrowWidth}].forEach(function(e){j.forEach(function(t){var n=t+"-"+e.name,r=e.type,o=e.triggersBounds;N.push({name:n,type:r,triggersBounds:o})})},{});var R=$f.properties=[].concat(h,y,p,v,g,S,d,f,u,l,c,b,_,w,x,P,k,E,O,N,T),I=$f.propertyGroups={behavior:h,transition:y,visibility:p,overlay:v,underlay:g,ghost:S,commonLabel:d,labelDimensions:f,mainLabel:u,sourceLabel:l,targetLabel:c,nodeBody:b,nodeBorder:_,nodeOutline:w,backgroundImage:x,pie:P,stripe:k,compound:E,edgeLine:O,edgeArrow:N,core:T},M=$f.propertyGroupNames={};($f.propertyGroupKeys=Object.keys(I)).forEach(function(e){M[e]=I[e].map(function(e){return e.name}),I[e].forEach(function(t){return t.groupKey=e})});var D=$f.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];$f.propertyNames=R.map(function(e){return e.name});for(var L=0;L<R.length;L++){var B=R[L];R[B.name]=B}for(var F=0;F<D.length;F++){var U=D[F],z=R[U.pointsTo],V={name:U.name,alias:!0,pointsTo:z};R.push(V),R[U.name]=V}}(),$f.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},$f.getDefaultProperties=function(){var e=this._private;if(null!=e.defaultProperties)return e.defaultProperties;for(var t=Qn({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var n=1;n<=$f.pieBackgroundN;n++){var r=t.name.replace("{{i}}",n),o=t.value;e[r]=o}return e},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var n=1;n<=$f.stripeBackgroundN;n++){var r=t.name.replace("{{i}}",n),o=t.value;e[r]=o}return e},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(e,t){return $f.arrowPrefixes.forEach(function(n){var r=n+"-"+t.name,o=t.value;e[r]=o}),e},{})),n={},r=0;r<this.properties.length;r++){var o=this.properties[r];if(!o.pointsTo){var i=o.name,a=t[i],s=this.parse(i,a);n[i]=s}}return e.defaultProperties=n,e.defaultProperties},$f.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Zf={parse:function(e,t,n,r){var o=this;if(Cn(t))return o.parseImplWarn(e,t,n,r);var i,a=Pr(e,""+t,n?"t":"f","mapping"===r||!0===r||!1===r||null==r?"dontcare":r),s=o.propCache=o.propCache||[];return(i=s[a])||(i=s[a]=o.parseImplWarn(e,t,n,r)),(n||"mapping"===r)&&(i=Ur(i))&&(i.value=Ur(i.value)),i},parseImplWarn:function(e,t,n,r){var o=this.parseImpl(e,t,n,r);return o||null==t||Fr("The style property `".concat(e,": ").concat(t,"` is invalid")),!o||"width"!==o.name&&"height"!==o.name||"label"!==t||Fr("The style value of `label` is deprecated for `"+o.name+"`"),o}};Zf.parseImpl=function(e,t,n,r){var o=this;e=zn(e);var i=o.properties[e],a=t,s=o.types;if(!i)return null;if(void 0===t)return null;i.alias&&(i=i.pointsTo,e=i.name);var u=Pn(t);u&&(t=t.trim());var l,c,f=i.type;if(!f)return null;if(n&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(Cn(t))return{name:e,value:t,strValue:"fn",mapped:s.fn,bypass:n};if(!u||r||t.length<7||"a"!==t[1]);else{if(t.length>=7&&"d"===t[0]&&(l=new RegExp(s.data.regex).exec(t))){if(n)return!1;var d=s.data;return{name:e,value:l,strValue:""+t,mapped:d,field:l[1],bypass:n}}if(t.length>=10&&"m"===t[0]&&(c=new RegExp(s.mapData.regex).exec(t))){if(n)return!1;if(f.multiple)return!1;var h=s.mapData;if(!f.color&&!f.number)return!1;var p=this.parse(e,c[4]);if(!p||p.mapped)return!1;var v=this.parse(e,c[5]);if(!v||v.mapped)return!1;if(p.pfValue===v.pfValue||p.strValue===v.strValue)return Fr("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+p.strValue+"`"),this.parse(e,p.strValue);if(f.color){var g=p.value,y=v.value;if(g[0]===y[0]&&g[1]===y[1]&&g[2]===y[2]&&(g[3]===y[3]||(null==g[3]||1===g[3])&&(null==y[3]||1===y[3])))return!1}return{name:e,value:c,strValue:""+t,mapped:h,field:c[1],fieldMin:parseFloat(c[2]),fieldMax:parseFloat(c[3]),valueMin:p.value,valueMax:v.value,bypass:n}}}if(f.multiple&&"multiple"!==r){var m;if(m=u?t.split(/\s+/):kn(t)?t:[t],f.evenMultiple&&m.length%2!==0)return null;for(var b=[],_=[],w=[],x="",E=!1,O=0;O<m.length;O++){var S=o.parse(e,m[O],n,"multiple");E=E||Pn(S.value),b.push(S.value),w.push(null!=S.pfValue?S.pfValue:S.value),_.push(S.units),x+=(O>0?" ":"")+S.strValue}return f.validate&&!f.validate(b,_)?null:f.singleEnum&&E?1===b.length&&Pn(b[0])?{name:e,value:b[0],strValue:b[0],bypass:n}:null:{name:e,value:b,pfValue:w,strValue:x,bypass:n,units:_}}var T,P,C=function(){for(var r=0;r<f.enums.length;r++){if(f.enums[r]===t)return{name:e,value:t,strValue:""+t,bypass:n}}return null};if(f.number){var k,A="px";if(f.units&&(k=f.units),f.implicitUnits&&(A=f.implicitUnits),!f.unitless)if(u){var N="px|em"+(f.allowPercent?"|\\%":"");k&&(N=k);var j=t.match("^("+qn+")("+N+")?$");j&&(t=j[1],k=j[2]||A)}else k&&!f.implicitUnits||(k=A);if(t=parseFloat(t),isNaN(t)&&void 0===f.enums)return null;if(isNaN(t)&&void 0!==f.enums)return t=a,C();if(f.integer&&(!Nn(P=t)||Math.floor(P)!==P))return null;if(void 0!==f.min&&(t<f.min||f.strictMin&&t===f.min)||void 0!==f.max&&(t>f.max||f.strictMax&&t===f.max))return null;var R={name:e,value:t,strValue:""+t+(k||""),units:k,bypass:n};return f.unitless||"px"!==k&&"em"!==k?R.pfValue=t:R.pfValue="px"!==k&&k?this.getEmSizeInPixels()*t:t,"ms"!==k&&"s"!==k||(R.pfValue="ms"===k?t:1e3*t),"deg"!==k&&"rad"!==k||(R.pfValue="rad"===k?t:(T=t,Math.PI*T/180)),"%"===k&&(R.pfValue=t/100),R}if(f.propList){var I=[],M=""+t;if("none"===M);else{for(var D=M.split(/\s*,\s*|\s+/),L=0;L<D.length;L++){var B=D[L].trim();o.properties[B]?I.push(B):Fr("`"+B+"` is not a valid property name")}if(0===I.length)return null}return{name:e,value:I,strValue:0===I.length?"none":I.join(" "),bypass:n}}if(f.color){var F=Jn(t);return F?{name:e,value:F,pfValue:F,strValue:"rgb("+F[0]+","+F[1]+","+F[2]+")",bypass:n}:null}if(f.regex||f.regexes){if(f.enums){var U=C();if(U)return U}for(var z=f.regexes?f.regexes:[f.regex],V=0;V<z.length;V++){var W=new RegExp(z[V]).exec(t);if(W)return{name:e,value:f.singleRegexMatchValue?W[1]:W,strValue:""+t,bypass:n}}return null}return f.string?{name:e,value:""+t,strValue:""+t,bypass:n}:f.enums?C():null};var Qf=function(e){if(!(this instanceof Qf))return new Qf(e);Dn(e)?(this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()):Lr("A style must have a core reference")},Jf=Qf.prototype;Jf.instanceString=function(){return"style"},Jf.clear=function(){for(var e=this._private,t=e.cy.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0),t.forEach(function(e){var t=e[0]._private;t.styleDirty=!0,t.appliedInitStyle=!1}),this},Jf.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Jf.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},Jf.selector=function(e){var t="core"===e?null:new Fl(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},Jf.css=function(){var e=arguments;if(1===e.length)for(var t=e[0],n=0;n<this.properties.length;n++){var r=this.properties[n],o=t[r.name];void 0===o&&(o=t[Vn(r.name)]),void 0!==o&&this.cssRule(r.name,o)}else 2===e.length&&this.cssRule(e[0],e[1]);return this},Jf.style=Jf.css,Jf.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.name.match(/stripe-(\d+)-background-size/)&&n.value&&(this._private.hasStripe=!0),n.mapped&&this[r].mappedProperties.push(n),!this[r].selector&&(this._private.coreStyle[n.name]=n)}return this},Jf.append=function(e){return Ln(e)?e.appendToStyle(this):kn(e)?this.appendFromJson(e):Pn(e)&&this.appendFromString(e),this},Qf.fromJson=function(e,t){var n=new Qf(e);return n.fromJson(t),n},Qf.fromString=function(e,t){return new Qf(e).fromString(t)},[Wf,Gf,qf,Yf,Xf,Kf,$f,Zf].forEach(function(e){Qn(Jf,e)}),Qf.types=Jf.types,Qf.properties=Jf.properties,Qf.propertyGroups=Jf.propertyGroups,Qf.propertyGroupNames=Jf.propertyGroupNames,Qf.propertyGroupKeys=Jf.propertyGroupKeys;var ed={style:function(e){e&&this.setStyle(e).update();return this._private.style},setStyle:function(e){var t=this._private;return Ln(e)?t.style=e.generateStyle(this):kn(e)?t.style=Qf.fromJson(this,e):Pn(e)?t.style=Qf.fromString(this,e):t.style=Qf(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},td={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},selectionType:function(e){var t=this._private;return null==t.selectionType&&(t.selectionType="single"),void 0===e?t.selectionType:("additive"!==e&&"single"!==e||(t.selectionType=e),this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e,t,n,r,o,i=arguments,a=this._private.pan;switch(i.length){case 0:return a;case 1:if(Pn(i[0]))return a[e=i[0]];if(An(i[0])){if(!this._private.panningEnabled)return this;r=(n=i[0]).x,o=n.y,Nn(r)&&(a.x=r),Nn(o)&&(a.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=i[1],"x"!==(e=i[0])&&"y"!==e||!Nn(t)||(a[e]=t),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(e,t){var n,r,o,i,a,s=arguments,u=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:An(e)&&(i=(o=s[0]).x,a=o.y,Nn(i)&&(u.x+=i),Nn(a)&&(u.y+=a),this.emit("pan viewport"));break;case 2:r=t,"x"!==(n=e)&&"y"!==n||!Nn(r)||(u[n]+=r),this.emit("pan viewport")}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(Nn(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n,r;if(Pn(e)){var o=e;e=this.$(o)}else if(An(r=e)&&Nn(r.x1)&&Nn(r.x2)&&Nn(r.y1)&&Nn(r.y2)){var i=e;(n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1}else Rn(e)||(e=this.mutableElements());if(!Rn(e)||!e.empty()){n=n||e.boundingBox();var a,s=this.width(),u=this.height();if(t=Nn(t)?t:0,!isNaN(s)&&!isNaN(u)&&s>0&&u>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:a=(a=(a=Math.min((s-2*t)/n.w,(u-2*t)/n.h))>this._private.maxZoom?this._private.maxZoom:a)<this._private.minZoom?this._private.minZoom:a,pan:{x:(s-a*(n.x1+n.x2))/2,y:(u-a*(n.y1+n.y2))/2}}}}},zoomRange:function(e,t){var n=this._private;if(null==t){var r=e;e=r.min,t=r.max}return Nn(e)&&Nn(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):Nn(e)&&void 0===t&&e<=n.maxZoom?n.minZoom=e:Nn(t)&&void 0===e&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return void 0===e?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return void 0===e?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t,n,r=this._private,o=r.pan,i=r.zoom,a=!1;if(r.zoomingEnabled||(a=!0),Nn(e)?n=e:An(e)&&(n=e.level,null!=e.position?t=Eo(e.position,i,o):null!=e.renderedPosition&&(t=e.renderedPosition),null==t||r.panningEnabled||(a=!0)),n=(n=n>r.maxZoom?r.maxZoom:n)<r.minZoom?r.minZoom:n,a||!Nn(n)||n===i||null!=t&&(!Nn(t.x)||!Nn(t.y)))return null;if(null!=t){var s=o,u=i,l=n;return{zoomed:!0,panned:!0,zoom:l,pan:{x:-l/u*(t.x-s.x)+t.x,y:-l/u*(t.y-s.y)+t.y}}}return{zoomed:!0,panned:!1,zoom:n,pan:o}},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return null!=t&&t.zoomed?(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(e){var t=this._private,n=!0,r=!0,o=[],i=!1,a=!1;if(!e)return this;if(Nn(e.zoom)||(n=!1),An(e.pan)||(r=!1),!n&&!r)return this;if(n){var s=e.zoom;s<t.minZoom||s>t.maxZoom||!t.zoomingEnabled?i=!0:(t.zoom=s,o.push("zoom"))}if(r&&(!i||!e.cancelOnFailedZoom)&&t.panningEnabled){var u=e.pan;Nn(u.x)&&(t.pan.x=u.x,a=!1),Nn(u.y)&&(t.pan.y=u.y,a=!1),a||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(Pn(e)){var n=e;e=this.mutableElements().filter(n)}else Rn(e)||(e=this.mutableElements());if(0!==e.length){var r=e.boundingBox(),o=this.width(),i=this.height();return{x:(o-(t=void 0===t?this._private.zoom:t)*(r.x1+r.x2))/2,y:(i-t*(r.y1+r.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container,n=this;return e.sizeCache=e.sizeCache||(t?function(){var e=n.window().getComputedStyle(t),r=function(t){return parseFloat(e.getPropertyValue(t))};return{width:t.clientWidth-r("padding-left")-r("padding-right"),height:t.clientHeight-r("padding-top")-r("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){return e?(this._private.multiClickDebounceTime=e,this):this._private.multiClickDebounceTime}};td.centre=td.center,td.autolockNodes=td.autolock,td.autoungrabifyNodes=td.autoungrabify;var nd={data:tl.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:tl.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:tl.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:tl.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};nd.attr=nd.data,nd.removeAttr=nd.removeData;var rd=function(e){var t=this,n=(e=Qn({},e)).container;n&&!jn(n)&&jn(n[0])&&(n=n[0]);var r=n?n._cyreg:null;(r=r||{})&&r.cy&&(r.cy.destroy(),r={});var o=r.readies=r.readies||[];n&&(n._cyreg=r),r.cy=t;var i=void 0!==Gt&&void 0!==n&&!e.headless,a=e;a.layout=Qn({name:i?"grid":"null"},a.layout),a.renderer=Qn({name:i?"canvas":"null"},a.renderer);var s=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},u=this._private={container:n,ready:!1,options:a,elements:new bf(this),listeners:[],aniEles:new bf(this),data:a.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:s(!0,a.zoomingEnabled),userZoomingEnabled:s(!0,a.userZoomingEnabled),panningEnabled:s(!0,a.panningEnabled),userPanningEnabled:s(!0,a.userPanningEnabled),boxSelectionEnabled:s(!0,a.boxSelectionEnabled),autolock:s(!1,a.autolock,a.autolockNodes),autoungrabify:s(!1,a.autoungrabify,a.autoungrabifyNodes),autounselectify:s(!1,a.autounselectify),styleEnabled:void 0===a.styleEnabled?i:a.styleEnabled,zoom:Nn(a.zoom)?a.zoom:1,pan:{x:An(a.pan)&&Nn(a.pan.x)?a.pan.x:0,y:An(a.pan)&&Nn(a.pan.y)?a.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:s(250,a.multiClickDebounceTime)};this.createEmitter(),this.selectionType(a.selectionType),this.zoomRange({min:a.minZoom,max:a.maxZoom});u.styleEnabled&&t.setStyle([]);var l=Qn({},a,a.renderer);t.initRenderer(l);!function(e,t){if(e.some(Fn))return ka.all(e).then(t);t(e)}([a.style,a.elements],function(e){var n=e[0],i=e[1];u.styleEnabled&&t.style().append(n),function(e,n,r){t.notifications(!1);var o=t.mutableElements();o.length>0&&o.remove(),null!=e&&(An(e)||kn(e))&&t.add(e),t.one("layoutready",function(e){t.notifications(!0),t.emit(e),t.one("load",n),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",r),t.emit("done")});var i=Qn({},t._private.options.layout);i.eles=t.elements(),t.layout(i).run()}(i,function(){t.startAnimationLoop(),u.ready=!0,Cn(a.ready)&&t.on("ready",a.ready);for(var e=0;e<o.length;e++){var n=o[e];t.on("ready",n)}r&&(r.readies=[]),t.emit("ready")},a.done)})},od=rd.prototype;Qn(od,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){if(null==this._private.container)return Gt;var e=this._private.container.ownerDocument;return void 0===e||null==e?Gt:e.defaultView||Gt},mount:function(e){if(null!=e){var t=this,n=t._private,r=n.options;return!jn(e)&&jn(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),n.container=e,n.styleEnabled=!0,t.invalidateSize(),t.initRenderer(Qn({},r,r.renderer,{name:"null"===r.renderer.name?"canvas":r.renderer.name})),t.startAnimationLoop(),t.style(r.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Ur(this._private.options)},json:function(e){var t=this,n=t._private,r=t.mutableElements();if(An(e)){if(t.startBatch(),e.elements){var o={},i=function(e,n){for(var r=[],i=[],a=0;a<e.length;a++){var s=e[a];if(s.data.id){var u=""+s.data.id,l=t.getElementById(u);o[u]=!0,0!==l.length?i.push({ele:l,json:s}):n?(s.group=n,r.push(s)):r.push(s)}else Fr("cy.json() cannot handle elements without an ID attribute")}t.add(r);for(var c=0;c<i.length;c++){var f=i[c],d=f.ele,h=f.json;d.json(h)}};if(kn(e.elements))i(e.elements);else for(var a=["nodes","edges"],s=0;s<a.length;s++){var u=a[s],l=e.elements[u];kn(l)&&i(l,u)}var c=t.collection();r.filter(function(e){return!o[e.id()]}).forEach(function(e){e.isParent()?c.merge(e):e.remove()}),c.forEach(function(e){return e.children().move({parent:null})}),c.forEach(function(e){return function(e){return t.getElementById(e.id())}(e).remove()})}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===n.pan.x&&e.pan.y===n.pan.y||t.pan(e.pan)),e.data&&t.data(e.data);for(var f=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],d=0;d<f.length;d++){var h=f[d];null!=e[h]&&t[h](e[h])}return t.endBatch(),this}var p={};!!e?p.elements=this.elements().map(function(e){return e.json()}):(p.elements={},r.forEach(function(e){var t=e.group();p.elements[t]||(p.elements[t]=[]),p.elements[t].push(e.json())})),this._private.styleEnabled&&(p.style=t.style().json()),p.data=Ur(t.data());var v=n.options;return p.zoomingEnabled=n.zoomingEnabled,p.userZoomingEnabled=n.userZoomingEnabled,p.zoom=n.zoom,p.minZoom=n.minZoom,p.maxZoom=n.maxZoom,p.panningEnabled=n.panningEnabled,p.userPanningEnabled=n.userPanningEnabled,p.pan=Ur(n.pan),p.boxSelectionEnabled=n.boxSelectionEnabled,p.renderer=Ur(v.renderer),p.hideEdgesOnViewport=v.hideEdgesOnViewport,p.textureOnViewport=v.textureOnViewport,p.wheelSensitivity=v.wheelSensitivity,p.motionBlur=v.motionBlur,p.multiClickDebounceTime=v.multiClickDebounceTime,p}}),od.$id=od.getElementById,[wf,Rf,Df,Lf,Bf,Ff,zf,Vf,ed,td,nd].forEach(function(e){Qn(od,e)});var id={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},ad={maximal:!1,acyclic:!1},sd=function(e){return e.scratch("breadthfirst")},ud=function(e,t){return e.scratch("breadthfirst",t)};function ld(e){this.options=Qn({},id,ad,e)}ld.prototype.run=function(){var e,t=this.options,n=t.cy,r=t.eles,o=r.nodes().filter(function(e){return e.isChildless()}),i=r,a=t.directed,s=t.acyclic||t.maximal||t.maximalAdjustments>0,u=!!t.boundingBox,l=n.extent(),c=Mo(u?t.boundingBox:{x1:l.x1,y1:l.y1,w:l.w,h:l.h});if(Rn(t.roots))e=t.roots;else if(kn(t.roots)){for(var f=[],d=0;d<t.roots.length;d++){var h=t.roots[d],p=n.getElementById(h);f.push(p)}e=n.collection(f)}else if(Pn(t.roots))e=n.$(t.roots);else if(a)e=o.roots();else{var v=r.components();e=n.collection();for(var g=function(){var t=v[y],n=t.maxDegree(!1),r=t.filter(function(e){return e.degree(!1)===n});e=e.add(r)},y=0;y<v.length;y++)g()}var m=[],b={},_=function(e,t){null==m[t]&&(m[t]=[]);var n=m[t].length;m[t].push(e),ud(e,{index:n,depth:t})};i.bfs({roots:e,directed:t.directed,visit:function(e,t,n,r,o){var i=e[0],a=i.id();i.isChildless()&&_(i,o),b[a]=!0}});for(var w=[],x=0;x<o.length;x++){var E=o[x];b[E.id()]||w.push(E)}var O=function(e){for(var t=m[e],n=0;n<t.length;n++){var r=t[n];null!=r?ud(r,{depth:e,index:n}):(t.splice(n,1),n--)}},S=function(e,n){for(var o=sd(e),i=e.incomers().filter(function(e){return e.isNode()&&r.has(e)}),a=-1,s=e.id(),u=0;u<i.length;u++){var l=i[u],c=sd(l);a=Math.max(a,c.depth)}if(o.depth<=a){if(!t.acyclic&&n[s])return null;var f=a+1;return function(e,t){var n=sd(e),r=n.depth,o=n.index;m[r][o]=null,e.isChildless()&&_(e,t)}(e,f),n[s]=f,!0}return!1};if(a&&s){var T=[],P={},C=function(e){return T.push(e)},k=function(){return T.shift()};for(o.forEach(function(e){return T.push(e)});T.length>0;){var A=k(),N=S(A,P);if(N)A.outgoers().filter(function(e){return e.isNode()&&r.has(e)}).forEach(C);else if(null===N){Fr("Detected double maximal shift for node `"+A.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var j=0;if(t.avoidOverlap)for(var R=0;R<o.length;R++){var I=o[R].layoutDimensions(t),M=I.w,D=I.h;j=Math.max(j,M,D)}var L={},B=function(e){if(L[e.id()])return L[e.id()];for(var t=sd(e).depth,n=e.neighborhood(),r=0,i=0,a=0;a<n.length;a++){var s=n[a];if(!s.isEdge()&&!s.isParent()&&o.has(s)){var u=sd(s);if(null!=u){var l=u.index,c=u.depth;if(null!=l&&null!=c){var f=m[c].length;c<t&&(r+=l/f,i++)}}}}return r/=i=Math.max(1,i),0===i&&(r=0),L[e.id()]=r,r},F=function(e,t){var n=B(e)-B(t);return 0===n?Zn(e.id(),t.id()):n};void 0!==t.depthSort&&(F=t.depthSort);for(var U=m.length,z=0;z<U;z++)m[z].sort(F),O(z);for(var V=[],W=0;W<w.length;W++)V.push(w[W]);V.length&&(m.unshift(V),U=m.length,function(){for(var e=0;e<U;e++)O(e)}());for(var H=0,G=0;G<U;G++)H=Math.max(m[G].length,H);var q=c.x1+c.w/2,Y=c.y1+c.h/2,X=o.reduce(function(e,n){return r=n.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}),{w:-1===e.w?r.w:(e.w+r.w)/2,h:-1===e.h?r.h:(e.h+r.h)/2};var r},{w:-1,h:-1}),K=Math.max(1===U?0:u?(c.h-2*t.padding-X.h)/(U-1):(c.h-2*t.padding-X.h)/(U+1),j),$=m.reduce(function(e,t){return Math.max(e,t.length)},0);return r.nodes().layoutPositions(this,t,function(e){var n=sd(e),r=n.depth,o=n.index;if(t.circle){var i=Math.min(c.w/2/U,c.h/2/U),a=(i=Math.max(i,j))*r+i-(U>0&&m[0].length<=3?i/2:0),s=2*Math.PI/m[r].length*o;return 0===r&&1===m[0].length&&(a=1),{x:q+a*Math.cos(s),y:Y+a*Math.sin(s)}}var l=m[r].length,f=Math.max(1===l?0:u?(c.w-2*t.padding-X.w)/((t.grid?$:l)-1):(c.w-2*t.padding-X.w)/((t.grid?$:l)+1),j);return{x:q+(o+1-(l+1)/2)*f,y:Y+(r+1-(U+1)/2)*K}}),this};var cd={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function fd(e){this.options=Qn({},cd,e)}fd.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,o=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,i=r.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));for(var a,s=Mo(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u=s.x1+s.w/2,l=s.y1+s.h/2,c=(void 0===t.sweep?2*Math.PI-2*Math.PI/i.length:t.sweep)/Math.max(1,i.length-1),f=0,d=0;d<i.length;d++){var h=i[d].layoutDimensions(t),p=h.w,v=h.h;f=Math.max(f,p,v)}if(a=Nn(t.radius)?t.radius:i.length<=1?0:Math.min(s.h,s.w)/2-f,i.length>1&&t.avoidOverlap){f*=1.75;var g=Math.cos(c)-Math.cos(0),y=Math.sin(c)-Math.sin(0),m=Math.sqrt(f*f/(g*g+y*y));a=Math.max(m,a)}return r.nodes().layoutPositions(this,t,function(e,n){var r=t.startAngle+n*c*(o?1:-1),i=a*Math.cos(r),s=a*Math.sin(r);return{x:u+i,y:l+s}}),this};var dd,hd={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function pd(e){this.options=Qn({},hd,e)}pd.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,r=e.cy,o=t.eles,i=o.nodes().not(":parent"),a=Mo(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s=a.x1+a.w/2,u=a.y1+a.h/2,l=[],c=0,f=0;f<i.length;f++){var d,h=i[f];d=t.concentric(h),l.push({value:d,node:h}),h._private.scratch.concentric=d}i.updateStyle();for(var p=0;p<i.length;p++){var v=i[p].layoutDimensions(t);c=Math.max(c,v.w,v.h)}l.sort(function(e,t){return t.value-e.value});for(var g=t.levelWidth(i),y=[[]],m=y[0],b=0;b<l.length;b++){var _=l[b];if(m.length>0)Math.abs(m[0].value-_.value)>=g&&(m=[],y.push(m));m.push(_)}var w=c+t.minNodeSpacing;if(!t.avoidOverlap){var x=y.length>0&&y[0].length>1,E=(Math.min(a.w,a.h)/2-w)/(y.length+x?1:0);w=Math.min(w,E)}for(var O=0,S=0;S<y.length;S++){var T=y[S],P=void 0===t.sweep?2*Math.PI-2*Math.PI/T.length:t.sweep,C=T.dTheta=P/Math.max(1,T.length-1);if(T.length>1&&t.avoidOverlap){var k=Math.cos(C)-Math.cos(0),A=Math.sin(C)-Math.sin(0),N=Math.sqrt(w*w/(k*k+A*A));O=Math.max(N,O)}T.r=O,O+=w}if(t.equidistant){for(var j=0,R=0,I=0;I<y.length;I++){var M=y[I].r-R;j=Math.max(j,M)}R=0;for(var D=0;D<y.length;D++){var L=y[D];0===D&&(R=L.r),L.r=R,R+=j}}for(var B={},F=0;F<y.length;F++)for(var U=y[F],z=U.dTheta,V=U.r,W=0;W<U.length;W++){var H=U[W],G=t.startAngle+(n?1:-1)*z*W,q={x:s+V*Math.cos(G),y:u+V*Math.sin(G)};B[H.node.id()]=q}return o.nodes().layoutPositions(this,t,function(e){var t=e.id();return B[t]}),this};var vd={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function gd(e){this.options=Qn({},vd,e),this.options.layout=this;var t=this.options.eles.nodes(),n=this.options.eles.edges().filter(function(e){var n=e.source().data("id"),r=e.target().data("id"),o=t.some(function(e){return e.data("id")===n}),i=t.some(function(e){return e.data("id")===r});return!o||!i});this.options.eles=this.options.eles.not(n)}gd.prototype.run=function(){var e=this.options,t=e.cy,n=this;n.stopped=!1,!0!==e.animate&&!1!==e.animate||n.emit({type:"layoutstart",layout:n}),dd=!0===e.debug;var r=yd(t,n,e);dd&&undefined(r),e.randomize&&_d(r);var o=yr(),i=function(){xd(r,t,e),!0===e.fit&&t.fit(e.padding)},a=function(t){return!(n.stopped||t>=e.numIter)&&(Ed(r,e),r.temperature=r.temperature*e.coolingFactor,!(r.temperature<e.minTemp))},s=function(){if(!0===e.animate||!1===e.animate)i(),n.one("layoutstop",e.stop),n.emit({type:"layoutstop",layout:n});else{var t=e.eles.nodes(),o=wd(r,e,t);t.layoutPositions(n,e,o)}},u=0,l=!0;if(!0===e.animate){var c=function(){for(var t=0;l&&t<e.refresh;)l=a(u),u++,t++;l?(yr()-o>=e.animationThreshold&&i(),gr(c)):(Md(r,e),s())};c()}else{for(;l;)l=a(u),u++;Md(r,e),s()}return this},gd.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},gd.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var yd=function(e,t,n){for(var r=n.eles.edges(),o=n.eles.nodes(),i=Mo(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),a={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:i.w,clientHeight:i.h,boundingBox:i},s=n.eles.components(),u={},l=0;l<s.length;l++)for(var c=s[l],f=0;f<c.length;f++){u[c[f].id()]=l}for(l=0;l<a.nodeSize;l++){var d=(y=o[l]).layoutDimensions(n);(R={}).isLocked=y.locked(),R.id=y.data("id"),R.parentId=y.data("parent"),R.cmptId=u[y.id()],R.children=[],R.positionX=y.position("x"),R.positionY=y.position("y"),R.offsetX=0,R.offsetY=0,R.height=d.w,R.width=d.h,R.maxX=R.positionX+R.width/2,R.minX=R.positionX-R.width/2,R.maxY=R.positionY+R.height/2,R.minY=R.positionY-R.height/2,R.padLeft=parseFloat(y.style("padding")),R.padRight=parseFloat(y.style("padding")),R.padTop=parseFloat(y.style("padding")),R.padBottom=parseFloat(y.style("padding")),R.nodeRepulsion=Cn(n.nodeRepulsion)?n.nodeRepulsion(y):n.nodeRepulsion,a.layoutNodes.push(R),a.idToIndex[R.id]=l}var h=[],p=0,v=-1,g=[];for(l=0;l<a.nodeSize;l++){var y,m=(y=a.layoutNodes[l]).parentId;null!=m?a.layoutNodes[a.idToIndex[m]].children.push(y.id):(h[++v]=y.id,g.push(y.id))}for(a.graphSet.push(g);p<=v;){var b=h[p++],_=a.idToIndex[b],w=a.layoutNodes[_].children;if(w.length>0){a.graphSet.push(w);for(l=0;l<w.length;l++)h[++v]=w[l]}}for(l=0;l<a.graphSet.length;l++){var x=a.graphSet[l];for(f=0;f<x.length;f++){var E=a.idToIndex[x[f]];a.indexToGraph[E]=l}}for(l=0;l<a.edgeSize;l++){var O=r[l],S={};S.id=O.data("id"),S.sourceId=O.data("source"),S.targetId=O.data("target");var T=Cn(n.idealEdgeLength)?n.idealEdgeLength(O):n.idealEdgeLength,P=Cn(n.edgeElasticity)?n.edgeElasticity(O):n.edgeElasticity,C=a.idToIndex[S.sourceId],k=a.idToIndex[S.targetId];if(a.indexToGraph[C]!=a.indexToGraph[k]){for(var A=md(S.sourceId,S.targetId,a),N=a.graphSet[A],j=0,R=a.layoutNodes[C];-1===N.indexOf(R.id);)R=a.layoutNodes[a.idToIndex[R.parentId]],j++;for(R=a.layoutNodes[k];-1===N.indexOf(R.id);)R=a.layoutNodes[a.idToIndex[R.parentId]],j++;T*=j*n.nestingFactor}S.idealLength=T,S.elasticity=P,a.layoutEdges.push(S)}return a},md=function(e,t,n){var r=bd(e,t,0,n);return 2>r.count?0:r.graph},bd=function(e,t,n,r){var o=r.graphSet[n];if(-1<o.indexOf(e)&&-1<o.indexOf(t))return{count:2,graph:n};for(var i=0,a=0;a<o.length;a++){var s=o[a],u=r.idToIndex[s],l=r.layoutNodes[u].children;if(0!==l.length){var c=r.indexToGraph[r.idToIndex[l[0]]],f=bd(e,t,c,r);if(0!==f.count){if(1!==f.count)return f;if(2===++i)break}}}return{count:i,graph:n}},_d=function(e,t){for(var n=e.clientWidth,r=e.clientHeight,o=0;o<e.nodeSize;o++){var i=e.layoutNodes[o];0!==i.children.length||i.isLocked||(i.positionX=Math.random()*n,i.positionY=Math.random()*r)}},wd=function(e,t,n){var r=e.boundingBox,o={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach(function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];o.x1=Math.min(o.x1,n.positionX),o.x2=Math.max(o.x2,n.positionX),o.y1=Math.min(o.y1,n.positionY),o.y2=Math.max(o.y2,n.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),function(n,i){var a=e.layoutNodes[e.idToIndex[n.data("id")]];if(t.boundingBox){var s=(a.positionX-o.x1)/o.w,u=(a.positionY-o.y1)/o.h;return{x:r.x1+s*r.w,y:r.y1+u*r.h}}return{x:a.positionX,y:a.positionY}}},xd=function(e,t,n){var r=n.layout,o=n.eles.nodes(),i=wd(e,n,o);o.positions(i),!0!==e.ready&&(e.ready=!0,r.one("layoutready",n.ready),r.emit({type:"layoutready",layout:this}))},Ed=function(e,t,n){Od(e,t),kd(e),Ad(e,t),Nd(e),jd(e)},Od=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var r=e.graphSet[n],o=r.length,i=0;i<o;i++)for(var a=e.layoutNodes[e.idToIndex[r[i]]],s=i+1;s<o;s++){var u=e.layoutNodes[e.idToIndex[r[s]]];Td(a,u,e,t)}},Sd=function(e){return 2*e*Math.random()-1},Td=function(e,t,n,r){if(e.cmptId===t.cmptId||n.isCompound){var o=t.positionX-e.positionX,i=t.positionY-e.positionY;0===o&&0===i&&(o=Sd(1),i=Sd(1));var a=Pd(e,t,o,i);if(a>0)var s=(l=r.nodeOverlap*a)*o/(v=Math.sqrt(o*o+i*i)),u=l*i/v;else{var l,c=Cd(e,o,i),f=Cd(t,-1*o,-1*i),d=f.x-c.x,h=f.y-c.y,p=d*d+h*h,v=Math.sqrt(p);s=(l=(e.nodeRepulsion+t.nodeRepulsion)/p)*d/v,u=l*h/v}e.isLocked||(e.offsetX-=s,e.offsetY-=u),t.isLocked||(t.offsetX+=s,t.offsetY+=u)}},Pd=function(e,t,n,r){if(n>0)var o=e.maxX-t.minX;else o=t.maxX-e.minX;if(r>0)var i=e.maxY-t.minY;else i=t.maxY-e.minY;return o>=0&&i>=0?Math.sqrt(o*o+i*i):0},Cd=function(e,t,n){var r=e.positionX,o=e.positionY,i=e.height||1,a=e.width||1,s=n/t,u=i/a,l={};return 0===t&&0<n||0===t&&0>n?(l.x=r,l.y=o+i/2,l):0<t&&-1*u<=s&&s<=u?(l.x=r+a/2,l.y=o+a*n/2/t,l):0>t&&-1*u<=s&&s<=u?(l.x=r-a/2,l.y=o-a*n/2/t,l):0<n&&(s<=-1*u||s>=u)?(l.x=r+i*t/2/n,l.y=o+i/2,l):0>n&&(s<=-1*u||s>=u)?(l.x=r-i*t/2/n,l.y=o-i/2,l):l},kd=function(e,t){for(var n=0;n<e.edgeSize;n++){var r=e.layoutEdges[n],o=e.idToIndex[r.sourceId],i=e.layoutNodes[o],a=e.idToIndex[r.targetId],s=e.layoutNodes[a],u=s.positionX-i.positionX,l=s.positionY-i.positionY;if(0!==u||0!==l){var c=Cd(i,u,l),f=Cd(s,-1*u,-1*l),d=f.x-c.x,h=f.y-c.y,p=Math.sqrt(d*d+h*h),v=Math.pow(r.idealLength-p,2)/r.elasticity;if(0!==p)var g=v*d/p,y=v*h/p;else g=0,y=0;i.isLocked||(i.offsetX+=g,i.offsetY+=y),s.isLocked||(s.offsetX-=g,s.offsetY-=y)}}},Ad=function(e,t){if(0!==t.gravity)for(var n=0;n<e.graphSet.length;n++){var r=e.graphSet[n],o=r.length;if(0===n)var i=e.clientHeight/2,a=e.clientWidth/2;else{var s=e.layoutNodes[e.idToIndex[r[0]]],u=e.layoutNodes[e.idToIndex[s.parentId]];i=u.positionX,a=u.positionY}for(var l=0;l<o;l++){var c=e.layoutNodes[e.idToIndex[r[l]]];if(!c.isLocked){var f=i-c.positionX,d=a-c.positionY,h=Math.sqrt(f*f+d*d);if(h>1){var p=t.gravity*f/h,v=t.gravity*d/h;c.offsetX+=p,c.offsetY+=v}}}}},Nd=function(e,t){var n=[],r=0,o=-1;for(n.push.apply(n,e.graphSet[0]),o+=e.graphSet[0].length;r<=o;){var i=n[r++],a=e.idToIndex[i],s=e.layoutNodes[a],u=s.children;if(0<u.length&&!s.isLocked){for(var l=s.offsetX,c=s.offsetY,f=0;f<u.length;f++){var d=e.layoutNodes[e.idToIndex[u[f]]];d.offsetX+=l,d.offsetY+=c,n[++o]=u[f]}s.offsetX=0,s.offsetY=0}}},jd=function(e,t){for(var n=0;n<e.nodeSize;n++){0<(o=e.layoutNodes[n]).children.length&&(o.maxX=void 0,o.minX=void 0,o.maxY=void 0,o.minY=void 0)}for(n=0;n<e.nodeSize;n++){if(!(0<(o=e.layoutNodes[n]).children.length||o.isLocked)){var r=Rd(o.offsetX,o.offsetY,e.temperature);o.positionX+=r.x,o.positionY+=r.y,o.offsetX=0,o.offsetY=0,o.minX=o.positionX-o.width,o.maxX=o.positionX+o.width,o.minY=o.positionY-o.height,o.maxY=o.positionY+o.height,Id(o,e)}}for(n=0;n<e.nodeSize;n++){var o;0<(o=e.layoutNodes[n]).children.length&&!o.isLocked&&(o.positionX=(o.maxX+o.minX)/2,o.positionY=(o.maxY+o.minY)/2,o.width=o.maxX-o.minX,o.height=o.maxY-o.minY)}},Rd=function(e,t,n){var r=Math.sqrt(e*e+t*t);if(r>n)var o={x:n*e/r,y:n*t/r};else o={x:e,y:t};return o},Id=function(e,t){var n=e.parentId;if(null!=n){var r=t.layoutNodes[t.idToIndex[n]],o=!1;return(null==r.maxX||e.maxX+r.padRight>r.maxX)&&(r.maxX=e.maxX+r.padRight,o=!0),(null==r.minX||e.minX-r.padLeft<r.minX)&&(r.minX=e.minX-r.padLeft,o=!0),(null==r.maxY||e.maxY+r.padBottom>r.maxY)&&(r.maxY=e.maxY+r.padBottom,o=!0),(null==r.minY||e.minY-r.padTop<r.minY)&&(r.minY=e.minY-r.padTop,o=!0),o?Id(r,t):void 0}},Md=function(e,t){for(var n=e.layoutNodes,r=[],o=0;o<n.length;o++){var i=n[o],a=i.cmptId;(r[a]=r[a]||[]).push(i)}var s=0;for(o=0;o<r.length;o++){if(v=r[o]){v.x1=1/0,v.x2=-1/0,v.y1=1/0,v.y2=-1/0;for(var u=0;u<v.length;u++){var l=v[u];v.x1=Math.min(v.x1,l.positionX-l.width/2),v.x2=Math.max(v.x2,l.positionX+l.width/2),v.y1=Math.min(v.y1,l.positionY-l.height/2),v.y2=Math.max(v.y2,l.positionY+l.height/2)}v.w=v.x2-v.x1,v.h=v.y2-v.y1,s+=v.w*v.h}}r.sort(function(e,t){return t.w*t.h-e.w*e.h});var c=0,f=0,d=0,h=0,p=Math.sqrt(s)*e.clientWidth/e.clientHeight;for(o=0;o<r.length;o++){var v;if(v=r[o]){for(u=0;u<v.length;u++){(l=v[u]).isLocked||(l.positionX+=c-v.x1,l.positionY+=f-v.y1)}c+=v.w+t.componentSpacing,d+=v.w+t.componentSpacing,h=Math.max(h,v.h),d>p&&(f+=h+t.componentSpacing,c=0,d=0,h=0)}}},Dd={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Ld(e){this.options=Qn({},Dd,e)}Ld.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,o=r.nodes().not(":parent");t.sort&&(o=o.sort(t.sort));var i=Mo(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===i.h||0===i.w)r.nodes().layoutPositions(this,t,function(e){return{x:i.x1,y:i.y1}});else{var a=o.size(),s=Math.sqrt(a*i.h/i.w),u=Math.round(s),l=Math.round(i.w/i.h*s),c=function(e){if(null==e)return Math.min(u,l);Math.min(u,l)==u?u=e:l=e},f=function(e){if(null==e)return Math.max(u,l);Math.max(u,l)==u?u=e:l=e},d=t.rows,h=null!=t.cols?t.cols:t.columns;if(null!=d&&null!=h)u=d,l=h;else if(null!=d&&null==h)u=d,l=Math.ceil(a/u);else if(null==d&&null!=h)l=h,u=Math.ceil(a/l);else if(l*u>a){var p=c(),v=f();(p-1)*v>=a?c(p-1):(v-1)*p>=a&&f(v-1)}else for(;l*u<a;){var g=c(),y=f();(y+1)*g>=a?f(y+1):c(g+1)}var m=i.w/l,b=i.h/u;if(t.condense&&(m=0,b=0),t.avoidOverlap)for(var _=0;_<o.length;_++){var w=o[_],x=w._private.position;null!=x.x&&null!=x.y||(x.x=0,x.y=0);var E=w.layoutDimensions(t),O=t.avoidOverlapPadding,S=E.w+O,T=E.h+O;m=Math.max(m,S),b=Math.max(b,T)}for(var P={},C=function(e,t){return!!P["c-"+e+"-"+t]},k=function(e,t){P["c-"+e+"-"+t]=!0},A=0,N=0,j=function(){++N>=l&&(N=0,A++)},R={},I=0;I<o.length;I++){var M=o[I],D=t.position(M);if(D&&(void 0!==D.row||void 0!==D.col)){var L={row:D.row,col:D.col};if(void 0===L.col)for(L.col=0;C(L.row,L.col);)L.col++;else if(void 0===L.row)for(L.row=0;C(L.row,L.col);)L.row++;R[M.id()]=L,k(L.row,L.col)}}o.layoutPositions(this,t,function(e,t){var n,r;if(e.locked()||e.isParent())return!1;var o=R[e.id()];if(o)n=o.col*m+m/2+i.x1,r=o.row*b+b/2+i.y1;else{for(;C(A,N);)j();n=N*m+m/2+i.x1,r=A*b+b/2+i.y1,k(A,N),j()}return{x:n,y:r}})}return this};var Bd={ready:function(){},stop:function(){}};function Fd(e){this.options=Qn({},Bd,e)}Fd.prototype.run=function(){var e=this.options,t=e.eles,n=this;return e.cy,n.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",e.ready),n.emit("layoutready"),n.one("layoutstop",e.stop),n.emit("layoutstop"),this},Fd.prototype.stop=function(){return this};var Ud={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function zd(e){this.options=Qn({},Ud,e)}zd.prototype.run=function(){var e=this.options,t=e.eles.nodes(),n=Cn(e.positions);return t.layoutPositions(this,e,function(t,r){var o=function(t){if(null==e.positions)return function(e){return{x:e.x,y:e.y}}(t.position());if(n)return e.positions(t);var r=e.positions[t._private.data.id];return null==r?null:r}(t);return!t.locked()&&null!=o&&o}),this};var Vd={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Wd(e){this.options=Qn({},Vd,e)}Wd.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,r=Mo(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return n.nodes().layoutPositions(this,e,function(e,t){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}}),this};var Hd=[{name:"breadthfirst",impl:ld},{name:"circle",impl:fd},{name:"concentric",impl:pd},{name:"cose",impl:gd},{name:"grid",impl:Ld},{name:"null",impl:Fd},{name:"preset",impl:zd},{name:"random",impl:Wd}];function Gd(e){this.options=e,this.notifications=0}var qd=function(){},Yd=function(){throw new Error("A headless instance can not render images")};Gd.prototype={recalculateRenderedStyle:qd,notify:function(){this.notifications++},init:qd,isHeadless:function(){return!0},png:Yd,jpg:Yd};var Xd={arrowShapeWidth:.3,registerArrowShapes:function(){var e=this.arrowShapes={},t=this,n=function(e,t,n,r,o,i,a){var s=o.x-n/2-a,u=o.x+n/2+a,l=o.y-n/2-a,c=o.y+n/2+a;return s<=e&&e<=u&&l<=t&&t<=c},r=function(e,t,n,r,o){var i=e*Math.cos(r)-t*Math.sin(r),a=(e*Math.sin(r)+t*Math.cos(r))*n;return{x:i*n+o.x,y:a+o.y}},o=function(e,t,n,o){for(var i=[],a=0;a<e.length;a+=2){var s=e[a],u=e[a+1];i.push(r(s,u,t,n,o))}return i},i=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.x,r.y)}return t},a=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},s=function(r,s){Pn(s)&&(s=e[s]),e[r]=Qn({name:r,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,n,r,a,s){var u=i(o(this.points,n+2*s,r,a));return Qo(e,t,u)},roughCollide:n,draw:function(e,n,r,i){var a=o(this.points,n,r,i);t.arrowShapeImpl("polygon")(e,a)},spacing:function(e){return 0},gap:a},s)};s("none",{collide:Ir,roughCollide:Ir,draw:Dr,spacing:Mr,gap:Mr}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(e,n,i,a,s){var u=o(this.points,n,i,a),l=this.controlPoint,c=r(l[0],l[1],n,i,a);t.arrowShapeImpl(this.name)(e,u,c)},gap:function(e){return.8*a(e)}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,n,r,a,s,u){var l=i(o(this.points,n+2*u,r,a)),c=i(o(this.pointsTee,n+2*u,r,a));return Qo(e,t,l)||Qo(e,t,c)},draw:function(e,n,r,i,a){var s=o(this.points,n,r,i),u=o(this.pointsTee,n,r,i);t.arrowShapeImpl(this.name)(e,s,u)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(e,t,n,r,a,s,u){var l=a,c=Math.pow(l.x-e,2)+Math.pow(l.y-t,2)<=Math.pow((n+2*u)*this.radius,2),f=i(o(this.points,n+2*u,r,a));return Qo(e,t,f)||c},draw:function(e,n,r,i,a){var s=o(this.pointsTr,n,r,i);t.arrowShapeImpl(this.name)(e,s,i.x,i.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var n=this.baseCrossLinePts.slice(),r=t/e;return n[3]=n[3]-r,n[5]=n[5]-r,n},collide:function(e,t,n,r,a,s,u){var l=i(o(this.points,n+2*u,r,a)),c=i(o(this.crossLinePts(n,s),n+2*u,r,a));return Qo(e,t,l)||Qo(e,t,c)},draw:function(e,n,r,i,a){var s=o(this.points,n,r,i),u=o(this.crossLinePts(n,a),n,r,i);t.arrowShapeImpl(this.name)(e,s,u)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.525*a(e)}}),s("circle",{radius:.15,collide:function(e,t,n,r,o,i,a){var s=o;return Math.pow(s.x-e,2)+Math.pow(s.y-t,2)<=Math.pow((n+2*a)*this.radius,2)},draw:function(e,n,r,o,i){t.arrowShapeImpl(this.name)(e,o.x,o.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(e){return.95*e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})}},Kd={projectIntoViewport:function(e,t){var n=this.cy,r=this.findContainerClientCoords(),o=r[0],i=r[1],a=r[4],s=n.pan(),u=n.zoom();return[((e-o)/a-s.x)/u,((t-i)/a-s.y)/u]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=this.cy.window().getComputedStyle(e),r=function(e){return parseFloat(n.getPropertyValue(e))},o=r("padding-left"),i=r("padding-right"),a=r("padding-top"),s=r("padding-bottom"),u=r("border-left-width"),l=r("border-right-width"),c=r("border-top-width"),f=(r("border-bottom-width"),e.clientWidth),d=e.clientHeight,h=o+i,p=a+s,v=u+l,g=t.width/(f+v),y=f-h,m=d-p,b=t.left+o+u,_=t.top+a+c;return this.containerBB=[b,_,y,m,g]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]},findNearestElements:function(e,t,n,r){var o,i,a=this,s=this,u=s.getCachedZSortedEles(),l=[],c=s.cy.zoom(),f=s.cy.hasCompoundNodes(),d=(r?24:8)/c,h=(r?8:2)/c,p=(r?8:2)/c,v=1/0;function g(e,t){if(e.isNode()){if(i)return;i=e,l.push(e)}if(e.isEdge()&&(null==t||t<v))if(o){if(o.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value&&o.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value)for(var n=0;n<l.length;n++)if(l[n].isEdge()){l[n]=e,o=e,v=null!=t?t:v;break}}else l.push(e),o=e,v=null!=t?t:v}function y(n){var r=n.outerWidth()+2*h,o=n.outerHeight()+2*h,i=r/2,u=o/2,l=n.position(),c="auto"===n.pstyle("corner-radius").value?"auto":n.pstyle("corner-radius").pfValue,f=n._private.rscratch;if(l.x-i<=e&&e<=l.x+i&&l.y-u<=t&&t<=l.y+u&&s.nodeShapes[a.getNodeShape(n)].checkPoint(e,t,0,r,o,l.x,l.y,c,f))return g(n,0),!0}function m(n){var r,o=n._private,i=o.rscratch,u=n.pstyle("width").pfValue,c=n.pstyle("arrow-scale").value,h=u/2+d,p=h*h,v=2*h,m=o.source,b=o.target;if("segments"===i.edgeType||"straight"===i.edgeType||"haystack"===i.edgeType){for(var _=i.allpts,w=0;w+3<_.length;w+=2)if(Xo(e,t,_[w],_[w+1],_[w+2],_[w+3],v)&&p>(r=Zo(e,t,_[w],_[w+1],_[w+2],_[w+3])))return g(n,r),!0}else if("bezier"===i.edgeType||"multibezier"===i.edgeType||"self"===i.edgeType||"compound"===i.edgeType)for(_=i.allpts,w=0;w+5<i.allpts.length;w+=4)if(Ko(e,t,_[w],_[w+1],_[w+2],_[w+3],_[w+4],_[w+5],v)&&p>(r=$o(e,t,_[w],_[w+1],_[w+2],_[w+3],_[w+4],_[w+5])))return g(n,r),!0;m=m||o.source,b=b||o.target;var x=a.getArrowWidth(u,c),E=[{name:"source",x:i.arrowStartX,y:i.arrowStartY,angle:i.srcArrowAngle},{name:"target",x:i.arrowEndX,y:i.arrowEndY,angle:i.tgtArrowAngle},{name:"mid-source",x:i.midX,y:i.midY,angle:i.midsrcArrowAngle},{name:"mid-target",x:i.midX,y:i.midY,angle:i.midtgtArrowAngle}];for(w=0;w<E.length;w++){var O=E[w],S=s.arrowShapes[n.pstyle(O.name+"-arrow-shape").value],T=n.pstyle("width").pfValue;if(S.roughCollide(e,t,x,O.angle,{x:O.x,y:O.y},T,d)&&S.collide(e,t,x,O.angle,{x:O.x,y:O.y},T,d))return g(n),!0}f&&l.length>0&&(y(m),y(b))}function b(e,t,n){return Yr(e,t,n)}function _(n,r){var o,i=n._private,a=p;o=r?r+"-":"",n.boundingBox();var s=i.labelBounds[r||"main"],u=n.pstyle(o+"label").value;if("yes"===n.pstyle("text-events").strValue&&u){var l=b(i.rscratch,"labelX",r),c=b(i.rscratch,"labelY",r),f=b(i.rscratch,"labelAngle",r),d=n.pstyle(o+"text-margin-x").pfValue,h=n.pstyle(o+"text-margin-y").pfValue,v=s.x1-a-d,y=s.x2+a-d,m=s.y1-a-h,_=s.y2+a-h;if(f){var w=Math.cos(f),x=Math.sin(f),E=function(e,t){return{x:(e-=l)*w-(t-=c)*x+l,y:e*x+t*w+c}},O=E(v,m),S=E(v,_),T=E(y,m),P=E(y,_),C=[O.x+d,O.y+h,T.x+d,T.y+h,P.x+d,P.y+h,S.x+d,S.y+h];if(Qo(e,t,C))return g(n),!0}else if(Vo(s,e,t))return g(n),!0}}n&&(u=u.interactive);for(var w=u.length-1;w>=0;w--){var x=u[w];x.isNode()?y(x)||_(x):m(x)||_(x)||_(x,"source")||_(x,"target")}return l},getAllInBox:function(e,t,n,r){var o=this.getCachedZSortedEles().interactive,i=2/this.cy.zoom(),a=[],s=Math.min(e,n),u=Math.max(e,n),l=Math.min(t,r),c=Math.max(t,r),f=Mo({x1:e=s,y1:t=l,x2:n=u,y2:r=c});function d(e,t,n){return Yr(e,t,n)}function h(e,t){var n=e._private,r=i;e.boundingBox();var o=n.labelBounds.main;if(!o)return null;var a=d(n.rscratch,"labelX",t),s=d(n.rscratch,"labelY",t),u=d(n.rscratch,"labelAngle",t),l=e.pstyle("text-margin-x").pfValue,c=e.pstyle("text-margin-y").pfValue,f=o.x1-r-l,h=o.x2+r-l,p=o.y1-r-c,v=o.y2+r-c;if(u){var g=Math.cos(u),y=Math.sin(u),m=function(e,t){return{x:(e-=a)*g-(t-=s)*y+a,y:e*y+t*g+s}};return[m(f,p),m(h,p),m(h,v),m(f,v)]}return[{x:f,y:p},{x:h,y:p},{x:h,y:v},{x:f,y:v}]}for(var p=0;p<o.length;p++){var v=o[p];if(v.isNode()){var g=v,y="yes"===g.pstyle("text-events").strValue,m="yes"===g.pstyle("box-select-labels").strValue,b=g.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:m&&y});if(zo(f,b)){var _=h(g),w=[{x:f.x1,y:f.y1},{x:f.x2,y:f.y1},{x:f.x2,y:f.y2},{x:f.x1,y:f.y2}];_&&!vi(_,w)||a.push(g)}}else{var x=v,E=x._private,O=E.rscratch;if(null!=O.startX&&null!=O.startY&&!Vo(f,O.startX,O.startY))continue;if(null!=O.endX&&null!=O.endY&&!Vo(f,O.endX,O.endY))continue;if("bezier"===O.edgeType||"multibezier"===O.edgeType||"self"===O.edgeType||"compound"===O.edgeType||"segments"===O.edgeType||"haystack"===O.edgeType){for(var S=E.rstyle.bezierPts||E.rstyle.linePts||E.rstyle.haystackPts,T=!0,P=0;P<S.length;P++)if(!Wo(f,S[P])){T=!1;break}T&&a.push(x)}else"haystack"!==O.edgeType&&"straight"!==O.edgeType||a.push(x)}}return a}},$d={calculateArrowAngles:function(e){var t,n,r,o,i,a,s=e._private.rscratch,u="haystack"===s.edgeType,l="bezier"===s.edgeType,c="multibezier"===s.edgeType,f="segments"===s.edgeType,d="compound"===s.edgeType,h="self"===s.edgeType;if(u?(r=s.haystackPts[0],o=s.haystackPts[1],i=s.haystackPts[2],a=s.haystackPts[3]):(r=s.arrowStartX,o=s.arrowStartY,i=s.arrowEndX,a=s.arrowEndY),v=s.midX,g=s.midY,f)t=r-s.segpts[0],n=o-s.segpts[1];else if(c||d||h||l){var p=s.allpts;t=r-jo(p[0],p[2],p[4],.1),n=o-jo(p[1],p[3],p[5],.1)}else t=r-v,n=o-g;s.srcArrowAngle=To(t,n);var v=s.midX,g=s.midY;if(u&&(v=(r+i)/2,g=(o+a)/2),t=i-r,n=a-o,f)if((p=s.allpts).length/2%2===0){var y=(S=p.length/2)-2;t=p[S]-p[y],n=p[S+1]-p[y+1]}else if(s.isRound)t=s.midVector[1],n=-s.midVector[0];else{y=(S=p.length/2-1)-2;t=p[S]-p[y],n=p[S+1]-p[y+1]}else if(c||d||h){var m,b,_,w,p=s.allpts;if(s.ctrlpts.length/2%2===0){var x=(E=(O=p.length/2-1)+2)+2;m=jo(p[O],p[E],p[x],0),b=jo(p[O+1],p[E+1],p[x+1],0),_=jo(p[O],p[E],p[x],1e-4),w=jo(p[O+1],p[E+1],p[x+1],1e-4)}else{var E,O;x=(E=p.length/2-1)+2;m=jo(p[O=E-2],p[E],p[x],.4999),b=jo(p[O+1],p[E+1],p[x+1],.4999),_=jo(p[O],p[E],p[x],.5),w=jo(p[O+1],p[E+1],p[x+1],.5)}t=_-m,n=w-b}if(s.midtgtArrowAngle=To(t,n),s.midDispX=t,s.midDispY=n,t*=-1,n*=-1,f)if((p=s.allpts).length/2%2===0);else if(!s.isRound){var S,T=(S=p.length/2-1)+2;t=-(p[T]-p[S]),n=-(p[T+1]-p[S+1])}if(s.midsrcArrowAngle=To(t,n),f)t=i-s.segpts[s.segpts.length-2],n=a-s.segpts[s.segpts.length-1];else if(c||d||h||l){var P=(p=s.allpts).length;t=i-jo(p[P-6],p[P-4],p[P-2],.9),n=a-jo(p[P-5],p[P-3],p[P-1],.9)}else t=i-v,n=a-g;s.tgtArrowAngle=To(t,n)}};$d.getArrowWidth=$d.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[e+", "+t];return r||(r=Math.max(Math.pow(13.37*e,.9),29)*t,n[e+", "+t]=r,r)};var Zd,Qd,Jd,eh,th,nh,rh,oh,ih,ah,sh,uh,lh,ch,fh,dh,hh,ph={},vh={},gh=function(e,t,n){n.x=t.x-e.x,n.y=t.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},yh=function(e,t,n,r,o){var i,a;if(e!==hh?gh(t,e,ph):((a=ph).x=-1*(i=vh).x,a.y=-1*i.y,a.nx=-1*i.nx,a.ny=-1*i.ny,a.ang=i.ang>0?-(Math.PI-i.ang):Math.PI+i.ang),gh(t,n,vh),Jd=ph.nx*vh.ny-ph.ny*vh.nx,eh=ph.nx*vh.nx-ph.ny*-vh.ny,rh=Math.asin(Math.max(-1,Math.min(1,Jd))),Math.abs(rh)<1e-6)return Zd=t.x,Qd=t.y,void(ih=sh=0);th=1,nh=!1,eh<0?rh<0?rh=Math.PI+rh:(rh=Math.PI-rh,th=-1,nh=!0):rh>0&&(th=-1,nh=!0),sh=void 0!==t.radius?t.radius:r,oh=rh/2,uh=Math.min(ph.len/2,vh.len/2),o?(ah=Math.abs(Math.cos(oh)*sh/Math.sin(oh)))>uh?(ah=uh,ih=Math.abs(ah*Math.sin(oh)/Math.cos(oh))):ih=sh:(ah=Math.min(uh,sh),ih=Math.abs(ah*Math.sin(oh)/Math.cos(oh))),fh=t.x+vh.nx*ah,dh=t.y+vh.ny*ah,Zd=fh-vh.ny*ih*th,Qd=dh+vh.nx*ih*th,lh=t.x+ph.nx*ah,ch=t.y+ph.ny*ah,hh=t};function mh(e,t){0===t.radius?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function bh(e,t,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return 0===r||0===t.radius?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(yh(e,t,n,r,o),{cx:Zd,cy:Qd,radius:ih,startX:lh,startY:ch,stopX:fh,stopY:dh,startAngle:ph.ang+Math.PI/2*th,endAngle:vh.ang-Math.PI/2*th,counterClockwise:nh})}var _h=.01,wh=Math.sqrt(.02),xh={};function Eh(e){var t=[];if(null!=e){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];t.push({x:r,y:o})}return t}}xh.findMidptPtsEtc=function(e,t){var n,r=t.posPts,o=t.intersectionPts,i=t.vectorNormInverse,a=e.pstyle("source-endpoint"),s=e.pstyle("target-endpoint"),u=null!=a.units&&null!=s.units;switch(e.pstyle("edge-distances").value){case"node-position":n=r;break;case"intersection":n=o;break;case"endpoints":if(u){var l=Ut(this.manualEndptToPx(e.source()[0],a),2),c=l[0],f=l[1],d=Ut(this.manualEndptToPx(e.target()[0],s),2),h=d[0],p=d[1],v={x1:c,y1:f,x2:h,y2:p};i=function(e,t,n,r){var o=r-t,i=n-e,a=Math.sqrt(i*i+o*o);return{x:-o/a,y:i/a}}(c,f,h,p),n=v}else Fr("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),n=o}return{midptPts:n,vectorNormInverse:i}},xh.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n._private,o=r.rscratch;if(!o.haystack){var i=2*Math.random()*Math.PI;o.source={x:Math.cos(i),y:Math.sin(i)},i=2*Math.random()*Math.PI,o.target={x:Math.cos(i),y:Math.sin(i)}}var a=r.source,s=r.target,u=a.position(),l=s.position(),c=a.width(),f=s.width(),d=a.height(),h=s.height(),p=n.pstyle("haystack-radius").value/2;o.haystackPts=o.allpts=[o.source.x*c*p+u.x,o.source.y*d*p+u.y,o.target.x*f*p+l.x,o.target.y*h*p+l.y],o.midX=(o.allpts[0]+o.allpts[2])/2,o.midY=(o.allpts[1]+o.allpts[3])/2,o.edgeType="haystack",o.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},xh.findSegmentsPoints=function(e,t){var n=e._private.rscratch,r=e.pstyle("segment-weights"),o=e.pstyle("segment-distances"),i=e.pstyle("segment-radii"),a=e.pstyle("radius-type"),s=Math.min(r.pfValue.length,o.pfValue.length),u=i.pfValue[i.pfValue.length-1],l=a.pfValue[a.pfValue.length-1];n.edgeType="segments",n.segpts=[],n.radii=[],n.isArcRadius=[];for(var c=0;c<s;c++){var f=r.pfValue[c],d=o.pfValue[c],h=1-f,p=f,v=this.findMidptPtsEtc(e,t),g=v.midptPts,y=v.vectorNormInverse,m={x:g.x1*h+g.x2*p,y:g.y1*h+g.y2*p};n.segpts.push(m.x+y.x*d,m.y+y.y*d),n.radii.push(void 0!==i.pfValue[c]?i.pfValue[c]:u),n.isArcRadius.push("arc-radius"===(void 0!==a.pfValue[c]?a.pfValue[c]:l))}},xh.findLoopPoints=function(e,t,n,r){var o=e._private.rscratch,i=t.dirCounts,a=t.srcPos,s=e.pstyle("control-point-distances"),u=s?s.pfValue[0]:void 0,l=e.pstyle("loop-direction").pfValue,c=e.pstyle("loop-sweep").pfValue,f=e.pstyle("control-point-step-size").pfValue;o.edgeType="self";var d=n,h=f;r&&(d=0,h=u);var p=l-Math.PI/2,v=p-c/2,g=p+c/2,y=String(l+"_"+c);d=void 0===i[y]?i[y]=0:++i[y],o.ctrlpts=[a.x+1.4*Math.cos(v)*h*(d/3+1),a.y+1.4*Math.sin(v)*h*(d/3+1),a.x+1.4*Math.cos(g)*h*(d/3+1),a.y+1.4*Math.sin(g)*h*(d/3+1)]},xh.findCompoundLoopPoints=function(e,t,n,r){var o=e._private.rscratch;o.edgeType="compound";var i=t.srcPos,a=t.tgtPos,s=t.srcW,u=t.srcH,l=t.tgtW,c=t.tgtH,f=e.pstyle("control-point-step-size").pfValue,d=e.pstyle("control-point-distances"),h=d?d.pfValue[0]:void 0,p=n,v=f;r&&(p=0,v=h);var g={x:i.x-s/2,y:i.y-u/2},y={x:a.x-l/2,y:a.y-c/2},m={x:Math.min(g.x,y.x),y:Math.min(g.y,y.y)},b=Math.max(.5,Math.log(s*_h)),_=Math.max(.5,Math.log(l*_h));o.ctrlpts=[m.x,m.y-(1+Math.pow(50,1.12)/100)*v*(p/3+1)*b,m.x-(1+Math.pow(50,1.12)/100)*v*(p/3+1)*_,m.y]},xh.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},xh.findBezierPoints=function(e,t,n,r,o){var i=e._private.rscratch,a=e.pstyle("control-point-step-size").pfValue,s=e.pstyle("control-point-distances"),u=e.pstyle("control-point-weights"),l=s&&u?Math.min(s.value.length,u.value.length):1,c=s?s.pfValue[0]:void 0,f=u.value[0],d=r;i.edgeType=d?"multibezier":"bezier",i.ctrlpts=[];for(var h=0;h<l;h++){var p=(.5-t.eles.length/2+n)*a*(o?-1:1),v=void 0,g=Co(p);d&&(c=s?s.pfValue[h]:a,f=u.value[h]);var y=void 0!==(v=r?c:void 0!==c?g*c:void 0)?v:p,m=1-f,b=f,_=this.findMidptPtsEtc(e,t),w=_.midptPts,x=_.vectorNormInverse,E={x:w.x1*m+w.x2*b,y:w.y1*m+w.y2*b};i.ctrlpts.push(E.x+x.x*y,E.y+x.y*y)}},xh.findTaxiPoints=function(e,t){var n=e._private.rscratch;n.edgeType="segments";var r="vertical",o="horizontal",i="leftward",a="rightward",s="downward",u="upward",l=t.posPts,c=t.srcW,f=t.srcH,d=t.tgtW,h=t.tgtH,p="node-position"!==e.pstyle("edge-distances").value,v=e.pstyle("taxi-direction").value,g=v,y=e.pstyle("taxi-turn"),m="%"===y.units,b=y.pfValue,_=b<0,w=e.pstyle("taxi-turn-min-distance").pfValue,x=p?(c+d)/2:0,E=p?(f+h)/2:0,O=l.x2-l.x1,S=l.y2-l.y1,T=function(e,t){return e>0?Math.max(e-t,0):Math.min(e+t,0)},P=T(O,x),C=T(S,E),k=!1;"auto"===g?v=Math.abs(P)>Math.abs(C)?o:r:g===u||g===s?(v=r,k=!0):g!==i&&g!==a||(v=o,k=!0);var A,N=v===r,j=N?C:P,R=N?S:O,I=Co(R),M=!1;(k&&(m||_)||!(g===s&&R<0||g===u&&R>0||g===i&&R>0||g===a&&R<0)||(j=(I*=-1)*Math.abs(j),M=!0),m)?A=(b<0?1+b:b)*j:A=(b<0?j:0)+b*I;var D=function(e){return Math.abs(e)<w||Math.abs(e)>=Math.abs(j)},L=D(A),B=D(Math.abs(j)-Math.abs(A));if((L||B)&&!M)if(N){var F=Math.abs(R)<=f/2,U=Math.abs(O)<=d/2;if(F){var z=(l.x1+l.x2)/2,V=l.y1,W=l.y2;n.segpts=[z,V,z,W]}else if(U){var H=(l.y1+l.y2)/2,G=l.x1,q=l.x2;n.segpts=[G,H,q,H]}else n.segpts=[l.x1,l.y2]}else{var Y=Math.abs(R)<=c/2,X=Math.abs(S)<=h/2;if(Y){var K=(l.y1+l.y2)/2,$=l.x1,Z=l.x2;n.segpts=[$,K,Z,K]}else if(X){var Q=(l.x1+l.x2)/2,J=l.y1,ee=l.y2;n.segpts=[Q,J,Q,ee]}else n.segpts=[l.x2,l.y1]}else if(N){var te=l.y1+A+(p?f/2*I:0),ne=l.x1,re=l.x2;n.segpts=[ne,te,re,te]}else{var oe=l.x1+A+(p?c/2*I:0),ie=l.y1,ae=l.y2;n.segpts=[oe,ie,oe,ae]}if(n.isRound){var se=e.pstyle("taxi-radius").value,ue="arc-radius"===e.pstyle("radius-type").value[0];n.radii=new Array(n.segpts.length/2).fill(se),n.isArcRadius=new Array(n.segpts.length/2).fill(ue)}},xh.tryToCorrectInvalidPoints=function(e,t){var n=e._private.rscratch;if("bezier"===n.edgeType){var r=t.srcPos,o=t.tgtPos,i=t.srcW,a=t.srcH,s=t.tgtW,u=t.tgtH,l=t.srcShape,c=t.tgtShape,f=t.srcCornerRadius,d=t.tgtCornerRadius,h=t.srcRs,p=t.tgtRs,v=!Nn(n.startX)||!Nn(n.startY),g=!Nn(n.arrowStartX)||!Nn(n.arrowStartY),y=!Nn(n.endX)||!Nn(n.endY),m=!Nn(n.arrowEndX)||!Nn(n.arrowEndY),b=3*(this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth),_=ko({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),w=_<b,x=ko({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),E=x<b,O=!1;if(v||g||w){O=!0;var S={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},T=Math.sqrt(S.x*S.x+S.y*S.y),P={x:S.x/T,y:S.y/T},C=Math.max(i,a),k={x:n.ctrlpts[0]+2*P.x*C,y:n.ctrlpts[1]+2*P.y*C},A=l.intersectLine(r.x,r.y,i,a,k.x,k.y,0,f,h);w?(n.ctrlpts[0]=n.ctrlpts[0]+P.x*(b-_),n.ctrlpts[1]=n.ctrlpts[1]+P.y*(b-_)):(n.ctrlpts[0]=A[0]+P.x*b,n.ctrlpts[1]=A[1]+P.y*b)}if(y||m||E){O=!0;var N={x:n.ctrlpts[0]-o.x,y:n.ctrlpts[1]-o.y},j=Math.sqrt(N.x*N.x+N.y*N.y),R={x:N.x/j,y:N.y/j},I=Math.max(i,a),M={x:n.ctrlpts[0]+2*R.x*I,y:n.ctrlpts[1]+2*R.y*I},D=c.intersectLine(o.x,o.y,s,u,M.x,M.y,0,d,p);E?(n.ctrlpts[0]=n.ctrlpts[0]+R.x*(b-x),n.ctrlpts[1]=n.ctrlpts[1]+R.y*(b-x)):(n.ctrlpts[0]=D[0]+R.x*b,n.ctrlpts[1]=D[1]+R.y*b)}O&&this.findEndpoints(e)}},xh.storeAllpts=function(e){var t=e._private.rscratch;if("multibezier"===t.edgeType||"bezier"===t.edgeType||"self"===t.edgeType||"compound"===t.edgeType){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var n=0;n+1<t.ctrlpts.length;n+=2)t.allpts.push(t.ctrlpts[n],t.ctrlpts[n+1]),n+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[n]+t.ctrlpts[n+2])/2,(t.ctrlpts[n+1]+t.ctrlpts[n+3])/2);var r;t.allpts.push(t.endX,t.endY),t.ctrlpts.length/2%2===0?(r=t.allpts.length/2-1,t.midX=t.allpts[r],t.midY=t.allpts[r+1]):(r=t.allpts.length/2-3,t.midX=jo(t.allpts[r],t.allpts[r+2],t.allpts[r+4],.5),t.midY=jo(t.allpts[r+1],t.allpts[r+3],t.allpts[r+5],.5))}else if("straight"===t.edgeType)t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if("segments"===t.edgeType){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var o=2;o+3<t.allpts.length;o+=2){var i=t.radii[o/2-1],a=t.isArcRadius[o/2-1];t.roundCorners.push(bh({x:t.allpts[o-2],y:t.allpts[o-1]},{x:t.allpts[o],y:t.allpts[o+1],radius:i},{x:t.allpts[o+2],y:t.allpts[o+3]},i,a))}}if(t.segpts.length%4===0){var s=t.segpts.length/2,u=s-2;t.midX=(t.segpts[u]+t.segpts[s])/2,t.midY=(t.segpts[u+1]+t.segpts[s+1])/2}else{var l=t.segpts.length/2-1;if(t.isRound){var c={x:t.segpts[l],y:t.segpts[l+1]},f=t.roundCorners[l/2];if(0===f.radius){var d={x:t.segpts[l+2],y:t.segpts[l+3]};t.midX=c.x,t.midY=c.y,t.midVector=[c.y-d.y,d.x-c.x]}else{var h=[c.x-f.cx,c.y-f.cy],p=f.radius/Math.sqrt(Math.pow(h[0],2)+Math.pow(h[1],2));h=h.map(function(e){return e*p}),t.midX=f.cx+h[0],t.midY=f.cy+h[1],t.midVector=h}}else t.midX=t.segpts[l],t.midY=t.segpts[l+1]}}},xh.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||Nn(t.startX)&&Nn(t.startY)&&Nn(t.endX)&&Nn(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,Fr("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},xh.findEdgeControlPoints=function(e){var t=this;if(e&&0!==e.length){for(var n=this,r=n.cy.hasCompoundNodes(),o=new Kr,i=function(e,t){return[].concat(zt(e),[t?1:0]).join("-")},a=[],s=[],u=0;u<e.length;u++){var l=e[u],c=l._private,f=l.pstyle("curve-style").value;if(!l.removed()&&l.takesUpSpace())if("haystack"!==f){var d="unbundled-bezier"===f||Gn(f,"segments")||"straight"===f||"straight-triangle"===f||Gn(f,"taxi"),h="unbundled-bezier"===f||"bezier"===f,p=c.source,v=c.target,g=[p.poolIndex(),v.poolIndex()].sort(),y=i(g,d),m=o.get(y);null==m&&(m={eles:[]},a.push({pairId:g,edgeIsUnbundled:d}),o.set(y,m)),m.eles.push(l),d&&(m.hasUnbundled=!0),h&&(m.hasBezier=!0)}else s.push(l)}for(var b=function(){var e,s=a[_],u=s.pairId,l=s.edgeIsUnbundled,c=i(u,l),f=o.get(c);if(!f.hasUnbundled){var d=f.eles[0].parallelEdges().filter(function(e){return e.isBundledBezier()});qr(f.eles),d.forEach(function(e){return f.eles.push(e)}),f.eles.sort(function(e,t){return e.poolIndex()-t.poolIndex()})}var h=f.eles[0],p=h.source(),v=h.target();if(p.poolIndex()>v.poolIndex()){var g=p;p=v,v=g}var y=f.srcPos=p.position(),m=f.tgtPos=v.position(),b=f.srcW=p.outerWidth(),w=f.srcH=p.outerHeight(),x=f.tgtW=v.outerWidth(),E=f.tgtH=v.outerHeight(),O=f.srcShape=n.nodeShapes[t.getNodeShape(p)],S=f.tgtShape=n.nodeShapes[t.getNodeShape(v)],T=f.srcCornerRadius="auto"===p.pstyle("corner-radius").value?"auto":p.pstyle("corner-radius").pfValue,P=f.tgtCornerRadius="auto"===v.pstyle("corner-radius").value?"auto":v.pstyle("corner-radius").pfValue,C=f.tgtRs=v._private.rscratch,k=f.srcRs=p._private.rscratch;f.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var A=0;A<f.eles.length;A++){var N=f.eles[A],j=N[0]._private.rscratch,R=N.pstyle("curve-style").value,I="unbundled-bezier"===R||Gn(R,"segments")||Gn(R,"taxi"),M=!p.same(N.source());if(!f.calculatedIntersection&&p!==v&&(f.hasBezier||f.hasUnbundled)){f.calculatedIntersection=!0;var D=O.intersectLine(y.x,y.y,b,w,m.x,m.y,0,T,k),L=f.srcIntn=D,B=S.intersectLine(m.x,m.y,x,E,y.x,y.y,0,P,C),F=f.tgtIntn=B,U=f.intersectionPts={x1:D[0],x2:B[0],y1:D[1],y2:B[1]},z=f.posPts={x1:y.x,x2:m.x,y1:y.y,y2:m.y},V=B[1]-D[1],W=B[0]-D[0],H=Math.sqrt(W*W+V*V);Nn(H)&&H>=wh||(H=Math.sqrt(Math.max(W*W,_h)+Math.max(V*V,_h)));var G=f.vector={x:W,y:V},q=f.vectorNorm={x:G.x/H,y:G.y/H},Y={x:-q.y,y:q.x};f.nodesOverlap=!Nn(H)||S.checkPoint(D[0],D[1],0,x,E,m.x,m.y,P,C)||O.checkPoint(B[0],B[1],0,b,w,y.x,y.y,T,k),f.vectorNormInverse=Y,e={nodesOverlap:f.nodesOverlap,dirCounts:f.dirCounts,calculatedIntersection:!0,hasBezier:f.hasBezier,hasUnbundled:f.hasUnbundled,eles:f.eles,srcPos:m,srcRs:C,tgtPos:y,tgtRs:k,srcW:x,srcH:E,tgtW:b,tgtH:w,srcIntn:F,tgtIntn:L,srcShape:S,tgtShape:O,posPts:{x1:z.x2,y1:z.y2,x2:z.x1,y2:z.y1},intersectionPts:{x1:U.x2,y1:U.y2,x2:U.x1,y2:U.y1},vector:{x:-G.x,y:-G.y},vectorNorm:{x:-q.x,y:-q.y},vectorNormInverse:{x:-Y.x,y:-Y.y}}}var X=M?e:f;j.nodesOverlap=X.nodesOverlap,j.srcIntn=X.srcIntn,j.tgtIntn=X.tgtIntn,j.isRound=R.startsWith("round"),r&&(p.isParent()||p.isChild()||v.isParent()||v.isChild())&&(p.parents().anySame(v)||v.parents().anySame(p)||p.same(v)&&p.isParent())?t.findCompoundLoopPoints(N,X,A,I):p===v?t.findLoopPoints(N,X,A,I):R.endsWith("segments")?t.findSegmentsPoints(N,X):R.endsWith("taxi")?t.findTaxiPoints(N,X):"straight"===R||!I&&f.eles.length%2===1&&A===Math.floor(f.eles.length/2)?t.findStraightEdgePoints(N):t.findBezierPoints(N,X,A,I,M),t.findEndpoints(N),t.tryToCorrectInvalidPoints(N,X),t.checkForInvalidEdgeWarning(N),t.storeAllpts(N),t.storeEdgeProjections(N),t.calculateArrowAngles(N),t.recalculateEdgeLabelProjections(N),t.calculateLabelAngles(N)}},_=0;_<a.length;_++)b();this.findHaystackPoints(s)}},xh.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if(this.recalculateRenderedStyle(e),"segments"===t.edgeType)return Eh(t.segpts)},xh.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var n=t.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return Eh(t.ctrlpts)},xh.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var Oh={manualEndptToPx:function(e,t){var n=e.position(),r=e.outerWidth(),o=e.outerHeight(),i=e._private.rscratch;if(2===t.value.length){var a=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(a[0]=a[0]*r),"%"===t.units[1]&&(a[1]=a[1]*o),a[0]+=n.x,a[1]+=n.y,a}var s=t.pfValue[0];s=-Math.PI/2+s;var u=2*Math.max(r,o),l=[n.x+Math.cos(s)*u,n.y+Math.sin(s)*u];return this.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,r,o,l[0],l[1],0,"auto"===e.pstyle("corner-radius").value?"auto":e.pstyle("corner-radius").pfValue,i)},findEndpoints:function(e){var t,n,r,o,i,a,s,u,l,c=this,f=e.source()[0],d=e.target()[0],h=f.position(),p=d.position(),v=e.pstyle("target-arrow-shape").value,g=e.pstyle("source-arrow-shape").value,y=e.pstyle("target-distance-from-node").pfValue,m=e.pstyle("source-distance-from-node").pfValue,b=f._private.rscratch,_=d._private.rscratch,w=e.pstyle("curve-style").value,x=e._private.rscratch,E=x.edgeType,O=Gn(w,"taxi"),S="self"===E||"compound"===E,T="bezier"===E||"multibezier"===E||S,P="bezier"!==E,C="straight"===E||"segments"===E,k="segments"===E,A=T||P||C,N=S||O,j=e.pstyle("source-endpoint"),R=N?"outside-to-node":j.value,I="auto"===f.pstyle("corner-radius").value?"auto":f.pstyle("corner-radius").pfValue,M=e.pstyle("target-endpoint"),D=N?"outside-to-node":M.value,L="auto"===d.pstyle("corner-radius").value?"auto":d.pstyle("corner-radius").pfValue;x.srcManEndpt=j,x.tgtManEndpt=M;var B=null!==(t=2===(null===M||void 0===M||null===(n=M.pfValue)||void 0===n?void 0:n.length)?M.pfValue:null)&&void 0!==t?t:[0,0],F=null!==(r=2===(null===j||void 0===j||null===(o=j.pfValue)||void 0===o?void 0:o.length)?j.pfValue:null)&&void 0!==r?r:[0,0];if(T){var U=[x.ctrlpts[0],x.ctrlpts[1]];a=P?[x.ctrlpts[x.ctrlpts.length-2],x.ctrlpts[x.ctrlpts.length-1]]:U,s=U}else if(C){var z=k?x.segpts.slice(0,2):[p.x+B[0],p.y+B[1]];a=k?x.segpts.slice(x.segpts.length-2):[h.x+F[0],h.y+F[1]],s=z}if("inside-to-node"===D)i=[p.x,p.y];else if(M.units)i=this.manualEndptToPx(d,M);else if("outside-to-line"===D)i=x.tgtIntn;else if("outside-to-node"===D||"outside-to-node-or-label"===D?u=a:"outside-to-line"!==D&&"outside-to-line-or-label"!==D||(u=[h.x,h.y]),i=c.nodeShapes[this.getNodeShape(d)].intersectLine(p.x,p.y,d.outerWidth(),d.outerHeight(),u[0],u[1],0,L,_),"outside-to-node-or-label"===D||"outside-to-line-or-label"===D){var V=d._private.rscratch,W=V.labelWidth,H=V.labelHeight,G=V.labelX,q=V.labelY,Y=W/2,X=H/2,K=d.pstyle("text-valign").value;"top"===K?q-=X:"bottom"===K&&(q+=X);var $=d.pstyle("text-halign").value;"left"===$?G-=Y:"right"===$&&(G+=Y);var Z=si(u[0],u[1],[G-Y,q-X,G+Y,q-X,G+Y,q+X,G-Y,q+X],p.x,p.y);if(Z.length>0){var Q=h,J=Ao(Q,So(i)),ee=Ao(Q,So(Z)),te=J;if(ee<J&&(i=Z,te=ee),Z.length>2)Ao(Q,{x:Z[2],y:Z[3]})<te&&(i=[Z[2],Z[3]])}}var ne=ui(i,a,c.arrowShapes[v].spacing(e)+y),re=ui(i,a,c.arrowShapes[v].gap(e)+y);if(x.endX=re[0],x.endY=re[1],x.arrowEndX=ne[0],x.arrowEndY=ne[1],"inside-to-node"===R)i=[h.x,h.y];else if(j.units)i=this.manualEndptToPx(f,j);else if("outside-to-line"===R)i=x.srcIntn;else if("outside-to-node"===R||"outside-to-node-or-label"===R?l=s:"outside-to-line"!==R&&"outside-to-line-or-label"!==R||(l=[p.x,p.y]),i=c.nodeShapes[this.getNodeShape(f)].intersectLine(h.x,h.y,f.outerWidth(),f.outerHeight(),l[0],l[1],0,I,b),"outside-to-node-or-label"===R||"outside-to-line-or-label"===R){var oe=f._private.rscratch,ie=oe.labelWidth,ae=oe.labelHeight,se=oe.labelX,ue=oe.labelY,le=ie/2,ce=ae/2,fe=f.pstyle("text-valign").value;"top"===fe?ue-=ce:"bottom"===fe&&(ue+=ce);var de=f.pstyle("text-halign").value;"left"===de?se-=le:"right"===de&&(se+=le);var he=si(l[0],l[1],[se-le,ue-ce,se+le,ue-ce,se+le,ue+ce,se-le,ue+ce],h.x,h.y);if(he.length>0){var pe=p,ve=Ao(pe,So(i)),ge=Ao(pe,So(he)),ye=ve;if(ge<ve&&(i=[he[0],he[1]],ye=ge),he.length>2)Ao(pe,{x:he[2],y:he[3]})<ye&&(i=[he[2],he[3]])}}var me=ui(i,s,c.arrowShapes[g].spacing(e)+m),be=ui(i,s,c.arrowShapes[g].gap(e)+m);x.startX=be[0],x.startY=be[1],x.arrowStartX=me[0],x.arrowStartY=me[1],A&&(Nn(x.startX)&&Nn(x.startY)&&Nn(x.endX)&&Nn(x.endY)?x.badLine=!1:x.badLine=!0)},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),"haystack"===t.edgeType?{x:t.haystackPts[0],y:t.haystackPts[1]}:{x:t.arrowStartX,y:t.arrowStartY}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),"haystack"===t.edgeType?{x:t.haystackPts[2],y:t.haystackPts[3]}:{x:t.arrowEndX,y:t.arrowEndY}}},Sh={};function Th(e,t,n){for(var r=function(e,t,n,r){return jo(e,t,n,r)},o=t._private.rstyle.bezierPts,i=0;i<e.bezierProjPcts.length;i++){var a=e.bezierProjPcts[i];o.push({x:r(n[0],n[2],n[4],a),y:r(n[1],n[3],n[5],a)})}}Sh.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,r=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===r||"bezier"===r||"self"===r||"compound"===r){t.rstyle.bezierPts=[];for(var o=0;o+5<n.allpts.length;o+=4)Th(this,e,n.allpts.slice(o,o+6))}else if("segments"===r){var i=t.rstyle.linePts=[];for(o=0;o+1<n.allpts.length;o+=2)i.push({x:n.allpts[o],y:n.allpts[o+1]})}else if("haystack"===r){var a=n.haystackPts;t.rstyle.haystackPts=[{x:a[0],y:a[1]},{x:a[2],y:a[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},Sh.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var Ph={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!Bn(t)){var n,r,o=e._private,i=e.width(),a=e.height(),s=e.padding(),u=e.position(),l=e.pstyle("text-halign").strValue,c=e.pstyle("text-valign").strValue,f=o.rscratch,d=o.rstyle;switch(l){case"left":n=u.x-i/2-s;break;case"right":n=u.x+i/2+s;break;default:n=u.x}switch(c){case"top":r=u.y-a/2-s;break;case"bottom":r=u.y+a/2+s;break;default:r=u.y}f.labelX=n,f.labelY=r,d.labelX=n,d.labelY=r,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}}},Ch=function(e,t){var n=Math.atan(t/e);return 0===e&&n<0&&(n*=-1),n},kh=function(e,t){var n=t.x-e.x,r=t.y-e.y;return Ch(n,r)};Ph.recalculateEdgeLabelProjections=function(e){var t,n=e._private,r=n.rscratch,o=this,i={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(i.mid||i.source||i.target){t={x:r.midX,y:r.midY};var a=function(e,t,r){Xr(n.rscratch,e,t,r),Xr(n.rstyle,e,t,r)};a("labelX",null,t.x),a("labelY",null,t.y);var s=Ch(r.midDispX,r.midDispY);a("labelAutoAngle",null,s);var u=function(){if(u.cache)return u.cache;for(var e=[],t=0;t+5<r.allpts.length;t+=4){var i={x:r.allpts[t],y:r.allpts[t+1]},a={x:r.allpts[t+2],y:r.allpts[t+3]},s={x:r.allpts[t+4],y:r.allpts[t+5]};e.push({p0:i,p1:a,p2:s,startDist:0,length:0,segments:[]})}var l=n.rstyle.bezierPts,c=o.bezierProjPcts.length;function f(e,t,n,r,o){var i=ko(t,n),a=e.segments[e.segments.length-1],s={p0:t,p1:n,t0:r,t1:o,startDist:a?a.startDist+a.length:0,length:i};e.segments.push(s),e.length+=i}for(var d=0;d<e.length;d++){var h=e[d],p=e[d-1];p&&(h.startDist=p.startDist+p.length),f(h,h.p0,l[d*c],0,o.bezierProjPcts[0]);for(var v=0;v<c-1;v++)f(h,l[d*c+v],l[d*c+v+1],o.bezierProjPcts[v],o.bezierProjPcts[v+1]);f(h,l[d*c+c-1],h.p2,o.bezierProjPcts[c-1],1)}return u.cache=e},l=function(n){var o,s="source"===n;if(i[n]){var l=e.pstyle(n+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var c,f=u(),d=0,h=0,p=0;p<f.length;p++){for(var v=f[s?p:f.length-1-p],g=0;g<v.segments.length;g++){var y=v.segments[s?g:v.segments.length-1-g],m=p===f.length-1&&g===v.segments.length-1;if(d=h,(h+=y.length)>=l||m){c={cp:v,segment:y};break}}if(c)break}var b=c.cp,_=c.segment,w=(l-d)/_.length,x=_.t1-_.t0,E=s?_.t0+x*w:_.t1-x*w;E=Io(0,E,1),t=Ro(b.p0,b.p1,b.p2,E),o=function(e,t,n,r){var o=Io(0,r-.001,1),i=Io(0,r+.001,1),a=Ro(e,t,n,o),s=Ro(e,t,n,i);return kh(a,s)}(b.p0,b.p1,b.p2,E);break;case"straight":case"segments":case"haystack":for(var O,S,T,P,C=0,k=r.allpts.length,A=0;A+3<k&&(s?(T={x:r.allpts[A],y:r.allpts[A+1]},P={x:r.allpts[A+2],y:r.allpts[A+3]}):(T={x:r.allpts[k-2-A],y:r.allpts[k-1-A]},P={x:r.allpts[k-4-A],y:r.allpts[k-3-A]}),S=C,!((C+=O=ko(T,P))>=l));A+=2);var N=(l-S)/O;N=Io(0,N,1),t=function(e,t,n,r){var o=t.x-e.x,i=t.y-e.y,a=ko(e,t),s=o/a,u=i/a;return n=null==n?0:n,r=null!=r?r:n*a,{x:e.x+s*r,y:e.y+u*r}}(T,P,N),o=kh(T,P)}a("labelX",n,t.x),a("labelY",n,t.y),a("labelAutoAngle",n,o)}};l("source"),l("target"),this.applyLabelDimensions(e)}},Ph.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},Ph.applyPrefixedLabelDimensions=function(e,t){var n=e._private,r=this.getLabelText(e,t),o=Tr(r,e._private.labelDimsKey);if(Yr(n.rscratch,"prefixedLabelDimsKey",t)!==o){Xr(n.rscratch,"prefixedLabelDimsKey",t,o);var i=this.calculateLabelDimensions(e,r),a=e.pstyle("line-height").pfValue,s=e.pstyle("text-wrap").strValue,u=Yr(n.rscratch,"labelWrapCachedLines",t)||[],l="wrap"!==s?1:Math.max(u.length,1),c=i.height/l,f=c*a,d=i.width,h=i.height+(l-1)*(a-1)*c;Xr(n.rstyle,"labelWidth",t,d),Xr(n.rscratch,"labelWidth",t,d),Xr(n.rstyle,"labelHeight",t,h),Xr(n.rscratch,"labelHeight",t,h),Xr(n.rscratch,"labelLineHeight",t,f)}},Ph.getLabelText=function(e,t){var n=e._private,r=t?t+"-":"",o=e.pstyle(r+"label").strValue,i=e.pstyle("text-transform").value,a=function(e,r){return r?(Xr(n.rscratch,e,t,r),r):Yr(n.rscratch,e,t)};if(!o)return"";"none"==i||("uppercase"==i?o=o.toUpperCase():"lowercase"==i&&(o=o.toLowerCase()));var s=e.pstyle("text-wrap").value;if("wrap"===s){var u=a("labelKey");if(null!=u&&a("labelWrapKey")===u)return a("labelWrapCachedText");for(var l=o.split("\n"),c=e.pstyle("text-max-width").pfValue,f="anywhere"===e.pstyle("text-overflow-wrap").value,d=[],h=/[\s\u200b]+|$/g,p=0;p<l.length;p++){var v=l[p],g=this.calculateLabelDimensions(e,v).width;if(f){var y=v.split("").join("\u200b");v=y}if(g>c){var m,b="",_=0,w=Bt(v.matchAll(h));try{for(w.s();!(m=w.n()).done;){var x=m.value,E=x[0],O=v.substring(_,x.index);_=x.index+E.length;var S=0===b.length?O:b+O+E;this.calculateLabelDimensions(e,S).width<=c?b+=O+E:(b&&d.push(b),b=O+E)}}catch(A){w.e(A)}finally{w.f()}b.match(/^[\s\u200b]+$/)||d.push(b)}else d.push(v)}a("labelWrapCachedLines",d),o=a("labelWrapCachedText",d.join("\n")),a("labelWrapKey",u)}else if("ellipsis"===s){var T=e.pstyle("text-max-width").pfValue,P="",C=!1;if(this.calculateLabelDimensions(e,o).width<T)return o;for(var k=0;k<o.length;k++){if(this.calculateLabelDimensions(e,P+o[k]+"\u2026").width>T)break;P+=o[k],k===o.length-1&&(C=!0)}return C||(P+="\u2026"),P}return o},Ph.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,n=e.pstyle("text-halign").strValue;if("auto"!==t)return t;if(!e.isNode())return"center";switch(n){case"left":return"right";case"right":return"left";default:return"center"}},Ph.calculateLabelDimensions=function(e,t){var n=this.cy.window().document,r=e.pstyle("font-style").strValue,o=e.pstyle("font-size").pfValue,i=e.pstyle("font-family").strValue,a=e.pstyle("font-weight").strValue,s=this.labelCalcCanvas,u=this.labelCalcCanvasContext;if(!s){s=this.labelCalcCanvas=n.createElement("canvas"),u=this.labelCalcCanvasContext=s.getContext("2d");var l=s.style;l.position="absolute",l.left="-9999px",l.top="-9999px",l.zIndex="-1",l.visibility="hidden",l.pointerEvents="none"}u.font="".concat(r," ").concat(a," ").concat(o,"px ").concat(i);for(var c=0,f=0,d=t.split("\n"),h=0;h<d.length;h++){var p=d[h],v=u.measureText(p),g=Math.ceil(v.width),y=o;c=Math.max(g,c),f+=y}return{width:c+=0,height:f+=0}},Ph.calculateLabelAngle=function(e,t){var n=e._private.rscratch,r=e.isEdge(),o=t?t+"-":"",i=e.pstyle(o+"text-rotation"),a=i.strValue;return"none"===a?0:r&&"autorotate"===a?n.labelAutoAngle:"autorotate"===a?0:i.pfValue},Ph.calculateLabelAngles=function(e){var t=this,n=e.isEdge(),r=e._private.rscratch;r.labelAngle=t.calculateLabelAngle(e),n&&(r.sourceLabelAngle=t.calculateLabelAngle(e,"source"),r.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var Ah={},Nh=!1;Ah.getNodeShape=function(e){var t=e.pstyle("shape").value;if("cutrectangle"===t&&(e.width()<28||e.height()<28))return Nh||(Fr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Nh=!0),"rectangle";if(e.isParent())return"rectangle"===t||"roundrectangle"===t||"round-rectangle"===t||"cutrectangle"===t||"cut-rectangle"===t||"barrel"===t?t:"rectangle";if("polygon"===t){var n=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return t};var jh={registerCalculationListeners:function(){var e=this.cy,t=e.collection(),n=this,r=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.merge(e),n)for(var r=0;r<e.length;r++){var o=e[r]._private.rstyle;o.clean=!1,o.cleanConnected=!1}};n.binder(e).on("bounds.* dirty.*",function(e){var t=e.target;r(t)}).on("style.* background.*",function(e){var t=e.target;r(t,!1)});var o=function(o){if(o){var i=n.onUpdateEleCalcsFns;t.cleanStyle();for(var a=0;a<t.length;a++){var s=t[a],u=s._private.rstyle;s.isNode()&&!u.cleanConnected&&(r(s.connectedEdges()),u.cleanConnected=!0)}if(i)for(var l=0;l<i.length;l++){(0,i[l])(o,t)}n.recalculateRenderedStyle(t),t=e.collection()}};n.flushRenderedStyleQueue=function(){o(!0)},n.beforeRender(o,n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var n=function(e){return e._private.rstyle.cleanConnected};if(0!==e.length){var r=[],o=[];if(!this.destroyed){void 0===t&&(t=!0);for(var i=0;i<e.length;i++){var a=e[i],s=a._private,u=s.rstyle;!a.isEdge()||n(a.source())&&n(a.target())||(u.clean=!1),a.isEdge()&&a.isBundledBezier()&&a.parallelEdges().some(function(e){return!e._private.rstyle.clean&&e.isBundledBezier()})&&(u.clean=!1),t&&u.clean||a.removed()||"none"!==a.pstyle("display").value&&("nodes"===s.group?o.push(a):r.push(a),u.clean=!0)}for(var l=0;l<o.length;l++){var c=o[l],f=c._private.rstyle,d=c.position();this.recalculateNodeLabelProjection(c),f.nodeX=d.x,f.nodeY=d.y,f.nodeW=c.pstyle("width").pfValue,f.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var h=0;h<r.length;h++){var p=r[h]._private,v=p.rstyle,g=p.rscratch;v.srcX=g.arrowStartX,v.srcY=g.arrowStartY,v.tgtX=g.arrowEndX,v.tgtY=g.arrowEndY,v.midX=g.midX,v.midY=g.midY,v.labelAngle=g.labelAngle,v.sourceLabelAngle=g.sourceLabelAngle,v.targetLabelAngle=g.targetLabelAngle}}}}},Rh={updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var r=(o=e[n])._private.rscratch;o.grabbed()&&!o.isParent()?t.push(o):r.inDragLayer?e.drag.push(o):e.nondrag.push(o)}for(n=0;n<t.length;n++){var o=t[n];e.drag.push(o)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(Yc),t.interactive=t.filter(function(e){return e.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}},Ih={};[Kd,$d,xh,Oh,Sh,Ph,Ah,jh,Rh].forEach(function(e){Qn(Ih,e)});var Mh={getCachedImage:function(e,t,n){var r=this.imageCache=this.imageCache||{},o=r[e];if(o)return o.image.complete||o.image.addEventListener("load",n),o.image;var i=(o=r[e]=r[e]||{}).image=new Image;i.addEventListener("load",n),i.addEventListener("error",function(){i.error=!0});var a="data:";return e.substring(0,5).toLowerCase()===a||(t="null"===t?null:t,i.crossOrigin=t),i.src=e,i}},Dh={registerBinding:function(e,t,n,r){var o=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var i=[],a=0;a<e.length;a++){var s=e[a];if(void 0!==s){var u=this.binder(s);i.push(u.on.apply(u,o))}}return i}return(u=this.binder(e)).on.apply(u,o)}};Dh.binder=function(e){var t,n=this,r=n.cy.window(),o=e===r||e===r.document||e===r.document.body||(t=e,"undefined"!==typeof HTMLElement&&t instanceof HTMLElement);if(null==n.supportsPassiveEvents){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,a)}catch(u){}n.supportsPassiveEvents=i}var s=function(t,r,i){var a=Array.prototype.slice.call(arguments);return o&&n.supportsPassiveEvents&&(a[2]={capture:null!=i&&i,passive:!1,once:!1}),n.bindings.push({target:e,args:a}),(e.addEventListener||e.on).apply(e,a),this};return{on:s,addEventListener:s,addListener:s,bind:s}},Dh.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},Dh.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()},Dh.load=function(){var e=this,t=e.cy.window(),n=function(e){return e.selected()},r=function(t,n,r,o){null==t&&(t=e.cy);for(var i=0;i<n.length;i++){var a=n[i];t.emit({originalEvent:r,type:a,position:o})}},o=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},i=function(t,n){var r=!0;if(e.cy.hasCompoundNodes()&&t&&t.pannable())for(var o=0;n&&o<n.length;o++){if((t=n[o]).isNode()&&t.isParent()&&!t.pannable()){r=!1;break}}else r=!0;return r},a=function(e){e[0]._private.rscratch.inDragLayer=!0},s=function(e){e[0]._private.rscratch.isGrabTarget=!0},u=function(e,t){var n=t.addToList;n.has(e)||!e.grabbable()||e.locked()||(n.merge(e),function(e){e[0]._private.grabbed=!0}(e))},l=function(t,n){n=n||{};var r=t.cy().hasCompoundNodes();n.inDragLayer&&(t.forEach(a),t.neighborhood().stdFilter(function(e){return!r||e.isEdge()}).forEach(a)),n.addToList&&t.forEach(function(e){u(e,n)}),function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(a),n.connectedEdges().forEach(a)),t.addToList&&u(n,t)}}(t,n),d(t,{inDragLayer:n.inDragLayer}),e.updateCachedGrabbedEles()},c=l,f=function(t){t&&(e.getCachedZSortedEles().forEach(function(e){!function(e){e[0]._private.grabbed=!1}(e),function(e){e[0]._private.rscratch.inDragLayer=!1}(e),function(e){e[0]._private.rscratch.isGrabTarget=!1}(e)}),e.updateCachedGrabbedEles())},d=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var r=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),o=r.connectedEdges();t.inDragLayer&&(o.forEach(a),r.forEach(a)),t.addToList&&r.forEach(function(e){u(e,t)})}}},h=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},p="undefined"!==typeof MutationObserver,v="undefined"!==typeof ResizeObserver;p?(e.removeObserver=new MutationObserver(function(t){for(var n=0;n<t.length;n++){var r=t[n].removedNodes;if(r)for(var o=0;o<r.length;o++){if(r[o]===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(t){e.destroy()});var g=dr(function(){e.cy.resize()},100);p&&(e.styleObserver=new MutationObserver(g),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",g),v&&(e.resizeObserver=new ResizeObserver(g),e.resizeObserver.observe(e.container));var y=function(){e.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(e.container,function(t){e.registerBinding(t,"transitionend",y),e.registerBinding(t,"animationend",y),e.registerBinding(t,"scroll",y)}),e.registerBinding(e.container,"contextmenu",function(e){e.preventDefault()});var m=function(t){for(var n=e.findContainerClientCoords(),r=n[0],o=n[1],i=n[2],a=n[3],s=t.touches?t.touches:[t],u=!1,l=0;l<s.length;l++){var c=s[l];if(r<=c.clientX&&c.clientX<=r+i&&o<=c.clientY&&c.clientY<=o+a){u=!0;break}}if(!u)return!1;for(var f=e.container,d=t.target.parentNode,h=!1;d;){if(d===f){h=!0;break}d=d.parentNode}return!!h};e.registerBinding(e.container,"mousedown",function(t){if(m(t)&&(1!==e.hoverData.which||1===t.which)){t.preventDefault(),h(),e.hoverData.capture=!0,e.hoverData.which=t.which;var n=e.cy,o=[t.clientX,t.clientY],i=e.projectIntoViewport(o[0],o[1]),a=e.selection,u=e.findNearestElements(i[0],i[1],!0,!1),f=u[0],d=e.dragData.possibleDragElements;e.hoverData.mdownPos=i,e.hoverData.mdownGPos=o;var p=function(e){return{originalEvent:t,type:e,position:{x:i[0],y:i[1]}}};if(3==t.which){e.hoverData.cxtStarted=!0;var v={originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}};f?(f.activate(),f.emit(v),e.hoverData.down=f):n.emit(v),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==t.which){if(f&&f.activate(),null!=f&&e.nodeIsGrabbable(f)){if(s(f),f.selected()){d=e.dragData.possibleDragElements=n.collection();var g=n.$(function(t){return t.isNode()&&t.selected()&&e.nodeIsGrabbable(t)});l(g,{addToList:d}),f.emit(p("grabon")),g.forEach(function(e){e.emit(p("grab"))})}else d=e.dragData.possibleDragElements=n.collection(),c(f,{addToList:d}),f.emit(p("grabon")).emit(p("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=f,e.hoverData.downs=u,e.hoverData.downTime=(new Date).getTime(),r(f,["mousedown","tapstart","vmousedown"],t,{x:i[0],y:i[1]}),null==f?(a[4]=1,e.data.bgActivePosistion={x:i[0],y:i[1]},e.redrawHint("select",!0),e.redraw()):f.pannable()&&(a[4]=1),e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var t=e.hoverData.down;t?t.emit(p("taphold")):n.emit(p("taphold"))}},e.tapholdDuration)}a[0]=a[2]=i[0],a[1]=a[3]=i[1]}},!1);var b,_,w,x=function(e){var t=e.getRootNode();if(t&&11===t.nodeType&&void 0!==t.host)return t}(e.container);e.registerBinding([t,x],"mousemove",function(t){if(e.hoverData.capture||m(t)){var n=!1,a=e.cy,s=a.zoom(),u=[t.clientX,t.clientY],c=e.projectIntoViewport(u[0],u[1]),d=e.hoverData.mdownPos,h=e.hoverData.mdownGPos,p=e.selection,v=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(v=e.findNearestElement(c[0],c[1],!0,!1));var g,y=e.hoverData.last,b=e.hoverData.down,_=[c[0]-p[2],c[1]-p[3]],w=e.dragData.possibleDragElements;if(h){var x=u[0]-h[0],E=x*x,O=u[1]-h[1],S=E+O*O;e.hoverData.isOverThresholdDrag=g=S>=e.desktopTapThreshold2}var T=o(t);g&&(e.hoverData.tapholdCancelled=!0);n=!0,r(v,["mousemove","vmousemove","tapdrag"],t,{x:c[0],y:c[1]});var P=function(e){return{originalEvent:t,type:e,position:{x:c[0],y:c[1]}}},C=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||a.emit(P("boxstart")),p[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(3===e.hoverData.which){if(g){var k=P("cxtdrag");b?b.emit(k):a.emit(k),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&v===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit(P("cxtdragout")),e.hoverData.cxtOver=v,v&&v.emit(P("cxtdragover")))}}else if(e.hoverData.dragging){if(n=!0,a.panningEnabled()&&a.userPanningEnabled()){var A;if(e.hoverData.justStartedPan){var N=e.hoverData.mdownPos;A={x:(c[0]-N[0])*s,y:(c[1]-N[1])*s},e.hoverData.justStartedPan=!1}else A={x:_[0]*s,y:_[1]*s};a.panBy(A),a.emit(P("dragpan")),e.hoverData.dragged=!0}c=e.projectIntoViewport(t.clientX,t.clientY)}else if(1!=p[4]||null!=b&&!b.pannable()){if(b&&b.pannable()&&b.active()&&b.unactivate(),b&&b.grabbed()||v==y||(y&&r(y,["mouseout","tapdragout"],t,{x:c[0],y:c[1]}),v&&r(v,["mouseover","tapdragover"],t,{x:c[0],y:c[1]}),e.hoverData.last=v),b)if(g){if(a.boxSelectionEnabled()&&T)b&&b.grabbed()&&(f(w),b.emit(P("freeon")),w.emit(P("free")),e.dragData.didDrag&&(b.emit(P("dragfreeon")),w.emit(P("dragfree")))),C();else if(b&&b.grabbed()&&e.nodeIsDraggable(b)){var j=!e.dragData.didDrag;j&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||l(w,{inDragLayer:!0});var R={x:0,y:0};if(Nn(_[0])&&Nn(_[1])&&(R.x+=_[0],R.y+=_[1],j)){var I=e.hoverData.dragDelta;I&&Nn(I[0])&&Nn(I[1])&&(R.x+=I[0],R.y+=I[1])}e.hoverData.draggingEles=!0,w.silentShift(R).emit(P("position")).emit(P("drag")),e.redrawHint("drag",!0),e.redraw()}}else!function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(_[0]),t.push(_[1])):(t[0]+=_[0],t[1]+=_[1])}();n=!0}else if(g){if(e.hoverData.dragging||!a.boxSelectionEnabled()||!T&&a.panningEnabled()&&a.userPanningEnabled()){if(!e.hoverData.selecting&&a.panningEnabled()&&a.userPanningEnabled()){i(b,e.hoverData.downs)&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,p[4]=0,e.data.bgActivePosistion=So(d),e.redrawHint("select",!0),e.redraw())}}else C();b&&b.pannable()&&b.active()&&b.unactivate()}return p[2]=c[0],p[3]=c[1],n?(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1):void 0}},!1),e.registerBinding(t,"mouseup",function(t){if((1!==e.hoverData.which||1===t.which||!e.hoverData.capture)&&e.hoverData.capture){e.hoverData.capture=!1;var i=e.cy,a=e.projectIntoViewport(t.clientX,t.clientY),s=e.selection,u=e.findNearestElement(a[0],a[1],!0,!1),l=e.dragData.possibleDragElements,c=e.hoverData.down,d=o(t);e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,c&&c.unactivate();var h=function(e){return{originalEvent:t,type:e,position:{x:a[0],y:a[1]}}};if(3===e.hoverData.which){var p=h("cxttapend");if(c?c.emit(p):i.emit(p),!e.hoverData.cxtDragged){var v=h("cxttap");c?c.emit(v):i.emit(v)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(r(u,["mouseup","tapend","vmouseup"],t,{x:a[0],y:a[1]}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||(r(c,["click","tap","vclick"],t,{x:a[0],y:a[1]}),_=!1,t.timeStamp-w<=i.multiClickDebounceTime()?(b&&clearTimeout(b),_=!0,w=null,r(c,["dblclick","dbltap","vdblclick"],t,{x:a[0],y:a[1]})):(b=setTimeout(function(){_||r(c,["oneclick","onetap","voneclick"],t,{x:a[0],y:a[1]})},i.multiClickDebounceTime()),w=t.timeStamp)),null!=c||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||o(t)||(i.$(n).unselect(["tapunselect"]),l.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=l=i.collection()),u!=c||e.dragData.didDrag||e.hoverData.selecting||null!=u&&u._private.selectable&&(e.hoverData.dragging||("additive"===i.selectionType()||d?u.selected()?u.unselect(["tapunselect"]):u.select(["tapselect"]):d||(i.$(n).unmerge(u).unselect(["tapunselect"]),u.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var g=i.collection(e.getAllInBox(s[0],s[1],s[2],s[3]));e.redrawHint("select",!0),g.length>0&&e.redrawHint("eles",!0),i.emit(h("boxend"));var y=function(e){return e.selectable()&&!e.selected()};"additive"===i.selectionType()||d||i.$(n).unmerge(g).unselect(),g.emit(h("box")).stdFilter(y).select().emit(h("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!s[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var m=c&&c.grabbed();f(l),m&&(c.emit(h("freeon")),l.emit(h("free")),e.dragData.didDrag&&(c.emit(h("dragfreeon")),l.emit(h("dragfree"))))}}s[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}},!1);var E,O,S,T,P,C,k,A,N,j,R,I,M,D,L=[],B=1e5,F=function(t){var n=!1,r=t.deltaY;if(null==r&&(null!=t.wheelDeltaY?r=t.wheelDeltaY/4:null!=t.wheelDelta&&(r=t.wheelDelta/4)),null==E)if(L.length>=4){var o=L;if(E=function(e,t){for(var n=0;n<e.length;n++)if(e[n]%t!==0)return!1;return!0}(o,5),!E){var i=Math.abs(o[0]);E=function(e){for(var t=Math.abs(e[0]),n=1;n<e.length;n++)if(Math.abs(e[n])!==t)return!1;return!0}(o)&&i>5}if(E)for(var a=0;a<o.length;a++)B=Math.min(Math.abs(o[a]),B)}else L.push(r),n=!0;else E&&(B=Math.min(Math.abs(r),B));if(!e.scrollingPage){var s=e.cy,u=s.zoom(),l=s.pan(),c=e.projectIntoViewport(t.clientX,t.clientY),f=[c[0]*u+l.x,c[1]*u+l.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||0!==e.selection[4])t.preventDefault();else if(s.panningEnabled()&&s.userPanningEnabled()&&s.zoomingEnabled()&&s.userZoomingEnabled()){var d;t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150),n&&Math.abs(r)>5&&(r=5*Co(r)),d=r/-250,E&&(d/=B,d*=3),d*=e.wheelSensitivity,1===t.deltaMode&&(d*=33);var h=s.zoom()*Math.pow(10,d);"gesturechange"===t.type&&(h=e.gestureStartZoom*t.scale),s.zoom({level:h,renderedPosition:{x:f[0],y:f[1]}}),s.emit({type:"gesturechange"===t.type?"pinchzoom":"scrollzoom",originalEvent:t,position:{x:c[0],y:c[1]}})}}};e.registerBinding(e.container,"wheel",F,!0),e.registerBinding(t,"scroll",function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(t){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||t.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(t){e.hasTouchStarted||F(t)},!0),e.registerBinding(e.container,"mouseout",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseout",position:{x:n[0],y:n[1]}})},!1),e.registerBinding(e.container,"mouseover",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseover",position:{x:n[0],y:n[1]}})},!1);var U,z,V,W,H,G,q,Y=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},X=function(e,t,n,r){return(n-e)*(n-e)+(r-t)*(r-t)};if(e.registerBinding(e.container,"touchstart",U=function(t){if(e.hasTouchStarted=!0,m(t)){h(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var n=e.cy,o=e.touchData.now,i=e.touchData.earlier;if(t.touches[0]){var a=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);o[0]=a[0],o[1]=a[1]}if(t.touches[1]){a=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);o[2]=a[0],o[3]=a[1]}if(t.touches[2]){a=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);o[4]=a[0],o[5]=a[1]}var u=function(e){return{originalEvent:t,type:e,position:{x:o[0],y:o[1]}}};if(t.touches[1]){e.touchData.singleTouchMoved=!0,f(e.dragData.touchDragEles);var d=e.findContainerClientCoords();j=d[0],R=d[1],I=d[2],M=d[3],O=t.touches[0].clientX-j,S=t.touches[0].clientY-R,T=t.touches[1].clientX-j,P=t.touches[1].clientY-R,D=0<=O&&O<=I&&0<=T&&T<=I&&0<=S&&S<=M&&0<=P&&P<=M;var p=n.pan(),v=n.zoom();C=Y(O,S,T,P),k=X(O,S,T,P),N=[((A=[(O+T)/2,(S+P)/2])[0]-p.x)/v,(A[1]-p.y)/v];if(k<4e4&&!t.touches[2]){var g=e.findNearestElement(o[0],o[1],!0,!0),y=e.findNearestElement(o[2],o[3],!0,!0);return g&&g.isNode()?(g.activate().emit(u("cxttapstart")),e.touchData.start=g):y&&y.isNode()?(y.activate().emit(u("cxttapstart")),e.touchData.start=y):n.emit(u("cxttapstart")),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(t.touches[2])n.boxSelectionEnabled()&&t.preventDefault();else if(t.touches[1]);else if(t.touches[0]){var b=e.findNearestElements(o[0],o[1],!0,!0),_=b[0];if(null!=_&&(_.activate(),e.touchData.start=_,e.touchData.starts=b,e.nodeIsGrabbable(_))){var w=e.dragData.touchDragEles=n.collection(),x=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),_.selected()?(x=n.$(function(t){return t.selected()&&e.nodeIsGrabbable(t)}),l(x,{addToList:w})):c(_,{addToList:w}),s(_),_.emit(u("grabon")),x?x.forEach(function(e){e.emit(u("grab"))}):_.emit(u("grab"))}r(_,["touchstart","tapstart","vmousedown"],t,{x:o[0],y:o[1]}),null==_&&(e.data.bgActivePosistion={x:a[0],y:a[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){!1!==e.touchData.singleTouchMoved||e.pinching||e.touchData.selecting||r(e.touchData.start,["taphold"],t,{x:o[0],y:o[1]})},e.tapholdDuration)}if(t.touches.length>=1){for(var E=e.touchData.startPosition=[null,null,null,null,null,null],L=0;L<o.length;L++)E[L]=i[L]=o[L];var B=t.touches[0];e.touchData.startGPosition=[B.clientX,B.clientY]}}},!1),e.registerBinding(t,"touchmove",z=function(t){var n=e.touchData.capture;if(n||m(t)){var o=e.selection,a=e.cy,s=e.touchData.now,u=e.touchData.earlier,c=a.zoom();if(t.touches[0]){var d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=d[0],s[1]=d[1]}if(t.touches[1]){d=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);s[2]=d[0],s[3]=d[1]}if(t.touches[2]){d=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);s[4]=d[0],s[5]=d[1]}var h,p=function(e){return{originalEvent:t,type:e,position:{x:s[0],y:s[1]}}},v=e.touchData.startGPosition;if(n&&t.touches[0]&&v){for(var g=[],y=0;y<s.length;y++)g[y]=s[y]-u[y];var b=t.touches[0].clientX-v[0],_=b*b,w=t.touches[0].clientY-v[1];h=_+w*w>=e.touchTapThreshold2}if(n&&e.touchData.cxt){t.preventDefault();var x=t.touches[0].clientX-j,E=t.touches[0].clientY-R,A=t.touches[1].clientX-j,I=t.touches[1].clientY-R,M=X(x,E,A,I);if(M/k>=2.25||M>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var L=p("cxttapend");e.touchData.start?(e.touchData.start.unactivate().emit(L),e.touchData.start=null):a.emit(L)}}if(n&&e.touchData.cxt){L=p("cxtdrag");e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(L):a.emit(L),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var B=e.findNearestElement(s[0],s[1],!0,!0);e.touchData.cxtOver&&B===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit(p("cxtdragout")),e.touchData.cxtOver=B,B&&B.emit(p("cxtdragover")))}else if(n&&t.touches[2]&&a.boxSelectionEnabled())t.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||a.emit(p("boxstart")),e.touchData.selecting=!0,e.touchData.didSelect=!0,o[4]=1,o&&0!==o.length&&void 0!==o[0]?(o[2]=(s[0]+s[2]+s[4])/3,o[3]=(s[1]+s[3]+s[5])/3):(o[0]=(s[0]+s[2]+s[4])/3,o[1]=(s[1]+s[3]+s[5])/3,o[2]=(s[0]+s[2]+s[4])/3+1,o[3]=(s[1]+s[3]+s[5])/3+1),e.redrawHint("select",!0),e.redraw();else if(n&&t.touches[1]&&!e.touchData.didSelect&&a.zoomingEnabled()&&a.panningEnabled()&&a.userZoomingEnabled()&&a.userPanningEnabled()){if(t.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),ee=e.dragData.touchDragEles){e.redrawHint("drag",!0);for(var F=0;F<ee.length;F++){var U=ee[F]._private;U.grabbed=!1,U.rscratch.inDragLayer=!1}}var z=e.touchData.start,V=(x=t.touches[0].clientX-j,E=t.touches[0].clientY-R,A=t.touches[1].clientX-j,I=t.touches[1].clientY-R,Y(x,E,A,I)),W=V/C;if(D){var H=(x-O+(A-T))/2,G=(E-S+(I-P))/2,q=a.zoom(),K=q*W,$=a.pan(),Z=N[0]*q+$.x,Q=N[1]*q+$.y,J={x:-K/q*(Z-$.x-H)+Z,y:-K/q*(Q-$.y-G)+Q};if(z&&z.active()){var ee=e.dragData.touchDragEles;f(ee),e.redrawHint("drag",!0),e.redrawHint("eles",!0),z.unactivate().emit(p("freeon")),ee.emit(p("free")),e.dragData.didDrag&&(z.emit(p("dragfreeon")),ee.emit(p("dragfree")))}a.viewport({zoom:K,pan:J,cancelOnFailedZoom:!0}),a.emit(p("pinchzoom")),C=V,O=x,S=E,T=A,P=I,e.pinching=!0}if(t.touches[0]){d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=d[0],s[1]=d[1]}if(t.touches[1]){d=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);s[2]=d[0],s[3]=d[1]}if(t.touches[2]){d=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);s[4]=d[0],s[5]=d[1]}}else if(t.touches[0]&&!e.touchData.didSelect){var te=e.touchData.start,ne=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(B=e.findNearestElement(s[0],s[1],!0,!0)),n&&null!=te&&t.preventDefault(),n&&null!=te&&e.nodeIsDraggable(te))if(h){ee=e.dragData.touchDragEles;var re=!e.dragData.didDrag;re&&l(ee,{inDragLayer:!0}),e.dragData.didDrag=!0;var oe={x:0,y:0};if(Nn(g[0])&&Nn(g[1]))if(oe.x+=g[0],oe.y+=g[1],re)e.redrawHint("eles",!0),(ie=e.touchData.dragDelta)&&Nn(ie[0])&&Nn(ie[1])&&(oe.x+=ie[0],oe.y+=ie[1]);e.hoverData.draggingEles=!0,ee.silentShift(oe).emit(p("position")).emit(p("drag")),e.redrawHint("drag",!0),e.touchData.startPosition[0]==u[0]&&e.touchData.startPosition[1]==u[1]&&e.redrawHint("eles",!0),e.redraw()}else{var ie;0===(ie=e.touchData.dragDelta=e.touchData.dragDelta||[]).length?(ie.push(g[0]),ie.push(g[1])):(ie[0]+=g[0],ie[1]+=g[1])}if(r(te||B,["touchmove","tapdrag","vmousemove"],t,{x:s[0],y:s[1]}),te&&te.grabbed()||B==ne||(ne&&ne.emit(p("tapdragout")),B&&B.emit(p("tapdragover"))),e.touchData.last=B,n)for(F=0;F<s.length;F++)s[F]&&e.touchData.startPosition[F]&&h&&(e.touchData.singleTouchMoved=!0);if(n&&(null==te||te.pannable())&&a.panningEnabled()&&a.userPanningEnabled()){i(te,e.touchData.starts)&&(t.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=So(e.touchData.startPosition)),e.swipePanning?(a.panBy({x:g[0]*c,y:g[1]*c}),a.emit(p("dragpan"))):h&&(e.swipePanning=!0,a.panBy({x:b*c,y:w*c}),a.emit(p("dragpan")),te&&(te.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=d[0],s[1]=d[1]}}for(y=0;y<s.length;y++)u[y]=s[y];n&&t.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&null!=e.data.bgActivePosistion&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1),e.registerBinding(t,"touchcancel",V=function(t){var n=e.touchData.start;e.touchData.capture=!1,n&&n.unactivate()}),e.registerBinding(t,"touchend",W=function(t){var o=e.touchData.start;if(e.touchData.capture){0===t.touches.length&&(e.touchData.capture=!1),t.preventDefault();var i=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var a=e.cy,s=a.zoom(),u=e.touchData.now,l=e.touchData.earlier;if(t.touches[0]){var c=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);u[0]=c[0],u[1]=c[1]}if(t.touches[1]){c=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);u[2]=c[0],u[3]=c[1]}if(t.touches[2]){c=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);u[4]=c[0],u[5]=c[1]}var d,h=function(e){return{originalEvent:t,type:e,position:{x:u[0],y:u[1]}}};if(o&&o.unactivate(),e.touchData.cxt){if(d=h("cxttapend"),o?o.emit(d):a.emit(d),!e.touchData.cxtDragged){var p=h("cxttap");o?o.emit(p):a.emit(p)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!t.touches[2]&&a.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var v=a.collection(e.getAllInBox(i[0],i[1],i[2],i[3]));i[0]=void 0,i[1]=void 0,i[2]=void 0,i[3]=void 0,i[4]=0,e.redrawHint("select",!0),a.emit(h("boxend"));v.emit(h("box")).stdFilter(function(e){return e.selectable()&&!e.selected()}).select().emit(h("boxselect")),v.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=o&&o.unactivate(),t.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(t.touches[1]);else if(t.touches[0]);else if(!t.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var g=e.dragData.touchDragEles;if(null!=o){var y=o._private.grabbed;f(g),e.redrawHint("drag",!0),e.redrawHint("eles",!0),y&&(o.emit(h("freeon")),g.emit(h("free")),e.dragData.didDrag&&(o.emit(h("dragfreeon")),g.emit(h("dragfree")))),r(o,["touchend","tapend","vmouseup","tapdragout"],t,{x:u[0],y:u[1]}),o.unactivate(),e.touchData.start=null}else{var m=e.findNearestElement(u[0],u[1],!0,!0);r(m,["touchend","tapend","vmouseup","tapdragout"],t,{x:u[0],y:u[1]})}var b=e.touchData.startPosition[0]-u[0],_=b*b,w=e.touchData.startPosition[1]-u[1],x=(_+w*w)*s*s;e.touchData.singleTouchMoved||(o||a.$(":selected").unselect(["tapunselect"]),r(o,["tap","vclick"],t,{x:u[0],y:u[1]}),H=!1,t.timeStamp-q<=a.multiClickDebounceTime()?(G&&clearTimeout(G),H=!0,q=null,r(o,["dbltap","vdblclick"],t,{x:u[0],y:u[1]})):(G=setTimeout(function(){H||r(o,["onetap","voneclick"],t,{x:u[0],y:u[1]})},a.multiClickDebounceTime()),q=t.timeStamp)),null!=o&&!e.dragData.didDrag&&o._private.selectable&&x<e.touchTapThreshold2&&!e.pinching&&("single"===a.selectionType()?(a.$(n).unmerge(o).unselect(["tapunselect"]),o.select(["tapselect"])):o.selected()?o.unselect(["tapunselect"]):o.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var E=0;E<u.length;E++)l[E]=u[E];e.dragData.didDrag=!1,0===t.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),t.touches.length<2&&(1===t.touches.length&&(e.touchData.startGPosition=[t.touches[0].clientX,t.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"===typeof TouchEvent){var K=[],$=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},Z=function(e){K.push(function(e){return{event:e,touch:$(e)}}(e))},Q=function(e){for(var t=0;t<K.length;t++){if(K[t].event.pointerId===e.pointerId)return void K.splice(t,1)}},J=function(e){e.touches=K.map(function(e){return e.touch})},ee=function(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",function(e){ee(e)||(e.preventDefault(),Z(e),J(e),U(e))}),e.registerBinding(e.container,"pointerup",function(e){ee(e)||(Q(e),J(e),W(e))}),e.registerBinding(e.container,"pointercancel",function(e){ee(e)||(Q(e),J(e),V())}),e.registerBinding(e.container,"pointermove",function(e){ee(e)||(e.preventDefault(),function(e){var t=K.filter(function(t){return t.event.pointerId===e.pointerId})[0];t.event=e,t.touch=$(e)}(e),J(e),z(e))})}};var Lh={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,n,r,o,i){this.renderer.nodeShapeImpl("polygon",e,t,n,r,o,this.points)},intersectLine:function(e,t,n,r,o,i,a,s){return si(o,i,this.points,e,t,n/2,r/2,a)},checkPoint:function(e,t,n,r,o,i,a,s){return Jo(e,t,this.points,i,a,r,o,[0,-1],n)},hasMiterBounds:"rectangle"!==e,miterBounds:function(e,t,n,r,o,i){return qo(this.points,e,t,n,r,o)}}}};Lh.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,r,o,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,o)},intersectLine:function(e,t,n,r,o,i,a,s){return function(e,t,n,r,o,i){var a=n-e,s=r-t;a/=o,s/=i;var u=Math.sqrt(a*a+s*s),l=u-1;if(l<0)return[];var c=l/u;return[(n-e)*c+e,(r-t)*c+t]}(o,i,e,t,n/2+a,r/2+a)},checkPoint:function(e,t,n,r,o,i,a,s){return ni(e,t,r,o,i,a,n)}}},Lh.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:function(e,n,r,o,i,a,s){if(void 0!==a[s]&&a[s+"-cx"]===e&&a[s+"-cy"]===n)return a[s];a[s]=new Array(t.length/2),a[s+"-cx"]=e,a[s+"-cy"]=n;var u=r/2,l=o/2;i="auto"===i?hi(r,o):i;for(var c=new Array(t.length/2),f=0;f<t.length/2;f++)c[f]={x:e+u*t[2*f],y:n+l*t[2*f+1]};var d,h,p,v,g=c.length;for(h=c[g-1],d=0;d<g;d++)p=c[d%g],v=c[(d+1)%g],a[s][d]=bh(h,p,v,i),h=p,p=v;return a[s]},draw:function(e,t,n,r,o,i,a){this.renderer.nodeShapeImpl("round-polygon",e,t,n,r,o,this.points,this.getOrCreateCorners(t,n,r,o,i,a,"drawCorners"))},intersectLine:function(e,t,n,r,o,i,a,s,u){return function(e,t,n,r,o,i,a,s,u){var l,c=[],f=new Array(2*n.length);u.forEach(function(n,i){0===i?(f[f.length-2]=n.startX,f[f.length-1]=n.startY):(f[4*i-2]=n.startX,f[4*i-1]=n.startY),f[4*i]=n.stopX,f[4*i+1]=n.stopY,0!==(l=ri(e,t,r,o,n.cx,n.cy,n.radius)).length&&c.push(l[0],l[1])});for(var d=0;d<f.length/4;d++)0!==(l=ii(e,t,r,o,f[4*d],f[4*d+1],f[4*d+2],f[4*d+3],!1)).length&&c.push(l[0],l[1]);if(c.length>2){for(var h=[c[0],c[1]],p=Math.pow(h[0]-e,2)+Math.pow(h[1]-t,2),v=1;v<c.length/2;v++){var g=Math.pow(c[2*v]-e,2)+Math.pow(c[2*v+1]-t,2);g<=p&&(h[0]=c[2*v],h[1]=c[2*v+1],p=g)}return h}return c}(o,i,this.points,e,t,0,0,0,this.getOrCreateCorners(e,t,n,r,s,u,"corners"))},checkPoint:function(e,t,n,r,o,i,a,s,u){return function(e,t,n,r,o,i,a,s){for(var u=new Array(2*n.length),l=0;l<s.length;l++){var c=s[l];if(u[4*l+0]=c.startX,u[4*l+1]=c.startY,u[4*l+2]=c.stopX,u[4*l+3]=c.stopY,Math.pow(c.cx-e,2)+Math.pow(c.cy-t,2)<=Math.pow(c.radius,2))return!0}return Qo(e,t,u)}(e,t,this.points,0,0,0,0,this.getOrCreateCorners(i,a,r,o,s,u,"corners"))}}},Lh.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:li(4,0),draw:function(e,t,n,r,o,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,o,this.points,i)},intersectLine:function(e,t,n,r,o,i,a,s){return Yo(o,i,e,t,n,r,a,s)},checkPoint:function(e,t,n,r,o,i,a,s){var u=r/2,l=o/2;s="auto"===s?di(r,o):s;var c=2*(s=Math.min(u,l,s));return!!Jo(e,t,this.points,i,a,r,o-c,[0,-1],n)||(!!Jo(e,t,this.points,i,a,r-c,o,[0,-1],n)||(!!ni(e,t,c,c,i-u+s,a-l+s,n)||(!!ni(e,t,c,c,i+u-s,a-l+s,n)||(!!ni(e,t,c,c,i+u-s,a+l-s,n)||!!ni(e,t,c,c,i-u+s,a+l-s,n)))))}}},Lh.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:li(4,0),draw:function(e,t,n,r,o,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,o,null,i)},generateCutTrianglePts:function(e,t,n,r,o){var i="auto"===o?this.cornerLength:o,a=t/2,s=e/2,u=n-s,l=n+s,c=r-a,f=r+a;return{topLeft:[u,c+i,u+i,c,u+i,c+i],topRight:[l-i,c,l,c+i,l-i,c+i],bottomRight:[l,f-i,l-i,f,l-i,f-i],bottomLeft:[u+i,f,u,f-i,u+i,f-i]}},intersectLine:function(e,t,n,r,o,i,a,s){var u=this.generateCutTrianglePts(n+2*a,r+2*a,e,t,s),l=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return si(o,i,l,e,t)},checkPoint:function(e,t,n,r,o,i,a,s){var u="auto"===s?this.cornerLength:s;if(Jo(e,t,this.points,i,a,r,o-2*u,[0,-1],n))return!0;if(Jo(e,t,this.points,i,a,r-2*u,o,[0,-1],n))return!0;var l=this.generateCutTrianglePts(r,o,i,a);return Qo(e,t,l.topLeft)||Qo(e,t,l.topRight)||Qo(e,t,l.bottomRight)||Qo(e,t,l.bottomLeft)}}},Lh.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:li(4,0),draw:function(e,t,n,r,o,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,o)},intersectLine:function(e,t,n,r,o,i,a,s){var u=this.generateBarrelBezierPts(n+2*a,r+2*a,e,t),l=function(e){var t=Ro({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.15),n=Ro({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.5),r=Ro({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.85);return[e[0],e[1],t.x,t.y,n.x,n.y,r.x,r.y,e[4],e[5]]},c=[].concat(l(u.topLeft),l(u.topRight),l(u.bottomRight),l(u.bottomLeft));return si(o,i,c,e,t)},generateBarrelBezierPts:function(e,t,n,r){var o=t/2,i=e/2,a=n-i,s=n+i,u=r-o,l=r+o,c=pi(e,t),f=c.heightOffset,d=c.widthOffset,h=c.ctrlPtOffsetPct*e,p={topLeft:[a,u+f,a+h,u,a+d,u],topRight:[s-d,u,s-h,u,s,u+f],bottomRight:[s,l-f,s-h,l,s-d,l],bottomLeft:[a+d,l,a+h,l,a,l-f]};return p.topLeft.isTop=!0,p.topRight.isTop=!0,p.bottomLeft.isBottom=!0,p.bottomRight.isBottom=!0,p},checkPoint:function(e,t,n,r,o,i,a,s){var u=pi(r,o),l=u.heightOffset,c=u.widthOffset;if(Jo(e,t,this.points,i,a,r,o-2*l,[0,-1],n))return!0;if(Jo(e,t,this.points,i,a,r-2*c,o,[0,-1],n))return!0;for(var f=this.generateBarrelBezierPts(r,o,i,a),d=function(e,t,n){var r,o,i=n[4],a=n[2],s=n[0],u=n[5],l=n[1],c=Math.min(i,s),f=Math.max(i,s),d=Math.min(u,l),h=Math.max(u,l);if(c<=e&&e<=f&&d<=t&&t<=h){var p=[(r=i)-2*(o=a)+s,2*(o-r),r],v=function(e,t,n,r){var o=t*t-4*e*(n-=r);if(o<0)return[];var i=Math.sqrt(o),a=2*e;return[(-t+i)/a,(-t-i)/a]}(p[0],p[1],p[2],e),g=v.filter(function(e){return 0<=e&&e<=1});if(g.length>0)return g[0]}return null},h=Object.keys(f),p=0;p<h.length;p++){var v=f[h[p]],g=d(e,t,v);if(null!=g){var y=v[5],m=v[3],b=v[1],_=jo(y,m,b,g);if(v.isTop&&_<=t)return!0;if(v.isBottom&&t<=_)return!0}}return!1}}},Lh.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:li(4,0),draw:function(e,t,n,r,o,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,o,this.points,i)},intersectLine:function(e,t,n,r,o,i,a,s){var u=t-(r/2+a),l=ii(o,i,e,t,e-(n/2+a),u,e+(n/2+a),u,!1);return l.length>0?l:Yo(o,i,e,t,n,r,a,s)},checkPoint:function(e,t,n,r,o,i,a,s){var u=2*(s="auto"===s?di(r,o):s);if(Jo(e,t,this.points,i,a,r,o-u,[0,-1],n))return!0;if(Jo(e,t,this.points,i,a,r-u,o,[0,-1],n))return!0;var l=r/2+2*n,c=o/2+2*n;return!!Qo(e,t,[i-l,a-c,i-l,a,i+l,a,i+l,a-c])||(!!ni(e,t,u,u,i+r/2-s,a+o/2-s,n)||!!ni(e,t,u,u,i-r/2+s,a+o/2-s,n))}}},Lh.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",li(3,0)),this.generateRoundPolygon("round-triangle",li(3,0)),this.generatePolygon("rectangle",li(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n),this.generatePolygon("pentagon",li(5,0)),this.generateRoundPolygon("round-pentagon",li(5,0)),this.generatePolygon("hexagon",li(6,0)),this.generateRoundPolygon("round-hexagon",li(6,0)),this.generatePolygon("heptagon",li(7,0)),this.generateRoundPolygon("round-heptagon",li(7,0)),this.generatePolygon("octagon",li(8,0)),this.generateRoundPolygon("round-octagon",li(8,0));var r=new Array(20),o=fi(5,0),i=fi(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var s=0;s<i.length/2;s++)i[2*s]*=a,i[2*s+1]*=a;for(s=0;s<5;s++)r[4*s]=o[2*s],r[4*s+1]=o[2*s+1],r[4*s+2]=i[2*s],r[4*s+3]=i[2*s+1];r=ci(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u),e.makePolygon=function(e){var n,r="polygon-"+e.join("$");return(n=this[r])?n:t.generatePolygon(r,e)}};var Bh={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||Wr();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){null==t&&Lr("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort(function(e,t){return t.priority-e.priority})}}},Fh=function(e,t,n){for(var r=e.beforeRenderCallbacks,o=0;o<r.length;o++)r[o].fn(t,n)};Bh.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var n=function(r){if(!e.destroyed){if(t.batching());else if(e.requestedFrame&&!e.skipFrame){Fh(e,!0,r);var o=yr();e.render(e.renderOptions);var i=e.lastDrawTime=yr();void 0===e.averageRedrawTime&&(e.averageRedrawTime=i-o),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var a=i-o;e.redrawTotalTime+=a,e.lastRedrawTime=a,e.averageRedrawTime=e.averageRedrawTime/2+a/2,e.requestedFrame=!1}else Fh(e,!1,r);e.skipFrame=!1,gr(n)}};gr(n)}};var Uh=function(e){this.init(e)},zh=Uh.prototype;zh.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],zh.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container(),r=t.cy.window();if(r){var o=r.document,i=o.head,a="__________cytoscape_stylesheet",s="__________cytoscape_container",u=null!=o.getElementById(a);if(n.className.indexOf(s)<0&&(n.className=(n.className||"")+" "+s),!u){var l=o.createElement("style");l.id=a,l.textContent="."+s+" { position: relative; }",i.insertBefore(l,i.children[0])}"static"===r.getComputedStyle(n).getPropertyValue("position")&&Fr("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.webgl=e.webgl,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=Nn(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},zh.notify=function(e,t){var n=this,r=n.cy;this.destroyed||("init"!==e?"destroy"!==e?(("add"===e||"remove"===e||"move"===e&&r.hasCompoundNodes()||"load"===e||"zorder"===e||"mount"===e)&&n.invalidateCachedZSortedEles(),"viewport"===e&&n.redrawHint("select",!0),"gc"===e&&n.redrawHint("gc",!0),"load"!==e&&"resize"!==e&&"mount"!==e||(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):n.destroy():n.load())},zh.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],r=n.target;(r.off||r.removeEventListener).apply(r,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(qm){}},zh.isHeadless=function(){return!1},[Xd,Ih,Mh,Dh,Lh,Bh].forEach(function(e){Qn(zh,e)});var Vh=1e3/60,Wh=function(e){return function(){var t=this,n=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var r=dr(function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},e.deqRedrawThreshold),o=e.priority||Dr;n.beforeRender(function(o,i){var a=yr(),s=n.averageRedrawTime,u=n.lastRedrawTime,l=[],c=n.cy.extent(),f=n.getPixelRatio();for(o||n.flushRenderedStyleQueue();;){var d=yr(),h=d-a,p=d-i;if(u<Vh){var v=Vh-(o?s:0);if(p>=e.deqFastCost*v)break}else if(o){if(h>=e.deqCost*u||h>=e.deqAvgCost*s)break}else if(p>=e.deqNoDrawCost*Vh)break;var g=e.deq(t,f,c);if(!(g.length>0))break;for(var y=0;y<g.length;y++)l.push(g[y])}l.length>0&&(e.onDeqd(t,l),!o&&e.shouldRedraw(t,l,f,c)&&r())},o(t))}}},Hh=function(){return Lt(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ir;Dt(this,e),this.idsByKey=new Kr,this.keyForId=new Kr,this.cachesByLvl=new Kr,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=n},[{key:"getIdsFor",value:function(e){null==e&&Lr("Can not get id list for null key");var t=this.idsByKey,n=this.idsByKey.get(e);return n||(n=new Zr,t.set(e,n)),n}},{key:"addIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).add(t)}},{key:"deleteIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).delete(t)}},{key:"getNumberOfIdsForKey",value:function(e){return null==e?0:this.getIdsFor(e).size}},{key:"updateKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t),r=this.getKey(e);this.deleteIdForKey(n,t),this.addIdForKey(r,t),this.keyForId.set(t,r)}},{key:"deleteKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteIdForKey(n,t),this.keyForId.delete(t)}},{key:"keyHasChangedFor",value:function(e){var t=e.id();return this.keyForId.get(t)!==this.getKey(e)}},{key:"isInvalid",value:function(e){return this.keyHasChangedFor(e)||this.doesEleInvalidateKey(e)}},{key:"getCachesAt",value:function(e){var t=this.cachesByLvl,n=this.lvls,r=t.get(e);return r||(r=new Kr,t.set(e,r),n.push(e)),r}},{key:"getCache",value:function(e,t){return this.getCachesAt(t).get(e)}},{key:"get",value:function(e,t){var n=this.getKey(e),r=this.getCache(n,t);return null!=r&&this.updateKeyMappingFor(e),r}},{key:"getForCachedKey",value:function(e,t){var n=this.keyForId.get(e.id());return this.getCache(n,t)}},{key:"hasCache",value:function(e,t){return this.getCachesAt(t).has(e)}},{key:"has",value:function(e,t){var n=this.getKey(e);return this.hasCache(n,t)}},{key:"setCache",value:function(e,t,n){n.key=e,this.getCachesAt(t).set(e,n)}},{key:"set",value:function(e,t,n){var r=this.getKey(e);this.setCache(r,t,n),this.updateKeyMappingFor(e)}},{key:"deleteCache",value:function(e,t){this.getCachesAt(t).delete(e)}},{key:"delete",value:function(e,t){var n=this.getKey(e);this.deleteCache(n,t)}},{key:"invalidateKey",value:function(e){var t=this;this.lvls.forEach(function(n){return t.deleteCache(e,n)})}},{key:"invalidate",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteKeyMappingFor(e);var r=this.doesEleInvalidateKey(e);return r&&this.invalidateKey(n),r||0===this.getNumberOfIdsForKey(n)}}])}(),Gh=7.99,qh={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Yh=Hr({getKey:null,doesEleInvalidateKey:Ir,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Rr,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Xh=function(e,t){var n=this;n.renderer=e,n.onDequeues=[];var r=Yh(t);Qn(n,r),n.lookup=new Hh(r.getKey,r.doesEleInvalidateKey),n.setupDequeueing()},Kh=Xh.prototype;Kh.reasons=qh,Kh.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},Kh.getRetiredTextureQueue=function(e){var t=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return t[e]=t[e]||[]},Kh.getElementQueue=function(){var e=this.eleCacheQueue=this.eleCacheQueue||new uo(function(e,t){return t.reqs-e.reqs});return e},Kh.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Kh.getElement=function(e,t,n,r,o){var i=this,a=this.renderer,s=a.cy.zoom(),u=this.lookup;if(!t||0===t.w||0===t.h||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed())return null;if(!i.allowEdgeTxrCaching&&e.isEdge()||!i.allowParentTxrCaching&&e.isParent())return null;if(null==r&&(r=Math.ceil(Po(s*n))),r<-4)r=-4;else if(s>=7.99||r>3)return null;var l=Math.pow(2,r),c=t.h*l,f=t.w*l,d=a.eleTextBiggerThanMin(e,l);if(!this.isVisible(e,d))return null;var h,p=u.get(e,r);if(p&&p.invalidated&&(p.invalidated=!1,p.texture.invalidatedWidth-=p.width),p)return p;if(h=c<=25?25:c<=50?50:50*Math.ceil(c/50),c>1024||f>1024)return null;var v=i.getTextureQueue(h),g=v[v.length-2],y=function(){return i.recycleTexture(h,f)||i.addTexture(h,f)};g||(g=v[v.length-1]),g||(g=y()),g.width-g.usedWidth<f&&(g=y());for(var m,b=function(e){return e&&e.scaledLabelShown===d},_=o&&o===qh.dequeue,w=o&&o===qh.highQuality,x=o&&o===qh.downscale,E=r+1;E<=3;E++){var O=u.get(e,E);if(O){m=O;break}}var S=m&&m.level===r+1?m:null,T=function(){g.context.drawImage(S.texture.canvas,S.x,0,S.width,S.height,g.usedWidth,0,f,c)};if(g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(g.usedWidth,0,f,h),b(S))T();else if(b(m)){if(!w)return i.queueElement(e,m.level-1),m;for(var P=m.level;P>r;P--)S=i.getElement(e,t,n,P,qh.downscale);T()}else{var C;if(!_&&!w&&!x)for(var k=r-1;k>=-4;k--){var A=u.get(e,k);if(A){C=A;break}}if(b(C))return i.queueElement(e,r),C;g.context.translate(g.usedWidth,0),g.context.scale(l,l),this.drawElement(g.context,e,t,d,!1),g.context.scale(1/l,1/l),g.context.translate(-g.usedWidth,0)}return p={x:g.usedWidth,texture:g,level:r,scale:l,width:f,height:c,scaledLabelShown:d},g.usedWidth+=Math.ceil(f+8),g.eleCaches.push(p),u.set(e,r,p),i.checkTextureFullness(g),p},Kh.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},Kh.invalidateElement=function(e){var t=this,n=t.lookup,r=[];if(n.isInvalid(e)){for(var o=-4;o<=3;o++){var i=n.getForCachedKey(e,o);i&&r.push(i)}if(n.invalidate(e))for(var a=0;a<r.length;a++){var s=r[a],u=s.texture;u.invalidatedWidth+=s.width,s.invalidated=!0,t.checkTextureUtility(u)}t.removeFromQueue(e)}},Kh.checkTextureUtility=function(e){e.invalidatedWidth>=.2*e.width&&this.retireTexture(e)},Kh.checkTextureFullness=function(e){var t=this.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?Gr(t,e):e.fullnessChecks++},Kh.retireTexture=function(e){var t=e.height,n=this.getTextureQueue(t),r=this.lookup;Gr(n,e),e.retired=!0;for(var o=e.eleCaches,i=0;i<o.length;i++){var a=o[i];r.deleteCache(a.key,a.level)}qr(o),this.getRetiredTextureQueue(t).push(e)},Kh.addTexture=function(e,t){var n={};return this.getTextureQueue(e).push(n),n.eleCaches=[],n.height=e,n.width=Math.max(1024,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=this.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},Kh.recycleTexture=function(e,t){for(var n=this.getTextureQueue(e),r=this.getRetiredTextureQueue(e),o=0;o<r.length;o++){var i=r[o];if(i.width>=t)return i.retired=!1,i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,qr(i.eleCaches),i.context.setTransform(1,0,0,1,0,0),i.context.clearRect(0,0,i.width,i.height),Gr(r,i),n.push(i),i}},Kh.queueElement=function(e,t){var n=this.getElementQueue(),r=this.getElementKeyToQueue(),o=this.getKey(e),i=r[o];if(i)i.level=Math.max(i.level,t),i.eles.merge(e),i.reqs++,n.updateItem(i);else{var a={eles:e.spawn().merge(e),level:t,reqs:1,key:o};n.push(a),r[o]=a}},Kh.dequeue=function(e){for(var t=this,n=t.getElementQueue(),r=t.getElementKeyToQueue(),o=[],i=t.lookup,a=0;a<1&&n.size()>0;a++){var s=n.pop(),u=s.key,l=s.eles[0],c=i.hasCache(l,s.level);if(r[u]=null,!c){o.push(s);var f=t.getBoundingBox(l);t.getElement(l,f,e,s.level,qh.dequeue)}}return o},Kh.removeFromQueue=function(e){var t=this.getElementQueue(),n=this.getElementKeyToQueue(),r=this.getKey(e),o=n[r];null!=o&&(1===o.eles.length?(o.reqs=jr,t.updateItem(o),t.pop(),n[r]=null):o.eles.unmerge(e))},Kh.onDequeue=function(e){this.onDequeues.push(e)},Kh.offDequeue=function(e){Gr(this.onDequeues,e)},Kh.setupDequeueing=Wh({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++){(0,e.onDequeues[n])(t)}},shouldRedraw:function(e,t,n,r){for(var o=0;o<t.length;o++)for(var i=t[o].eles,a=0;a<i.length;a++){var s=i[a].boundingBox();if(zo(s,r))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var $h=function(e){var t=this,n=t.renderer=e,r=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=yr()-500,t.skipping=!1,t.eleTxrDeqs=r.collection(),t.scheduleElementRefinement=dr(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},50),n.beforeRender(function(e,n){n-t.lastInvalidationTime<=250?t.skipping=!0:t.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);t.layersQueue=new uo(function(e,t){return t.reqs-e.reqs}),t.setupDequeueing()},Zh=$h.prototype,Qh=0,Jh=Math.pow(2,53)-1;Zh.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),o=Math.ceil(e.h*n),i=this.renderer.makeOffscreenCanvas(r,o),a={id:Qh=++Qh%Jh,bb:e,level:t,width:r,height:o,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=a.context,u=-a.bb.x1,l=-a.bb.y1;return s.scale(n,n),s.translate(u,l),a},Zh.getLayers=function(e,t,n){var r=this,o=r.renderer.cy.zoom(),i=r.firstGet;if(r.firstGet=!1,null==n)if((n=Math.ceil(Po(o*t)))<-4)n=-4;else if(o>=3.99||n>2)return null;r.validateLayersElesOrdering(n,e);var a,s,u=r.layersByLevel,l=Math.pow(2,n),c=u[n]=u[n]||[];if(r.levelIsComplete(n,e))return c;!function(){var t=function(t){if(r.validateLayersElesOrdering(t,e),r.levelIsComplete(t,e))return s=u[t],!0},o=function(e){if(!s)for(var r=n+e;-4<=r&&r<=2&&!t(r);r+=e);};o(1),o(-1);for(var i=c.length-1;i>=0;i--){var a=c[i];a.invalid&&Gr(c,a)}}();var f=function(t){var o=(t=t||{}).after;!function(){if(!a){a=Mo();for(var t=0;t<e.length;t++)Do(a,e[t].boundingBox())}}();var i=Math.ceil(a.w*l),s=Math.ceil(a.h*l);if(i>32767||s>32767)return null;if(i*s>16e6)return null;var u=r.makeLayer(a,n);if(null!=o){var f=c.indexOf(o)+1;c.splice(f,0,u)}else(void 0===t.insert||t.insert)&&c.unshift(u);return u};if(r.skipping&&!i)return null;for(var d=null,h=e.length/1,p=!i,v=0;v<e.length;v++){var g=e[v],y=g._private.rscratch,m=y.imgLayerCaches=y.imgLayerCaches||{},b=m[n];if(b)d=b;else{if((!d||d.eles.length>=h||!Ho(d.bb,g.boundingBox()))&&!(d=f({insert:!0,after:d})))return null;s||p?r.queueLayer(d,g):r.drawEleInLayer(d,g,n,t),d.eles.push(g),m[n]=d}}return s||(p?null:c)},Zh.getEleLevelForLayerLevel=function(e,t){return e},Zh.drawEleInLayer=function(e,t,n,r){var o=this.renderer,i=e.context,a=t.boundingBox();0!==a.w&&0!==a.h&&t.visible()&&(n=this.getEleLevelForLayerLevel(n,r),o.setImgSmoothing(i,!1),o.drawCachedElement(i,t,null,null,n,true),o.setImgSmoothing(i,!0))},Zh.levelIsComplete=function(e,t){var n=this.layersByLevel[e];if(!n||0===n.length)return!1;for(var r=0,o=0;o<n.length;o++){var i=n[o];if(i.reqs>0)return!1;if(i.invalid)return!1;r+=i.eles.length}return r===t.length},Zh.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var o=n[r],i=-1,a=0;a<t.length;a++)if(o.eles[0]===t[a]){i=a;break}if(i<0)this.invalidateLayer(o);else{var s=i;for(a=0;a<o.eles.length;a++)if(o.eles[a]!==t[s+a]){this.invalidateLayer(o);break}}}},Zh.updateElementsInLayers=function(e,t){for(var n=In(e[0]),r=0;r<e.length;r++)for(var o=n?null:e[r],i=n?e[r]:e[r].ele,a=i._private.rscratch,s=a.imgLayerCaches=a.imgLayerCaches||{},u=-4;u<=2;u++){var l=s[u];l&&(o&&this.getEleLevelForLayerLevel(l.level)!==o.level||t(l,i,o))}},Zh.haveLayers=function(){for(var e=!1,t=-4;t<=2;t++){var n=this.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e},Zh.invalidateElements=function(e){var t=this;0!==e.length&&(t.lastInvalidationTime=yr(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,function(e,n,r){t.invalidateLayer(e)}))},Zh.invalidateLayer=function(e){if(this.lastInvalidationTime=yr(),!e.invalid){var t=e.level,n=e.eles,r=this.layersByLevel[t];Gr(r,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var o=0;o<n.length;o++){var i=n[o]._private.rscratch.imgLayerCaches;i&&(i[t]=null)}}},Zh.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(e,n,r){var o=e.replacement;if(o||((o=e.replacement=t.makeLayer(e.bb,e.level)).replaces=e,o.eles=e.eles),!o.reqs)for(var i=0;i<o.eles.length;i++)t.queueLayer(o,o.eles[i])})},Zh.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},Zh.queueLayer=function(e,t){var n=this.layersQueue,r=e.elesQueue,o=r.hasId=r.hasId||{};if(!e.replacement){if(t){if(o[t.id()])return;r.push(t),o[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}},Zh.dequeue=function(e){for(var t=this,n=t.layersQueue,r=[],o=0;o<1&&0!==n.size();){var i=n.peek();if(i.replacement)n.pop();else if(i.replaces&&i!==i.replaces.replacement)n.pop();else if(i.invalid)n.pop();else{var a=i.elesQueue.shift();a&&(t.drawEleInLayer(i,a,i.level,e),o++),0===r.length&&r.push(!0),0===i.elesQueue.length&&(n.pop(),i.reqs=0,i.replaces&&t.applyLayerReplacement(i),t.requestRedraw())}}return r},Zh.applyLayerReplacement=function(e){var t=this.layersByLevel[e.level],n=e.replaces,r=t.indexOf(n);if(!(r<0||n.invalid)){t[r]=e;for(var o=0;o<e.eles.length;o++){var i=e.eles[o]._private,a=i.imgLayerCaches=i.imgLayerCaches||{};a&&(a[e.level]=e)}this.requestRedraw()}},Zh.requestRedraw=dr(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),Zh.setupDequeueing=Wh({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:Dr,shouldRedraw:Rr,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var ep,tp={};function np(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}}function rp(e,t,n){for(var r,o=0;o<t.length;o++){var i=t[o];0===o&&(r=i),e.lineTo(i.x,i.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)}function op(e,t,n){e.beginPath&&e.beginPath();for(var r=t,o=0;o<r.length;o++){var i=r[o];e.lineTo(i.x,i.y)}var a=n,s=n[0];e.moveTo(s.x,s.y);for(o=1;o<a.length;o++){i=a[o];e.lineTo(i.x,i.y)}e.closePath&&e.closePath()}function ip(e,t,n,r,o){e.beginPath&&e.beginPath(),e.arc(n,r,o,0,2*Math.PI,!1);var i=t,a=i[0];e.moveTo(a.x,a.y);for(var s=0;s<i.length;s++){var u=i[s];e.lineTo(u.x,u.y)}e.closePath&&e.closePath()}function ap(e,t,n,r){e.arc(t,n,r,0,2*Math.PI,!1)}tp.arrowShapeImpl=function(e){return(ep||(ep={polygon:np,"triangle-backcurve":rp,"triangle-tee":op,"circle-triangle":ip,"triangle-cross":op,circle:ap}))[e]};var sp={drawElement:function(e,t,n,r,o,i){t.isNode()?this.drawNode(e,t,n,r,o,i):this.drawEdge(e,t,n,r,o,i)},drawElementOverlay:function(e,t){t.isNode()?this.drawNodeOverlay(e,t):this.drawEdgeOverlay(e,t)},drawElementUnderlay:function(e,t){t.isNode()?this.drawNodeUnderlay(e,t):this.drawEdgeUnderlay(e,t)},drawCachedElementPortion:function(e,t,n,r,o,i,a,s){var u=this,l=n.getBoundingBox(t);if(0!==l.w&&0!==l.h){var c=n.getElement(t,l,r,o,i);if(null!=c){var f=s(u,t);if(0===f)return;var d,h,p,v,g,y,m=a(u,t),b=l.x1,_=l.y1,w=l.w,x=l.h;if(0!==m){var E=n.getRotationPoint(t);p=E.x,v=E.y,e.translate(p,v),e.rotate(m),(g=u.getImgSmoothing(e))||u.setImgSmoothing(e,!0);var O=n.getRotationOffset(t);d=O.x,h=O.y}else d=b,h=_;1!==f&&(y=e.globalAlpha,e.globalAlpha=y*f),e.drawImage(c.texture.canvas,c.x,0,c.width,c.height,d,h,w,x),1!==f&&(e.globalAlpha=y),0!==m&&(e.rotate(-m),e.translate(-p,-v),g||u.setImgSmoothing(e,!1))}else n.drawElement(e,t)}}},up=function(){return 0},lp=function(e,t){return e.getTextAngle(t,null)},cp=function(e,t){return e.getTextAngle(t,"source")},fp=function(e,t){return e.getTextAngle(t,"target")},dp=function(e,t){return t.effectiveOpacity()},hp=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};sp.drawCachedElement=function(e,t,n,r,o,i){var a=this,s=a.data,u=s.eleTxrCache,l=s.lblTxrCache,c=s.slbTxrCache,f=s.tlbTxrCache,d=t.boundingBox(),h=!0===i?u.reasons.highQuality:null;if(0!==d.w&&0!==d.h&&t.visible()&&(!r||zo(d,r))){var p=t.isEdge(),v=t.element()._private.rscratch.badLine;a.drawElementUnderlay(e,t),a.drawCachedElementPortion(e,t,u,n,o,h,up,dp),p&&v||a.drawCachedElementPortion(e,t,l,n,o,h,lp,hp),p&&!v&&(a.drawCachedElementPortion(e,t,c,n,o,h,cp,hp),a.drawCachedElementPortion(e,t,f,n,o,h,fp,hp)),a.drawElementOverlay(e,t)}},sp.drawElements=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];this.drawElement(e,r)}},sp.drawCachedElements=function(e,t,n,r){for(var o=0;o<t.length;o++){var i=t[o];this.drawCachedElement(e,i,n,r)}},sp.drawCachedNodes=function(e,t,n,r){for(var o=0;o<t.length;o++){var i=t[o];i.isNode()&&this.drawCachedElement(e,i,n,r)}},sp.drawLayeredElements=function(e,t,n,r){var o=this.data.lyrTxrCache.getLayers(t,n);if(o)for(var i=0;i<o.length;i++){var a=o[i],s=a.bb;0!==s.w&&0!==s.h&&e.drawImage(a.canvas,s.x1,s.y1,s.w,s.h)}else this.drawCachedElements(e,t,n,r)};var pp={drawEdge:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=this,s=t._private.rscratch;if((!i||t.visible())&&!s.badLine&&null!=s.allpts&&!isNaN(s.allpts[0])){var u;n&&(u=n,e.translate(-u.x1,-u.y1));var l=i?t.pstyle("opacity").value:1,c=i?t.pstyle("line-opacity").value:1,f=t.pstyle("curve-style").value,d=t.pstyle("line-style").value,h=t.pstyle("width").pfValue,p=t.pstyle("line-cap").value,v=t.pstyle("line-outline-width").value,g=t.pstyle("line-outline-color").value,y=l*c,m=l*c,b=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;"straight-triangle"===f?(a.eleStrokeStyle(e,t,n),a.drawEdgeTrianglePath(t,e,s.allpts)):(e.lineWidth=h,e.lineCap=p,a.eleStrokeStyle(e,t,n),a.drawEdgePath(t,e,s.allpts,d),e.lineCap="butt")},_=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;a.drawArrowheads(e,t,n)};if(e.lineJoin="round","yes"===t.pstyle("ghost").value){var w=t.pstyle("ghost-offset-x").pfValue,x=t.pstyle("ghost-offset-y").pfValue,E=t.pstyle("ghost-opacity").value,O=y*E;e.translate(w,x),b(O),_(O),e.translate(-w,-x)}else!function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;e.lineWidth=h+v,e.lineCap=p,v>0?(a.colorStrokeStyle(e,g[0],g[1],g[2],n),"straight-triangle"===f?a.drawEdgeTrianglePath(t,e,s.allpts):(a.drawEdgePath(t,e,s.allpts,d),e.lineCap="butt")):e.lineCap="butt"}();o&&a.drawEdgeUnderlay(e,t),b(),_(),o&&a.drawEdgeOverlay(e,t),a.drawElementText(e,t,null,r),n&&e.translate(u.x1,u.y1)}}},vp=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n){if(n.visible()){var r=n.pstyle("".concat(e,"-opacity")).value;if(0!==r){var o=this,i=o.usePaths(),a=n._private.rscratch,s=2*n.pstyle("".concat(e,"-padding")).pfValue,u=n.pstyle("".concat(e,"-color")).value;t.lineWidth=s,"self"!==a.edgeType||i?t.lineCap="round":t.lineCap="butt",o.colorStrokeStyle(t,u[0],u[1],u[2],r),o.drawEdgePath(n,t,a.allpts,"solid")}}}};pp.drawEdgeOverlay=vp("overlay"),pp.drawEdgeUnderlay=vp("underlay"),pp.drawEdgePath=function(e,t,n,r){var o,i=e._private.rscratch,a=t,s=!1,u=this.usePaths(),l=e.pstyle("line-dash-pattern").pfValue,c=e.pstyle("line-dash-offset").pfValue;if(u){var f=n.join("$");i.pathCacheKey&&i.pathCacheKey===f?(o=t=i.pathCache,s=!0):(o=t=new Path2D,i.pathCacheKey=f,i.pathCache=o)}if(a.setLineDash)switch(r){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(l),a.lineDashOffset=c;break;case"solid":a.setLineDash([])}if(!s&&!i.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<n.length;d+=4)t.quadraticCurveTo(n[d],n[d+1],n[d+2],n[d+3]);break;case"straight":case"haystack":for(var h=2;h+1<n.length;h+=2)t.lineTo(n[h],n[h+1]);break;case"segments":if(i.isRound){var p,v=Bt(i.roundCorners);try{for(v.s();!(p=v.n()).done;){mh(t,p.value)}}catch(y){v.e(y)}finally{v.f()}t.lineTo(n[n.length-2],n[n.length-1])}else for(var g=2;g+1<n.length;g+=2)t.lineTo(n[g],n[g+1])}t=a,u?t.stroke(o):t.stroke(),t.setLineDash&&t.setLineDash([])},pp.drawEdgeTrianglePath=function(e,t,n){t.fillStyle=t.strokeStyle;for(var r=e.pstyle("width").pfValue,o=0;o+1<n.length;o+=2){var i=[n[o+2]-n[o],n[o+3]-n[o+1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=[i[1]/a,-i[0]/a],u=[s[0]*r/2,s[1]*r/2];t.beginPath(),t.moveTo(n[o]-u[0],n[o+1]-u[1]),t.lineTo(n[o]+u[0],n[o+1]+u[1]),t.lineTo(n[o+2],n[o+3]),t.closePath(),t.fill()}},pp.drawArrowheads=function(e,t,n){var r=t._private.rscratch,o="haystack"===r.edgeType;o||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),o||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)},pp.drawArrowhead=function(e,t,n,r,o,i,a){if(!(isNaN(r)||null==r||isNaN(o)||null==o||isNaN(i)||null==i)){var s=this,u=t.pstyle(n+"-arrow-shape").value;if("none"!==u){var l="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",c=t.pstyle(n+"-arrow-fill").value,f=t.pstyle("width").pfValue,d=t.pstyle(n+"-arrow-width"),h="match-line"===d.value?f:d.pfValue;"%"===d.units&&(h*=f);var p=t.pstyle("opacity").value;void 0===a&&(a=p);var v=e.globalCompositeOperation;1===a&&"hollow"!==c||(e.globalCompositeOperation="destination-out",s.colorFillStyle(e,255,255,255,1),s.colorStrokeStyle(e,255,255,255,1),s.drawArrowShape(t,e,l,f,u,h,r,o,i),e.globalCompositeOperation=v);var g=t.pstyle(n+"-arrow-color").value;s.colorFillStyle(e,g[0],g[1],g[2],a),s.colorStrokeStyle(e,g[0],g[1],g[2],a),s.drawArrowShape(t,e,c,f,u,h,r,o,i)}}},pp.drawArrowShape=function(e,t,n,r,o,i,a,s,u){var l,c=this,f=this.usePaths()&&"triangle-cross"!==o,d=!1,h=t,p={x:a,y:s},v=e.pstyle("arrow-scale").value,g=this.getArrowWidth(r,v),y=c.arrowShapes[o];if(f){var m=c.arrowPathCache=c.arrowPathCache||[],b=Tr(o),_=m[b];null!=_?(l=t=_,d=!0):(l=t=new Path2D,m[b]=l)}d||(t.beginPath&&t.beginPath(),f?y.draw(t,1,0,{x:0,y:0},1):y.draw(t,g,u,p,r),t.closePath&&t.closePath()),t=h,f&&(t.translate(a,s),t.rotate(u),t.scale(g,g)),"filled"!==n&&"both"!==n||(f?t.fill(l):t.fill()),"hollow"!==n&&"both"!==n||(t.lineWidth=i/(f?g:1),t.lineJoin="miter",f?t.stroke(l):t.stroke()),f&&(t.scale(1/g,1/g),t.rotate(-u),t.translate(-a,-s))};var gp={safeDrawImage:function(e,t,n,r,o,i,a,s,u,l){if(!(o<=0||i<=0||u<=0||l<=0))try{e.drawImage(t,n,r,o,i,a,s,u,l)}catch(qm){Fr(qm)}},drawInscribedImage:function(e,t,n,r,o){var i=this,a=n.position(),s=a.x,u=a.y,l=n.cy().style(),c=l.getIndexedStyle.bind(l),f=c(n,"background-fit","value",r),d=c(n,"background-repeat","value",r),h=n.width(),p=n.height(),v=2*n.padding(),g=h+("inner"===c(n,"background-width-relative-to","value",r)?0:v),y=p+("inner"===c(n,"background-height-relative-to","value",r)?0:v),m=n._private.rscratch,b="node"===c(n,"background-clip","value",r),_=c(n,"background-image-opacity","value",r)*o,w=c(n,"background-image-smoothing","value",r),x=n.pstyle("corner-radius").value;"auto"!==x&&(x=n.pstyle("corner-radius").pfValue);var E=t.width||t.cachedW,O=t.height||t.cachedH;null!=E&&null!=O||(document.body.appendChild(t),E=t.cachedW=t.width||t.offsetWidth,O=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var S=E,T=O;if("auto"!==c(n,"background-width","value",r)&&(S="%"===c(n,"background-width","units",r)?c(n,"background-width","pfValue",r)*g:c(n,"background-width","pfValue",r)),"auto"!==c(n,"background-height","value",r)&&(T="%"===c(n,"background-height","units",r)?c(n,"background-height","pfValue",r)*y:c(n,"background-height","pfValue",r)),0!==S&&0!==T){if("contain"===f)S*=P=Math.min(g/S,y/T),T*=P;else if("cover"===f){var P;S*=P=Math.max(g/S,y/T),T*=P}var C=s-g/2,k=c(n,"background-position-x","units",r),A=c(n,"background-position-x","pfValue",r);C+="%"===k?(g-S)*A:A;var N=c(n,"background-offset-x","units",r),j=c(n,"background-offset-x","pfValue",r);C+="%"===N?(g-S)*j:j;var R=u-y/2,I=c(n,"background-position-y","units",r),M=c(n,"background-position-y","pfValue",r);R+="%"===I?(y-T)*M:M;var D=c(n,"background-offset-y","units",r),L=c(n,"background-offset-y","pfValue",r);R+="%"===D?(y-T)*L:L,m.pathCache&&(C-=s,R-=u,s=0,u=0);var B=e.globalAlpha;e.globalAlpha=_;var F=i.getImgSmoothing(e),U=!1;if("no"===w&&F?(i.setImgSmoothing(e,!1),U=!0):"yes"!==w||F||(i.setImgSmoothing(e,!0),U=!0),"no-repeat"===d)b&&(e.save(),m.pathCache?e.clip(m.pathCache):(i.nodeShapes[i.getNodeShape(n)].draw(e,s,u,g,y,x,m),e.clip())),i.safeDrawImage(e,t,0,0,E,O,C,R,S,T),b&&e.restore();else{var z=e.createPattern(t,d);e.fillStyle=z,i.nodeShapes[i.getNodeShape(n)].draw(e,s,u,g,y,x,m),e.translate(C,R),e.fill(),e.translate(-C,-R)}e.globalAlpha=B,U&&i.setImgSmoothing(e,F)}}},yp={};function mp(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,a=arguments.length>6?arguments[6]:void 0;e.beginPath(),e.moveTo(t+i,n),e.lineTo(t+r-i,n),e.quadraticCurveTo(t+r,n,t+r,n+i),e.lineTo(t+r,n+o-i),e.quadraticCurveTo(t+r,n+o,t+r-i,n+o),e.lineTo(t+i,n+o),e.quadraticCurveTo(t,n+o,t,n+o-i),e.lineTo(t,n+i),e.quadraticCurveTo(t,n,t+i,n),e.closePath(),a?e.stroke():e.fill()}yp.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),o=Math.ceil(Po(n*r));t=Math.pow(2,o)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},yp.drawElementText=function(e,t,n,r,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=this;if(null==r){if(i&&!a.eleTextBiggerThanMin(t))return}else if(!1===r)return;if(t.isNode()){var s=t.pstyle("label");if(!s||!s.value)return;var u=a.getLabelJustification(t);e.textAlign=u,e.textBaseline="bottom"}else{var l=t.element()._private.rscratch.badLine,c=t.pstyle("label"),f=t.pstyle("source-label"),d=t.pstyle("target-label");if(l||(!c||!c.value)&&(!f||!f.value)&&(!d||!d.value))return;e.textAlign="center",e.textBaseline="bottom"}var h,p=!n;n&&(h=n,e.translate(-h.x1,-h.y1)),null==o?(a.drawText(e,t,null,p,i),t.isEdge()&&(a.drawText(e,t,"source",p,i),a.drawText(e,t,"target",p,i))):a.drawText(e,t,o,p,i),n&&e.translate(h.x1,h.y1)},yp.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((t=this.fontCaches[n]).context===e)return t;return t={context:e},this.fontCaches.push(t),t},yp.setupTextStyle=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.pstyle("font-style").strValue,o=t.pstyle("font-size").pfValue+"px",i=t.pstyle("font-family").strValue,a=t.pstyle("font-weight").strValue,s=n?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,u=t.pstyle("text-outline-opacity").value*s,l=t.pstyle("color").value,c=t.pstyle("text-outline-color").value;e.font=r+" "+a+" "+o+" "+i,e.lineJoin="round",this.colorFillStyle(e,l[0],l[1],l[2],s),this.colorStrokeStyle(e,c[0],c[1],c[2],u)},yp.getTextAngle=function(e,t){var n,r=e._private.rscratch,o=t?t+"-":"",i=e.pstyle(o+"text-rotation");if("autorotate"===i.strValue){var a=Yr(r,"labelAngle",t);n=e.isEdge()?a:0}else n="none"===i.strValue?0:i.pfValue;return n},yp.drawText=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=t._private.rscratch,a=o?t.effectiveOpacity():1;if(!o||0!==a&&0!==t.pstyle("text-opacity").value){"main"===n&&(n=null);var s,u,l=Yr(i,"labelX",n),c=Yr(i,"labelY",n),f=this.getLabelText(t,n);if(null!=f&&""!==f&&!isNaN(l)&&!isNaN(c)){this.setupTextStyle(e,t,o);var d,h=n?n+"-":"",p=Yr(i,"labelWidth",n),v=Yr(i,"labelHeight",n),g=t.pstyle(h+"text-margin-x").pfValue,y=t.pstyle(h+"text-margin-y").pfValue,m=t.isEdge(),b=t.pstyle("text-halign").value,_=t.pstyle("text-valign").value;switch(m&&(b="center",_="center"),l+=g,c+=y,0!==(d=r?this.getTextAngle(t,n):0)&&(s=l,u=c,e.translate(s,u),e.rotate(d),l=0,c=0),_){case"top":break;case"center":c+=v/2;break;case"bottom":c+=v}var w=t.pstyle("text-background-opacity").value,x=t.pstyle("text-border-opacity").value,E=t.pstyle("text-border-width").pfValue,O=t.pstyle("text-background-padding").pfValue,S=0===t.pstyle("text-background-shape").strValue.indexOf("round");if(w>0||E>0&&x>0){var T=l-O;switch(b){case"left":T-=p;break;case"center":T-=p/2}var P=c-v-O,C=p+2*O,k=v+2*O;if(w>0){var A=e.fillStyle,N=t.pstyle("text-background-color").value;e.fillStyle="rgba("+N[0]+","+N[1]+","+N[2]+","+w*a+")",S?mp(e,T,P,C,k,2):e.fillRect(T,P,C,k),e.fillStyle=A}if(E>0&&x>0){var j=e.strokeStyle,R=e.lineWidth,I=t.pstyle("text-border-color").value,M=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+I[0]+","+I[1]+","+I[2]+","+x*a+")",e.lineWidth=E,e.setLineDash)switch(M){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=E/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(S?mp(e,T,P,C,k,2,"stroke"):e.strokeRect(T,P,C,k),"double"===M){var D=E/2;S?mp(e,T+D,P+D,C-2*D,k-2*D,2,"stroke"):e.strokeRect(T+D,P+D,C-2*D,k-2*D)}e.setLineDash&&e.setLineDash([]),e.lineWidth=R,e.strokeStyle=j}}var L=2*t.pstyle("text-outline-width").pfValue;if(L>0&&(e.lineWidth=L),"wrap"===t.pstyle("text-wrap").value){var B=Yr(i,"labelWrapCachedLines",n),F=Yr(i,"labelLineHeight",n),U=p/2,z=this.getLabelJustification(t);switch("auto"===z||("left"===b?"left"===z?l+=-p:"center"===z&&(l+=-U):"center"===b?"left"===z?l+=-U:"right"===z&&(l+=U):"right"===b&&("center"===z?l+=U:"right"===z&&(l+=p))),_){case"top":case"center":case"bottom":c-=(B.length-1)*F}for(var V=0;V<B.length;V++)L>0&&e.strokeText(B[V],l,c),e.fillText(B[V],l,c),c+=F}else L>0&&e.strokeText(f,l,c),e.fillText(f,l,c);0!==d&&(e.rotate(-d),e.translate(-s,-u))}}};var bp={drawNode:function(e,t,n){var r,o,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=this,l=t._private,c=l.rscratch,f=t.position();if(Nn(f.x)&&Nn(f.y)&&(!s||t.visible())){var d,h,p=s?t.effectiveOpacity():1,v=u.usePaths(),g=!1,y=t.padding();r=t.width()+2*y,o=t.height()+2*y,n&&(h=n,e.translate(-h.x1,-h.y1));for(var m=t.pstyle("background-image").value,b=new Array(m.length),_=new Array(m.length),w=0,x=0;x<m.length;x++){var E=m[x];if(b[x]=null!=E&&"none"!==E){var O=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",x);w++,_[x]=u.getCachedImage(E,O,function(){l.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var S=t.pstyle("background-blacken").value,T=t.pstyle("border-width").pfValue,P=t.pstyle("background-opacity").value*p,C=t.pstyle("border-color").value,k=t.pstyle("border-style").value,A=t.pstyle("border-join").value,N=t.pstyle("border-cap").value,j=t.pstyle("border-position").value,R=t.pstyle("border-dash-pattern").pfValue,I=t.pstyle("border-dash-offset").pfValue,M=t.pstyle("border-opacity").value*p,D=t.pstyle("outline-width").pfValue,L=t.pstyle("outline-color").value,B=t.pstyle("outline-style").value,F=t.pstyle("outline-opacity").value*p,U=t.pstyle("outline-offset").value,z=t.pstyle("corner-radius").value;"auto"!==z&&(z=t.pstyle("corner-radius").pfValue);var V=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;u.eleFillStyle(e,t,n)},W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;u.colorStrokeStyle(e,C[0],C[1],C[2],t)},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;u.colorStrokeStyle(e,L[0],L[1],L[2],t)},G=function(e,t,n,r){var o,i=u.nodePathCache=u.nodePathCache||[],a=Pr("polygon"===n?n+","+r.join(","):n,""+t,""+e,""+z),s=i[a],l=!1;return null!=s?(o=s,l=!0,c.pathCache=o):(o=new Path2D,i[a]=c.pathCache=o),{path:o,cacheHit:l}},q=t.pstyle("shape").strValue,Y=t.pstyle("shape-polygon-points").pfValue;if(v){e.translate(f.x,f.y);var X=G(r,o,q,Y);d=X.path,g=X.cacheHit}var K=function(){if(!g){var n=f;v&&(n={x:0,y:0}),u.nodeShapes[u.getNodeShape(t)].draw(d||e,n.x,n.y,r,o,z,c)}v?e.fill(d):e.fill()},$=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=l.backgrounding,i=0,a=0;a<_.length;a++){var s=t.cy().style().getIndexedStyle(t,"background-image-containment","value",a);r&&"over"===s||!r&&"inside"===s?i++:b[a]&&_[a].complete&&!_[a].error&&(i++,u.drawInscribedImage(e,_[a],t,a,n))}l.backgrounding=!(i===w),o!==l.backgrounding&&t.updateStyle(!1)},Z=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;u.hasPie(t)&&(u.drawPie(e,t,i),n&&(v||u.nodeShapes[u.getNodeShape(t)].draw(e,f.x,f.y,r,o,z,c)))},Q=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;u.hasStripe(t)&&(e.save(),v?e.clip(c.pathCache):(u.nodeShapes[u.getNodeShape(t)].draw(e,f.x,f.y,r,o,z,c),e.clip()),u.drawStripe(e,t,i),e.restore(),n&&(v||u.nodeShapes[u.getNodeShape(t)].draw(e,f.x,f.y,r,o,z,c)))},J=function(){var t=(S>0?S:-S)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:p),n=S>0?0:255;0!==S&&(u.colorFillStyle(e,n,n,n,t),v?e.fill(d):e.fill())},ee=function(){if(T>0){if(e.lineWidth=T,e.lineCap=N,e.lineJoin=A,e.setLineDash)switch(k){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(R),e.lineDashOffset=I;break;case"solid":case"double":e.setLineDash([])}if("center"!==j){if(e.save(),e.lineWidth*=2,"inside"===j)v?e.clip(d):e.clip();else{var t=new Path2D;t.rect(-r/2-T,-o/2-T,r+2*T,o+2*T),t.addPath(d),e.clip(t,"evenodd")}v?e.stroke(d):e.stroke(),e.restore()}else v?e.stroke(d):e.stroke();if("double"===k){e.lineWidth=T/3;var n=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",v?e.stroke(d):e.stroke(),e.globalCompositeOperation=n}e.setLineDash&&e.setLineDash([])}},te=function(){if(D>0){if(e.lineWidth=D,e.lineCap="butt",e.setLineDash)switch(B){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}var n=f;v&&(n={x:0,y:0});var i=u.getNodeShape(t),a=T;"inside"===j&&(a=0),"outside"===j&&(a*=2);var s,l=(r+a+(D+U))/r,c=(o+a+(D+U))/o,d=r*l,h=o*c,p=u.nodeShapes[i].points;if(v)s=G(d,h,i,p).path;if("ellipse"===i)u.drawEllipsePath(s||e,n.x,n.y,d,h);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(i)){var g=0,y=0,m=0;"round-diamond"===i?g=1.4*(a+U+D):"round-heptagon"===i?(g=1.075*(a+U+D),m=-(a/2+U+D)/35):"round-hexagon"===i?g=1.12*(a+U+D):"round-pentagon"===i?(g=1.13*(a+U+D),m=-(a/2+U+D)/15):"round-tag"===i?(g=1.12*(a+U+D),y=.07*(a/2+D+U)):"round-triangle"===i&&(g=(a+U+D)*(Math.PI/2),m=-(a+U/2+D)/Math.PI),0!==g&&(d=r*(l=(r+g)/r),["round-hexagon","round-tag"].includes(i)||(h=o*(c=(o+g)/o)));for(var b=d/2,_=h/2,w=(z="auto"===z?hi(d,h):z)+(a+D+U)/2,x=new Array(p.length/2),E=new Array(p.length/2),O=0;O<p.length/2;O++)x[O]={x:n.x+y+b*p[2*O],y:n.y+m+_*p[2*O+1]};var S,P,C,k,A=x.length;for(P=x[A-1],S=0;S<A;S++)C=x[S%A],k=x[(S+1)%A],E[S]=bh(P,C,k,w),P=C,C=k;u.drawRoundPolygonPath(s||e,n.x+y,n.y+m,r*l,o*c,p,E)}else if(["roundrectangle","round-rectangle"].includes(i))z="auto"===z?di(d,h):z,u.drawRoundRectanglePath(s||e,n.x,n.y,d,h,z+(a+D+U)/2);else if(["cutrectangle","cut-rectangle"].includes(i))z="auto"===z?8:z,u.drawCutRectanglePath(s||e,n.x,n.y,d,h,null,z+(a+D+U)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(i))z="auto"===z?di(d,h):z,u.drawBottomRoundRectanglePath(s||e,n.x,n.y,d,h,z+(a+D+U)/2);else if("barrel"===i)u.drawBarrelPath(s||e,n.x,n.y,d,h);else if(i.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(i)){p=ei(ti(p,(a+D+U)/r)),u.drawPolygonPath(s||e,n.x,n.y,r,o,p)}else{p=ei(ti(p,-((a+D+U)/r))),u.drawPolygonPath(s||e,n.x,n.y,r,o,p)}if(v?e.stroke(s):e.stroke(),"double"===B){e.lineWidth=a/3;var N=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",v?e.stroke(s):e.stroke(),e.globalCompositeOperation=N}e.setLineDash&&e.setLineDash([])}};if("yes"===t.pstyle("ghost").value){var ne=t.pstyle("ghost-offset-x").pfValue,re=t.pstyle("ghost-offset-y").pfValue,oe=t.pstyle("ghost-opacity").value,ie=oe*p;e.translate(ne,re),H(),te(),V(oe*P),K(),$(ie,!0),W(oe*M),ee(),Z(0!==S||0!==T),Q(0!==S||0!==T),$(ie,!1),J(ie),e.translate(-ne,-re)}v&&e.translate(-f.x,-f.y),a&&u.drawNodeUnderlay(e,t,f,r,o),v&&e.translate(f.x,f.y),H(),te(),V(),K(),$(p,!0),W(),ee(),Z(0!==S||0!==T),Q(0!==S||0!==T),$(p,!1),J(),v&&e.translate(-f.x,-f.y),u.drawElementText(e,t,null,i),a&&u.drawNodeOverlay(e,t,f,r,o),n&&e.translate(h.x1,h.y1)}}},_p=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n,r,o,i){if(n.visible()){var a=n.pstyle("".concat(e,"-padding")).pfValue,s=n.pstyle("".concat(e,"-opacity")).value,u=n.pstyle("".concat(e,"-color")).value,l=n.pstyle("".concat(e,"-shape")).value,c=n.pstyle("".concat(e,"-corner-radius")).value;if(s>0){if(r=r||n.position(),null==o||null==i){var f=n.padding();o=n.width()+2*f,i=n.height()+2*f}this.colorFillStyle(t,u[0],u[1],u[2],s),this.nodeShapes[l].draw(t,r.x,r.y,o+2*a,i+2*a,c),t.fill()}}}};bp.drawNodeOverlay=_p("overlay"),bp.drawNodeUnderlay=_p("underlay"),bp.hasPie=function(e){return(e=e[0])._private.hasPie},bp.hasStripe=function(e){return(e=e[0])._private.hasStripe},bp.drawPie=function(e,t,n,r){t=t[0],r=r||t.position();var o,i=t.cy().style(),a=t.pstyle("pie-size"),s=t.pstyle("pie-hole"),u=t.pstyle("pie-start-angle").pfValue,l=r.x,c=r.y,f=t.width(),d=t.height(),h=Math.min(f,d)/2,p=0;if(this.usePaths()&&(l=0,c=0),"%"===a.units?h*=a.pfValue:void 0!==a.pfValue&&(h=a.pfValue/2),"%"===s.units?o=h*s.pfValue:void 0!==s.pfValue&&(o=s.pfValue/2),!(o>=h))for(var v=1;v<=i.pieBackgroundN;v++){var g=t.pstyle("pie-"+v+"-background-size").value,y=t.pstyle("pie-"+v+"-background-color").value,m=t.pstyle("pie-"+v+"-background-opacity").value*n,b=g/100;b+p>1&&(b=1-p);var _=1.5*Math.PI+2*Math.PI*p,w=(_+=u)+2*Math.PI*b;0===g||p>=1||p+b>1||(0===o?(e.beginPath(),e.moveTo(l,c),e.arc(l,c,h,_,w),e.closePath()):(e.beginPath(),e.arc(l,c,h,_,w),e.arc(l,c,o,w,_,!0),e.closePath()),this.colorFillStyle(e,y[0],y[1],y[2],m),e.fill(),p+=b)}},bp.drawStripe=function(e,t,n,r){t=t[0],r=r||t.position();var o=t.cy().style(),i=r.x,a=r.y,s=t.width(),u=t.height(),l=0,c=this.usePaths();e.save();var f=t.pstyle("stripe-direction").value,d=t.pstyle("stripe-size");switch(f){case"vertical":break;case"righward":e.rotate(-Math.PI/2)}var h=s,p=u;"%"===d.units?(h*=d.pfValue,p*=d.pfValue):void 0!==d.pfValue&&(h=d.pfValue,p=d.pfValue),c&&(i=0,a=0),a-=h/2,i-=p/2;for(var v=1;v<=o.stripeBackgroundN;v++){var g=t.pstyle("stripe-"+v+"-background-size").value,y=t.pstyle("stripe-"+v+"-background-color").value,m=t.pstyle("stripe-"+v+"-background-opacity").value*n,b=g/100;b+l>1&&(b=1-l),0===g||l>=1||l+b>1||(e.beginPath(),e.rect(i,a+p*l,h,p*b),e.closePath(),this.colorFillStyle(e,y[0],y[1],y[2],m),e.fill(),l+=b)}e.restore()};var wp,xp={};function Ep(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(r));return r}function Op(e,t,n){void 0===n&&(n=t);var r=e.makeOffscreenCanvas(t,n),o=r.context=r.getContext("2d");return r.clear=function(){return o.clearRect(0,0,r.width,r.height)},r.clear(),r}function Sp(e){var t=e.pixelRatio,n=e.cy.zoom(),r=e.cy.pan();return{zoom:n*t,pan:{x:r.x*t,y:r.y*t}}}function Tp(e){return"solid"===e.pstyle("background-fill").value&&("none"===e.pstyle("background-image").strValue&&(0===e.pstyle("border-width").value||(0===e.pstyle("border-opacity").value||"solid"===e.pstyle("border-style").value)))}function Pp(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Cp(e,t,n){var r=e[0]/255,o=e[1]/255,i=e[2]/255,a=t,s=n||new Array(4);return s[0]=r*a,s[1]=o*a,s[2]=i*a,s[3]=a,s}function kp(e,t){var n=t||new Array(4);return n[0]=(255&e)/255,n[1]=(e>>8&255)/255,n[2]=(e>>16&255)/255,n[3]=(e>>24&255)/255,n}function Ap(e){return e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)}function Np(e,t){switch(t){case"float":return[1,e.FLOAT,4];case"vec2":return[2,e.FLOAT,4];case"vec3":return[3,e.FLOAT,4];case"vec4":return[4,e.FLOAT,4];case"int":return[1,e.INT,4];case"ivec2":return[2,e.INT,4]}}function jp(e,t,n){switch(t){case e.FLOAT:return new Float32Array(n);case e.INT:return new Int32Array(n)}}function Rp(e,t,n,r,o,i){switch(t){case e.FLOAT:return new Float32Array(n.buffer,i*r,o);case e.INT:return new Int32Array(n.buffer,i*r,o)}}function Ip(e,t,n,r){var o=Ut(Np(e,n),3),i=o[0],a=o[1],s=o[2],u=jp(e,a,t*i),l=i*s,c=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,t*l,e.DYNAMIC_DRAW),e.enableVertexAttribArray(r),a===e.FLOAT?e.vertexAttribPointer(r,i,a,!1,l,0):a===e.INT&&e.vertexAttribIPointer(r,i,a,l,0),e.vertexAttribDivisor(r,1),e.bindBuffer(e.ARRAY_BUFFER,null);for(var f=new Array(t),d=0;d<t;d++)f[d]=Rp(e,a,u,l,i,d);return c.dataArray=u,c.stride=l,c.size=i,c.getView=function(e){return f[e]},c.setPoint=function(e,t,n){var r=f[e];r[0]=t,r[1]=n},c.bufferSubData=function(t){e.bindBuffer(e.ARRAY_BUFFER,c),t?e.bufferSubData(e.ARRAY_BUFFER,0,u,0,t*i):e.bufferSubData(e.ARRAY_BUFFER,0,u)},c}xp.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=this.cy.window(),n=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/n},xp.paintCache=function(e){for(var t,n=this.paintCaches=this.paintCaches||[],r=!0,o=0;o<n.length;o++)if((t=n[o]).context===e){r=!1;break}return r&&(t={context:e},n.push(t)),t},xp.createGradientStyleFor=function(e,t,n,r,o){var i,a=this.usePaths(),s=n.pstyle(t+"-gradient-stop-colors").value,u=n.pstyle(t+"-gradient-stop-positions").pfValue;if("radial-gradient"===r)if(n.isEdge()){var l=n.sourceEndpoint(),c=n.targetEndpoint(),f=n.midpoint(),d=ko(l,f),h=ko(c,f);i=e.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(d,h))}else{var p=a?{x:0,y:0}:n.position(),v=n.paddedWidth(),g=n.paddedHeight();i=e.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(v,g))}else if(n.isEdge()){var y=n.sourceEndpoint(),m=n.targetEndpoint();i=e.createLinearGradient(y.x,y.y,m.x,m.y)}else{var b=a?{x:0,y:0}:n.position(),_=n.paddedWidth()/2,w=n.paddedHeight()/2;switch(n.pstyle("background-gradient-direction").value){case"to-bottom":i=e.createLinearGradient(b.x,b.y-w,b.x,b.y+w);break;case"to-top":i=e.createLinearGradient(b.x,b.y+w,b.x,b.y-w);break;case"to-left":i=e.createLinearGradient(b.x+_,b.y,b.x-_,b.y);break;case"to-right":i=e.createLinearGradient(b.x-_,b.y,b.x+_,b.y);break;case"to-bottom-right":case"to-right-bottom":i=e.createLinearGradient(b.x-_,b.y-w,b.x+_,b.y+w);break;case"to-top-right":case"to-right-top":i=e.createLinearGradient(b.x-_,b.y+w,b.x+_,b.y-w);break;case"to-bottom-left":case"to-left-bottom":i=e.createLinearGradient(b.x+_,b.y-w,b.x-_,b.y+w);break;case"to-top-left":case"to-left-top":i=e.createLinearGradient(b.x+_,b.y+w,b.x-_,b.y-w)}}if(!i)return null;for(var x=u.length===s.length,E=s.length,O=0;O<E;O++)i.addColorStop(x?u[O]:O/(E-1),"rgba("+s[O][0]+","+s[O][1]+","+s[O][2]+","+o+")");return i},xp.gradientFillStyle=function(e,t,n,r){var o=this.createGradientStyleFor(e,"background",t,n,r);if(!o)return null;e.fillStyle=o},xp.colorFillStyle=function(e,t,n,r,o){e.fillStyle="rgba("+t+","+n+","+r+","+o+")"},xp.eleFillStyle=function(e,t,n){var r=t.pstyle("background-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientFillStyle(e,t,r,n);else{var o=t.pstyle("background-color").value;this.colorFillStyle(e,o[0],o[1],o[2],n)}},xp.gradientStrokeStyle=function(e,t,n,r){var o=this.createGradientStyleFor(e,"line",t,n,r);if(!o)return null;e.strokeStyle=o},xp.colorStrokeStyle=function(e,t,n,r,o){e.strokeStyle="rgba("+t+","+n+","+r+","+o+")"},xp.eleStrokeStyle=function(e,t,n){var r=t.pstyle("line-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientStrokeStyle(e,t,r,n);else{var o=t.pstyle("line-color").value;this.colorStrokeStyle(e,o[0],o[1],o[2],n)}},xp.matchCanvasSize=function(e){var t=this,n=t.data,r=t.findContainerClientCoords(),o=r[2],i=r[3],a=t.getPixelRatio(),s=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(a=s);var u,l=o*a,c=i*a;if(l!==t.canvasWidth||c!==t.canvasHeight){t.fontCaches=null;var f=n.canvasContainer;f.style.width=o+"px",f.style.height=i+"px";for(var d=0;d<t.CANVAS_LAYERS;d++)(u=n.canvases[d]).width=l,u.height=c,u.style.width=o+"px",u.style.height=i+"px";for(d=0;d<t.BUFFER_COUNT;d++)(u=n.bufferCanvases[d]).width=l,u.height=c,u.style.width=o+"px",u.style.height=i+"px";t.textureMult=1,a<=1&&(u=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,u.width=l*t.textureMult,u.height=c*t.textureMult),t.canvasWidth=l,t.canvasHeight=c,t.pixelRatio=a}},xp.renderTo=function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},xp.clearCanvas=function(){var e=this,t=e.data;function n(t){t.clearRect(0,0,e.canvasWidth,e.canvasHeight)}n(t.contexts[e.NODE]),n(t.contexts[e.DRAG])},xp.render=function(e){var t=this;e=e||Wr();var n=t.cy,r=e.forcedContext,o=e.drawAllLayers,i=e.drawOnlyNodeLayer,a=e.forcedZoom,s=e.forcedPan,u=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,l=t.data,c=l.canvasNeedsRedraw,f=t.textureOnViewport&&!r&&(t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming),d=void 0!==e.motionBlur?e.motionBlur:t.motionBlur,h=t.motionBlurPxRatio,p=n.hasCompoundNodes(),v=t.hoverData.draggingEles,g=!(!t.hoverData.selecting&&!t.touchData.selecting),y=d=d&&!r&&t.motionBlurEnabled&&!g;r||(t.prevPxRatio!==u&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container),t.redrawHint("eles",!0),t.redrawHint("drag",!0)),t.prevPxRatio=u),!r&&t.motionBlurTimeout&&clearTimeout(t.motionBlurTimeout),d&&(null==t.mbFrames&&(t.mbFrames=0),t.mbFrames++,t.mbFrames<3&&(y=!1),t.mbFrames>t.minMbLowQualFrames&&(t.motionBlurPxRatio=t.mbPxRBlurry)),t.clearingMotionBlur&&(t.motionBlurPxRatio=1),t.textureDrawLastFrame&&!f&&(c[t.NODE]=!0,c[t.SELECT_BOX]=!0);var m=n.style(),b=n.zoom(),_=void 0!==a?a:b,w=n.pan(),x={x:w.x,y:w.y},E={zoom:b,pan:{x:w.x,y:w.y}},O=t.prevViewport;void 0===O||E.zoom!==O.zoom||E.pan.x!==O.pan.x||E.pan.y!==O.pan.y||v&&!p||(t.motionBlurPxRatio=1),s&&(x=s),_*=u,x.x*=u,x.y*=u;var S=t.getCachedZSortedEles();function T(e,n,r,o,i){var a=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",t.colorFillStyle(e,255,255,255,t.motionBlurTransparency),e.fillRect(n,r,o,i),e.globalCompositeOperation=a}function P(e,n){var i,u,c,f;t.clearingMotionBlur||e!==l.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]&&e!==l.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]?(i=x,u=_,c=t.canvasWidth,f=t.canvasHeight):(i={x:w.x*h,y:w.y*h},u=b*h,c=t.canvasWidth*h,f=t.canvasHeight*h),e.setTransform(1,0,0,1,0,0),"motionBlur"===n?T(e,0,0,c,f):r||void 0!==n&&!n||e.clearRect(0,0,c,f),o||(e.translate(i.x,i.y),e.scale(u,u)),s&&e.translate(s.x,s.y),a&&e.scale(a,a)}if(f||(t.textureDrawLastFrame=!1),f){if(t.textureDrawLastFrame=!0,!t.textureCache){t.textureCache={},t.textureCache.bb=n.mutableElements().boundingBox(),t.textureCache.texture=t.data.bufferCanvases[t.TEXTURE_BUFFER];var C=t.data.bufferContexts[t.TEXTURE_BUFFER];C.setTransform(1,0,0,1,0,0),C.clearRect(0,0,t.canvasWidth*t.textureMult,t.canvasHeight*t.textureMult),t.render({forcedContext:C,drawOnlyNodeLayer:!0,forcedPxRatio:u*t.textureMult}),(E=t.textureCache.viewport={zoom:n.zoom(),pan:n.pan(),width:t.canvasWidth,height:t.canvasHeight}).mpan={x:(0-E.pan.x)/E.zoom,y:(0-E.pan.y)/E.zoom}}c[t.DRAG]=!1,c[t.NODE]=!1;var k=l.contexts[t.NODE],A=t.textureCache.texture;E=t.textureCache.viewport;k.setTransform(1,0,0,1,0,0),d?T(k,0,0,E.width,E.height):k.clearRect(0,0,E.width,E.height);var N=m.core("outside-texture-bg-color").value,j=m.core("outside-texture-bg-opacity").value;t.colorFillStyle(k,N[0],N[1],N[2],j),k.fillRect(0,0,E.width,E.height);b=n.zoom();P(k,!1),k.clearRect(E.mpan.x,E.mpan.y,E.width/E.zoom/u,E.height/E.zoom/u),k.drawImage(A,E.mpan.x,E.mpan.y,E.width/E.zoom/u,E.height/E.zoom/u)}else t.textureOnViewport&&!r&&(t.textureCache=null);var R=n.extent(),I=t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming||t.hoverData.draggingEles||t.cy.animated(),M=t.hideEdgesOnViewport&&I,D=[];if(D[t.NODE]=!c[t.NODE]&&d&&!t.clearedForMotionBlur[t.NODE]||t.clearingMotionBlur,D[t.NODE]&&(t.clearedForMotionBlur[t.NODE]=!0),D[t.DRAG]=!c[t.DRAG]&&d&&!t.clearedForMotionBlur[t.DRAG]||t.clearingMotionBlur,D[t.DRAG]&&(t.clearedForMotionBlur[t.DRAG]=!0),c[t.NODE]||o||i||D[t.NODE]){var L=d&&!D[t.NODE]&&1!==h;P(k=r||(L?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]:l.contexts[t.NODE]),d&&!L?"motionBlur":void 0),M?t.drawCachedNodes(k,S.nondrag,u,R):t.drawLayeredElements(k,S.nondrag,u,R),t.debug&&t.drawDebugPoints(k,S.nondrag),o||d||(c[t.NODE]=!1)}if(!i&&(c[t.DRAG]||o||D[t.DRAG])){L=d&&!D[t.DRAG]&&1!==h;P(k=r||(L?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]:l.contexts[t.DRAG]),d&&!L?"motionBlur":void 0),M?t.drawCachedNodes(k,S.drag,u,R):t.drawCachedElements(k,S.drag,u,R),t.debug&&t.drawDebugPoints(k,S.drag),o||d||(c[t.DRAG]=!1)}if(this.drawSelectionRectangle(e,P),d&&1!==h){var B=l.contexts[t.NODE],F=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE],U=l.contexts[t.DRAG],z=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG],V=function(e,n,r){e.setTransform(1,0,0,1,0,0),r||!y?e.clearRect(0,0,t.canvasWidth,t.canvasHeight):T(e,0,0,t.canvasWidth,t.canvasHeight);var o=h;e.drawImage(n,0,0,t.canvasWidth*o,t.canvasHeight*o,0,0,t.canvasWidth,t.canvasHeight)};(c[t.NODE]||D[t.NODE])&&(V(B,F,D[t.NODE]),c[t.NODE]=!1),(c[t.DRAG]||D[t.DRAG])&&(V(U,z,D[t.DRAG]),c[t.DRAG]=!1)}t.prevViewport=E,t.clearingMotionBlur&&(t.clearingMotionBlur=!1,t.motionBlurCleared=!0,t.motionBlur=!0),d&&(t.motionBlurTimeout=setTimeout(function(){t.motionBlurTimeout=null,t.clearedForMotionBlur[t.NODE]=!1,t.clearedForMotionBlur[t.DRAG]=!1,t.motionBlur=!1,t.clearingMotionBlur=!f,t.mbFrames=0,c[t.NODE]=!0,c[t.DRAG]=!0,t.redraw()},100)),r||n.emit("render")},xp.drawSelectionRectangle=function(e,t){var n=this,r=n.cy,o=n.data,i=r.style(),a=e.drawOnlyNodeLayer,s=e.drawAllLayers,u=o.canvasNeedsRedraw,l=e.forcedContext;if(n.showFps||!a&&u[n.SELECT_BOX]&&!s){var c=l||o.contexts[n.SELECT_BOX];if(t(c),1==n.selection[4]&&(n.hoverData.selecting||n.touchData.selecting)){var f=n.cy.zoom(),d=i.core("selection-box-border-width").value/f;c.lineWidth=d,c.fillStyle="rgba("+i.core("selection-box-color").value[0]+","+i.core("selection-box-color").value[1]+","+i.core("selection-box-color").value[2]+","+i.core("selection-box-opacity").value+")",c.fillRect(n.selection[0],n.selection[1],n.selection[2]-n.selection[0],n.selection[3]-n.selection[1]),d>0&&(c.strokeStyle="rgba("+i.core("selection-box-border-color").value[0]+","+i.core("selection-box-border-color").value[1]+","+i.core("selection-box-border-color").value[2]+","+i.core("selection-box-opacity").value+")",c.strokeRect(n.selection[0],n.selection[1],n.selection[2]-n.selection[0],n.selection[3]-n.selection[1]))}if(o.bgActivePosistion&&!n.hoverData.selecting){f=n.cy.zoom();var h=o.bgActivePosistion;c.fillStyle="rgba("+i.core("active-bg-color").value[0]+","+i.core("active-bg-color").value[1]+","+i.core("active-bg-color").value[2]+","+i.core("active-bg-opacity").value+")",c.beginPath(),c.arc(h.x,h.y,i.core("active-bg-size").pfValue/f,0,2*Math.PI),c.fill()}var p=n.lastRedrawTime;if(n.showFps&&p){p=Math.round(p);var v=Math.round(1e3/p),g="1 frame = "+p+" ms = "+v+" fps";if(c.setTransform(1,0,0,1,0,0),c.fillStyle="rgba(255, 0, 0, 0.75)",c.strokeStyle="rgba(255, 0, 0, 0.75)",c.font="30px Arial",!wp){var y=c.measureText(g);wp=y.actualBoundingBoxAscent}c.fillText(g,0,wp);c.strokeRect(0,wp+10,250,20),c.fillRect(0,wp+10,250*Math.min(v/60,1),20)}s||(u[n.SELECT_BOX]=!1)}};var Mp="undefined"!==typeof Float32Array?Float32Array:Array;function Dp(){var e=new Mp(9);return Mp!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function Lp(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Bp(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=n[0],h=n[1];return e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=u,e[6]=d*r+h*a+l,e[7]=d*o+h*s+c,e[8]=d*i+h*u+f,e}function Fp(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=Math.sin(n),h=Math.cos(n);return e[0]=h*r+d*a,e[1]=h*o+d*s,e[2]=h*i+d*u,e[3]=h*a-d*r,e[4]=h*s-d*o,e[5]=h*u-d*i,e[6]=l,e[7]=c,e[8]=f,e}function Up(e,t,n){var r=n[0],o=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=o*t[3],e[4]=o*t[4],e[5]=o*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var zp=function(){return Lt(function e(t,n,r,o){Dt(this,e),this.debugID=Math.floor(1e4*Math.random()),this.r=t,this.texSize=n,this.texRows=r,this.texHeight=Math.floor(n/r),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=o(t,n,n),this.scratch=o(t,n,this.texHeight,"scratch")},[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(e){var t=e.w,n=e.h,r=this.texHeight,o=this.texSize,i=r/n,a=t*i,s=n*i;return a>o&&(a=t*(i=o/t),s=n*i),{scale:i,texW:a,texH:s}}},{key:"draw",value:function(e,t,n){var r=this;if(this.locked)throw new Error("can't draw, atlas is locked");var o=this.texSize,i=this.texRows,a=this.texHeight,s=this.getScale(t),u=s.scale,l=s.texW,c=s.texH,f=function(e,r){if(n&&r){var o=r.context,i=e.x,s=e.row,l=i,c=a*s;o.save(),o.translate(l,c),o.scale(u,u),n(o,t),o.restore()}},d=[null,null],h=function(){f(r.freePointer,r.canvas),d[0]={x:r.freePointer.x,y:r.freePointer.row*a,w:l,h:c},d[1]={x:r.freePointer.x+l,y:r.freePointer.row*a,w:0,h:c},r.freePointer.x+=l,r.freePointer.x==o&&(r.freePointer.x=0,r.freePointer.row++)},p=function(){r.freePointer.x=0,r.freePointer.row++};if(this.freePointer.x+l<=o)h();else{if(this.freePointer.row>=i-1)return!1;this.freePointer.x===o?(p(),h()):this.enableWrapping?function(){var e=r.scratch,t=r.canvas;e.clear(),f({x:0,row:0},e);var n=o-r.freePointer.x,i=l-n,s=a,u=r.freePointer.x,h=r.freePointer.row*a,p=n;t.context.drawImage(e,0,0,p,s,u,h,p,s),d[0]={x:u,y:h,w:p,h:c};var v=n,g=(r.freePointer.row+1)*a,y=i;t&&t.context.drawImage(e,v,0,y,s,0,g,y,s),d[1]={x:0,y:g,w:y,h:c},r.freePointer.x=i,r.freePointer.row++}():(p(),h())}return this.keyToLocation.set(e,d),this.needsBuffer=!0,d}},{key:"getOffsets",value:function(e){return this.keyToLocation.get(e)}},{key:"isEmpty",value:function(){return 0===this.freePointer.x&&0===this.freePointer.row}},{key:"canFit",value:function(e){if(this.locked)return!1;var t=this.texSize,n=this.texRows,r=this.getScale(e).texW;return!(this.freePointer.x+r>t)||this.freePointer.row<n-1}},{key:"bufferIfNeeded",value:function(e){this.texture||(this.texture=function(e){var t=e.createTexture();return t.buffer=function(n){e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},t.deleteTexture=function(){e.deleteTexture(t)},t}(e,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),Vp=function(){return Lt(function e(t,n,r,o){Dt(this,e),this.r=t,this.texSize=n,this.texRows=r,this.createTextureCanvas=o,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set},[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var e=this.r,t=this.texSize,n=this.texRows,r=this.createTextureCanvas;return new zp(e,t,n,r)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var e=this.r,t=this.texSize,n=this.texRows,r=this.createTextureCanvas,o=Math.floor(t/n);this.scratch=r(e,t,o,"scratch")}return this.scratch}},{key:"draw",value:function(e,t,n){var r=this.styleKeyToAtlas.get(e);return r||((r=this.atlases[this.atlases.length-1])&&r.canFit(t)||(r&&r.lock(),r=this._createAtlas(),this.atlases.push(r)),r.draw(e,t,n),this.styleKeyToAtlas.set(e,r)),r}},{key:"getAtlas",value:function(e){return this.styleKeyToAtlas.get(e)}},{key:"hasAtlas",value:function(e){return this.styleKeyToAtlas.has(e)}},{key:"markKeyForGC",value:function(e){this.markedKeys.add(e)}},{key:"gc",value:function(){var e=this,t=this.markedKeys;if(0!==t.size){var n,r=[],o=new Map,i=null,a=Bt(this.atlases);try{var s=function(){var a,s,u=n.value,l=u.getKeys(),c=(s=l,(a=t).intersection?a.intersection(s):new Set(zt(a).filter(function(e){return s.has(e)})));if(0===c.size)return r.push(u),l.forEach(function(e){return o.set(e,u)}),1;i||(i=e._createAtlas(),r.push(i));var f,d=Bt(l);try{for(d.s();!(f=d.n()).done;){var h=f.value;if(!c.has(h)){var p=Ut(u.getOffsets(h),2),v=p[0],g=p[1];i.canFit({w:v.w+g.w,h:v.h})||(i.lock(),i=e._createAtlas(),r.push(i)),u.canvas&&(e._copyTextureToNewAtlas(h,u,i),o.set(h,i))}}}catch(y){d.e(y)}finally{d.f()}u.dispose()};for(a.s();!(n=a.n()).done;)s()}catch(u){a.e(u)}finally{a.f()}this.atlases=r,this.styleKeyToAtlas=o,this.markedKeys=new Set}else console.log("nothing to garbage collect")}},{key:"_copyTextureToNewAtlas",value:function(e,t,n){var r=Ut(t.getOffsets(e),2),o=r[0],i=r[1];if(0===i.w)n.draw(e,o,function(e){e.drawImage(t.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h)});else{var a=this._getScratchCanvas();a.clear(),a.context.drawImage(t.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h),a.context.drawImage(t.canvas,i.x,i.y,i.w,i.h,o.w,0,i.w,i.h);var s=o.w+i.w,u=o.h;n.draw(e,{w:s,h:u},function(e){e.drawImage(a,0,0,s,u,0,0,s,u)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();var Wp=function(){return Lt(function e(t,n){Dt(this,e),this.r=t,this.globalOptions=n,this.atlasSize=n.webglTexSize,this.maxAtlasesPerBatch=n.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map},[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(e,t){var n=this.globalOptions,r=n.webglTexSize,o=n.createTextureCanvas,i=t.texRows,a=this._cacheScratchCanvas(o),s=new Vp(this.r,r,i,a);this.collections.set(e,s)}},{key:"addRenderType",value:function(e,t){var n=t.collection;if(!this.collections.has(n))throw new Error("invalid atlas collection name '".concat(n,"'"));var r=this.collections.get(n),o=Qn({type:e,atlasCollection:r},t);this.renderTypes.set(e,o)}},{key:"getRenderTypeOpts",value:function(e){return this.renderTypes.get(e)}},{key:"getAtlasCollection",value:function(e){return this.collections.get(e)}},{key:"_cacheScratchCanvas",value:function(e){var t=-1,n=-1,r=null;return function(o,i,a,s){return s?(r&&i==t&&a==n||(t=i,n=a,r=e(o,i,a)),r):e(o,i,a)}}},{key:"_key",value:function(e,t){return"".concat(e,"-").concat(t)}},{key:"invalidate",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.forceRedraw,i=void 0!==o&&o,a=r.filterEle,s=void 0===a?function(){return!0}:a,u=r.filterType,l=void 0===u?function(){return!0}:u,c=!1,f=!1,d=Bt(e);try{for(d.s();!(t=d.n()).done;){var h=t.value;if(s(h)){var p,v=Bt(this.renderTypes.values());try{var g=function(){var e=p.value,t=e.type;if(l(t)){var r=n.collections.get(e.collection),o=e.getKey(h),a=Array.isArray(o)?o:[o];if(i)a.forEach(function(e){return r.markKeyForGC(e)}),f=!0;else{var s=e.getID?e.getID(h):h.id(),u=n._key(t,s),d=n.typeAndIdToKey.get(u);void 0===d||Pp(a,d)||(c=!0,n.typeAndIdToKey.delete(u),d.forEach(function(e){return r.markKeyForGC(e)}))}}};for(v.s();!(p=v.n()).done;)g()}catch(y){v.e(y)}finally{v.f()}}}}catch(y){d.e(y)}finally{d.f()}return f&&(this.gc(),c=!1),c}},{key:"gc",value:function(){var e,t=Bt(this.collections.values());try{for(t.s();!(e=t.n()).done;){e.value.gc()}}catch(n){t.e(n)}finally{t.f()}}},{key:"getOrCreateAtlas",value:function(e,t,n,r){var o=this.renderTypes.get(t),i=this.collections.get(o.collection),a=!1,s=i.draw(r,n,function(t){o.drawClipped?(t.save(),t.beginPath(),t.rect(0,0,n.w,n.h),t.clip(),o.drawElement(t,e,n,!0,!0),t.restore()):o.drawElement(t,e,n,!0,!0),a=!0});if(a){var u=o.getID?o.getID(e):e.id(),l=this._key(t,u);this.typeAndIdToKey.has(l)?this.typeAndIdToKey.get(l).push(r):this.typeAndIdToKey.set(l,[r])}return s}},{key:"getAtlasInfo",value:function(e,t){var n=this,r=this.renderTypes.get(t),o=r.getKey(e);return(Array.isArray(o)?o:[o]).map(function(o){var i=r.getBoundingBox(e,o),a=n.getOrCreateAtlas(e,t,i,o),s=Ut(a.getOffsets(o),2),u=s[0];return{atlas:a,tex:u,tex1:u,tex2:s[1],bb:i}})}},{key:"getDebugInfo",value:function(){var e,t=[],n=Bt(this.collections);try{for(n.s();!(e=n.n()).done;){var r=Ut(e.value,2),o=r[0],i=r[1].getCounts(),a=i.keyCount,s=i.atlasCount;t.push({type:o,keyCount:a,atlasCount:s})}}catch(u){n.e(u)}finally{n.f()}return t}}])}(),Hp=function(){return Lt(function e(t){Dt(this,e),this.globalOptions=t,this.atlasSize=t.webglTexSize,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.batchAtlases=[]},[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(e,t){return t})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(e){return this.batchAtlases.length!==this.maxAtlasesPerBatch||this.batchAtlases.includes(e)}},{key:"getAtlasIndexForBatch",value:function(e){var t=this.batchAtlases.indexOf(e);if(t<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(e),t=this.batchAtlases.length-1}return t}}])}(),Gp={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},qp=1,Yp=2,Xp=function(){return Lt(function e(t,n,r){Dt(this,e),this.r=t,this.gl=n,this.maxInstances=r.webglBatchSize,this.atlasSize=r.webglTexSize,this.bgColor=r.bgColor,this.debug=r.webglDebug,this.batchDebugInfo=[],r.enableWrapping=!0,r.createTextureCanvas=Op,this.atlasManager=new Wp(t,r),this.batchManager=new Hp(r),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(Gp.SCREEN),this.pickingProgram=this._createShaderProgram(Gp.PICKING),this.vao=this._createVAO()},[{key:"addAtlasCollection",value:function(e,t){this.atlasManager.addAtlasCollection(e,t)}},{key:"addTextureAtlasRenderType",value:function(e,t){this.atlasManager.addRenderType(e,t)}},{key:"addSimpleShapeRenderType",value:function(e,t){this.simpleShapeOptions.set(e,t)}},{key:"invalidate",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type,n=this.atlasManager;return t?n.invalidate(e,{filterType:function(e){return e===t},forceRedraw:!0}):n.invalidate(e)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(e){var t=this.gl,n="#version 300 es\n      precision highp float;\n\n      uniform mat3 uPanZoomMatrix;\n      uniform int  uAtlasSize;\n      \n      // instanced\n      in vec2 aPosition; // a vertex from the unit square\n      \n      in mat3 aTransform; // used to transform verticies, eg into a bounding box\n      in int aVertType; // the type of thing we are rendering\n\n      // the z-index that is output when using picking mode\n      in vec4 aIndex;\n      \n      // For textures\n      in int aAtlasId; // which shader unit/atlas to use\n      in vec4 aTex; // x/y/w/h of texture in atlas\n\n      // for edges\n      in vec4 aPointAPointB;\n      in vec4 aPointCPointD;\n      in vec2 aLineWidth; // also used for node border width\n\n      // simple shapes\n      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]\n      in vec4 aColor; // also used for edges\n      in vec4 aBorderColor; // aLineWidth is used for border width\n\n      // output values passed to the fragment shader\n      out vec2 vTexCoord;\n      out vec4 vColor;\n      out vec2 vPosition;\n      // flat values are not interpolated\n      flat out int vAtlasId; \n      flat out int vVertType;\n      flat out vec2 vTopRight;\n      flat out vec2 vBotLeft;\n      flat out vec4 vCornerRadius;\n      flat out vec4 vBorderColor;\n      flat out vec2 vBorderWidth;\n      flat out vec4 vIndex;\n      \n      void main(void) {\n        int vid = gl_VertexID;\n        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below\n\n        if(aVertType == ".concat(0,") {\n          float texX = aTex.x; // texture coordinates\n          float texY = aTex.y;\n          float texW = aTex.z;\n          float texH = aTex.w;\n\n          if(vid == 1 || vid == 2 || vid == 4) {\n            texX += texW;\n          }\n          if(vid == 2 || vid == 4 || vid == 5) {\n            texY += texH;\n          }\n\n          float d = float(uAtlasSize);\n          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n        }\n        else if(aVertType == ").concat(4," || aVertType == ").concat(7," \n             || aVertType == ").concat(5," || aVertType == ").concat(6,") { // simple shapes\n\n          // the bounding box is needed by the fragment shader\n          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat\n          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat\n          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated\n\n          // calculations are done in the fragment shader, just pass these along\n          vColor = aColor;\n          vCornerRadius = aCornerRadius;\n          vBorderColor = aBorderColor;\n          vBorderWidth = aLineWidth;\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n        }\n        else if(aVertType == ").concat(1,") {\n          vec2 source = aPointAPointB.xy;\n          vec2 target = aPointAPointB.zw;\n\n          // adjust the geometry so that the line is centered on the edge\n          position.y = position.y - 0.5;\n\n          // stretch the unit square into a long skinny rectangle\n          vec2 xBasis = target - source;\n          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));\n          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;\n\n          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);\n          vColor = aColor;\n        } \n        else if(aVertType == ").concat(2,") {\n          vec2 pointA = aPointAPointB.xy;\n          vec2 pointB = aPointAPointB.zw;\n          vec2 pointC = aPointCPointD.xy;\n          vec2 pointD = aPointCPointD.zw;\n\n          // adjust the geometry so that the line is centered on the edge\n          position.y = position.y - 0.5;\n\n          vec2 p0, p1, p2, pos;\n          if(position.x == 0.0) { // The left side of the unit square\n            p0 = pointA;\n            p1 = pointB;\n            p2 = pointC;\n            pos = position;\n          } else { // The right side of the unit square, use same approach but flip the geometry upside down\n            p0 = pointD;\n            p1 = pointC;\n            p2 = pointB;\n            pos = vec2(0.0, -position.y);\n          }\n\n          vec2 p01 = p1 - p0;\n          vec2 p12 = p2 - p1;\n          vec2 p21 = p1 - p2;\n\n          // Find the normal vector.\n          vec2 tangent = normalize(normalize(p12) + normalize(p01));\n          vec2 normal = vec2(-tangent.y, tangent.x);\n\n          // Find the vector perpendicular to p0 -> p1.\n          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));\n\n          // Determine the bend direction.\n          float sigma = sign(dot(p01 + p21, normal));\n          float width = aLineWidth[0];\n\n          if(sign(pos.y) == -sigma) {\n            // This is an intersecting vertex. Adjust the position so that there's no overlap.\n            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);\n            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);\n          } else {\n            // This is a non-intersecting vertex. Treat it like a mitre join.\n            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);\n            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);\n          }\n\n          vColor = aColor;\n        } \n        else if(aVertType == ").concat(3," && vid < 3) {\n          // massage the first triangle into an edge arrow\n          if(vid == 0)\n            position = vec2(-0.15, -0.3);\n          if(vid == 1)\n            position = vec2(  0.0,  0.0);\n          if(vid == 2)\n            position = vec2( 0.15, -0.3);\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n          vColor = aColor;\n        }\n        else {\n          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space\n        }\n\n        vAtlasId = aAtlasId;\n        vVertType = aVertType;\n        vIndex = aIndex;\n      }\n    "),r=this.batchManager.getIndexArray(),o="#version 300 es\n      precision highp float;\n\n      // declare texture unit for each texture atlas in the batch\n      ".concat(r.map(function(e){return"uniform sampler2D uTexture".concat(e,";")}).join("\n\t"),"\n\n      uniform vec4 uBGColor;\n      uniform float uZoom;\n\n      in vec2 vTexCoord;\n      in vec4 vColor;\n      in vec2 vPosition; // model coordinates\n\n      flat in int vAtlasId;\n      flat in vec4 vIndex;\n      flat in int vVertType;\n      flat in vec2 vTopRight;\n      flat in vec2 vBotLeft;\n      flat in vec4 vCornerRadius;\n      flat in vec4 vBorderColor;\n      flat in vec2 vBorderWidth;\n\n      out vec4 outColor;\n\n      ").concat("\n  float circleSD(vec2 p, float r) {\n    return distance(vec2(0), p) - r; // signed distance\n  }\n","\n      ").concat("\n  float rectangleSD(vec2 p, vec2 b) {\n    vec2 d = abs(p)-b;\n    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);\n  }\n","\n      ").concat("\n  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {\n    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;\n    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;\n    vec2 q = abs(p) - b + cr.x;\n    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;\n  }\n","\n      ").concat("\n  float ellipseSD(vec2 p, vec2 ab) {\n    p = abs( p ); // symmetry\n\n    // find root with Newton solver\n    vec2 q = ab*(p-ab);\n    float w = (q.x<q.y)? 1.570796327 : 0.0;\n    for( int i=0; i<5; i++ ) {\n      vec2 cs = vec2(cos(w),sin(w));\n      vec2 u = ab*vec2( cs.x,cs.y);\n      vec2 v = ab*vec2(-cs.y,cs.x);\n      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));\n    }\n    \n    // compute final point and distance\n    float d = length(p-ab*vec2(cos(w),sin(w)));\n    \n    // return signed distance\n    return (dot(p/ab,p/ab)>1.0) ? d : -d;\n  }\n","\n\n      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha\n        return vec4( \n          top.rgb + (bot.rgb * (1.0 - top.a)),\n          top.a   + (bot.a   * (1.0 - top.a)) \n        );\n      }\n\n      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance\n        // scale to the zoom level so that borders don't look blurry when zoomed in\n        // note 1.5 is an aribitrary value chosen because it looks good\n        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); \n      }\n\n      void main(void) {\n        if(vVertType == ").concat(0,") {\n          // look up the texel from the texture unit\n          ").concat(r.map(function(e){return"if(vAtlasId == ".concat(e,") outColor = texture(uTexture").concat(e,", vTexCoord);")}).join("\n\telse "),"\n        } \n        else if(vVertType == ").concat(3,") {\n          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';\n          outColor = blend(vColor, uBGColor);\n          outColor.a = 1.0; // make opaque, masks out line under arrow\n        }\n        else if(vVertType == ").concat(4," && vBorderWidth == vec2(0.0)) { // simple rectangle with no border\n          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done\n        }\n        else if(vVertType == ").concat(4," || vVertType == ").concat(7," \n          || vVertType == ").concat(5," || vVertType == ").concat(6,") { // use SDF\n\n          float outerBorder = vBorderWidth[0];\n          float innerBorder = vBorderWidth[1];\n          float borderPadding = outerBorder * 2.0;\n          float w = vTopRight.x - vBotLeft.x - borderPadding;\n          float h = vTopRight.y - vBotLeft.y - borderPadding;\n          vec2 b = vec2(w/2.0, h/2.0); // half width, half height\n          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center\n\n          float d; // signed distance\n          if(vVertType == ").concat(4,") {\n            d = rectangleSD(p, b);\n          } else if(vVertType == ").concat(7," && w == h) {\n            d = circleSD(p, b.x); // faster than ellipse\n          } else if(vVertType == ").concat(7,") {\n            d = ellipseSD(p, b);\n          } else {\n            d = roundRectangleSD(p, b, vCornerRadius.wzyx);\n          }\n\n          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling\n          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box\n          if(d > 0.0) {\n            if(d > outerBorder) {\n              discard;\n            } else {\n              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);\n            }\n          } else {\n            if(d > innerBorder) {\n              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;\n              vec4 innerBorderColor = blend(vBorderColor, vColor);\n              outColor = distInterp(innerBorderColor, outerColor, d);\n            } \n            else {\n              vec4 outerColor;\n              if(innerBorder == 0.0 && outerBorder == 0.0) {\n                outerColor = vec4(0);\n              } else if(innerBorder == 0.0) {\n                outerColor = vBorderColor;\n              } else {\n                outerColor = blend(vBorderColor, vColor);\n              }\n              outColor = distInterp(vColor, outerColor, d - innerBorder);\n            }\n          }\n        }\n        else {\n          outColor = vColor;\n        }\n\n        ").concat(e.picking?"if(outColor.a == 0.0) discard;\n             else outColor = vIndex;":"","\n      }\n    "),i=function(e,t,n){var r=Ep(e,e.VERTEX_SHADER,t),o=Ep(e,e.FRAGMENT_SHADER,n),i=e.createProgram();if(e.attachShader(i,r),e.attachShader(i,o),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS))throw new Error("Could not initialize shaders");return i}(t,n,o);i.aPosition=t.getAttribLocation(i,"aPosition"),i.aIndex=t.getAttribLocation(i,"aIndex"),i.aVertType=t.getAttribLocation(i,"aVertType"),i.aTransform=t.getAttribLocation(i,"aTransform"),i.aAtlasId=t.getAttribLocation(i,"aAtlasId"),i.aTex=t.getAttribLocation(i,"aTex"),i.aPointAPointB=t.getAttribLocation(i,"aPointAPointB"),i.aPointCPointD=t.getAttribLocation(i,"aPointCPointD"),i.aLineWidth=t.getAttribLocation(i,"aLineWidth"),i.aColor=t.getAttribLocation(i,"aColor"),i.aCornerRadius=t.getAttribLocation(i,"aCornerRadius"),i.aBorderColor=t.getAttribLocation(i,"aBorderColor"),i.uPanZoomMatrix=t.getUniformLocation(i,"uPanZoomMatrix"),i.uAtlasSize=t.getUniformLocation(i,"uAtlasSize"),i.uBGColor=t.getUniformLocation(i,"uBGColor"),i.uZoom=t.getUniformLocation(i,"uZoom"),i.uTextures=[];for(var a=0;a<this.batchManager.getMaxAtlasesPerBatch();a++)i.uTextures.push(t.getUniformLocation(i,"uTexture".concat(a)));return i}},{key:"_createVAO",value:function(){var e=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=e.length/2;var t=this.maxInstances,n=this.gl,r=this.program,o=n.createVertexArray();return n.bindVertexArray(o),function(e,t,n,r){var o=Ut(Np(e,t),2),i=o[0],a=o[1],s=jp(e,a,r),u=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,s,e.STATIC_DRAW),a===e.FLOAT?e.vertexAttribPointer(n,i,a,!1,0,0):a===e.INT&&e.vertexAttribIPointer(n,i,a,0,0),e.enableVertexAttribArray(n),e.bindBuffer(e.ARRAY_BUFFER,null)}(n,"vec2",r.aPosition,e),this.transformBuffer=function(e,t,n){for(var r=new Float32Array(9*t),o=new Array(t),i=0;i<t;i++){var a=9*i*4;o[i]=new Float32Array(r.buffer,a,9)}var s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferData(e.ARRAY_BUFFER,r.byteLength,e.DYNAMIC_DRAW);for(var u=0;u<3;u++){var l=n+u;e.enableVertexAttribArray(l),e.vertexAttribPointer(l,3,e.FLOAT,!1,36,12*u),e.vertexAttribDivisor(l,1)}return e.bindBuffer(e.ARRAY_BUFFER,null),s.getMatrixView=function(e){return o[e]},s.setData=function(e,t){o[t].set(e,0)},s.bufferSubData=function(){e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferSubData(e.ARRAY_BUFFER,0,r)},s}(n,t,r.aTransform),this.indexBuffer=Ip(n,t,"vec4",r.aIndex),this.vertTypeBuffer=Ip(n,t,"int",r.aVertType),this.atlasIdBuffer=Ip(n,t,"int",r.aAtlasId),this.texBuffer=Ip(n,t,"vec4",r.aTex),this.pointAPointBBuffer=Ip(n,t,"vec4",r.aPointAPointB),this.pointCPointDBuffer=Ip(n,t,"vec4",r.aPointCPointD),this.lineWidthBuffer=Ip(n,t,"vec2",r.aLineWidth),this.colorBuffer=Ip(n,t,"vec4",r.aColor),this.cornerRadiusBuffer=Ip(n,t,"vec4",r.aCornerRadius),this.borderColorBuffer=Ip(n,t,"vec4",r.aBorderColor),n.bindVertexArray(null),o}},{key:"buffers",get:function(){var e=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(e){return Gn(e,"Buffer")}).map(function(t){return e[t]})),this._buffers}},{key:"startFrame",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gp.SCREEN;this.panZoomMatrix=e,this.renderTarget=t,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(e,t){return!!e.visible()&&(!t||!t.isVisible||t.isVisible(e))}},{key:"drawTexture",value:function(e,t,n){var r=this.atlasManager,o=this.batchManager,i=r.getRenderTypeOpts(n);if(this._isVisible(e,i)){if(this.renderTarget.picking&&i.getTexPickingMode){var a=i.getTexPickingMode(e);if(a===qp)return;if(a==Yp)return void this.drawPickingRectangle(e,t,n)}var s,u=Bt(r.getAtlasInfo(e,n));try{for(u.s();!(s=u.n()).done;){var l=s.value,c=l.atlas,f=l.tex1,d=l.tex2;o.canAddToCurrentBatch(c)||this.endBatch();for(var h=o.getAtlasIndexForBatch(c),p=0,v=[[f,!0],[d,!1]];p<v.length;p++){var g=Ut(v[p],2),y=g[0],m=g[1];if(0!=y.w){var b=this.instanceCount;this.vertTypeBuffer.getView(b)[0]=0,kp(t,this.indexBuffer.getView(b)),this.atlasIdBuffer.getView(b)[0]=h;var _=this.texBuffer.getView(b);_[0]=y.x,_[1]=y.y,_[2]=y.w,_[3]=y.h;var w=this.transformBuffer.getMatrixView(b);this.setTransformMatrix(e,w,i,l,m),this.instanceCount++,m||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(x){u.e(x)}finally{u.f()}}}},{key:"setTransformMatrix",value:function(e,t,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=0;if(n.shapeProps&&n.shapeProps.padding&&(i=e.pstyle(n.shapeProps.padding).pfValue),r){var a=r.bb,s=r.tex1,u=r.tex2,l=s.w/(s.w+u.w);o||(l=1-l);var c=this._getAdjustedBB(a,i,o,l);this._applyTransformMatrix(t,c,n,e)}else{var f=n.getBoundingBox(e),d=this._getAdjustedBB(f,i,!0,1);this._applyTransformMatrix(t,d,n,e)}}},{key:"_applyTransformMatrix",value:function(e,t,n,r){var o,i;Lp(e);var a=n.getRotation?n.getRotation(r):0;if(0!==a){var s=n.getRotationPoint(r);Bp(e,e,[s.x,s.y]),Fp(e,e,a);var u=n.getRotationOffset(r);o=u.x+(t.xOffset||0),i=u.y+(t.yOffset||0)}else o=t.x1,i=t.y1;Bp(e,e,[o,i]),Up(e,e,[t.w,t.h])}},{key:"_getAdjustedBB",value:function(e,t,n,r){var o=e.x1,i=e.y1,a=e.w,s=e.h;t&&(o-=t,i-=t,a+=2*t,s+=2*t);var u=0,l=a*r;return n&&r<1?a=l:!n&&r<1&&(o+=u=a-l,a=l),{x1:o,y1:i,w:a,h:s,xOffset:u,yOffset:e.yOffset}}},{key:"drawPickingRectangle",value:function(e,t,n){var r=this.atlasManager.getRenderTypeOpts(n),o=this.instanceCount;this.vertTypeBuffer.getView(o)[0]=4,kp(t,this.indexBuffer.getView(o)),Cp([0,0,0],1,this.colorBuffer.getView(o));var i=this.transformBuffer.getMatrixView(o);this.setTransformMatrix(e,i,r),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(e,t,n){var r=this.simpleShapeOptions.get(n);if(this._isVisible(e,r)){var o=r.shapeProps,i=this._getVertTypeForShape(e,o.shape);if(void 0===i||r.isSimple&&!r.isSimple(e))this.drawTexture(e,t,n);else{var a=this.instanceCount;if(this.vertTypeBuffer.getView(a)[0]=i,5===i||6===i){var s=r.getBoundingBox(e),u=this._getCornerRadius(e,o.radius,s),l=this.cornerRadiusBuffer.getView(a);l[0]=u,l[1]=u,l[2]=u,l[3]=u,6===i&&(l[0]=0,l[2]=0)}kp(t,this.indexBuffer.getView(a)),Cp(e.pstyle(o.color).value,e.pstyle(o.opacity).value,this.colorBuffer.getView(a));var c=this.lineWidthBuffer.getView(a);if(c[0]=0,c[1]=0,o.border){var f=e.pstyle("border-width").value;if(f>0){Cp(e.pstyle("border-color").value,e.pstyle("border-opacity").value,this.borderColorBuffer.getView(a));var d=e.pstyle("border-position").value;if("inside"===d)c[0]=0,c[1]=-f;else if("outside"===d)c[0]=f,c[1]=0;else{var h=f/2;c[0]=h,c[1]=-h}}}var p=this.transformBuffer.getMatrixView(a);this.setTransformMatrix(e,p,r),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"_getVertTypeForShape",value:function(e,t){switch(e.pstyle(t).value){case"rectangle":return 4;case"ellipse":return 7;case"roundrectangle":case"round-rectangle":return 5;case"bottom-round-rectangle":return 6;default:return}}},{key:"_getCornerRadius",value:function(e,t,n){var r=n.w,o=n.h;if("auto"===e.pstyle(t).value)return di(r,o);var i=e.pstyle(t).pfValue,a=r/2,s=o/2;return Math.min(i,s,a)}},{key:"drawEdgeArrow",value:function(e,t,n){if(e.visible()){var r,o,i,a=e._private.rscratch;if("source"===n?(r=a.arrowStartX,o=a.arrowStartY,i=a.srcArrowAngle):(r=a.arrowEndX,o=a.arrowEndY,i=a.tgtArrowAngle),!(isNaN(r)||null==r||isNaN(o)||null==o||isNaN(i)||null==i))if("none"!==e.pstyle(n+"-arrow-shape").value){var s=e.pstyle(n+"-arrow-color").value,u=e.pstyle("opacity").value*e.pstyle("line-opacity").value,l=e.pstyle("width").pfValue,c=e.pstyle("arrow-scale").value,f=this.r.getArrowWidth(l,c),d=this.instanceCount,h=this.transformBuffer.getMatrixView(d);Lp(h),Bp(h,h,[r,o]),Up(h,h,[f,f]),Fp(h,h,i),this.vertTypeBuffer.getView(d)[0]=3,kp(t,this.indexBuffer.getView(d)),Cp(s,u,this.colorBuffer.getView(d)),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"drawEdgeLine",value:function(e,t){if(e.visible()){var n=this._getEdgePoints(e);if(n){var r=e.pstyle("opacity").value,o=e.pstyle("line-opacity").value,i=e.pstyle("width").pfValue,a=e.pstyle("line-color").value,s=r*o;if(n.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),4==n.length){var u=this.instanceCount;this.vertTypeBuffer.getView(u)[0]=1,kp(t,this.indexBuffer.getView(u)),Cp(a,s,this.colorBuffer.getView(u)),this.lineWidthBuffer.getView(u)[0]=i;var l=this.pointAPointBBuffer.getView(u);l[0]=n[0],l[1]=n[1],l[2]=n[2],l[3]=n[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var c=0;c<n.length-2;c+=2){var f=this.instanceCount;this.vertTypeBuffer.getView(f)[0]=2,kp(t,this.indexBuffer.getView(f)),Cp(a,s,this.colorBuffer.getView(f)),this.lineWidthBuffer.getView(f)[0]=i;var d=n[c-2],h=n[c-1],p=n[c],v=n[c+1],g=n[c+2],y=n[c+3],m=n[c+4],b=n[c+5];0==c&&(d=2*p-g+.001,h=2*v-y+.001),c==n.length-4&&(m=2*g-p+.001,b=2*y-v+.001);var _=this.pointAPointBBuffer.getView(f);_[0]=d,_[1]=h,_[2]=p,_[3]=v;var w=this.pointCPointDBuffer.getView(f);w[0]=g,w[1]=y,w[2]=m,w[3]=b,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_getEdgePoints",value:function(e){var t=e._private.rscratch;if(!t.badLine&&null!=t.allpts&&!isNaN(t.allpts[0])){var n=t.allpts;if(4==n.length)return n;var r=this._getNumSegments(e);return this._getCurveSegmentPoints(n,r)}}},{key:"_getNumSegments",value:function(e){return Math.min(Math.max(15,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(e,t){if(4==e.length)return e;for(var n=Array(2*(t+1)),r=0;r<=t;r++)if(0==r)n[0]=e[0],n[1]=e[1];else if(r==t)n[2*r]=e[e.length-2],n[2*r+1]=e[e.length-1];else{var o=r/t;this._setCurvePoint(e,o,n,2*r)}return n}},{key:"_setCurvePoint",value:function(e,t,n,r){if(!(e.length<=2)){for(var o=Array(e.length-2),i=0;i<o.length;i+=2){var a=(1-t)*e[i]+t*e[i+2],s=(1-t)*e[i+1]+t*e[i+3];o[i]=a,o[i+1]=s}return this._setCurvePoint(o,t,n,r)}n[r]=e[0],n[r+1]=e[1]}},{key:"endBatch",value:function(){var e=this.gl,t=this.vao,n=this.vertexCount,r=this.instanceCount;if(0!==r){var o=this.renderTarget.picking?this.pickingProgram:this.program;e.useProgram(o),e.bindVertexArray(t);var i,a=Bt(this.buffers);try{for(a.s();!(i=a.n()).done;){i.value.bufferSubData(r)}}catch(f){a.e(f)}finally{a.f()}for(var s=this.batchManager.getAtlases(),u=0;u<s.length;u++)s[u].bufferIfNeeded(e);for(var l=0;l<s.length;l++)e.activeTexture(e.TEXTURE0+l),e.bindTexture(e.TEXTURE_2D,s[l].texture),e.uniform1i(o.uTextures[l],l);e.uniform1f(o.uZoom,function(e){var t=e.pixelRatio;return e.cy.zoom()*t}(this.r)),e.uniformMatrix3fv(o.uPanZoomMatrix,!1,this.panZoomMatrix),e.uniform1i(o.uAtlasSize,this.batchManager.getAtlasSize());var c=Cp(this.bgColor,1);e.uniform4fv(o.uBGColor,c),e.drawArraysInstanced(e.TRIANGLES,0,n,r),e.bindVertexArray(null),e.bindTexture(e.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:r,atlasCount:s.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var e=this.atlasManager.getDebugInfo(),t=e.reduce(function(e,t){return e+t.atlasCount},0),n=this.batchDebugInfo,r=n.reduce(function(e,t){return e+t.count},0);return{atlasInfo:e,totalAtlases:t,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:n.length,batchInfo:n,totalInstances:r}}}])}(),Kp={};function $p(e,t){var n=e._private.rscratch;return Yr(n,"labelWrapCachedLines",t)||[]}Kp.initWebgl=function(e,t){var n=this,r=n.data.contexts[n.WEBGL];e.bgColor=function(e){var t=e.cy.container(),n=t&&t.style&&t.style.backgroundColor||"white";return Jn(n)}(n),e.webglTexSize=Math.min(e.webglTexSize,r.getParameter(r.MAX_TEXTURE_SIZE)),e.webglTexRows=Math.min(e.webglTexRows,54),e.webglTexRowsNodes=Math.min(e.webglTexRowsNodes,54),e.webglBatchSize=Math.min(e.webglBatchSize,16384),e.webglTexPerBatch=Math.min(e.webglTexPerBatch,r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS)),n.webglDebug=e.webglDebug,n.webglDebugShowAtlases=e.webglDebugShowAtlases,n.pickingFrameBuffer=function(e){var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.bindFramebuffer(e.FRAMEBUFFER,null),t.setFramebufferAttachmentSizes=function(t,r){e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,r,0,e.RGBA,e.UNSIGNED_BYTE,null)},t}(r),n.pickingFrameBuffer.needsDraw=!0,n.drawing=new Xp(n,r,e);var o=function(e){return function(t){return n.getTextAngle(t,e)}},i=function(e){return function(t){var n=t.pstyle(e);return n&&n.value}},a=function(e){return function(t){return t.pstyle("".concat(e,"-opacity")).value>0}},s=function(e){return"yes"===e.pstyle("text-events").strValue?Yp:qp},u=function(e){var t=e.position(),n=t.x,r=t.y,o=e.outerWidth(),i=e.outerHeight();return{w:o,h:i,x1:n-o/2,y1:r-i/2}};n.drawing.addAtlasCollection("node",{texRows:e.webglTexRowsNodes}),n.drawing.addAtlasCollection("label",{texRows:e.webglTexRows}),n.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:t.getStyleKey,getBoundingBox:t.getElementBox,drawElement:t.drawElement}),n.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:u,isSimple:Tp,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),n.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:u,isVisible:a("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),n.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:u,isVisible:a("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),n.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:s,getKey:Zp(t.getLabelKey,null),getBoundingBox:Qp(t.getLabelBox,null),drawClipped:!0,drawElement:t.drawLabel,getRotation:o(null),getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:i("label")}),n.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:s,getKey:Zp(t.getSourceLabelKey,"source"),getBoundingBox:Qp(t.getSourceLabelBox,"source"),drawClipped:!0,drawElement:t.drawSourceLabel,getRotation:o("source"),getRotationPoint:t.getSourceLabelRotationPoint,getRotationOffset:t.getSourceLabelRotationOffset,isVisible:i("source-label")}),n.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:s,getKey:Zp(t.getTargetLabelKey,"target"),getBoundingBox:Qp(t.getTargetLabelBox,"target"),drawClipped:!0,drawElement:t.drawTargetLabel,getRotation:o("target"),getRotationPoint:t.getTargetLabelRotationPoint,getRotationOffset:t.getTargetLabelRotationOffset,isVisible:i("target-label")});var l=dr(function(){console.log("garbage collect flag set"),n.data.gc=!0},1e4);n.onUpdateEleCalcs(function(e,t){var r=!1;t&&t.length>0&&(r|=n.drawing.invalidate(t)),r&&l()}),function(e){var t=e.render;e.render=function(n){n=n||{};var r=e.cy;e.webgl&&(r.zoom()>Gh?(!function(e){var t=e.data.contexts[e.WEBGL];t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}(e),t.call(e,n)):(!function(e){var t=function(t){t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.canvasWidth,e.canvasHeight),t.restore()};t(e.data.contexts[e.NODE]),t(e.data.contexts[e.DRAG])}(e),tv(e,n,Gp.SCREEN)))};var n=e.matchCanvasSize;e.matchCanvasSize=function(t){n.call(e,t),e.pickingFrameBuffer.setFramebufferAttachmentSizes(e.canvasWidth,e.canvasHeight),e.pickingFrameBuffer.needsDraw=!0},e.findNearestElements=function(t,n,r,o){return function(e,t,n){var r,o,i,a=function(e,t,n){var r,o,i,a,s=Sp(e),u=s.pan,l=s.zoom,c=function(e,t,n,r,o){var i=r*n+t.x,a=o*n+t.y;return[i,a=Math.round(e.canvasHeight-a)]}(e,u,l,t,n),f=Ut(c,2),d=f[0],h=f[1],p=6;if(r=d-p/2,o=h-p/2,a=p,0===(i=p)||0===a)return[];var v=e.data.contexts[e.WEBGL];v.bindFramebuffer(v.FRAMEBUFFER,e.pickingFrameBuffer),e.pickingFrameBuffer.needsDraw&&(v.viewport(0,0,v.canvas.width,v.canvas.height),tv(e,null,Gp.PICKING),e.pickingFrameBuffer.needsDraw=!1);var g=i*a,y=new Uint8Array(4*g);v.readPixels(r,o,i,a,v.RGBA,v.UNSIGNED_BYTE,y),v.bindFramebuffer(v.FRAMEBUFFER,null);for(var m=new Set,b=0;b<g;b++){var _=Ap(y.slice(4*b,4*b+4))-1;_>=0&&m.add(_)}return m}(e,t,n),s=e.getCachedZSortedEles(),u=Bt(a);try{for(u.s();!(i=u.n()).done;){var l=s[i.value];if(!r&&l.isNode()&&(r=l),!o&&l.isEdge()&&(o=l),r&&o)break}}catch(c){u.e(c)}finally{u.f()}return[r,o].filter(Boolean)}(e,t,n)};var r=e.invalidateCachedZSortedEles;e.invalidateCachedZSortedEles=function(){r.call(e),e.pickingFrameBuffer.needsDraw=!0};var o=e.notify;e.notify=function(t,n){o.call(e,t,n),"viewport"===t||"bounds"===t?e.pickingFrameBuffer.needsDraw=!0:"background"===t&&e.drawing.invalidate(n,{type:"node-body"})}}(n)};var Zp=function(e,t){return function(n){var r=e(n),o=$p(n,t);return o.length>1?o.map(function(e,t){return"".concat(r,"_").concat(t)}):r}},Qp=function(e,t){return function(n,r){var o=e(n);if("string"===typeof r){var i=r.indexOf("_");if(i>0){var a=Number(r.substring(i+1)),s=$p(n,t),u=o.h/s.length,l=u*a,c=o.y1+l;return{x1:o.x1,w:o.w,y1:c,h:u,yOffset:l}}}return o}};function Jp(e,t){var n=e.canvasWidth,r=e.canvasHeight,o=Sp(e),i=o.pan,a=o.zoom;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,n,r),t.translate(i.x,i.y),t.scale(a,a)}function ev(e,t,n){var r=e.drawing;t+=1,n.isNode()?(r.drawNode(n,t,"node-underlay"),r.drawNode(n,t,"node-body"),r.drawTexture(n,t,"label"),r.drawNode(n,t,"node-overlay")):(r.drawEdgeLine(n,t),r.drawEdgeArrow(n,t,"source"),r.drawEdgeArrow(n,t,"target"),r.drawTexture(n,t,"label"),r.drawTexture(n,t,"edge-source-label"),r.drawTexture(n,t,"edge-target-label"))}function tv(e,t,n){var r;e.webglDebug&&(r=performance.now());var o=e.drawing,i=0;if(n.screen&&e.data.canvasNeedsRedraw[e.SELECT_BOX]&&function(e,t){e.drawSelectionRectangle(t,function(t){return Jp(e,t)})}(e,t),e.data.canvasNeedsRedraw[e.NODE]||n.picking){var a=e.data.contexts[e.WEBGL];n.screen?(a.clearColor(0,0,0,0),a.enable(a.BLEND),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA)):a.disable(a.BLEND),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),a.viewport(0,0,a.canvas.width,a.canvas.height);var s=function(e){var t=e.canvasWidth,n=e.canvasHeight,r=Sp(e),o=r.pan,i=r.zoom,a=Dp();Bp(a,a,[o.x,o.y]),Up(a,a,[i,i]);var s=Dp();!function(e,t,n){e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1}(s,t,n);var u=Dp();return function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=n[0],h=n[1],p=n[2],v=n[3],g=n[4],y=n[5],m=n[6],b=n[7],_=n[8];e[0]=d*r+h*a+p*l,e[1]=d*o+h*s+p*c,e[2]=d*i+h*u+p*f,e[3]=v*r+g*a+y*l,e[4]=v*o+g*s+y*c,e[5]=v*i+g*u+y*f,e[6]=m*r+b*a+_*l,e[7]=m*o+b*s+_*c,e[8]=m*i+b*u+_*f}(u,s,a),u}(e),u=e.getCachedZSortedEles();if(i=u.length,o.startFrame(s,n),n.screen){for(var l=0;l<u.nondrag.length;l++)ev(e,l,u.nondrag[l]);for(var c=0;c<u.drag.length;c++)ev(e,c,u.drag[c])}else if(n.picking)for(var f=0;f<u.length;f++)ev(e,f,u[f]);o.endFrame(),n.screen&&e.webglDebugShowAtlases&&(function(e){var t=e.data.contexts[e.NODE];t.save(),Jp(e,t),t.strokeStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.moveTo(-1e3,0),t.lineTo(1e3,0),t.stroke(),t.beginPath(),t.moveTo(0,-1e3),t.lineTo(0,1e3),t.stroke(),t.restore()}(e),function(e){var t=function(t,n,r){for(var o=t.atlasManager.getAtlasCollection(n),i=e.data.contexts[e.NODE],a=o.atlases,s=0;s<a.length;s++){var u=a[s].canvas;if(u){var l=u.width,c=u.height,f=l*s,d=u.height*r;i.save(),i.scale(.4,.4),i.drawImage(u,f,d),i.strokeStyle="black",i.rect(f,d,l,c),i.stroke(),i.restore()}}},n=0;t(e.drawing,"node",n++),t(e.drawing,"label",n++)}(e)),e.data.canvasNeedsRedraw[e.NODE]=!1,e.data.canvasNeedsRedraw[e.DRAG]=!1}if(e.webglDebug){var d=performance.now(),h=Math.ceil(d-r),p=o.getDebugInfo(),v=["".concat(i," elements"),"".concat(p.totalInstances," instances"),"".concat(p.batchCount," batches"),"".concat(p.totalAtlases," atlases"),"".concat(p.wrappedCount," wrapped textures"),"".concat(p.simpleCount," simple shapes")].join(", ");console.log("WebGL (".concat(n.name,") - frame time ").concat(h,"ms")),console.log("Totals:"),console.log("  ".concat(v)),console.log("Texture Atlases Used:");var g,y=Bt(p.atlasInfo);try{for(y.s();!(g=y.n()).done;){var m=g.value;console.log("  ".concat(m.type,": ").concat(m.keyCount," keys, ").concat(m.atlasCount," atlases"))}}catch(b){y.e(b)}finally{y.f()}console.log("")}e.data.gc&&(console.log("Garbage Collect!"),e.data.gc=!1,o.gc())}for(var nv={drawPolygonPath:function(e,t,n,r,o,i){var a=r/2,s=o/2;e.beginPath&&e.beginPath(),e.moveTo(t+a*i[0],n+s*i[1]);for(var u=1;u<i.length/2;u++)e.lineTo(t+a*i[2*u],n+s*i[2*u+1]);e.closePath()},drawRoundPolygonPath:function(e,t,n,r,o,i,a){a.forEach(function(t){return mh(e,t)}),e.closePath()},drawRoundRectanglePath:function(e,t,n,r,o,i){var a=r/2,s=o/2,u="auto"===i?di(r,o):Math.min(i,s,a);e.beginPath&&e.beginPath(),e.moveTo(t,n-s),e.arcTo(t+a,n-s,t+a,n,u),e.arcTo(t+a,n+s,t,n+s,u),e.arcTo(t-a,n+s,t-a,n,u),e.arcTo(t-a,n-s,t,n-s,u),e.lineTo(t,n-s),e.closePath()},drawBottomRoundRectanglePath:function(e,t,n,r,o,i){var a=r/2,s=o/2,u="auto"===i?di(r,o):i;e.beginPath&&e.beginPath(),e.moveTo(t,n-s),e.lineTo(t+a,n-s),e.lineTo(t+a,n),e.arcTo(t+a,n+s,t,n+s,u),e.arcTo(t-a,n+s,t-a,n,u),e.lineTo(t-a,n-s),e.lineTo(t,n-s),e.closePath()},drawCutRectanglePath:function(e,t,n,r,o,i,a){var s=r/2,u=o/2,l="auto"===a?8:a;e.beginPath&&e.beginPath(),e.moveTo(t-s+l,n-u),e.lineTo(t+s-l,n-u),e.lineTo(t+s,n-u+l),e.lineTo(t+s,n+u-l),e.lineTo(t+s-l,n+u),e.lineTo(t-s+l,n+u),e.lineTo(t-s,n+u-l),e.lineTo(t-s,n-u+l),e.closePath()},drawBarrelPath:function(e,t,n,r,o){var i=r/2,a=o/2,s=t-i,u=t+i,l=n-a,c=n+a,f=pi(r,o),d=f.widthOffset,h=f.heightOffset,p=f.ctrlPtOffsetPct*d;e.beginPath&&e.beginPath(),e.moveTo(s,l+h),e.lineTo(s,c-h),e.quadraticCurveTo(s+p,c,s+d,c),e.lineTo(u-d,c),e.quadraticCurveTo(u-p,c,u,c-h),e.lineTo(u,l+h),e.quadraticCurveTo(u-p,l,u-d,l),e.lineTo(s+d,l),e.quadraticCurveTo(s+p,l,s,l+h),e.closePath()}},rv=Math.sin(0),ov=Math.cos(0),iv={},av={},sv=Math.PI/40,uv=0*Math.PI;uv<2*Math.PI;uv+=sv)iv[uv]=Math.sin(uv),av[uv]=Math.cos(uv);nv.drawEllipsePath=function(e,t,n,r,o){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,o/2,0,0,2*Math.PI);else for(var i,a,s=r/2,u=o/2,l=0*Math.PI;l<2*Math.PI;l+=sv)i=t-s*iv[l]*rv+s*av[l]*ov,a=n+u*av[l]*rv+u*iv[l]*ov,0===l?e.moveTo(i,a):e.lineTo(i,a);e.closePath()};var lv={};function cv(e){var t=e.indexOf(",");return e.substr(t+1)}function fv(e,t,n){var r=function(){return t.toDataURL(n,e.quality)};switch(e.output){case"blob-promise":return new ka(function(r,o){try{t.toBlob(function(e){null!=e?r(e):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},n,e.quality)}catch(i){o(i)}});case"blob":return function(e,t){for(var n=atob(e),r=new ArrayBuffer(n.length),o=new Uint8Array(r),i=0;i<n.length;i++)o[i]=n.charCodeAt(i);return new Blob([r],{type:t})}(cv(r()),n);case"base64":return cv(r());default:return r()}}lv.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},lv.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements().boundingBox(),r=this.findContainerClientCoords(),o=e.full?Math.ceil(n.w):r[2],i=e.full?Math.ceil(n.h):r[3],a=Nn(e.maxWidth)||Nn(e.maxHeight),s=this.getPixelRatio(),u=1;if(void 0!==e.scale)o*=e.scale,i*=e.scale,u=e.scale;else if(a){var l=1/0,c=1/0;Nn(e.maxWidth)&&(l=u*e.maxWidth/o),Nn(e.maxHeight)&&(c=u*e.maxHeight/i),o*=u=Math.min(l,c),i*=u}a||(o*=s,i*=s,u*=s);var f=document.createElement("canvas");f.width=o,f.height=i,f.style.width=o+"px",f.style.height=i+"px";var d=f.getContext("2d");if(o>0&&i>0){d.clearRect(0,0,o,i),d.globalCompositeOperation="source-over";var h=this.getCachedZSortedEles();if(e.full)d.translate(-n.x1*u,-n.y1*u),d.scale(u,u),this.drawElements(d,h),d.scale(1/u,1/u),d.translate(n.x1*u,n.y1*u);else{var p=t.pan(),v={x:p.x*u,y:p.y*u};u*=t.zoom(),d.translate(v.x,v.y),d.scale(u,u),this.drawElements(d,h),d.scale(1/u,1/u),d.translate(-v.x,-v.y)}e.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=e.bg,d.rect(0,0,o,i),d.fill())}return f},lv.png=function(e){return fv(e,this.bufferCanvasImage(e),"image/png")},lv.jpg=function(e){return fv(e,this.bufferCanvasImage(e),"image/jpeg")};var dv={nodeShapeImpl:function(e,t,n,r,o,i,a,s){switch(e){case"ellipse":return this.drawEllipsePath(t,n,r,o,i);case"polygon":return this.drawPolygonPath(t,n,r,o,i,a);case"round-polygon":return this.drawRoundPolygonPath(t,n,r,o,i,a,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,n,r,o,i,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,n,r,o,i,a,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,n,r,o,i,s);case"barrel":return this.drawBarrelPath(t,n,r,o,i)}}},hv=vv,pv=vv.prototype;function vv(e){var t=this,n=t.cy.window().document;e.webgl&&(pv.CANVAS_LAYERS=t.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),t.data={canvases:new Array(pv.CANVAS_LAYERS),contexts:new Array(pv.CANVAS_LAYERS),canvasNeedsRedraw:new Array(pv.CANVAS_LAYERS),bufferCanvases:new Array(pv.BUFFER_COUNT),bufferContexts:new Array(pv.CANVAS_LAYERS)};var r="-webkit-tap-highlight-color",o="rgba(0,0,0,0)";t.data.canvasContainer=n.createElement("div");var i=t.data.canvasContainer.style;t.data.canvasContainer.style[r]=o,i.position="relative",i.zIndex="0",i.overflow="hidden";var a=e.cy.container();a.appendChild(t.data.canvasContainer),a.style[r]=o;var s={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};qt&&qt.userAgent.match(/msie|trident|edge/i)&&(s["-ms-touch-action"]="none",s["touch-action"]="none");for(var u=0;u<pv.CANVAS_LAYERS;u++){var l=t.data.canvases[u]=n.createElement("canvas"),c=pv.CANVAS_TYPES[u];t.data.contexts[u]=l.getContext(c),t.data.contexts[u]||Lr("Could not create canvas of type "+c),Object.keys(s).forEach(function(e){l.style[e]=s[e]}),l.style.position="absolute",l.setAttribute("data-id","layer"+u),l.style.zIndex=String(pv.CANVAS_LAYERS-u),t.data.canvasContainer.appendChild(l),t.data.canvasNeedsRedraw[u]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[pv.NODE].setAttribute("data-id","layer"+pv.NODE+"-node"),t.data.canvases[pv.SELECT_BOX].setAttribute("data-id","layer"+pv.SELECT_BOX+"-selectbox"),t.data.canvases[pv.DRAG].setAttribute("data-id","layer"+pv.DRAG+"-drag"),t.data.canvases[pv.WEBGL]&&t.data.canvases[pv.WEBGL].setAttribute("data-id","layer"+pv.WEBGL+"-webgl");for(u=0;u<pv.BUFFER_COUNT;u++)t.data.bufferCanvases[u]=n.createElement("canvas"),t.data.bufferContexts[u]=t.data.bufferCanvases[u].getContext("2d"),t.data.bufferCanvases[u].style.position="absolute",t.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),t.data.bufferCanvases[u].style.zIndex=String(-u-1),t.data.bufferCanvases[u].style.visibility="hidden";t.pathsEnabled=!0;var f=Mo(),d=function(e){return{x:-e.w/2,y:-e.h/2}},h=function(e){return e[0]._private.nodeKey},p=function(e){return e[0]._private.labelStyleKey},v=function(e){return e[0]._private.sourceLabelStyleKey},g=function(e){return e[0]._private.targetLabelStyleKey},y=function(e,n,r,o,i){return t.drawElement(e,n,r,!1,!1,i)},m=function(e,n,r,o,i){return t.drawElementText(e,n,r,o,"main",i)},b=function(e,n,r,o,i){return t.drawElementText(e,n,r,o,"source",i)},_=function(e,n,r,o,i){return t.drawElementText(e,n,r,o,"target",i)},w=function(e){return e.boundingBox(),e[0]._private.bodyBounds},x=function(e){return e.boundingBox(),e[0]._private.labelBounds.main||f},E=function(e){return e.boundingBox(),e[0]._private.labelBounds.source||f},O=function(e){return e.boundingBox(),e[0]._private.labelBounds.target||f},S=function(e,t){return t},T=function(e){return{x:((t=w(e)).x1+t.x2)/2,y:(t.y1+t.y2)/2};var t},P=function(e,t,n){var r=e?e+"-":"";return{x:t.x+n.pstyle(r+"text-margin-x").pfValue,y:t.y+n.pstyle(r+"text-margin-y").pfValue}},C=function(e,t,n){var r=e[0]._private.rscratch;return{x:r[t],y:r[n]}},k=function(e){return P("",C(e,"labelX","labelY"),e)},A=function(e){return P("source",C(e,"sourceLabelX","sourceLabelY"),e)},N=function(e){return P("target",C(e,"targetLabelX","targetLabelY"),e)},j=function(e){return d(w(e))},R=function(e){return d(E(e))},I=function(e){return d(O(e))},M=function(e){var t=x(e),n=d(x(e));if(e.isNode()){switch(e.pstyle("text-halign").value){case"left":n.x=-t.w-(t.leftPad||0);break;case"right":n.x=-(t.rightPad||0)}switch(e.pstyle("text-valign").value){case"top":n.y=-t.h-(t.topPad||0);break;case"bottom":n.y=-(t.botPad||0)}}return n},D=t.data.eleTxrCache=new Xh(t,{getKey:h,doesEleInvalidateKey:function(e){var t=e[0]._private;return!(t.oldBackgroundTimestamp===t.backgroundTimestamp)},drawElement:y,getBoundingBox:w,getRotationPoint:T,getRotationOffset:j,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),L=t.data.lblTxrCache=new Xh(t,{getKey:p,drawElement:m,getBoundingBox:x,getRotationPoint:k,getRotationOffset:M,isVisible:S}),B=t.data.slbTxrCache=new Xh(t,{getKey:v,drawElement:b,getBoundingBox:E,getRotationPoint:A,getRotationOffset:R,isVisible:S}),F=t.data.tlbTxrCache=new Xh(t,{getKey:g,drawElement:_,getBoundingBox:O,getRotationPoint:N,getRotationOffset:I,isVisible:S}),U=t.data.lyrTxrCache=new $h(t);t.onUpdateEleCalcs(function(e,t){D.invalidateElements(t),L.invalidateElements(t),B.invalidateElements(t),F.invalidateElements(t),U.invalidateElements(t);for(var n=0;n<t.length;n++){var r=t[n]._private;r.oldBackgroundTimestamp=r.backgroundTimestamp}});var z=function(e){for(var t=0;t<e.length;t++)U.enqueueElementRefinement(e[t].ele)};D.onDequeue(z),L.onDequeue(z),B.onDequeue(z),F.onDequeue(z),e.webgl&&t.initWebgl(e,{getStyleKey:h,getLabelKey:p,getSourceLabelKey:v,getTargetLabelKey:g,drawElement:y,drawLabel:m,drawSourceLabel:b,drawTargetLabel:_,getElementBox:w,getLabelBox:x,getSourceLabelBox:E,getTargetLabelBox:O,getElementRotationPoint:T,getElementRotationOffset:j,getLabelRotationPoint:k,getSourceLabelRotationPoint:A,getTargetLabelRotationPoint:N,getLabelRotationOffset:M,getSourceLabelRotationOffset:R,getTargetLabelRotationOffset:I})}pv.CANVAS_LAYERS=3,pv.SELECT_BOX=0,pv.DRAG=1,pv.NODE=2,pv.WEBGL=3,pv.CANVAS_TYPES=["2d","2d","2d","webgl2"],pv.BUFFER_COUNT=3,pv.TEXTURE_BUFFER=0,pv.MOTIONBLUR_BUFFER_NODE=1,pv.MOTIONBLUR_BUFFER_DRAG=2,pv.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[pv.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[pv.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[pv.SELECT_BOX]=t;break;case"gc":n.data.gc=!0}};var gv="undefined"!==typeof Path2D;pv.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},pv.usePaths=function(){return gv&&this.pathsEnabled},pv.setImgSmoothing=function(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},pv.getImgSmoothing=function(e){return null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},pv.makeOffscreenCanvas=function(e,t){var n;"undefined"!==("undefined"===typeof OffscreenCanvas?"undefined":Wt(OffscreenCanvas))?n=new OffscreenCanvas(e,t):((n=this.cy.window().document.createElement("canvas")).width=e,n.height=t);return n},[tp,sp,pp,gp,yp,bp,xp,Kp,nv,lv,dv].forEach(function(e){Qn(pv,e)});var yv=[{type:"layout",extensions:Hd},{type:"renderer",extensions:[{name:"null",impl:Gd},{name:"base",impl:Uh},{name:"canvas",impl:hv}]}],mv={},bv={};function _v(e,t,n){var r=n,o=function(n){Fr("Can not register `"+t+"` for `"+e+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===e){if(rd.prototype[t])return o(t);rd.prototype[t]=n}else if("collection"===e){if(bf.prototype[t])return o(t);bf.prototype[t]=n}else if("layout"===e){for(var i=function(e){this.options=e,n.call(this,e),An(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},a=i.prototype=Object.create(n.prototype),s=[],u=0;u<s.length;u++){var l=s[u];a[l]=a[l]||function(){return this}}a.start&&!a.run?a.run=function(){return this.start(),this}:!a.start&&a.run&&(a.start=function(){return this.run(),this});var c=n.prototype.stop;a.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var n=0;n<t.length;n++)t[n].stop()}return c?c.call(this):this.emit("layoutstop"),this},a.destroy||(a.destroy=function(){return this}),a.cy=function(){return this._private.cy};var f=function(e){return e._private.cy},d={addEventFields:function(e,t){t.layout=e,t.cy=f(e),t.target=e},bubble:function(){return!0},parent:function(e){return f(e)}};Qn(a,{createEmitter:function(){return this._private.emitter=new Lc(d,this),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),tl.eventAliasesOn(a),r=i}else if("renderer"===e&&"null"!==t&&"base"!==t){var h=wv("renderer","base"),p=h.prototype,v=n,g=n.prototype,y=function(){h.apply(this,arguments),v.apply(this,arguments)},m=y.prototype;for(var b in p){var _=p[b];if(null!=g[b])return o(b);m[b]=_}for(var w in g)m[w]=g[w];p.clientFunctions.forEach(function(e){m[e]=m[e]||function(){Lr("Renderer does not implement `renderer."+e+"()` on its prototype")}}),r=y}else if("__proto__"===e||"constructor"===e||"prototype"===e)return Lr(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return tr({map:mv,keys:[e,t],value:r})}function wv(e,t){return nr({map:mv,keys:[e,t]})}function xv(e,t,n,r,o){return tr({map:bv,keys:[e,t,n,r],value:o})}function Ev(e,t,n,r){return nr({map:bv,keys:[e,t,n,r]})}var Ov=function(){return 2===arguments.length?wv.apply(null,arguments):3===arguments.length?_v.apply(null,arguments):4===arguments.length?Ev.apply(null,arguments):5===arguments.length?xv.apply(null,arguments):void Lr("Invalid extension access syntax")};rd.prototype.extension=Ov,yv.forEach(function(e){e.extensions.forEach(function(t){_v(e.type,t.name,t.impl)})});var Sv=function(){if(!(this instanceof Sv))return new Sv;this.length=0},Tv=Sv.prototype;Tv.instanceString=function(){return"stylesheet"},Tv.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},Tv.css=function(e,t){var n=this.length-1;if(Pn(e))this[n].properties.push({name:e,value:t});else if(An(e))for(var r=e,o=Object.keys(r),i=0;i<o.length;i++){var a=o[i],s=r[a];if(null!=s){var u=Qf.properties[a]||Qf.properties[Vn(a)];if(null!=u){var l=u.name,c=s;this[n].properties.push({name:l,value:c})}}}return this},Tv.style=Tv.css,Tv.generateStyle=function(e){var t=new Qf(e);return this.appendToStyle(t)},Tv.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],r=n.selector,o=n.properties;e.selector(r);for(var i=0;i<o.length;i++){var a=o[i];e.css(a.name,a.value)}}return e};var Pv=function(e){return void 0===e&&(e={}),An(e)?new rd(e):Pn(e)?Ov.apply(Ov,arguments):void 0};Pv.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(Pv),e.apply(null,t),this},Pv.warnings=function(e){return Br(e)},Pv.version="3.32.1",Pv.stylesheet=Pv.Stylesheet=Sv;var Cv=n(5262);Pv.use(Cv);const kv={port:new class{start(){}postMessage(e){const{elements:t,spacingFactor:n}=e,r=((e,t)=>{const n=Pv({headless:!0,styleEnabled:!1});n.add(e);const r={},o=n.layout({name:"cose-bilkent",animate:!1,spacingFactor:t,quality:"default",tile:!1,randomize:!0,stop:()=>{n.nodes().forEach(e=>{r[e.id()]={...e.position()}})}});return o.run(),{positions:r}})(t,n);this.onmessage({data:r})}onmessage(){}close(){}}},Av=()=>new SharedWorker(new URL(n.p+n.u(574),n.b),{type:void 0,name:"CoseBilkentLayout"});var Nv=n(6504),jv=n(3941),Rv=n(9207);const Iv=100,Mv="up",Dv="down",Lv="left",Bv="right",Fv={[Mv]:"BT",[Dv]:"TB",[Lv]:"RL",[Bv]:"LR"},Uv=1/.38,zv=e=>{let t=null,n=null,r=null,o=null,i=null,a=null,s=null,u=null;for(const l of e.nodes()){const c=e.node(l);(null===i||c.x<i)&&(i=c.x),(null===a||c.y<a)&&(a=c.y),(null===s||c.x>s)&&(s=c.x),(null===u||c.y>u)&&(u=c.y);const f=Math.ceil(c.width/2);(null===t||c.x-f<t)&&(t=c.x-f),(null===n||c.y-f<n)&&(n=c.y-f),(null===r||c.x+f>r)&&(r=c.x+f),(null===o||c.y+f>o)&&(o=c.y+f)}return{minX:t,minY:n,maxX:r,maxY:o,minCenterX:i,minCenterY:a,maxCenterX:s,maxCenterY:u,width:r-t,height:o-n,xOffset:i-t,yOffset:a-n}},Vv=e=>{const t=new Nv.graphlib.Graph;return t.setGraph({}),t.setDefaultEdgeLabel(()=>({})),t.graph().nodesep=75*e,t.graph().ranksep=75*e,t},Wv=(e,t,n)=>{const{rank:r}=n.node(e);let o=null,i=null;for(const a of t){const{rank:t}=n.node(a);if(!(a===e||t>=r)){if(t===r-1){o=t,i=a;break}(null===o&&null===i||t>o)&&(o=t,i=a)}}return i},Hv=(e,t)=>{let n=Wv(e,t.predecessors(e),t);return null===n&&(n=Wv(e,t.successors(e),t)),n},Gv=(e,t,n)=>{e.graph().ranker="tight-tree",e.graph().rankdir=Fv[t];const r=Nv.layout(e);for(const o of r.nodes()){const e=Hv(o,r);null!==e&&(n[o]=e)}},qv=(e,t)=>Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)),Yv=e=>{const t=[e[0]];let n={p1:e[0],p2:e[1]},r=qv(n.p1,n.p2);for(let o=2;o<e.length;o++){let i={p1:e[o-1],p2:e[o]},a=qv(i.p1,i.p2);const s={p1:n.p1,p2:i.p2},u=qv(s.p1,s.p2);a+r-u<.1&&(t.pop(),i=s,a=u),t.push(i.p1),n=i,r=a}return t.push(e[e.length-1]),t},Xv=function(e,t,n,r,o,i){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;const s=Vv(a),u={},l={x:0,y:0},c=e.length;for(const b of e){const e=n[b.id];l.x+=e?.x||0,l.y+=e?.y||0;const t=(b.size||25)*Uv*a;s.setNode(b.id,{width:t,height:t})}const f=c?[l.x/c,l.y/c]:[0,0],d={};for(const b of r)if(t[b.from]&&t[b.to]&&b.from!==b.to){const e=b.from<b.to?`${b.from}-${b.to}`:`${b.to}-${b.from}`;d[e]||(d[e]=1,s.setEdge(b.from,b.to))}const h=((e,t)=>{const n=[],r=Rv.alg.components(e);if(r.length>1)for(const o of r){const r=Vv(t);for(const t of o){const n=e.node(t);r.setNode(t,{width:n.width,height:n.height});const o=e.outEdges(t);if(o)for(const e of o)r.setEdge(e.v,e.w)}n.push(r)}else n.push(e);return n})(s,a);if(h.length>1){h.forEach(e=>Gv(e,o,u));const e=(e=>"up"===e||e===Dv)(o),t=(e=>e===Dv||e===Bv)(o),n=h.filter(e=>1===e.nodeCount()),r=h.filter(e=>1!==e.nodeCount());if("bin"===i){r.sort((e,t)=>t.nodeCount()-e.nodeCount());const o=e?e=>{let{width:t,height:n,...r}=e;return{...r,width:t+Iv,height:n+Iv}}:e=>{let{width:t,height:n,...r}=e;return{...r,width:n+Iv,height:t+Iv}},i=r.map(zv).map(o),a=n.map(zv).map(o),u=i.concat(a);jv(u,{inPlace:!0});const l=Math.floor(50),c=e?"x":"y",f=e?"y":"x";if(!t){const t=e?"y":"x",n=e?"height":"width",r=u.reduce((e,r)=>null===e?r[t]:Math.min(r[t],e[n]||0),null),o=u.reduce((e,r)=>null===e?r[t]+r[n]:Math.max(r[t]+r[n],e[n]||0),null);u.forEach(e=>{e[t]=r+(o-(e[t]+e[n]))})}const d=(e,t)=>{for(const n of e.nodes()){const r=e.node(n),o=s.node(n);o.x=r.x-t.xOffset+t[c]+l,o.y=r.y-t.yOffset+t[f]+l}};for(let e=0;e<r.length;e++){d(r[e],i[e])}for(let e=0;e<n.length;e++){d(n[e],a[e])}}else{r.sort(t?(e,t)=>t.nodeCount()-e.nodeCount():(e,t)=>e.nodeCount()-t.nodeCount());const o=r.map(zv),i=n.reduce((e,t)=>e+s.node(t.nodes()[0]).width,0),a=n.reduce((e,t)=>Math.max(e,s.node(t.nodes()[0]).width),0),u=n.length>0?i+(n.length-1)*Iv:0,l=o.reduce((e,t)=>{let{width:n}=t;return Math.max(e,n)},0),c=Math.max(l,u),f=o.reduce((e,t)=>{let{height:n}=t;return Math.max(e,n)},0),d=Math.max(f,u);let h=0;const p=()=>{for(let t=0;t<r.length;t++){const n=r[t],i=o[t],a=e?Math.floor((c-i.width)/2):Math.floor((d-i.height)/2);for(const t of n.nodes()){const r=n.node(t),o=s.node(t);e?(o.x=r.x-i.minX+a,o.y=r.y-i.minY+h):(o.x=r.x-i.minX+h,o.y=r.y-i.minY+a)}for(const t of n.edges()){const r=n.edge(t),o=s.edge(t);r.points&&r.points.length>3&&(o.points=r.points.map(t=>{let{x:n,y:r}=t;return{x:n-i.minX+(e?a:h),y:r-i.minY+(e?h:a)}}))}h+=(e?i.height:i.width)+Iv}},v=()=>{const t=Math.floor(((e?c:d)-u)/2);h+=Math.floor(a/2);let r=t;for(const o of n){const t=o.nodes()[0],n=s.node(t);e?(n.x=r+Math.floor(n.width/2),n.y=h):(n.x=h,n.y=r+Math.floor(n.width/2)),r+=Iv+n.width}h=a+Iv};t?(p(),v()):(v(),p())}}else Gv(s,o,u);l.x=0,l.y=0;const p={};for(const b of s.nodes()){const e=s.node(b);l.x+=e.x||0,l.y+=e.y||0,p[b]={x:e.x,y:e.y}}const v=c?[l.x/c,l.y/c]:[0,0],g=f[0]-v[0],y=f[1]-v[1];for(const b in p)p[b].x+=g,p[b].y+=y;const m={};for(const b of s.edges()){const e=s.edge(b);if(e.points&&e.points.length>3){const t=Yv(e.points);for(const e of t)e.x+=g,e.y+=y;m[`${b.v}-${b.w}`]={points:[...t],from:{x:p[b.v].x,y:p[b.v].y},to:{x:p[b.w].x,y:p[b.w].y}},m[`${b.w}-${b.v}`]={points:t.reverse(),from:{x:p[b.w].x,y:p[b.w].y},to:{x:p[b.v].x,y:p[b.v].y}}}}return{positions:p,parents:u,waypoints:m}};const Kv={port:new class{start(){}postMessage(e){const{nodes:t,nodeIds:n,idToPosition:r,rels:o,direction:i,packing:a,pixelRatio:s,forcedDelay:u=0}=e,l=Xv(t,n,r,o,i,a,s);u?setTimeout(()=>{this.onmessage({data:l})},u):this.onmessage({data:l})}onmessage(){}close(){}}},$v=()=>new SharedWorker(new URL(n.p+n.u(654),n.b),{type:void 0,name:"HierarchicalLayout"});var Zv=n(3945);function Qv(){return"undefined"===typeof process?{}:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}}var Jv=n(4029),eg=n(8718);function tg(e,t,n,r){var o,i=[e,t,n,r],a=(0,eg.Qd)(e)?e.event:e;if(!a||!(0,eg.Kg)(a))throw new Error("Event missing");var s=(0,eg.Qd)(e)?null!==(o=e.properties)&&void 0!==o?o:{}:(0,eg.Qd)(t)?t:{},u={};return(0,eg.Tn)(n)||(u=null!==n&&void 0!==n?n:{}),(0,eg.Qd)(e)&&!(0,eg.Tn)(t)&&(u=null!==t&&void 0!==t?t:{}),[a,s,u,i.find(eg.Tn)]}function ng(e,t,n,r,o){var i,a,s=null,u=null,l=[e,t,n,r,o],c=l.filter(eg.Kg);1===c.length?(0,eg.Kg)(l[1])?(u=l[1],s=null):(u=c[0],s=null):2===c.length&&("string"===typeof l[0]&&(s=l[0]),"string"===typeof l[1]&&(u=l[1]));var f=l.find(eg.Tn),d=l.filter(eg.Qd);return 1===d.length?(0,eg.Qd)(l[2])?(a={},i=l[2]):(0,eg.Qd)(l[3])?(i={},a=l[3]):(i=d[0],a={}):2===d.length&&(i=d[0],a=d[1]),[s,u,null!==i&&void 0!==i?i:i={},null!==a&&void 0!==a?a:a={},f]}var rg=function(e){return function(){for(var t,n,r,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];for(var a={},s=["callback","options","traits","id"],u=0,l=o;u<l.length;u++){var c=l[u],f=s.pop();if("id"===f){if((0,eg.Kg)(c)||(0,eg.Et)(c)){a.id=c.toString();continue}if(null===c||void 0===c)continue;f=s.pop()}if("traits"!==f&&"options"!==f||null!==c&&void 0!==c&&!(0,eg.Qd)(c)||(a[f]=c),(0,eg.Tn)(c)){a.callback=c;break}}return[null!==(t=a.id)&&void 0!==t?t:e.id(),null!==(n=a.traits)&&void 0!==n?n:{},null!==(r=a.options)&&void 0!==r?r:{},a.callback]}};function og(e,t,n,r){(0,eg.Et)(e)&&(e=e.toString()),(0,eg.Et)(t)&&(t=t.toString());var o=[e,t,n,r],i=o.filter(eg.Kg),a=i[0],s=void 0===a?e:a,u=i[1],l=void 0===u?null:u,c=o.filter(eg.Qd)[0];return[s,l,void 0===c?{}:c,o.find(eg.Tn)]}var ig=n(6551),ag=n(5814),sg=n(9799),ug=function(e,t){var n=Date.now()-e;return Math.max((null!==t&&void 0!==t?t:300)-n,0)};function lg(e,t,n,r){return(0,Zv.sH)(this,void 0,void 0,function(){var o,i;return(0,Zv.YH)(this,function(a){switch(a.label){case 0:return n.emit("dispatch_start",e),o=Date.now(),t.isEmpty()?[4,t.dispatchSingle(e)]:[3,2];case 1:return i=a.sent(),[3,4];case 2:return[4,t.dispatch(e)];case 3:i=a.sent(),a.label=4;case 4:return(null===r||void 0===r?void 0:r.callback)?[4,(0,sg.w_)(i,r.callback,ug(o,r.timeout))]:[3,6];case 5:i=a.sent(),a.label=6;case 6:return(null===r||void 0===r?void 0:r.debug)&&i.flush(),[2,i]}})})}var cg=n(6336),fg=n(4937);var dg=function(e,t,n,r,o,i){return{__t:"bpc",c:t,p:r,u:e,s:n,t:o,r:i}},hg=Object.keys(dg("","","","","",""));function pg(e){if(t=e,"object"!==Object.prototype.toString.call(t).slice(8,-1).toLowerCase())return!1;var t;if("bpc"!==e.__t)return!1;for(var n in e)if(!hg.includes(n))return!1;return!0}var vg=function(e){var t=e.c,n=e.p,r=e.s,o=e.u,i=e.r,a=e.t,s=t?function(e){try{return new URL(e).pathname}catch(t){return"/"===e[0]?e:"/"+e}}(t):n,u=t?function(e,t){return e.indexOf("?")>-1?e:e+t}(t,r):function(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}(o);return{path:s,referrer:i,search:r,title:a,url:u}},gg=function(){var e=document.querySelector("link[rel='canonical']");return dg(location.href,e&&e.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},yg=function(e,t){void 0===t&&(t=vg(gg()));var n,r=e.context;"page"===e.type&&(n=e.properties&&function(e,t){return Object.assign.apply(Object,(0,Zv.fX)([{}],t.map(function(t){var n;if(e&&Object.prototype.hasOwnProperty.call(e,t))return(n={})[t]=e[t],n}),!1))}(e.properties,Object.keys(t)),e.properties=(0,Zv.Cl)((0,Zv.Cl)((0,Zv.Cl)({},t),e.properties),e.name?{name:e.name}:{})),r.page=(0,Zv.Cl)((0,Zv.Cl)((0,Zv.Cl)({},t),n),r.page)},mg=n(3333),bg=function(e){function t(t,n){var r=e.call(this,"".concat(t," ").concat(n))||this;return r.field=t,r}return(0,Zv.C6)(t,e),t}(Error),_g="is not a string",wg="is not an object",xg="is nil";function Eg(e){!function(e){if(!(0,eg.t2)(e))throw new bg("Event",xg);if("object"!==typeof e)throw new bg("Event",wg)}(e),function(e){if(!(0,eg.Kg)(e.type))throw new bg(".type",_g)}(e),function(e){if(!(0,eg.Kg)(e.messageId))throw new bg(".messageId",_g)}(e),"track"===e.type&&(function(e){if(!(0,eg.Kg)(e.event))throw new bg(".event",_g)}(e),function(e){if(!(0,eg.Qd)(e.properties))throw new bg(".properties",wg)}(e)),["group","identify"].includes(e.type)&&function(e){if(!(0,eg.Qd)(e.traits))throw new bg(".traits",wg)}(e)}var Og=function(e){var t,n;this.settings=e,this.createMessageId=e.createMessageId,this.onEventMethodCall=null!==(t=e.onEventMethodCall)&&void 0!==t?t:function(){},this.onFinishedEvent=null!==(n=e.onFinishedEvent)&&void 0!==n?n:function(){}},Sg=function(){function e(e){this.settings=new Og(e)}return e.prototype.track=function(e,t,n,r){return this.settings.onEventMethodCall({type:"track",options:n}),this.normalize((0,Zv.Cl)((0,Zv.Cl)({},this.baseEvent()),{event:e,type:"track",properties:null!==t&&void 0!==t?t:{},options:(0,Zv.Cl)({},n),integrations:(0,Zv.Cl)({},r)}))},e.prototype.page=function(e,t,n,r,o){var i;this.settings.onEventMethodCall({type:"page",options:r});var a={type:"page",properties:(0,Zv.Cl)({},n),options:(0,Zv.Cl)({},r),integrations:(0,Zv.Cl)({},o)};return null!==e&&(a.category=e,a.properties=null!==(i=a.properties)&&void 0!==i?i:{},a.properties.category=e),null!==t&&(a.name=t),this.normalize((0,Zv.Cl)((0,Zv.Cl)({},this.baseEvent()),a))},e.prototype.screen=function(e,t,n,r,o){this.settings.onEventMethodCall({type:"screen",options:r});var i={type:"screen",properties:(0,Zv.Cl)({},n),options:(0,Zv.Cl)({},r),integrations:(0,Zv.Cl)({},o)};return null!==e&&(i.category=e),null!==t&&(i.name=t),this.normalize((0,Zv.Cl)((0,Zv.Cl)({},this.baseEvent()),i))},e.prototype.identify=function(e,t,n,r){return this.settings.onEventMethodCall({type:"identify",options:n}),this.normalize((0,Zv.Cl)((0,Zv.Cl)({},this.baseEvent()),{type:"identify",userId:e,traits:null!==t&&void 0!==t?t:{},options:(0,Zv.Cl)({},n),integrations:r}))},e.prototype.group=function(e,t,n,r){return this.settings.onEventMethodCall({type:"group",options:n}),this.normalize((0,Zv.Cl)((0,Zv.Cl)({},this.baseEvent()),{type:"group",traits:null!==t&&void 0!==t?t:{},options:(0,Zv.Cl)({},n),integrations:(0,Zv.Cl)({},r),groupId:e}))},e.prototype.alias=function(e,t,n,r){this.settings.onEventMethodCall({type:"alias",options:n});var o={userId:e,type:"alias",options:(0,Zv.Cl)({},n),integrations:(0,Zv.Cl)({},r)};return null!==t&&(o.previousId=t),void 0===e?this.normalize((0,Zv.Cl)((0,Zv.Cl)({},o),this.baseEvent())):this.normalize((0,Zv.Cl)((0,Zv.Cl)({},this.baseEvent()),o))},e.prototype.baseEvent=function(){return{integrations:{},options:{}}},e.prototype.context=function(e){var t,n=["userId","anonymousId","timestamp","messageId"];delete e.integrations;var r=Object.keys(e),o=null!==(t=e.context)&&void 0!==t?t:{},i={};return r.forEach(function(t){"context"!==t&&(n.includes(t)?(0,mg.J)(i,t,e[t]):(0,mg.J)(o,t,e[t]))}),[o,i]},e.prototype.normalize=function(e){var t,n,r=Object.keys(null!==(t=e.integrations)&&void 0!==t?t:{}).reduce(function(t,n){var r,o;return(0,Zv.Cl)((0,Zv.Cl)({},t),((r={})[n]=Boolean(null===(o=e.integrations)||void 0===o?void 0:o[n]),r))},{});e.options=function(e,t){return Object.keys(e).filter(function(n){return t(n,e[n])}).reduce(function(t,n){return t[n]=e[n],t},{})}(e.options||{},function(e,t){return void 0!==t});var o=(0,Zv.Cl)((0,Zv.Cl)({},r),null===(n=e.options)||void 0===n?void 0:n.integrations),i=e.options?this.context(e.options):[],a=i[0],s=i[1],u=e.options,l=(0,Zv.Tt)(e,["options"]),c=(0,Zv.Cl)((0,Zv.Cl)((0,Zv.Cl)((0,Zv.Cl)({timestamp:new Date},l),{context:a,integrations:o}),s),{messageId:u.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(c),Eg(c),c},e}(),Tg=function(e){function t(t){var n=e.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat((0,fg.v4)())},onEventMethodCall:function(e){var t=e.options;n.maybeUpdateAnonId(t)},onFinishedEvent:function(e){return n.addIdentity(e),e}})||this;return n.user=t,n}return(0,Zv.C6)(t,e),t.prototype.maybeUpdateAnonId=function(e){(null===e||void 0===e?void 0:e.anonymousId)&&this.user.anonymousId(e.anonymousId)},t.prototype.addIdentity=function(e){this.user.id()&&(e.userId=this.user.id()),this.user.anonymousId()&&(e.anonymousId=this.user.anonymousId())},t.prototype.track=function(t,n,r,o,i){var a=e.prototype.track.call(this,t,n,r,o);return yg(a,i),a},t.prototype.page=function(t,n,r,o,i,a){var s=e.prototype.page.call(this,t,n,r,o,i);return yg(s,a),s},t.prototype.screen=function(t,n,r,o,i,a){var s=e.prototype.screen.call(this,t,n,r,o,i);return yg(s,a),s},t.prototype.identify=function(t,n,r,o,i){var a=e.prototype.identify.call(this,t,n,r,o);return yg(a,i),a},t.prototype.group=function(t,n,r,o,i){var a=e.prototype.group.call(this,t,n,r,o);return yg(a,i),a},t.prototype.alias=function(t,n,r,o,i){var a=e.prototype.alias.call(this,t,n,r,o);return yg(a,i),a},t}(Sg),Pg=function(e){return"addMiddleware"in e&&"destination"===e.type},Cg=n(9738);var kg=n(6655),Ag=n(5591),Ng=n(5159),jg=function(e){function t(t){var n=e.call(this)||this;return n.criticalTasks=function(){var e,t,n=0;return{done:function(){return e},run:function(r){var o,i=r();return"object"===typeof(o=i)&&null!==o&&"then"in o&&"function"===typeof o.then&&(1===++n&&(e=new Promise(function(e){return t=e})),i.finally(function(){return 0===--n&&t()})),i}}}(),n.plugins=[],n.failedInitializations=[],n.flushing=!1,n.queue=t,n.queue.on(kg.g,function(){n.scheduleFlush(0)}),n}return(0,Zv.C6)(t,e),t.prototype.register=function(e,t,n){return(0,Zv.sH)(this,void 0,void 0,function(){var r,o,i=this;return(0,Zv.YH)(this,function(a){switch(a.label){case 0:return this.plugins.push(t),r=function(n){i.failedInitializations.push(t.name),i.emit("initialization_failure",t),console.warn(t.name,n),e.log("warn","Failed to load destination",{plugin:t.name,error:n}),i.plugins=i.plugins.filter(function(e){return e!==t})},"destination"!==t.type||"Segment.io"===t.name?[3,1]:(t.load(e,n).catch(r),[3,4]);case 1:return a.trys.push([1,3,,4]),[4,t.load(e,n)];case 2:return a.sent(),[3,4];case 3:return o=a.sent(),r(o),[3,4];case 4:return[2]}})})},t.prototype.deregister=function(e,t,n){return(0,Zv.sH)(this,void 0,void 0,function(){var r;return(0,Zv.YH)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),t.unload?[4,Promise.resolve(t.unload(e,n))]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.plugins=this.plugins.filter(function(e){return e.name!==t.name}),[3,4];case 3:return r=o.sent(),e.log("warn","Failed to unload destination",{plugin:t.name,error:r}),[3,4];case 4:return[2]}})})},t.prototype.dispatch=function(e){return(0,Zv.sH)(this,void 0,void 0,function(){var t;return(0,Zv.YH)(this,function(n){return e.log("debug","Dispatching"),e.stats.increment("message_dispatched"),this.queue.push(e),t=this.subscribeToDelivery(e),this.scheduleFlush(0),[2,t]})})},t.prototype.subscribeToDelivery=function(e){return(0,Zv.sH)(this,void 0,void 0,function(){var t=this;return(0,Zv.YH)(this,function(n){return[2,new Promise(function(n){var r=function(o,i){o.isSame(e)&&(t.off("flush",r),n(o))};t.on("flush",r)})]})})},t.prototype.dispatchSingle=function(e){return(0,Zv.sH)(this,void 0,void 0,function(){var t=this;return(0,Zv.YH)(this,function(n){return e.log("debug","Dispatching"),e.stats.increment("message_dispatched"),this.queue.updateAttempts(e),e.attempts=1,[2,this.deliver(e).catch(function(n){return t.enqueuRetry(n,e)?t.subscribeToDelivery(e):(e.setFailedDelivery({reason:n}),e)})]})})},t.prototype.isEmpty=function(){return 0===this.queue.length},t.prototype.scheduleFlush=function(e){var t=this;void 0===e&&(e=500),this.flushing||(this.flushing=!0,setTimeout(function(){t.flush().then(function(){setTimeout(function(){t.flushing=!1,t.queue.length&&t.scheduleFlush(0)},0)})},e))},t.prototype.deliver=function(e){return(0,Zv.sH)(this,void 0,void 0,function(){var t,n,r,o;return(0,Zv.YH)(this,function(i){switch(i.label){case 0:return[4,this.criticalTasks.done()];case 1:i.sent(),t=Date.now(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.flushOne(e)];case 3:return e=i.sent(),n=Date.now()-t,this.emit("delivery_success",e),e.stats.gauge("delivered",n),e.log("debug","Delivered",e.event),[2,e];case 4:throw r=i.sent(),o=r,e.log("error","Failed to deliver",o),this.emit("delivery_failure",e,o),e.stats.increment("delivery_failed"),r;case 5:return[2]}})})},t.prototype.enqueuRetry=function(e,t){return!(e instanceof Ag.d&&!e.retry)&&this.queue.pushWithBackoff(t)},t.prototype.flush=function(){return(0,Zv.sH)(this,void 0,void 0,function(){var e,t;return(0,Zv.YH)(this,function(n){switch(n.label){case 0:if(0===this.queue.length)return[2,[]];if(!(e=this.queue.pop()))return[2,[]];e.attempts=this.queue.getAttempts(e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.deliver(e)];case 2:return e=n.sent(),this.emit("flush",e,!0),[3,4];case 3:return t=n.sent(),this.enqueuRetry(t,e)||(e.setFailedDelivery({reason:t}),this.emit("flush",e,!1)),[2,[]];case 4:return[2,[e]]}})})},t.prototype.isReady=function(){return!0},t.prototype.availableExtensions=function(e){var t=this.plugins.filter(function(t){var n,r,o;if("destination"!==t.type&&"Segment.io"!==t.name)return!0;var i=void 0;return null===(n=t.alternativeNames)||void 0===n||n.forEach(function(t){void 0!==e[t]&&(i=e[t])}),null!==(o=null!==(r=e[t.name])&&void 0!==r?r:i)&&void 0!==o?o:!1!==("Segment.io"===t.name||e.All)}),n=function(e,t){var n={};return e.forEach(function(e){var r,o=void 0;if("string"===typeof t){var i=e[t];o="string"!==typeof i?JSON.stringify(i):i}else t instanceof Function&&(o=t(e));void 0!==o&&(n[o]=(0,Zv.fX)((0,Zv.fX)([],null!==(r=n[o])&&void 0!==r?r:[],!0),[e],!1))}),n}(t,"type"),r=n.before,o=void 0===r?[]:r,i=n.enrichment,a=void 0===i?[]:i,s=n.destination,u=void 0===s?[]:s,l=n.after;return{before:o,enrichment:a,destinations:u,after:void 0===l?[]:l}},t.prototype.flushOne=function(e){var t,n;return(0,Zv.sH)(this,void 0,void 0,function(){var r,o,i,a,s,u,l,c,f,d,h,p,v,g;return(0,Zv.YH)(this,function(y){switch(y.label){case 0:if(!this.isReady())throw new Error("Not ready");e.attempts>1&&this.emit("delivery_retry",e),r=this.availableExtensions(null!==(t=e.event.integrations)&&void 0!==t?t:{}),o=r.before,i=r.enrichment,a=0,s=o,y.label=1;case 1:return a<s.length?(u=s[a],[4,(0,Ng.D)(e,u)]):[3,4];case 2:(d=y.sent())instanceof Ag.j&&(e=d),this.emit("message_enriched",e,u),y.label=3;case 3:return a++,[3,1];case 4:l=0,c=i,y.label=5;case 5:return l<c.length?(f=c[l],[4,(0,Ng.C)(e,f)]):[3,8];case 6:(d=y.sent())instanceof Ag.j&&(e=d),this.emit("message_enriched",e,f),y.label=7;case 7:return l++,[3,5];case 8:return h=this.availableExtensions(null!==(n=e.event.integrations)&&void 0!==n?n:{}),p=h.destinations,v=h.after,[4,new Promise(function(t,n){setTimeout(function(){var r=p.map(function(t){return(0,Ng.C)(e,t)});Promise.all(r).then(t).catch(n)},0)})];case 9:return y.sent(),e.stats.increment("message_delivered"),this.emit("message_delivered",e),g=v.map(function(t){return(0,Ng.C)(e,t)}),[4,Promise.all(g)];case 10:return y.sent(),[2,e]}})})},t}(cg.v),Rg=function(e){function t(t){return e.call(this,"string"===typeof t?new Cg.x(4,t):t)||this}return(0,Zv.C6)(t,e),t.prototype.flush=function(){return(0,Zv.sH)(this,void 0,void 0,function(){return(0,Zv.YH)(this,function(t){return(0,ig.a)()?[2,[]]:[2,e.prototype.flush.call(this)]})})},t}(jg);function Ig(e){for(var t=e.constructor.prototype,n=0,r=Object.getOwnPropertyNames(t);n<r.length;n++){var o=r[n];if("constructor"!==o){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,o);i&&"function"===typeof i.value&&(e[o]=e[o].bind(e))}}return e}var Mg={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"},Dg=function(e,t,n,r){console.warn("".concat(e.constructor.name,": Can't ").concat(t,' key "').concat(n,'" | Err: ').concat(r))},Lg=function(){function e(e){this.stores=e}return e.prototype.get=function(e){for(var t=null,n=0,r=this.stores;n<r.length;n++){var o=r[n];try{if(void 0!==(t=o.get(e))&&null!==t)return t}catch(qm){Dg(o,"get",e,qm)}}return null},e.prototype.set=function(e,t){this.stores.forEach(function(n){try{n.set(e,t)}catch(qm){Dg(n,"set",e,qm)}})},e.prototype.clear=function(e){this.stores.forEach(function(t){try{t.remove(e)}catch(qm){Dg(t,"remove",e,qm)}})},e.prototype.getAndSync=function(e){var t=this.get(e),n="number"===typeof t?t.toString():t;return this.set(e,n),n},e}(),Bg=function(){function e(){this.cache={}}return e.prototype.get=function(e){var t;return null!==(t=this.cache[e])&&void 0!==t?t:null},e.prototype.set=function(e,t){this.cache[e]=t},e.prototype.remove=function(e){delete this.cache[e]},e}();function Fg(e){return e&&e.stores&&Array.isArray(e.stores)&&e.stores.every(function(e){return Object.values(Mg).includes(e)})}function Ug(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var zg=function e(t,n){function r(e,r,o){if("undefined"!==typeof document){"number"===typeof(o=Ug({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var a in o)o[a]&&(i+="; "+a,!0!==o[a]&&(i+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+i}}return Object.create({set:r,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(r[s]=t.read(a,s),e===s)break}catch(qm){}}return e?r[e]:r}},remove:function(e,t){r(e,"",Ug({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Ug({},this.attributes,t))},withConverter:function(t){return e(Ug({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const Vg=zg;function Wg(e){var t=function(e){try{return new URL(e)}catch(Fy){return}}(e);if(t)for(var n=function(e){var t=e.hostname.split("."),n=t[t.length-1],r=[];if(4===t.length&&parseInt(n,10)>0)return r;if(t.length<=1)return r;for(var o=t.length-2;o>=0;--o)r.push(t.slice(o).join("."));return r}(t),r=0;r<n.length;++r){var o="__tld__",i=n[r],a={domain:"."+i};try{if(Vg.set(o,"1",a),Vg.get(o))return Vg.remove(o,a),i}catch(s){return}}}var Hg=function(){function e(t){void 0===t&&(t=e.defaults),this.options=(0,Zv.Cl)((0,Zv.Cl)({},e.defaults),t)}return Object.defineProperty(e,"defaults",{get:function(){return{maxage:365,domain:Wg(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),e.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},e.prototype.get=function(e){var t;try{var n=Vg.get(e);if(void 0===n||null===n)return null;try{return null!==(t=JSON.parse(n))&&void 0!==t?t:null}catch(qm){return null!==n&&void 0!==n?n:null}}catch(qm){return null}},e.prototype.set=function(e,t){"string"===typeof t?Vg.set(e,t,this.opts()):null===t?Vg.remove(e,this.opts()):Vg.set(e,JSON.stringify(t),this.opts())},e.prototype.remove=function(e){return Vg.remove(e,this.opts())},e}(),Gg=function(){function e(){}return e.prototype.localStorageWarning=function(e,t){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(t))},e.prototype.get=function(e){var t;try{var n=localStorage.getItem(e);if(null===n)return null;try{return null!==(t=JSON.parse(n))&&void 0!==t?t:null}catch(qm){return null!==n&&void 0!==n?n:null}}catch(r){return this.localStorageWarning(e,"unavailable"),null}},e.prototype.set=function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(Fy){this.localStorageWarning(e,"full")}},e.prototype.remove=function(e){try{return localStorage.removeItem(e)}catch(t){this.localStorageWarning(e,"unavailable")}},e}();function qg(e){var t=e.map(function(e){var t,n;switch(!function(e){return"object"===typeof e&&void 0!==e.name}(e)?t=e:(t=e.name,n=e.settings),t){case Mg.Cookie:return new Hg(n);case Mg.LocalStorage:return new Gg;case Mg.Memory:return new Bg;default:throw new Error("Unknown Store Type: ".concat(e))}});return t}function Yg(e,t){return e.map(function(e){return t&&e===Mg.Cookie?{name:e,settings:t}:e})}var Xg={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},Kg=function(){function e(e,t){void 0===e&&(e=Xg);var n,r,o,i,a=this;this.options={},this.id=function(e){if(a.options.disable)return null;var t=a.identityStore.getAndSync(a.idKey);void 0!==e&&(a.identityStore.set(a.idKey,e),e!==t&&null!==t&&null!==e&&a.anonymousId(null));var n=a.identityStore.getAndSync(a.idKey);if(n)return n;var r=a.legacyUserStore.get(Xg.cookie.oldKey);return r?"object"===typeof r?r.id:r:null},this.anonymousId=function(e){var t,n;if(a.options.disable)return null;if(void 0===e){var r=null!==(t=a.identityStore.getAndSync(a.anonKey))&&void 0!==t?t:null===(n=a.legacySIO())||void 0===n?void 0:n[0];if(r)return r}return null===e?(a.identityStore.set(a.anonKey,null),a.identityStore.getAndSync(a.anonKey)):(a.identityStore.set(a.anonKey,null!==e&&void 0!==e?e:(0,fg.v4)()),a.identityStore.getAndSync(a.anonKey))},this.traits=function(e){var t;if(!a.options.disable)return null===e&&(e={}),e&&a.traitsStore.set(a.traitsKey,null!==e&&void 0!==e?e:{}),null!==(t=a.traitsStore.get(a.traitsKey))&&void 0!==t?t:{}},this.options=(0,Zv.Cl)((0,Zv.Cl)({},Xg),e),this.cookieOptions=t,this.idKey=null!==(r=null===(n=e.cookie)||void 0===n?void 0:n.key)&&void 0!==r?r:Xg.cookie.key,this.traitsKey=null!==(i=null===(o=e.localStorage)||void 0===o?void 0:o.key)&&void 0!==i?i:Xg.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,t),this.legacyUserStore=this.createStorage(this.options,t,function(e){return e===Mg.Cookie}),this.traitsStore=this.createStorage(this.options,t,function(e){return e!==Mg.Cookie});var s=this.legacyUserStore.get(Xg.cookie.oldKey);s&&"object"===typeof s&&(s.id&&this.id(s.id),s.traits&&this.traits(s.traits)),Ig(this)}return e.prototype.legacySIO=function(){var e=this.legacyUserStore.get("_sio");if(!e)return null;var t=e.split("----");return[t[0],t[1]]},e.prototype.identify=function(e,t){if(!this.options.disable){t=null!==t&&void 0!==t?t:{};var n=this.id();null!==n&&n!==e||(t=(0,Zv.Cl)((0,Zv.Cl)({},this.traits()),t)),e&&this.id(e),this.traits(t)}},e.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},e.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},e.prototype.load=function(){return new e(this.options,this.cookieOptions)},e.prototype.save=function(){return!0},e.prototype.createStorage=function(e,t,n){var r=[Mg.LocalStorage,Mg.Cookie,Mg.Memory];return e.disable?new Lg([]):e.persist?(void 0!==e.storage&&null!==e.storage&&Fg(e.storage)&&(r=e.storage.stores),e.localStorageFallbackDisabled&&(r=r.filter(function(e){return e!==Mg.LocalStorage})),n&&(r=r.filter(n)),new Lg(qg(Yg(r,t)))):new Lg([new Bg])},e.defaults=Xg,e}(),$g={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},Zg=function(e){function t(t,n){void 0===t&&(t=$g);var r=e.call(this,(0,Zv.Cl)((0,Zv.Cl)({},$g),t),n)||this;return r.anonymousId=function(e){},Ig(r),r}return(0,Zv.C6)(t,e),t}(Kg),Qg=n(5242),Jg=n(5198),ey=n(4145),ty=n(8178),ny=function(e,t,n){n.getAndRemove(e).forEach(function(e){fy(t,e).catch(console.error)})},ry=function(e,t){return(0,Zv.sH)(void 0,void 0,void 0,function(){var n,r,o;return(0,Zv.YH)(this,function(i){switch(i.label){case 0:n=0,r=t.getAndRemove("addSourceMiddleware"),i.label=1;case 1:return n<r.length?(o=r[n],[4,fy(e,o).catch(console.error)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},oy=function(e,t){return(0,Zv.sH)(void 0,void 0,void 0,function(){var n,r,o;return(0,Zv.YH)(this,function(i){switch(i.label){case 0:n=0,r=t.getAndRemove("register"),i.label=1;case 1:return n<r.length?(o=r[n],[4,fy(e,o).catch(console.error)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},iy=ny.bind(void 0,"on"),ay=ny.bind(void 0,"setAnonymousId"),sy=function(e){if(uy(e)){var t=e.pop();return vg(t)}},uy=function(e){return pg(e[e.length-1])},ly=function(e,t,n,r){void 0===n&&(n=function(){}),void 0===r&&(r=console.error),this.method=e,this.resolve=n,this.reject=r,this.called=!1,this.args=t},cy=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._callMap={},this.add.apply(this,e)}return Object.defineProperty(e.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(e){this._callMap=e},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t;return null!==(t=this.calls[e])&&void 0!==t?t:[]},e.prototype.getAndRemove=function(e){var t=this.get(e);return this.calls[e]=[],t},e.prototype.add=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach(function(t){["track","screen","alias","group","page","identify"].includes(t.method)&&!uy(t.args)&&(t.args=(0,Zv.fX)((0,Zv.fX)([],t.args,!0),[gg()],!1)),e.calls[t.method]?e.calls[t.method].push(t):e.calls[t.method]=[t]})},e.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},e.prototype.toArray=function(){var e;return(e=[]).concat.apply(e,Object.values(this.calls))},e.prototype._pushSnippetWindowBuffer=function(){if("npm"!==(0,ty.X)()){var e=(0,ey.kJ)();if(Array.isArray(e)){var t=e.splice(0,e.length).map(function(e){var t=e[0],n=e.slice(1);return new ly(t,n)});this.add.apply(this,t)}}},e}();function fy(e,t){return(0,Zv.sH)(this,void 0,void 0,function(){var n,r;return(0,Zv.YH)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),t.called?[2,void 0]:(t.called=!0,n=e[t.method].apply(e,t.args),"object"===typeof(i=n)&&null!==i&&"then"in i&&"function"===typeof i.then?[4,n]:[3,2]);case 1:o.sent(),o.label=2;case 2:return t.resolve(n),[3,4];case 3:return r=o.sent(),t.reject(r),[3,4];case 4:return[2]}var i})})}var dy=function(){function e(e){var t=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=Qg.r,this._preInitBuffer=new cy,this._promise=e(this._preInitBuffer),this._promise.then(function(e){var n=e[0],r=e[1];t.instance=n,t.ctx=r}).catch(function(){})}return e.prototype.then=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).then.apply(e,t)},e.prototype.catch=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).catch.apply(e,t)},e.prototype.finally=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).finally.apply(e,t)},e.prototype._createMethod=function(e){var t=this;return function(){for(var n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(t.instance){var i=(n=t.instance)[e].apply(n,r);return Promise.resolve(i)}return new Promise(function(n,o){t._preInitBuffer.add(new ly(e,r,n,o))})}},e.prototype._createChainableMethod=function(e){var t=this;return function(){for(var n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return t.instance?((n=t.instance)[e].apply(n,r),t):(t._preInitBuffer.add(new ly(e,r)),t)}},e}(),hy=n(7390),py=n(447),vy=function(e){function t(t,n){var r=e.call(this,t)||this;return r.retryTimeout=n,r.name="RateLimitError",r}return(0,Zv.C6)(t,e),t}(Error),gy=function(e){return(0,Zv.Cl)({"Content-Type":"text/plain"},"function"===typeof e?e():e)};function yy(e){return(encodeURI(JSON.stringify(e)).split(/%..|./).length-1)/1024}function my(e,t){var n,r,o,i=[],a=!1,s=null!==(n=null===t||void 0===t?void 0:t.size)&&void 0!==n?n:10,u=null!==(r=null===t||void 0===t?void 0:t.timeout)&&void 0!==r?r:5e3,l=0;function c(n){var r;if(0!==n.length){var o=null===(r=n[0])||void 0===r?void 0:r.writeKey,i=n.map(function(e){var t=e;t.sentAt;return(0,Zv.Tt)(t,["sentAt"])});return(0,py.h)("https://".concat(e,"/b"),{credentials:null===t||void 0===t?void 0:t.credentials,keepalive:(null===t||void 0===t?void 0:t.keepalive)||a,headers:gy(null===t||void 0===t?void 0:t.headers),method:"post",body:JSON.stringify({writeKey:o,batch:i,sentAt:(new Date).toISOString()}),priority:null===t||void 0===t?void 0:t.priority}).then(function(e){var t;if(e.status>=500)throw new Error("Bad response from server: ".concat(e.status));if(429===e.status){var n=null===(t=e.headers)||void 0===t?void 0:t.get("x-ratelimit-reset"),r="string"==typeof n?1e3*parseInt(n):u;throw new vy("Rate limit exceeded: ".concat(e.status),r)}})}}function f(e){var n;return void 0===e&&(e=1),(0,Zv.sH)(this,void 0,void 0,function(){var r;return(0,Zv.YH)(this,function(o){return i.length?(r=i,i=[],[2,null===(n=c(r))||void 0===n?void 0:n.catch(function(n){var o;ag.o.system().log("error","Error sending batch",n),e<=(null!==(o=null===t||void 0===t?void 0:t.maxRetries)&&void 0!==o?o:10)&&("RateLimitError"===n.name&&(l=n.retryTimeout),i.push.apply(i,r),i.map(function(t){if("_metadata"in t){var n=t;n._metadata=(0,Zv.Cl)((0,Zv.Cl)({},n._metadata),{retryCount:e})}}),d(e+1))})]):[2]})})}function d(e){void 0===e&&(e=1),o||(o=setTimeout(function(){o=void 0,f(e).catch(console.error)},l||u),l=0)}return function(e){var t=!1;window.addEventListener("pagehide",function(){t||e(t=!0)}),document.addEventListener("visibilitychange",function(){if("hidden"==document.visibilityState){if(t)return;t=!0}else t=!1;e(t)})}(function(e){if((a=e)&&i.length){var t=function(e){var t=[],n=0;return e.forEach(function(e){yy(t[n])>=64&&n++,t[n]?t[n].push(e):t[n]=[e]}),t}(i).map(c);Promise.all(t).catch(console.error)}}),{dispatch:function(e,n){return(0,Zv.sH)(this,void 0,void 0,function(){var e;return(0,Zv.YH)(this,function(r){return i.push(n),e=i.length>=s||function(e){return yy(e)>=450}(i)||(null===t||void 0===t?void 0:t.keepalive)&&function(e){return yy(e)>=54}(i),[2,e||a?f():d()]})})}}}function by(e,t,n,r,o){var i,a=e.user();delete t.options,t.writeKey=null===n||void 0===n?void 0:n.apiKey,t.userId=t.userId||a.id(),t.anonymousId=t.anonymousId||a.anonymousId(),t.sentAt=new Date;var s=e.queue.failedInitializations||[];s.length>0&&(t._metadata={failedInitializations:s}),null!=o&&(o.attempts>1&&(t._metadata=(0,Zv.Cl)((0,Zv.Cl)({},t._metadata),{retryCount:o.attempts})),o.attempts++);var u=[],l=[];for(var c in r){var f=r[c];"Segment.io"===c&&u.push(c),"bundled"===f.bundlingStatus&&u.push(c),"unbundled"===f.bundlingStatus&&l.push(c)}for(var d=0,h=(null===n||void 0===n?void 0:n.unbundledIntegrations)||[];d<h.length;d++){var p=h[d];l.includes(p)||l.push(p)}var v=null!==(i=null===n||void 0===n?void 0:n.maybeBundledConfigIds)&&void 0!==i?i:{},g=[];return u.sort().forEach(function(e){var t;(null!==(t=v[e])&&void 0!==t?t:[]).forEach(function(e){g.push(e)})}),!1!==(null===n||void 0===n?void 0:n.addBundledMetadata)&&(t._metadata=(0,Zv.Cl)((0,Zv.Cl)({},t._metadata),{bundled:u.sort(),unbundled:l.sort(),bundledIds:g})),t}var _y=n(428);function wy(e,t){return(0,Zv.sH)(this,void 0,void 0,function(){var n,r=this;return(0,Zv.YH)(this,function(o){switch(o.label){case 0:return n=[],(0,ig.a)()?[2,t]:[4,(0,_y._)(function(){return t.length>0&&!(0,ig.a)()},function(){return(0,Zv.sH)(r,void 0,void 0,function(){var r,o;return(0,Zv.YH)(this,function(i){switch(i.label){case 0:return(r=t.pop())?[4,(0,Ng.C)(r,e)]:[2];case 1:return o=i.sent(),o instanceof ag.o||n.push(r),[2]}})})})];case 1:return o.sent(),n.map(function(e){return t.pushWithBackoff(e)}),[2,t]}})})}function xy(e,t,n,r){var o=this;e||setTimeout(function(){return(0,Zv.sH)(o,void 0,void 0,function(){var e,o;return(0,Zv.YH)(this,function(i){switch(i.label){case 0:return e=!0,[4,wy(n,t)];case 1:return o=i.sent(),e=!1,t.todo>0&&r(e,o,n,r),[2]}})})},5e3*Math.random())}var Ey=n(4268);var Oy=function(e){return"Segment.io"===e.name};function Sy(e,t,n){var r,o,i;window.addEventListener("pagehide",function(){u.push.apply(u,Array.from(l)),l.clear()});var a,s=null!==(r=null===t||void 0===t?void 0:t.apiKey)&&void 0!==r?r:"",u=e.options.disableClientPersistence?new kg.M(e.queue.queue.maxAttempts,[]):new Cg.x(e.queue.queue.maxAttempts,"".concat(s,":dest-Segment.io")),l=new Set,c=!1,f=null!==(o=null===t||void 0===t?void 0:t.apiHost)&&void 0!==o?o:Ey.a,d=null!==(i=null===t||void 0===t?void 0:t.protocol)&&void 0!==i?i:"https",h="".concat(d,"://").concat(f),p=null===t||void 0===t?void 0:t.deliveryStrategy,v=p&&"strategy"in p&&"batching"===p.strategy?my(f,p.config):(a=null===p||void 0===p?void 0:p.config,{dispatch:function(e,t){return(0,py.h)(e,{credentials:null===a||void 0===a?void 0:a.credentials,keepalive:null===a||void 0===a?void 0:a.keepalive,headers:gy(null===a||void 0===a?void 0:a.headers),method:"post",body:JSON.stringify(t),priority:null===a||void 0===a?void 0:a.priority}).then(function(e){var t;if(e.status>=500)throw new Error("Bad response from server: ".concat(e.status));if(429===e.status){var n=null===(t=e.headers)||void 0===t?void 0:t.get("x-ratelimit-reset"),r=n?1e3*parseInt(n):5e3;throw new vy("Rate limit exceeded: ".concat(e.status),r)}})}});function g(r){return(0,Zv.sH)(this,void 0,void 0,function(){var o,i;return(0,Zv.YH)(this,function(a){return(0,ig.a)()?(u.push(r),xy(c,u,y,xy),[2,r]):(l.add(r),o=r.event.type.charAt(0),i=(0,hy.W)(r.event).json(),"track"===r.event.type&&delete i.traits,"alias"===r.event.type&&(i=function(e,t){var n,r,o,i,a=e.user();return t.previousId=null!==(o=null!==(r=null!==(n=t.previousId)&&void 0!==n?n:t.from)&&void 0!==r?r:a.id())&&void 0!==o?o:a.anonymousId(),t.userId=null!==(i=t.userId)&&void 0!==i?i:t.to,delete t.from,delete t.to,t}(e,i)),u.getAttempts(r)>=u.maxAttempts?(l.delete(r),[2,r]):[2,v.dispatch("".concat(h,"/").concat(o),by(e,i,t,n,r)).then(function(){return r}).catch(function(e){if(r.log("error","Error sending event",e),"RateLimitError"===e.name){var t=e.retryTimeout;u.pushWithBackoff(r,t)}else u.pushWithBackoff(r);return xy(c,u,y,xy),r}).finally(function(){l.delete(r)})])})})}var y={metadata:{writeKey:s,apiHost:f,protocol:d},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:g,identify:g,page:g,alias:g,group:g,screen:g};return u.todo&&xy(c,u,y,xy),y}var Ty="This is being deprecated and will be not be available in future releases of Analytics JS",Py=(0,Jg.m)(),Cy=null===Py||void 0===Py?void 0:Py.analytics;var ky=function(){function e(e,t){var n;this.timeout=300,this._getSegmentPluginMetadata=function(){var e;return null===(e=t.plugins.find(Oy))||void 0===e?void 0:e.metadata},this.writeKey=e.writeKey;this.cdnSettings=null!==(n=e.cdnSettings)&&void 0!==n?n:{integrations:{"Segment.io":{apiKey:""}}},this.cdnURL=e.cdnURL}return Object.defineProperty(e.prototype,"apiHost",{get:function(){var e,t;return null===(t=null===(e=this._getSegmentPluginMetadata)||void 0===e?void 0:e.call(this))||void 0===t?void 0:t.apiHost},enumerable:!1,configurable:!0}),e}();function Ay(){console.warn(Ty)}var Ny,jy=function(e){function t(t,n,r,o,i){var a,s,u=this;(u=e.call(this)||this)._debug=!1,u.initialized=!1,u.user=function(){return u._user},u.init=u.initialize.bind(u),u.log=Ay,u.addIntegrationMiddleware=Ay,u.listeners=Ay,u.addEventListener=Ay,u.removeAllListeners=Ay,u.removeListener=Ay,u.removeEventListener=Ay,u.hasListeners=Ay,u.add=Ay,u.addIntegration=Ay;var l=null===n||void 0===n?void 0:n.cookie,c=null!==(a=null===n||void 0===n?void 0:n.disableClientPersistence)&&void 0!==a&&a;u.queue=null!==r&&void 0!==r?r:function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=t?10:1,o=n?new kg.M(r,[]):new Cg.x(r,e);return new Rg(o)}("".concat(t.writeKey,":event-queue"),null===n||void 0===n?void 0:n.retryQueue,c),u.settings=new ky(t,u.queue);var f=null===n||void 0===n?void 0:n.storage;return u._universalStorage=u.createStore(c,f,l),u._user=null!==o&&void 0!==o?o:new Kg((0,Zv.Cl)({persist:!c,storage:null===n||void 0===n?void 0:n.storage},null===n||void 0===n?void 0:n.user),l).load(),u._group=null!==i&&void 0!==i?i:new Zg((0,Zv.Cl)({persist:!c,storage:null===n||void 0===n?void 0:n.storage},null===n||void 0===n?void 0:n.group),l).load(),u.eventFactory=new Tg(u._user),u.integrations=null!==(s=null===n||void 0===n?void 0:n.integrations)&&void 0!==s?s:{},u.options=null!==n&&void 0!==n?n:{},Ig(u),u}return(0,Zv.C6)(t,e),t.prototype.createStore=function(e,t,n){return e?new Lg([new Bg]):t&&Fg(t)?new Lg(qg(Yg(t.stores,n))):new Lg(qg([Mg.LocalStorage,{name:Mg.Cookie,settings:n},Mg.Memory]))},Object.defineProperty(t.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),t.prototype.track=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Zv.sH)(this,void 0,void 0,function(){var t,n,r,o,i,a,s,u=this;return(0,Zv.YH)(this,function(l){return t=sy(e),n=tg.apply(void 0,e),r=n[0],o=n[1],i=n[2],a=n[3],s=this.eventFactory.track(r,o,i,this.integrations,t),[2,this._dispatch(s,a).then(function(e){return u.emit("track",r,e.event.properties,e.event.options),e})]})})},t.prototype.page=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Zv.sH)(this,void 0,void 0,function(){var t,n,r,o,i,a,s,u,l=this;return(0,Zv.YH)(this,function(c){return t=sy(e),n=ng.apply(void 0,e),r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],u=this.eventFactory.page(r,o,i,a,this.integrations,t),[2,this._dispatch(u,s).then(function(e){return l.emit("page",r,o,e.event.properties,e.event.options),e})]})})},t.prototype.identify=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Zv.sH)(this,void 0,void 0,function(){var t,n,r,o,i,a,s,u=this;return(0,Zv.YH)(this,function(l){return t=sy(e),n=rg(this._user).apply(void 0,e),r=n[0],o=n[1],i=n[2],a=n[3],this._user.identify(r,o),s=this.eventFactory.identify(this._user.id(),this._user.traits(),i,this.integrations,t),[2,this._dispatch(s,a).then(function(e){return u.emit("identify",e.event.userId,e.event.traits,e.event.options),e})]})})},t.prototype.group=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=sy(t);if(0===t.length)return this._group;var o=rg(this._group).apply(void 0,t),i=o[0],a=o[1],s=o[2],u=o[3];this._group.identify(i,a);var l=this._group.id(),c=this._group.traits(),f=this.eventFactory.group(l,c,s,this.integrations,r);return this._dispatch(f,u).then(function(t){return e.emit("group",t.event.groupId,t.event.traits,t.event.options),t})},t.prototype.alias=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Zv.sH)(this,void 0,void 0,function(){var t,n,r,o,i,a,s,u=this;return(0,Zv.YH)(this,function(l){return t=sy(e),n=og.apply(void 0,e),r=n[0],o=n[1],i=n[2],a=n[3],s=this.eventFactory.alias(r,o,i,this.integrations,t),[2,this._dispatch(s,a).then(function(e){return u.emit("alias",r,o,e.event.options),e})]})})},t.prototype.screen=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Zv.sH)(this,void 0,void 0,function(){var t,n,r,o,i,a,s,u,l=this;return(0,Zv.YH)(this,function(c){return t=sy(e),n=ng.apply(void 0,e),r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],u=this.eventFactory.screen(r,o,i,a,this.integrations,t),[2,this._dispatch(u,s).then(function(e){return l.emit("screen",r,o,e.event.properties,e.event.options),e})]})})},t.prototype.trackClick=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Zv.sH)(this,void 0,void 0,function(){var t,r;return(0,Zv.YH)(this,function(o){switch(o.label){case 0:return[4,n.e(248).then(n.bind(n,2001))];case 1:return t=o.sent(),[2,(r=t.link).call.apply(r,(0,Zv.fX)([this],e,!1))]}})})},t.prototype.trackLink=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Zv.sH)(this,void 0,void 0,function(){var t,r;return(0,Zv.YH)(this,function(o){switch(o.label){case 0:return[4,n.e(248).then(n.bind(n,2001))];case 1:return t=o.sent(),[2,(r=t.link).call.apply(r,(0,Zv.fX)([this],e,!1))]}})})},t.prototype.trackSubmit=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Zv.sH)(this,void 0,void 0,function(){var t,r;return(0,Zv.YH)(this,function(o){switch(o.label){case 0:return[4,n.e(248).then(n.bind(n,2001))];case 1:return t=o.sent(),[2,(r=t.form).call.apply(r,(0,Zv.fX)([this],e,!1))]}})})},t.prototype.trackForm=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Zv.sH)(this,void 0,void 0,function(){var t,r;return(0,Zv.YH)(this,function(o){switch(o.label){case 0:return[4,n.e(248).then(n.bind(n,2001))];case 1:return t=o.sent(),[2,(r=t.form).call.apply(r,(0,Zv.fX)([this],e,!1))]}})})},t.prototype.register=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Zv.sH)(this,void 0,void 0,function(){var t,n,r=this;return(0,Zv.YH)(this,function(o){switch(o.label){case 0:return t=ag.o.system(),n=e.map(function(e){return r.queue.register(t,e,r)}),[4,Promise.all(n)];case 1:return o.sent(),[2,t]}})})},t.prototype.deregister=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Zv.sH)(this,void 0,void 0,function(){var t,n,r=this;return(0,Zv.YH)(this,function(o){switch(o.label){case 0:return t=ag.o.system(),n=e.map(function(e){var n=r.queue.plugins.find(function(t){return t.name===e});if(n)return r.queue.deregister(t,n,r);t.log("warn","plugin ".concat(e," not found"))}),[4,Promise.all(n)];case 1:return o.sent(),[2,t]}})})},t.prototype.debug=function(e){return!1===e&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=e,this},t.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},t.prototype.timeout=function(e){this.settings.timeout=e},t.prototype._dispatch=function(e,t){return(0,Zv.sH)(this,void 0,void 0,function(){var n;return(0,Zv.YH)(this,function(r){return(n=new ag.o(e)).stats.increment("analytics_js.invoke",1,[e.type]),(0,ig.a)()&&!this.options.retryQueue?[2,n]:[2,lg(n,this.queue,this,{callback:t,debug:this._debug,timeout:this.settings.timeout})]})})},t.prototype.addSourceMiddleware=function(e){return(0,Zv.sH)(this,void 0,void 0,function(){var t=this;return(0,Zv.YH)(this,function(r){switch(r.label){case 0:return[4,this.queue.criticalTasks.run(function(){return(0,Zv.sH)(t,void 0,void 0,function(){var t,r,o;return(0,Zv.YH)(this,function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,9892))];case 1:return t=i.sent().sourceMiddlewarePlugin,r={},this.queue.plugins.forEach(function(e){if("destination"===e.type)return r[e.name]=!0}),o=t(e,r),[4,this.register(o)];case 2:return i.sent(),[2]}})})})];case 1:return r.sent(),[2,this]}})})},t.prototype.addDestinationMiddleware=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.queue.plugins.filter(Pg).forEach(function(n){"*"!==e&&n.name.toLowerCase()!==e.toLowerCase()||n.addMiddleware.apply(n,t)}),Promise.resolve(this)},t.prototype.setAnonymousId=function(e){return this._user.anonymousId(e)},t.prototype.queryString=function(e){return(0,Zv.sH)(this,void 0,void 0,function(){return(0,Zv.YH)(this,function(t){switch(t.label){case 0:return!1===this.options.useQueryString?[2,[]]:[4,n.e(538).then(n.bind(n,9045))];case 1:return[2,(0,t.sent().queryString)(this,e)]}})})},t.prototype.use=function(e){return e(this),this},t.prototype.ready=function(e){return void 0===e&&(e=function(e){return e}),(0,Zv.sH)(this,void 0,void 0,function(){return(0,Zv.YH)(this,function(t){return[2,Promise.all(this.queue.plugins.map(function(e){return e.ready?e.ready():Promise.resolve()})).then(function(t){return e(t),t})]})})},t.prototype.noConflict=function(){return console.warn(Ty),(0,ey.Ud)(null!==Cy&&void 0!==Cy?Cy:this),this},t.prototype.normalize=function(e){return console.warn(Ty),this.eventFactory.normalize(e)},Object.defineProperty(t.prototype,"failedInitializations",{get:function(){return console.warn(Ty),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"VERSION",{get:function(){return Qg.r},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e,t){return(0,Zv.sH)(this,void 0,void 0,function(){return(0,Zv.YH)(this,function(e){return console.warn(Ty),[2,Promise.resolve(this)]})})},t.prototype.pageview=function(e){return(0,Zv.sH)(this,void 0,void 0,function(){return(0,Zv.YH)(this,function(t){switch(t.label){case 0:return console.warn(Ty),[4,this.page({path:e})];case 1:return t.sent(),[2,this]}})})},Object.defineProperty(t.prototype,"plugins",{get:function(){var e;return console.warn(Ty),null!==(e=this._plugins)&&void 0!==e?e:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Integrations",{get:function(){return console.warn(Ty),this.queue.plugins.filter(function(e){return"destination"===e.type}).reduce(function(e,t){var n="".concat(t.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),r=window[n];if(!r)return e;var o=r.Integration;return o?(e[t.name]=o,e):(e[t.name]=r,e)},{})},enumerable:!1,configurable:!0}),t.prototype.push=function(e){var t=e.shift();t&&!this[t]||this[t].apply(this,e)},t}(cg.v),Ry=function(e){function t(){var t=e.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return t.initialized=!0,t}return(0,Zv.C6)(t,e),t}(jy),Iy=n(2145),My=n(4228),Dy=n(7801);function Ly(e){return(0,Zv.sH)(this,void 0,void 0,function(){var t;return(0,Zv.YH)(this,function(n){return(t=navigator.userAgentData)?e?[2,t.getHighEntropyValues(e).catch(function(){return t.toJSON()})]:[2,t.toJSON()]:[2,void 0]})})}function By(){if(Ny)return Ny;var e=Wg(window.location.href);return Ny={expires:31536e6,secure:!1,path:"/"},e&&(Ny.domain=e),Ny}var Fy,Uy,zy=function(){var e=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(t,n){return(0,Zv.sH)(e,void 0,void 0,function(){var e;return(0,Zv.YH)(this,function(t){switch(t.label){case 0:this.instance=n,t.label=1;case 1:return t.trys.push([1,3,,4]),e=this,[4,Ly(this.instance.options.highEntropyValuesClientHints)];case 2:return e.userAgentData=t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(t){var n,r,o=t.event.context,i=o.page.search||"",a="object"===typeof i?function(e){try{var t=new URLSearchParams;return Object.entries(e).forEach(function(e){var n=e[0],r=e[1];Array.isArray(r)?r.forEach(function(e){return t.append(n,e)}):t.append(n,r)}),t.toString()}catch(n){return""}}(i):i;o.userAgent=navigator.userAgent,o.userAgentData=e.userAgentData;var s=navigator.userLanguage||navigator.language;"undefined"===typeof o.locale&&"undefined"!==typeof s&&(o.locale=s),null!==(n=o.library)&&void 0!==n||(o.library={name:"analytics.js",version:"".concat("web"===(0,ty.X)()?"next":"npm:next","-").concat(Qg.r)}),a&&!o.campaign&&(o.campaign=function(e){return e.startsWith("?")&&(e=e.substring(1)),(e=e.replace(/\?/g,"&")).split("&").reduce(function(e,t){var n=t.split("="),r=n[0],o=n[1],i=void 0===o?"":o;if(r.includes("utm_")&&r.length>4){var a=r.slice(4);"campaign"===a&&(a="name"),e[a]=(0,Dy.p)(i)}return e},{})}(a));var u=function(){var e=Vg.get("_ga");if(e&&e.startsWith("amp"))return e}();u&&(o.amp={id:u}),function(e,t,n){var r,o=new Lg(n?[]:[new Hg(By())]),i=o.get("s:context.referrer"),a=null!==(r=function(e){var t={btid:"dataxu",urid:"millennial-media"};e.startsWith("?")&&(e=e.substring(1));for(var n=0,r=(e=e.replace(/\?/g,"&")).split("&");n<r.length;n++){var o=r[n].split("="),i=o[0],a=o[1];if(t[i])return{id:a,type:t[i]}}}(e))&&void 0!==r?r:i;a&&(t&&(t.referrer=(0,Zv.Cl)((0,Zv.Cl)({},t.referrer),a)),o.set("s:context.referrer",a))}(a,o,null!==(r=e.instance.options.disableClientPersistence)&&void 0!==r&&r);try{o.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(l){}return t},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich},Vy=new zy,Wy=n(5408),Hy=n(9892),Gy=n(8584),qy=function(){function e(e,t){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=(0,My.u)(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=t,this.name=e,this.type=t.type,this.alternativeNames.push(t.name)}return e.prototype.addMiddleware=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];"destination"===this.type&&(e=this.middleware).push.apply(e,t)},e.prototype.transform=function(e){return(0,Zv.sH)(this,void 0,void 0,function(){var t;return(0,Zv.YH)(this,function(n){switch(n.label){case 0:return[4,(0,Hy.applyDestinationMiddleware)(this.name,e.event,this.middleware)];case 1:return null===(t=n.sent())&&e.cancel(new Ag.d({retry:!1,reason:"dropped by destination middleware"})),[2,new ag.o(t)]}})})},e.prototype._createMethod=function(e){var t=this;return function(n){return(0,Zv.sH)(t,void 0,void 0,function(){var t,r;return(0,Zv.YH)(this,function(o){switch(o.label){case 0:return this.action[e]?(t=n,"destination"!==this.type?[3,2]:[4,this.transform(n)]):[2,n];case 1:t=o.sent(),o.label=2;case 2:return o.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!o.sent())throw new Error("Something prevented the destination from getting ready");return(0,Gy.y)(n,{integrationName:this.action.name,methodName:e,type:"action"}),[4,this.action[e](t)];case 4:return o.sent(),[3,6];case 5:throw r=o.sent(),(0,Gy.y)(n,{integrationName:this.action.name,methodName:e,type:"action",didError:!0}),r;case 6:return[2,n]}})})}},e.prototype.isLoaded=function(){return this.action.isLoaded()},e.prototype.ready=function(){return(0,Zv.sH)(this,void 0,void 0,function(){return(0,Zv.YH)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return e.sent(),[2,!0];case 2:return e.sent(),[2,!1];case 3:return[2]}})})},e.prototype.load=function(e,t){return(0,Zv.sH)(this,void 0,void 0,function(){var n,r,o,i;return(0,Zv.YH)(this,function(a){switch(a.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];a.label=1;case 1:return a.trys.push([1,3,,4]),(0,Gy.y)(e,{integrationName:this.action.name,methodName:"load",type:"action"}),n=this.action.load(e,t),o=(r=this.loadPromise).resolve,[4,n];case 2:return o.apply(r,[a.sent()]),[2,n];case 3:throw i=a.sent(),(0,Gy.y)(e,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(i),i;case 4:return[2]}})})},e.prototype.unload=function(e,t){var n,r;return null===(r=(n=this.action).unload)||void 0===r?void 0:r.call(n,e,t)},e}();function Yy(e,t){return(0,Zv.sH)(this,void 0,void 0,function(){var n,r,o,i,a,s;return(0,Zv.YH)(this,function(u){switch(u.label){case 0:if(u.trys.push([0,9,,10]),n=new RegExp("https://cdn.segment.(com|build)"),r=(0,Jv.I2)(),!t)return[3,6];o=e.url.split("/"),i=o[o.length-2],a=e.url.replace(i,btoa(i).replace(/=/g,"")),u.label=1;case 1:return u.trys.push([1,3,,5]),[4,(0,Wy.k)(a.replace(n,r))];case 2:return u.sent(),[3,5];case 3:return u.sent(),[4,(0,Wy.k)(e.url.replace(n,r))];case 4:return u.sent(),[3,5];case 5:return[3,8];case 6:return[4,(0,Wy.k)(e.url.replace(n,r))];case 7:u.sent(),u.label=8;case 8:return"function"===typeof window[e.libraryName]?[2,window[e.libraryName]]:[3,10];case 9:throw s=u.sent(),console.error("Failed to create PluginFactory",e),s;case 10:return[2]}})})}function Xy(e,t,n,r,o,i){var a,s,u;return(0,Zv.sH)(this,void 0,void 0,function(){var l,c,f,d=this;return(0,Zv.YH)(this,function(h){switch(h.label){case 0:return l=[],c=null!==(s=null===(a=e.middlewareSettings)||void 0===a?void 0:a.routingRules)&&void 0!==s?s:[],f=(null!==(u=e.remotePlugins)&&void 0!==u?u:[]).map(function(e){return(0,Zv.sH)(d,void 0,void 0,function(){var a,s,u,f,d,h,p;return(0,Zv.YH)(this,function(v){switch(v.label){case 0:if(function(e,t){var n=e[t.creationName],r=e[t.name];return!1===e.All&&!n&&!r||!1===n||!1===r}(t,e))return[2];v.label=1;case 1:return v.trys.push([1,6,,7]),(s=null===i||void 0===i?void 0:i.find(function(t){return t.pluginName===e.name}))?[3,3]:[4,Yy(e,null===r||void 0===r?void 0:r.obfuscate)];case 2:s=v.sent(),v.label=3;case 3:return(a=s)?(u=n[e.name],[4,a((0,Zv.Cl)((0,Zv.Cl)({},e.settings),u))]):[3,5];case 4:f=v.sent(),function(e){if(!Array.isArray(e))throw new Error("Not a valid list of plugins");var t=["load","isLoaded","name","version","type"];e.forEach(function(e){t.forEach(function(t){var n;if(void 0===e[t])throw new Error("Plugin: ".concat(null!==(n=e.name)&&void 0!==n?n:"unknown"," missing required function ").concat(t))})})}(d=Array.isArray(f)?f:[f]),h=c.filter(function(t){return t.destinationName===e.creationName}),d.forEach(function(t){var n=new qy(e.creationName,t);h.length&&o&&n.addMiddleware(o),l.push(n)}),v.label=5;case 5:return[3,7];case 6:return p=v.sent(),console.warn("Failed to load Remote Plugin",p),[3,7];case 7:return[2]}})})}),[4,Promise.all(f)];case 1:return h.sent(),[2,l.filter(Boolean)]}})})}var Ky=null!==(Fy=(Uy=(0,Jg.m)()).__SEGMENT_INSPECTOR__)&&void 0!==Fy?Fy:Uy.__SEGMENT_INSPECTOR__={},$y=n(4387);function Zy(e,t,n){return(0,Zv.sH)(this,void 0,void 0,function(){return(0,Zv.YH)(this,function(r){switch(r.label){case 0:return[4,Qy(e,t)];case 1:return r.sent(),function(e,t){Object.keys(t.calls).forEach(function(n){t.getAndRemove(n).forEach(function(t){setTimeout(function(){fy(e,t).catch(console.error)},0)})})}(e,n),[2]}})})}var Qy=function(e,t){return(0,Zv.sH)(void 0,void 0,void 0,function(){return(0,Zv.YH)(this,function(n){switch(n.label){case 0:return t.includes("ajs_")?[4,e.queryString(t).catch(console.error)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})};function Jy(e,t,r,o,i,a,s){var u,l,c;return void 0===i&&(i=[]),(0,Zv.sH)(this,void 0,void 0,function(){var f,d,h,p,v,g,y,m,b,_,w,x,E,O,S=this;return(0,Zv.YH)(this,function(T){switch(T.label){case 0:return function(e,t){ay(e,t),iy(e,t)}(r,s),f=null===i||void 0===i?void 0:i.filter(function(e){return"object"===typeof e}),d=null===i||void 0===i?void 0:i.filter(function(e){return"function"===typeof e&&"string"===typeof e.pluginName}),function(e){var t,n,r;return"test"!==Qv().NODE_ENV&&(null!==(r=null===(n=null===(t=e.middlewareSettings)||void 0===t?void 0:t.routingRules)||void 0===n?void 0:n.length)&&void 0!==r?r:0)>0}(t)?[4,n.e(10).then(n.bind(n,1229)).then(function(e){return e.tsubMiddleware(t.middlewareSettings.routingRules)})]:[3,2];case 1:return p=T.sent(),[3,3];case 2:p=void 0,T.label=3;case 3:return h=p,P=t,"test"!==Qv().NODE_ENV&&Object.keys(P.integrations).length>1||a.length>0?[4,n.e(50).then(n.bind(n,4775)).then(function(n){return n.ajsDestinations(e,t,r.integrations,o,h,a)})]:[3,5];case 4:return g=T.sent(),[3,6];case 5:g=[],T.label=6;case 6:return v=g,t.legacyVideoPluginsEnabled?[4,n.e(694).then(n.bind(n,4508)).then(function(e){return e.loadLegacyVideoPlugins(r)})]:[3,8];case 7:T.sent(),T.label=8;case 8:return(null===(u=o.plan)||void 0===u?void 0:u.track)?[4,n.e(104).then(n.bind(n,2056)).then(function(e){var n;return e.schemaFilter(null===(n=o.plan)||void 0===n?void 0:n.track,t)})]:[3,10];case 9:return m=T.sent(),[3,11];case 10:m=void 0,T.label=11;case 11:return y=m,b=(0,Iy.J)(t,o),[4,Xy(t,r.integrations,b,o,h,d).catch(function(){return[]})];case 12:return _=T.sent(),w=(0,Zv.fX)((0,Zv.fX)([Vy],v,!0),_,!0),y&&w.push(y),!1===(null===(l=o.integrations)||void 0===l?void 0:l.All)&&!o.integrations["Segment.io"]||o.integrations&&!1===o.integrations["Segment.io"]?[3,14]:(E=(x=w).push,[4,Sy(r,b["Segment.io"],t.integrations)]);case 13:E.apply(x,[T.sent()]),T.label=14;case 14:return[4,r.register.apply(r,(0,Zv.fX)((0,Zv.fX)([],w,!1),f,!1))];case 15:return O=T.sent(),[4,oy(r,s)];case 16:return T.sent(),Object.entries(null!==(c=t.enabledMiddleware)&&void 0!==c?c:{}).some(function(e){return e[1]})?[4,n.e(521).then(n.bind(n,3437)).then(function(e){var n=e.remoteMiddlewares;return(0,Zv.sH)(S,void 0,void 0,function(){var e,i;return(0,Zv.YH)(this,function(a){switch(a.label){case 0:return[4,n(O,t,o.obfuscate)];case 1:return e=a.sent(),i=e.map(function(e){return r.addSourceMiddleware(e)}),[2,Promise.all(i)]}})})})]:[3,18];case 17:T.sent(),T.label=18;case 18:return[4,ry(r,s)];case 19:return T.sent(),[2,O]}var P})})}function em(e,t,n){var r,o,i,a,s,u,l,c,f;return void 0===t&&(t={}),(0,Zv.sH)(this,void 0,void 0,function(){var d,h,p,v,g,y,m,b,_,w;return(0,Zv.YH)(this,function(x){switch(x.label){case 0:return!0===t.disable?[2,[new Ry,ag.o.system()]]:(t.globalAnalyticsKey&&(0,ey.rY)(t.globalAnalyticsKey),e.cdnURL&&(0,Jv.qQ)(e.cdnURL),t.initialPageview&&n.add(new ly("page",[])),d=function(){var e,t,n=null!==(e=window.location.hash)&&void 0!==e?e:"",r=null!==(t=window.location.search)&&void 0!==t?t:"";return r.length?r:n.replace(/(?=#).*(?=\?)/,"")}(),h=null!==(r=e.cdnURL)&&void 0!==r?r:(0,Jv.I2)(),null===(o=e.cdnSettings)||void 0===o?[3,1]:(v=o,[3,3]));case 1:return[4,(E=e.writeKey,O=h,(0,py.h)("".concat(O,"/v1/projects/").concat(E,"/settings")).then(function(e){return e.ok?e.json():e.text().then(function(e){throw new Error(e)})}).catch(function(e){throw console.error(e.message),e}))];case 2:v=x.sent(),x.label=3;case 3:return p=v,t.updateCDNSettings&&(p=t.updateCDNSettings(p)),"function"!==typeof t.disable?[3,5]:[4,t.disable(p)];case 4:if(x.sent())return[2,[new Ry,ag.o.system()]];x.label=5;case 5:return g=null===(a=null===(i=p.integrations["Segment.io"])||void 0===i?void 0:i.retryQueue)||void 0===a||a,t=(0,Zv.Cl)({retryQueue:g},t),function(e){var t;null===(t=Ky.attach)||void 0===t||t.call(Ky,e)}(y=new jy((0,Zv.Cl)((0,Zv.Cl)({},e),{cdnSettings:p,cdnURL:h}),t)),m=null!==(s=e.plugins)&&void 0!==s?s:[],b=null!==(u=e.classicIntegrations)&&void 0!==u?u:[],_=null===(l=t.integrations)||void 0===l?void 0:l["Segment.io"],$y.U.initRemoteMetrics((0,Zv.Cl)((0,Zv.Cl)({},p.metrics),{host:null!==(c=null===_||void 0===_?void 0:_.apiHost)&&void 0!==c?c:null===(f=p.metrics)||void 0===f?void 0:f.host,protocol:null===_||void 0===_?void 0:_.protocol})),[4,Jy(e.writeKey,p,y,t,m,b,n)];case 6:return w=x.sent(),y.initialized=!0,y.emit("initialize",e,t),[4,Zy(y,d,n)];case 7:return x.sent(),[2,[y,w]]}var E,O})})}var tm=function(e){function t(){var t=this,n=(0,My.u)(),r=n.promise,o=n.resolve;return t=e.call(this,function(e){return r.then(function(t){return em(t[0],t[1],e)})})||this,t._resolveLoadStart=function(e,t){return o([e,t])},t}return(0,Zv.C6)(t,e),t.prototype.load=function(e,t){return void 0===t&&(t={}),this._resolveLoadStart(e,t),this},t.load=function(e,n){return void 0===n&&(n={}),(new t).load(e,n)},t.standalone=function(e,n){return t.load({writeKey:e},n).then(function(e){return e[0]})},t}(dy),nm={7991:(e,t)=>{t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=s(e),a=i[0],u=i[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,u)),c=0,f=u>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===u&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[c++]=255&t),1===u&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,l=r-o;s<l;s+=a)i.push(u(e,s,s+a>l?l:s+a));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},1048:(e,t,n)=>{const r=n(7991),o=n(9318),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|v(e,t);let r=s(n);const o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);const o=function(e){if(u.isBuffer(e)){const t=0|p(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||$(e.length)?s(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return c(e),s(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function v(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(o)return r?-1:q(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),$(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){let i,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<s;i++)if(l(e,i)===l(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===u)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){let n=!0;for(let r=0;r<u;r++)if(l(e,i+r)!==l(t,r)){n=!1;break}if(n)return i}return-1}function _(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if($(r))return a;e[n+a]=r}return a}function w(e,t,n,r){return X(q(t,e.length-n),e,n,r)}function x(e,t,n,r){return X(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return X(Y(t),e,n,r)}function O(e,t,n,r){return X(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,s,u;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(u=(31&t)<<6|63&n,u>127&&(i=u));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(u=(15&t)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(i=u));break;case 4:n=e[o+1],r=e[o+2],s=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(u=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,u>65535&&u<1114112&&(i=u))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=P));return n}(r)}t.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},u.allocUnsafe=function(e){return f(e)},u.allocUnsafeSlow=function(e){return f(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(K(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=u.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(K(t,Uint8Array))o+t.length>r.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},u.byteLength=v,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,o){if(K(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(i,a),l=this.slice(r,o),c=e.slice(t,n);for(let u=0;u<s;++u)if(l[u]!==c[u]){i=l[u],a=c[u];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return x(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const P=4096;function C(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function k(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function A(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let i=t;i<n;++i)o+=Z[e[i]];return o}function N(e,t,n){const r=e.slice(t,n);let o="";for(let i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function j(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r,o){V(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function M(e,t,n,r,o){V(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function D(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return t=+t,n>>>=0,i||D(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return t=+t,n>>>=0,i||D(e,0,n,8),o.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=Q(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))}),u.prototype.readBigUInt64BE=Q(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)}),u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=Q(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),u.prototype.readBigInt64BE=Q(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)}),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=Q(function(e){return I(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Q(function(e){return M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i|0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i|0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=Q(function(e){return I(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Q(function(e){return M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=u.isBuffer(e)?e:u.from(e,r),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const F={};function U(e,t,n){F[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function z(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function V(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new F.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||H(t,e.length-(n+1))}(r,o,i)}function W(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,n){if(Math.floor(e)!==e)throw W(e,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}U("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),U("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),U("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=z(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=z(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r},RangeError);const G=/[^+/0-9A-Za-z-_]/g;function q(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Y(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function X(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function Q(e){return"undefined"==typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}},6931:e=>{e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},3269:(e,t,n)=>{var r=n(6931),o=n(9975),i=Object.hasOwnProperty,a=Object.create(null);for(var s in r)i.call(r,s)&&(a[r[s]]=s);var u=e.exports={to:{},get:{}};function l(e,t,n){return Math.min(Math.max(t,e),n)}function c(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}u.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=u.get.hsl(e),n="hsl";break;case"hwb":t=u.get.hwb(e),n="hwb";break;default:t=u.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},u.get.rgb=function(e){if(!e)return null;var t,n,o,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=t[2],t=t[1],n=0;n<3;n++){var s=2*n;a[n]=parseInt(t.slice(s,s+2),16)}o&&(a[3]=parseInt(o,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(o=(t=t[1])[3],n=0;n<3;n++)a[n]=parseInt(t[n]+t[n],16);o&&(a[3]=parseInt(o+o,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(t[n+1],0);t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:i.call(r,t[1])?((a=r[t[1]])[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}for(n=0;n<3;n++)a[n]=l(a[n],0,255);return a[3]=l(a[3],0,1),a},u.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,l(parseFloat(t[2]),0,100),l(parseFloat(t[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},u.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,l(parseFloat(t[2]),0,100),l(parseFloat(t[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},u.to.hex=function(){var e=o(arguments);return"#"+c(e[0])+c(e[1])+c(e[2])+(e[3]<1?c(Math.round(255*e[3])):"")},u.to.rgb=function(){var e=o(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},u.to.rgb.percent=function(){var e=o(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},u.to.hsl=function(){var e=o(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},u.to.hwb=function(){var e=o(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},u.to.keyword=function(e){return a[e.slice(0,3)]}},9792:(e,t,n)=>{var r=n(7045),o=n(4360),i=n(6804);e.exports=function(e,t){if(!t)return e;var n=Object.keys(t);if(0===n.length)return e;for(var a=r(e),s=n.length-1;s>=0;s--){var u=n[s],l=String(t[u]);l&&(l=" "+l),i(a,{type:"preprocessor",data:"#define "+u+l})}return o(a)}},6804:e=>{e.exports=function(e,o){Array.isArray(o)||(o=[o]);var i=function(e){for(var t=-1,n=0;n<e.length;n++){var o=e[n];if("preprocessor"===o.type)/^#(extension|version)/.test(o.data)&&(t=Math.max(t,n));else if("keyword"===o.type&&"precision"===o.data){var i=r(e,n);if(-1===i)throw new Error("precision statement not followed by any semicolons!");t=Math.max(t,i)}}return t+1}(e),a=i>0?e[i-1]:null;a&&n.test(a.data)&&e.splice(i++,0,t),e.splice.apply(e,[i,0].concat(o));var s=i+o.length;return e[s]&&/[^\r\n]$/.test(e[s].data)&&e.splice(s,0,t),e};var t={data:"\n",type:"whitespace"},n=/[^\r\n]$/;function r(e,t){for(var n=t;n<e.length;n++)if("operator"===e[n].type&&";"===e[n].data)return n;return-1}},4360:e=>{e.exports=function(e){for(var t=[],n=0;n<e.length;n++)"eof"!==e[n].type&&t.push(e[n].data);return t.join("")}},3206:(e,t,n)=>{e.exports=function(e){var t,n,E,O=0,S=0,T=u,P=[],C=[],k=1,A=0,N=0,j=!1,R=!1,I="",M=i,D=r;"300 es"===(e=e||{}).version&&(M=s,D=a);var L={},B={};for(O=0;O<M.length;O++)L[M[O]]=!0;for(O=0;O<D.length;O++)B[D[O]]=!0;return function(e){return C=[],null!==e?function(e){var n;for(O=0,e.toString&&(e=e.toString()),I+=e.replace(/\r\n/g,"\n"),E=I.length;t=I[O],O<E;){switch(n=O,T){case c:O=W();break;case f:case d:O=V();break;case h:O=H();break;case p:O=Y();break;case w:O=q();break;case v:O=X();break;case l:O=K();break;case b:O=z();break;case u:O=U()}n!==O&&("\n"===I[n]?(A=0,++k):++A)}return S+=O,I=I.slice(O),C}(e):(P.length&&F(P.join("")),T=_,F("(eof)"),C)};function F(e){e.length&&C.push({type:x[T],data:e,position:N,line:k,column:A})}function U(){return P=P.length?[]:P,"/"===n&&"*"===t?(N=S+O-1,T=c,n=t,O+1):"/"===n&&"/"===t?(N=S+O-1,T=f,n=t,O+1):"#"===t?(T=d,N=S+O,O):/\s/.test(t)?(T=b,N=S+O,O):(j=/\d/.test(t),R=/[^\w_]/.test(t),N=S+O,T=j?p:R?h:l,O)}function z(){return/[^\s]/g.test(t)?(F(P.join("")),T=u,O):(P.push(t),n=t,O+1)}function V(){return"\r"!==t&&"\n"!==t||"\\"===n?(P.push(t),n=t,O+1):(F(P.join("")),T=u,O)}function W(){return"/"===t&&"*"===n?(P.push(t),F(P.join("")),T=u,O+1):(P.push(t),n=t,O+1)}function H(){if("."===n&&/\d/.test(t))return T=v,O;if("/"===n&&"*"===t)return T=c,O;if("/"===n&&"/"===t)return T=f,O;if("."===t&&P.length){for(;G(P););return T=v,O}if(";"===t||")"===t||"("===t){if(P.length)for(;G(P););return F(t),T=u,O+1}var e=2===P.length&&"="!==t;if(/[\w_\d\s]/.test(t)||e){for(;G(P););return T=u,O}return P.push(t),n=t,O+1}function G(e){for(var t,n,r=0;;){if(t=o.indexOf(e.slice(0,e.length+r).join("")),n=o[t],-1===t){if(r--+e.length>0)continue;n=e.slice(0,1).join("")}return F(n),N+=n.length,(P=P.slice(n.length)).length}}function q(){return/[^a-fA-F0-9]/.test(t)?(F(P.join("")),T=u,O):(P.push(t),n=t,O+1)}function Y(){return"."===t||/[eE]/.test(t)?(P.push(t),T=v,n=t,O+1):"x"===t&&1===P.length&&"0"===P[0]?(T=w,P.push(t),n=t,O+1):/[^\d]/.test(t)?(F(P.join("")),T=u,O):(P.push(t),n=t,O+1)}function X(){return"f"===t&&(P.push(t),n=t,O+=1),/[eE]/.test(t)?(P.push(t),n=t,O+1):("-"!==t&&"+"!==t||!/[eE]/.test(n))&&/[^\d]/.test(t)?(F(P.join("")),T=u,O):(P.push(t),n=t,O+1)}function K(){if(/[^\d\w_]/.test(t)){var e=P.join("");return T=B[e]?m:L[e]?y:g,F(P.join("")),T=u,O}return P.push(t),n=t,O+1}};var r=n(4704),o=n(2063),i=n(7192),a=n(8784),s=n(5592),u=999,l=9999,c=0,f=1,d=2,h=3,p=4,v=5,g=6,y=7,m=8,b=9,_=10,w=11,x=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},5592:(e,t,n)=>{var r=n(7192);r=r.slice().filter(function(e){return!/^(gl\_|texture)/.test(e)}),e.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},7192:e=>{e.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},8784:(e,t,n)=>{var r=n(4704);e.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},4704:e=>{e.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},2063:e=>{e.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},7045:(e,t,n)=>{var r=n(3206);e.exports=function(e,t){var n=r(t),o=[];return(o=o.concat(n(e))).concat(n(null))}},9318:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?o-1:0,d=n?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+e[t+f],f+=d,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=l}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,f=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;e[n+h]=255&a,h+=p,a/=256,l-=8);e[n+h-p]|=128*v}},5250:function(e,t,n){var r;e=n.nmd(e),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=32,l=128,c=1/0,f=9007199254740991,d=NaN,h=4294967295,p=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],v="[object Arguments]",g="[object Array]",y="[object Boolean]",m="[object Date]",b="[object Error]",_="[object Function]",w="[object GeneratorFunction]",x="[object Map]",E="[object Number]",O="[object Object]",S="[object Promise]",T="[object RegExp]",P="[object Set]",C="[object String]",k="[object Symbol]",A="[object WeakMap]",N="[object ArrayBuffer]",j="[object DataView]",R="[object Float32Array]",I="[object Float64Array]",M="[object Int8Array]",D="[object Int16Array]",L="[object Int32Array]",B="[object Uint8Array]",F="[object Uint8ClampedArray]",U="[object Uint16Array]",z="[object Uint32Array]",V=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,Y=RegExp(G.source),X=RegExp(q.source),K=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,oe=/\s/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,se=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,ce=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,he=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,me=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,we="\\ud800-\\udfff",xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="\\u2700-\\u27bf",Oe="a-z\\xdf-\\xf6\\xf8-\\xff",Se="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\ufe0e\\ufe0f",Pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ce="["+we+"]",ke="["+Pe+"]",Ae="["+xe+"]",Ne="\\d+",je="["+Ee+"]",Re="["+Oe+"]",Ie="[^"+we+Pe+Ne+Ee+Oe+Se+"]",Me="\\ud83c[\\udffb-\\udfff]",De="[^"+we+"]",Le="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",Fe="["+Se+"]",Ue="\\u200d",ze="(?:"+Re+"|"+Ie+")",Ve="(?:"+Fe+"|"+Ie+")",We="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",He="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+Ae+"|"+Me+")?",qe="["+Te+"]?",Ye=qe+Ge+"(?:"+Ue+"(?:"+[De,Le,Be].join("|")+")"+qe+Ge+")*",Xe="(?:"+[je,Le,Be].join("|")+")"+Ye,Ke="(?:"+[De+Ae+"?",Ae,Le,Be,Ce].join("|")+")",$e=RegExp("['\u2019]","g"),Ze=RegExp(Ae,"g"),Qe=RegExp(Me+"(?="+Me+")|"+Ke+Ye,"g"),Je=RegExp([Fe+"?"+Re+"+"+We+"(?="+[ke,Fe,"$"].join("|")+")",Ve+"+"+He+"(?="+[ke,Fe+ze,"$"].join("|")+")",Fe+"?"+ze+"+"+We,Fe+"+"+He,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,Xe].join("|"),"g"),et=RegExp("["+Ue+we+xe+Te+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,ot={};ot[R]=ot[I]=ot[M]=ot[D]=ot[L]=ot[B]=ot[F]=ot[U]=ot[z]=!0,ot[v]=ot[g]=ot[N]=ot[y]=ot[j]=ot[m]=ot[b]=ot[_]=ot[x]=ot[E]=ot[O]=ot[T]=ot[P]=ot[C]=ot[A]=!1;var it={};it[v]=it[g]=it[N]=it[j]=it[y]=it[m]=it[R]=it[I]=it[M]=it[D]=it[L]=it[x]=it[E]=it[O]=it[T]=it[P]=it[C]=it[k]=it[B]=it[F]=it[U]=it[z]=!0,it[b]=it[_]=it[A]=!1;var at={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},st=parseFloat,ut=parseInt,lt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ct="object"==typeof self&&self&&self.Object===Object&&self,ft=lt||ct||Function("return this")(),dt=t&&!t.nodeType&&t,ht=dt&&e&&!e.nodeType&&e,pt=ht&&ht.exports===dt,vt=pt&&lt.process,gt=function(){try{return ht&&ht.require&&ht.require("util").types||vt&&vt.binding&&vt.binding("util")}catch(e){}}(),yt=gt&&gt.isArrayBuffer,mt=gt&&gt.isDate,bt=gt&&gt.isMap,_t=gt&&gt.isRegExp,wt=gt&&gt.isSet,xt=gt&&gt.isTypedArray;function Et(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ot(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function St(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Tt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ct(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function kt(e,t){return!(null==e||!e.length)&&Ft(e,t,0)>-1}function At(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function jt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Rt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function It(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Dt=Wt("length");function Lt(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function Bt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Ft(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Bt(e,zt,n)}function Ut(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function zt(e){return e!=e}function Vt(e,t){var n=null==e?0:e.length;return n?qt(e,t)/n:d}function Wt(e){return function(t){return null==t?o:t[e]}}function Ht(e){return function(t){return null==e?o:e[t]}}function Gt(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function qt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function Yt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,fn(e)+1).replace(re,""):e}function Kt(e){return function(t){return e(t)}}function $t(e,t){return Nt(t,function(t){return e[t]})}function Zt(e,t){return e.has(t)}function Qt(e,t){for(var n=-1,r=e.length;++n<r&&Ft(t,e[n],0)>-1;);return n}function Jt(e,t){for(var n=e.length;n--&&Ft(t,e[n],0)>-1;);return n}var en=Ht({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),tn=Ht({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+at[e]}function rn(e){return et.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function an(e,t){return function(n){return e(t(n))}}function sn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,i[o++]=n)}return i}function un(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function ln(e){return rn(e)?function(e){for(var t=Qe.lastIndex=0;Qe.test(e);)++t;return t}(e):Dt(e)}function cn(e){return rn(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.split("")}(e)}function fn(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var dn=Ht({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),hn=function e(t){var n,r=(t=null==t?ft:hn.defaults(ft.Object(),t,hn.pick(ft,nt))).Array,oe=t.Date,we=t.Error,xe=t.Function,Ee=t.Math,Oe=t.Object,Se=t.RegExp,Te=t.String,Pe=t.TypeError,Ce=r.prototype,ke=xe.prototype,Ae=Oe.prototype,Ne=t["__core-js_shared__"],je=ke.toString,Re=Ae.hasOwnProperty,Ie=0,Me=(n=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",De=Ae.toString,Le=je.call(Oe),Be=ft._,Fe=Se("^"+je.call(Re).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=pt?t.Buffer:o,ze=t.Symbol,Ve=t.Uint8Array,We=Ue?Ue.allocUnsafe:o,He=an(Oe.getPrototypeOf,Oe),Ge=Oe.create,qe=Ae.propertyIsEnumerable,Ye=Ce.splice,Xe=ze?ze.isConcatSpreadable:o,Ke=ze?ze.iterator:o,Qe=ze?ze.toStringTag:o,et=function(){try{var e=ui(Oe,"defineProperty");return e({},"",{}),e}catch(e){}}(),at=t.clearTimeout!==ft.clearTimeout&&t.clearTimeout,lt=oe&&oe.now!==ft.Date.now&&oe.now,ct=t.setTimeout!==ft.setTimeout&&t.setTimeout,dt=Ee.ceil,ht=Ee.floor,vt=Oe.getOwnPropertySymbols,gt=Ue?Ue.isBuffer:o,Dt=t.isFinite,Ht=Ce.join,pn=an(Oe.keys,Oe),vn=Ee.max,gn=Ee.min,yn=oe.now,mn=t.parseInt,bn=Ee.random,_n=Ce.reverse,wn=ui(t,"DataView"),xn=ui(t,"Map"),En=ui(t,"Promise"),On=ui(t,"Set"),Sn=ui(t,"WeakMap"),Tn=ui(Oe,"create"),Pn=Sn&&new Sn,Cn={},kn=Di(wn),An=Di(xn),Nn=Di(En),jn=Di(On),Rn=Di(Sn),In=ze?ze.prototype:o,Mn=In?In.valueOf:o,Dn=In?In.toString:o;function Ln(e){if(Ja(e)&&!Va(e)&&!(e instanceof zn)){if(e instanceof Un)return e;if(Re.call(e,"__wrapped__"))return Li(e)}return new Un(e)}var Bn=function(){function e(){}return function(t){if(!Qa(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Fn(){}function Un(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function zn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function qn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Yn(e,t){var n=Va(e),r=!n&&za(e),o=!n&&!r&&qa(e),i=!n&&!r&&!o&&ss(e),a=n||r||o||i,s=a?Yt(e.length,Te):[],u=s.length;for(var l in e)!t&&!Re.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||vi(l,u))||s.push(l);return s}function Xn(e){var t=e.length;return t?e[Hr(0,t-1)]:o}function Kn(e,t){return Ni(To(e),or(t,0,e.length))}function $n(e){return Ni(To(e))}function Zn(e,t,n){(n!==o&&!Ba(e[t],n)||n===o&&!(t in e))&&nr(e,t,n)}function Qn(e,t,n){var r=e[t];Re.call(e,t)&&Ba(r,n)&&(n!==o||t in e)||nr(e,t,n)}function Jn(e,t){for(var n=e.length;n--;)if(Ba(e[n][0],t))return n;return-1}function er(e,t,n,r){return lr(e,function(e,o,i){t(r,e,n(e),i)}),r}function tr(e,t){return e&&Po(t,ks(t),e)}function nr(e,t,n){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function rr(e,t){for(var n=-1,i=t.length,a=r(i),s=null==e;++n<i;)a[n]=s?o:Os(e,t[n]);return a}function or(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function ir(e,t,n,r,i,a){var s,u=1&t,l=2&t,c=4&t;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!Qa(e))return e;var f=Va(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return To(e,s)}else{var d=fi(e),h=d==_||d==w;if(qa(e))return _o(e,u);if(d==O||d==v||h&&!i){if(s=l||h?{}:hi(e),!u)return l?function(e,t){return Po(e,ci(e),t)}(e,function(e,t){return e&&Po(t,As(t),e)}(s,e)):function(e,t){return Po(e,li(e),t)}(e,tr(s,e))}else{if(!it[d])return i?e:{};s=function(e,t,n){var r,o=e.constructor;switch(t){case N:return wo(e);case y:case m:return new o(+e);case j:return function(e,t){var n=t?wo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case I:case M:case D:case L:case B:case F:case U:case z:return xo(e,n);case x:return new o;case E:case C:return new o(e);case T:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case P:return new o;case k:return r=e,Mn?Oe(Mn.call(r)):{}}}(e,d,u)}}a||(a=new qn);var p=a.get(e);if(p)return p;a.set(e,s),os(e)?e.forEach(function(r){s.add(ir(r,t,n,r,e,a))}):es(e)&&e.forEach(function(r,o){s.set(o,ir(r,t,n,o,e,a))});var g=f?o:(c?l?ti:ei:l?As:ks)(e);return St(g||e,function(r,o){g&&(r=e[o=r]),Qn(s,o,ir(r,t,n,o,e,a))}),s}function ar(e,t,n){var r=n.length;if(null==e)return!r;for(e=Oe(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function sr(e,t,n){if("function"!=typeof e)throw new Pe(i);return Pi(function(){e.apply(o,n)},t)}function ur(e,t,n,r){var o=-1,i=kt,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=Nt(t,Kt(n))),r?(i=At,a=!1):t.length>=200&&(i=Zt,a=!1,t=new Gn(t));e:for(;++o<s;){var c=e[o],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f==f){for(var d=l;d--;)if(t[d]===f)continue e;u.push(c)}else i(t,f,r)||u.push(c)}return u}Ln.templateSettings={escape:K,evaluate:$,interpolate:Z,variable:"",imports:{_:Ln}},Ln.prototype=Fn.prototype,Ln.prototype.constructor=Ln,Un.prototype=Bn(Fn.prototype),Un.prototype.constructor=Un,zn.prototype=Bn(Fn.prototype),zn.prototype.constructor=zn,Vn.prototype.clear=function(){this.__data__=Tn?Tn(null):{},this.size=0},Vn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vn.prototype.get=function(e){var t=this.__data__;if(Tn){var n=t[e];return n===a?o:n}return Re.call(t,e)?t[e]:o},Vn.prototype.has=function(e){var t=this.__data__;return Tn?t[e]!==o:Re.call(t,e)},Vn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Tn&&t===o?a:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=Jn(t,e);return!(n<0||(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,0))},Wn.prototype.get=function(e){var t=this.__data__,n=Jn(t,e);return n<0?o:t[n][1]},Wn.prototype.has=function(e){return Jn(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=Jn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(xn||Wn),string:new Vn}},Hn.prototype.delete=function(e){var t=ai(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return ai(this,e).get(e)},Hn.prototype.has=function(e){return ai(this,e).has(e)},Hn.prototype.set=function(e,t){var n=ai(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Gn.prototype.add=Gn.prototype.push=function(e){return this.__data__.set(e,a),this},Gn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.clear=function(){this.__data__=new Wn,this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},qn.prototype.get=function(e){return this.__data__.get(e)},qn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!xn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var lr=Ao(yr),cr=Ao(mr,!0);function fr(e,t){var n=!0;return lr(e,function(e,r,o){return n=!!t(e,r,o)}),n}function dr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(u===o?s==s&&!as(s):n(s,u)))var u=s,l=a}return l}function hr(e,t){var n=[];return lr(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function pr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=pi),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?pr(s,t-1,n,r,o):jt(o,s):r||(o[o.length]=s)}return o}var vr=No(),gr=No(!0);function yr(e,t){return e&&vr(e,t,ks)}function mr(e,t){return e&&gr(e,t,ks)}function br(e,t){return Ct(t,function(t){return Ka(e[t])})}function _r(e,t){for(var n=0,r=(t=go(t,e)).length;null!=e&&n<r;)e=e[Mi(t[n++])];return n&&n==r?e:o}function wr(e,t,n){var r=t(e);return Va(e)?r:jt(r,n(e))}function xr(e){return null==e?e===o?"[object Undefined]":"[object Null]":Qe&&Qe in Oe(e)?function(e){var t=Re.call(e,Qe),n=e[Qe];try{e[Qe]=o;var r=!0}catch(e){}var i=De.call(e);return r&&(t?e[Qe]=n:delete e[Qe]),i}(e):function(e){return De.call(e)}(e)}function Er(e,t){return e>t}function Or(e,t){return null!=e&&Re.call(e,t)}function Sr(e,t){return null!=e&&t in Oe(e)}function Tr(e,t,n){for(var i=n?At:kt,a=e[0].length,s=e.length,u=s,l=r(s),c=1/0,f=[];u--;){var d=e[u];u&&t&&(d=Nt(d,Kt(t))),c=gn(d.length,c),l[u]=!n&&(t||a>=120&&d.length>=120)?new Gn(u&&d):o}d=e[0];var h=-1,p=l[0];e:for(;++h<a&&f.length<c;){var v=d[h],g=t?t(v):v;if(v=n||0!==v?v:0,!(p?Zt(p,g):i(f,g,n))){for(u=s;--u;){var y=l[u];if(!(y?Zt(y,g):i(e[u],g,n)))continue e}p&&p.push(g),f.push(v)}}return f}function Pr(e,t,n){var r=null==(e=Oi(e,t=go(t,e)))?e:e[Mi(Xi(t))];return null==r?o:Et(r,e,n)}function Cr(e){return Ja(e)&&xr(e)==v}function kr(e,t,n,r,i){return e===t||(null==e||null==t||!Ja(e)&&!Ja(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var s=Va(e),u=Va(t),l=s?g:fi(e),c=u?g:fi(t),f=(l=l==v?O:l)==O,d=(c=c==v?O:c)==O,h=l==c;if(h&&qa(e)){if(!qa(t))return!1;s=!0,f=!1}if(h&&!f)return a||(a=new qn),s||ss(e)?Qo(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case j:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!i(new Ve(e),new Ve(t)));case y:case m:case E:return Ba(+e,+t);case b:return e.name==t.name&&e.message==t.message;case T:case C:return e==t+"";case x:var s=on;case P:var u=1&r;if(s||(s=un),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=Qo(s(e),s(t),r,o,i,a);return a.delete(e),c;case k:if(Mn)return Mn.call(e)==Mn.call(t)}return!1}(e,t,l,n,r,i,a);if(!(1&n)){var p=f&&Re.call(e,"__wrapped__"),_=d&&Re.call(t,"__wrapped__");if(p||_){var w=p?e.value():e,S=_?t.value():t;return a||(a=new qn),i(w,S,n,r,a)}}return!!h&&(a||(a=new qn),function(e,t,n,r,i,a){var s=1&n,u=ei(e),l=u.length;if(l!=ei(t).length&&!s)return!1;for(var c=l;c--;){var f=u[c];if(!(s?f in t:Re.call(t,f)))return!1}var d=a.get(e),h=a.get(t);if(d&&h)return d==t&&h==e;var p=!0;a.set(e,t),a.set(t,e);for(var v=s;++c<l;){var g=e[f=u[c]],y=t[f];if(r)var m=s?r(y,g,f,t,e,a):r(g,y,f,e,t,a);if(!(m===o?g===y||i(g,y,n,r,a):m)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(p=!1)}return a.delete(e),a.delete(t),p}(e,t,n,r,i,a))}(e,t,n,r,kr,i))}function Ar(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=Oe(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var l=(u=n[i])[0],c=e[l],f=u[1];if(s&&u[2]){if(c===o&&!(l in e))return!1}else{var d=new qn;if(r)var h=r(c,f,l,e,t,d);if(!(h===o?kr(f,c,3,r,d):h))return!1}}return!0}function Nr(e){return!(!Qa(e)||(t=e,Me&&Me in t))&&(Ka(e)?Fe:ve).test(Di(e));var t}function jr(e){return"function"==typeof e?e:null==e?tu:"object"==typeof e?Va(e)?Lr(e[0],e[1]):Dr(e):cu(e)}function Rr(e){if(!_i(e))return pn(e);var t=[];for(var n in Oe(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ir(e,t){return e<t}function Mr(e,t){var n=-1,o=Ha(e)?r(e.length):[];return lr(e,function(e,r,i){o[++n]=t(e,r,i)}),o}function Dr(e){var t=si(e);return 1==t.length&&t[0][2]?xi(t[0][0],t[0][1]):function(n){return n===e||Ar(n,e,t)}}function Lr(e,t){return yi(e)&&wi(t)?xi(Mi(e),t):function(n){var r=Os(n,e);return r===o&&r===t?Ss(n,e):kr(t,r,3)}}function Br(e,t,n,r,i){e!==t&&vr(t,function(a,s){if(i||(i=new qn),Qa(a))!function(e,t,n,r,i,a,s){var u=Si(e,n),l=Si(t,n),c=s.get(l);if(c)Zn(e,n,c);else{var f=a?a(u,l,n+"",e,t,s):o,d=f===o;if(d){var h=Va(l),p=!h&&qa(l),v=!h&&!p&&ss(l);f=l,h||p||v?Va(u)?f=u:Ga(u)?f=To(u):p?(d=!1,f=_o(l,!0)):v?(d=!1,f=xo(l,!0)):f=[]:ns(l)||za(l)?(f=u,za(u)?f=vs(u):Qa(u)&&!Ka(u)||(f=hi(l))):d=!1}d&&(s.set(l,f),i(f,l,r,a,s),s.delete(l)),Zn(e,n,f)}}(e,t,s,n,Br,r,i);else{var u=r?r(Si(e,s),a,s+"",e,t,i):o;u===o&&(u=a),Zn(e,s,u)}},As)}function Fr(e,t){var n=e.length;if(n)return vi(t+=t<0?n:0,n)?e[t]:o}function Ur(e,t,n){t=t.length?Nt(t,function(e){return Va(e)?function(t){return _r(t,1===e.length?e[0]:e)}:e}):[tu];var r=-1;t=Nt(t,Kt(ii()));var o=Mr(e,function(e,n,o){var i=Nt(t,function(t){return t(e)});return{criteria:i,index:++r,value:e}});return function(e){var t=e.length;for(e.sort(function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;++r<a;){var u=Eo(o[r],i[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)});t--;)e[t]=e[t].value;return e}(o)}function zr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=_r(e,a);n(s,a)&&Kr(i,go(a,e),s)}return i}function Vr(e,t,n,r){var o=r?Ut:Ft,i=-1,a=t.length,s=e;for(e===t&&(t=To(t)),n&&(s=Nt(e,Kt(n)));++i<a;)for(var u=0,l=t[i],c=n?n(l):l;(u=o(s,c,u,r))>-1;)s!==e&&Ye.call(s,u,1),Ye.call(e,u,1);return e}function Wr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;vi(o)?Ye.call(e,o,1):so(e,o)}}return e}function Hr(e,t){return e+ht(bn()*(t-e+1))}function Gr(e,t){var n="";if(!e||t<1||t>f)return n;do{t%2&&(n+=e),(t=ht(t/2))&&(e+=e)}while(t);return n}function qr(e,t){return Ci(Ei(e,t,tu),e+"")}function Yr(e){return Xn(Bs(e))}function Xr(e,t){var n=Bs(e);return Ni(n,or(t,0,n.length))}function Kr(e,t,n,r){if(!Qa(e))return e;for(var i=-1,a=(t=go(t,e)).length,s=a-1,u=e;null!=u&&++i<a;){var l=Mi(t[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=s){var f=u[l];(c=r?r(f,l,u):o)===o&&(c=Qa(f)?f:vi(t[i+1])?[]:{})}Qn(u,l,c),u=u[l]}return e}var $r=Pn?function(e,t){return Pn.set(e,t),e}:tu,Zr=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Qs(t),writable:!0})}:tu;function Qr(e){return Ni(Bs(e))}function Jr(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function eo(e,t){var n;return lr(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function to(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!as(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return no(e,t,tu,n)}function no(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,u=null===t,l=as(t),c=t===o;i<a;){var f=ht((i+a)/2),d=n(e[f]),h=d!==o,p=null===d,v=d==d,g=as(d);if(s)var y=r||v;else y=c?v&&(r||h):u?v&&h&&(r||!p):l?v&&h&&!p&&(r||!g):!p&&!g&&(r?d<=t:d<t);y?i=f+1:a=f}return gn(a,4294967294)}function ro(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ba(s,u)){var u=s;i[o++]=0===a?0:a}}return i}function oo(e){return"number"==typeof e?e:as(e)?d:+e}function io(e){if("string"==typeof e)return e;if(Va(e))return Nt(e,io)+"";if(as(e))return Dn?Dn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ao(e,t,n){var r=-1,o=kt,i=e.length,a=!0,s=[],u=s;if(n)a=!1,o=At;else if(i>=200){var l=t?null:qo(e);if(l)return un(l);a=!1,o=Zt,u=new Gn}else u=t?[]:s;e:for(;++r<i;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(c)}else o(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}function so(e,t){return null==(e=Oi(e,t=go(t,e)))||delete e[Mi(Xi(t))]}function uo(e,t,n,r){return Kr(e,t,n(_r(e,t)),r)}function lo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?Jr(e,r?0:i,r?i+1:o):Jr(e,r?i+1:0,r?o:i)}function co(e,t){var n=e;return n instanceof zn&&(n=n.value()),Rt(t,function(e,t){return t.func.apply(t.thisArg,jt([e],t.args))},n)}function fo(e,t,n){var o=e.length;if(o<2)return o?ao(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=e[i],u=-1;++u<o;)u!=i&&(a[i]=ur(a[i]||s,e[u],t,n));return ao(pr(a,1),t,n)}function ho(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var u=r<a?t[r]:o;n(s,e[r],u)}return s}function po(e){return Ga(e)?e:[]}function vo(e){return"function"==typeof e?e:tu}function go(e,t){return Va(e)?e:yi(e,t)?[e]:Ii(gs(e))}var yo=qr;function mo(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:Jr(e,t,n)}var bo=at||function(e){return ft.clearTimeout(e)};function _o(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function wo(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function xo(e,t){var n=t?wo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Eo(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=as(e),s=t!==o,u=null===t,l=t==t,c=as(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&e<t||c&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!l)return-1}return 0}function Oo(e,t,n,o){for(var i=-1,a=e.length,s=n.length,u=-1,l=t.length,c=vn(a-s,0),f=r(l+c),d=!o;++u<l;)f[u]=t[u];for(;++i<s;)(d||i<a)&&(f[n[i]]=e[i]);for(;c--;)f[u++]=e[i++];return f}function So(e,t,n,o){for(var i=-1,a=e.length,s=-1,u=n.length,l=-1,c=t.length,f=vn(a-u,0),d=r(f+c),h=!o;++i<f;)d[i]=e[i];for(var p=i;++l<c;)d[p+l]=t[l];for(;++s<u;)(h||i<a)&&(d[p+n[s]]=e[i++]);return d}function To(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function Po(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],l=r?r(n[u],e[u],u,n,e):o;l===o&&(l=e[u]),i?nr(n,u,l):Qn(n,u,l)}return n}function Co(e,t){return function(n,r){var o=Va(n)?Ot:er,i=t?t():{};return o(n,e,ii(r,2),i)}}function ko(e){return qr(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&gi(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=Oe(t);++r<i;){var u=n[r];u&&e(t,u,r,a)}return t})}function Ao(e,t){return function(n,r){if(null==n)return n;if(!Ha(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Oe(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function No(e){return function(t,n,r){for(var o=-1,i=Oe(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}function jo(e){return function(t){var n=rn(t=gs(t))?cn(t):o,r=n?n[0]:t.charAt(0),i=n?mo(n,1).join(""):t.slice(1);return r[e]()+i}}function Ro(e){return function(t){return Rt(Ks(zs(t).replace($e,"")),e,"")}}function Io(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Bn(e.prototype),r=e.apply(n,t);return Qa(r)?r:n}}function Mo(e){return function(t,n,r){var i=Oe(t);if(!Ha(t)){var a=ii(n,3);t=ks(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function Do(e){return Jo(function(t){var n=t.length,r=n,a=Un.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Pe(i);if(a&&!u&&"wrapper"==ri(s))var u=new Un([],!0)}for(r=u?r:n;++r<n;){var l=ri(s=t[r]),c="wrapper"==l?ni(s):o;u=c&&mi(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[ri(c[0])].apply(u,c[3]):1==s.length&&mi(s)?u[l]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Va(r))return u.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}function Lo(e,t,n,i,a,s,u,c,f,d){var h=t&l,p=1&t,v=2&t,g=24&t,y=512&t,m=v?o:Io(e);return function l(){for(var b=arguments.length,_=r(b),w=b;w--;)_[w]=arguments[w];if(g)var x=oi(l),E=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,x);if(i&&(_=Oo(_,i,a,g)),s&&(_=So(_,s,u,g)),b-=E,g&&b<d){var O=sn(_,x);return Ho(e,t,Lo,l.placeholder,n,_,O,c,f,d-b)}var S=p?n:this,T=v?S[e]:e;return b=_.length,c?_=function(e,t){for(var n=e.length,r=gn(t.length,n),i=To(e);r--;){var a=t[r];e[r]=vi(a,n)?i[a]:o}return e}(_,c):y&&b>1&&_.reverse(),h&&f<b&&(_.length=f),this&&this!==ft&&this instanceof l&&(T=m||Io(T)),T.apply(S,_)}}function Bo(e,t){return function(n,r){return function(e,t,n,r){return yr(e,function(e,o,i){t(r,n(e),o,i)}),r}(n,e,t(r),{})}}function Fo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=io(n),r=io(r)):(n=oo(n),r=oo(r)),i=e(n,r)}return i}}function Uo(e){return Jo(function(t){return t=Nt(t,Kt(ii())),qr(function(n){var r=this;return e(t,function(e){return Et(e,r,n)})})})}function zo(e,t){var n=(t=t===o?" ":io(t)).length;if(n<2)return n?Gr(t,e):t;var r=Gr(t,dt(e/ln(t)));return rn(t)?mo(cn(r),0,e).join(""):r.slice(0,e)}function Vo(e){return function(t,n,i){return i&&"number"!=typeof i&&gi(t,n,i)&&(n=i=o),t=fs(t),n===o?(n=t,t=0):n=fs(n),function(e,t,n,o){for(var i=-1,a=vn(dt((t-e)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=e,e+=n;return s}(t,n,i=i===o?t<n?1:-1:fs(i),e)}}function Wo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ps(t),n=ps(n)),e(t,n)}}function Ho(e,t,n,r,i,a,s,l,c,f){var d=8&t;t|=d?u:64,4&(t&=~(d?64:u))||(t&=-4);var h=[e,t,i,d?a:o,d?s:o,d?o:a,d?o:s,l,c,f],p=n.apply(o,h);return mi(e)&&Ti(p,h),p.placeholder=r,ki(p,e,t)}function Go(e){var t=Ee[e];return function(e,n){if(e=ps(e),(n=null==n?0:gn(ds(n),292))&&Dt(e)){var r=(gs(e)+"e").split("e");return+((r=(gs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var qo=On&&1/un(new On([,-0]))[1]==c?function(e){return new On(e)}:au;function Yo(e){return function(t){var n=fi(t);return n==x?on(t):n==P?function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}(t):function(e,t){return Nt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Xo(e,t,n,a,c,f,d,h){var p=2&t;if(!p&&"function"!=typeof e)throw new Pe(i);var v=a?a.length:0;if(v||(t&=-97,a=c=o),d=d===o?d:vn(ds(d),0),h=h===o?h:ds(h),v-=c?c.length:0,64&t){var g=a,y=c;a=c=o}var m=p?o:ni(e),b=[e,t,n,a,c,g,y,f,d,h];if(m&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==l&&8==n||r==l&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?Oo(c,u,t[4]):u,e[4]=c?sn(e[3],s):t[4]}(u=t[5])&&(c=e[5],e[5]=c?So(c,u,t[6]):u,e[6]=c?sn(e[5],s):t[6]),(u=t[7])&&(e[7]=u),r&l&&(e[8]=null==e[8]?t[8]:gn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(b,m),e=b[0],t=b[1],n=b[2],a=b[3],c=b[4],!(h=b[9]=b[9]===o?p?0:e.length:vn(b[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||16==t?function(e,t,n){var i=Io(e);return function a(){for(var s=arguments.length,u=r(s),l=s,c=oi(a);l--;)u[l]=arguments[l];var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:sn(u,c);return(s-=f.length)<n?Ho(e,t,Lo,a.placeholder,o,u,f,o,o,n-s):Et(this&&this!==ft&&this instanceof a?i:e,this,u)}}(e,t,h):t!=u&&33!=t||c.length?Lo.apply(o,b):function(e,t,n,o){var i=1&t,a=Io(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=o.length,f=r(c+u),d=this&&this!==ft&&this instanceof t?a:e;++l<c;)f[l]=o[l];for(;u--;)f[l++]=arguments[++s];return Et(d,i?n:this,f)}}(e,t,n,a);else var _=function(e,t,n){var r=1&t,o=Io(e);return function t(){return(this&&this!==ft&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return ki((m?$r:Ti)(_,b),e,t)}function Ko(e,t,n,r){return e===o||Ba(e,Ae[n])&&!Re.call(r,n)?t:e}function $o(e,t,n,r,i,a){return Qa(e)&&Qa(t)&&(a.set(t,e),Br(e,t,o,$o,a),a.delete(t)),e}function Zo(e){return ns(e)?o:e}function Qo(e,t,n,r,i,a){var s=1&n,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(e),f=a.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=2&n?new Gn:o;for(a.set(e,t),a.set(t,e);++d<u;){var v=e[d],g=t[d];if(r)var y=s?r(g,v,d,t,e,a):r(v,g,d,e,t,a);if(y!==o){if(y)continue;h=!1;break}if(p){if(!Mt(t,function(e,t){if(!Zt(p,t)&&(v===e||i(v,e,n,r,a)))return p.push(t)})){h=!1;break}}else if(v!==g&&!i(v,g,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function Jo(e){return Ci(Ei(e,o,Wi),e+"")}function ei(e){return wr(e,ks,li)}function ti(e){return wr(e,As,ci)}var ni=Pn?function(e){return Pn.get(e)}:au;function ri(e){for(var t=e.name+"",n=Cn[t],r=Re.call(Cn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function oi(e){return(Re.call(Ln,"placeholder")?Ln:e).placeholder}function ii(){var e=Ln.iteratee||nu;return e=e===nu?jr:e,arguments.length?e(arguments[0],arguments[1]):e}function ai(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function si(e){for(var t=ks(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,wi(o)]}return t}function ui(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Nr(n)?n:o}var li=vt?function(e){return null==e?[]:(e=Oe(e),Ct(vt(e),function(t){return qe.call(e,t)}))}:hu,ci=vt?function(e){for(var t=[];e;)jt(t,li(e)),e=He(e);return t}:hu,fi=xr;function di(e,t,n){for(var r=-1,o=(t=go(t,e)).length,i=!1;++r<o;){var a=Mi(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Za(o)&&vi(a,o)&&(Va(e)||za(e))}function hi(e){return"function"!=typeof e.constructor||_i(e)?{}:Bn(He(e))}function pi(e){return Va(e)||za(e)||!!(Xe&&e&&e[Xe])}function vi(e,t){var n=typeof e;return!!(t=null==t?f:t)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function gi(e,t,n){if(!Qa(n))return!1;var r=typeof t;return!!("number"==r?Ha(n)&&vi(t,n.length):"string"==r&&t in n)&&Ba(n[t],e)}function yi(e,t){if(Va(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!as(e))||J.test(e)||!Q.test(e)||null!=t&&e in Oe(t)}function mi(e){var t=ri(e),n=Ln[t];if("function"!=typeof n||!(t in zn.prototype))return!1;if(e===n)return!0;var r=ni(n);return!!r&&e===r[0]}(wn&&fi(new wn(new ArrayBuffer(1)))!=j||xn&&fi(new xn)!=x||En&&fi(En.resolve())!=S||On&&fi(new On)!=P||Sn&&fi(new Sn)!=A)&&(fi=function(e){var t=xr(e),n=t==O?e.constructor:o,r=n?Di(n):"";if(r)switch(r){case kn:return j;case An:return x;case Nn:return S;case jn:return P;case Rn:return A}return t});var bi=Ne?Ka:pu;function _i(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ae)}function wi(e){return e==e&&!Qa(e)}function xi(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in Oe(n))}}function Ei(e,t,n){return t=vn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=vn(o.length-t,0),s=r(a);++i<a;)s[i]=o[t+i];i=-1;for(var u=r(t+1);++i<t;)u[i]=o[i];return u[t]=n(s),Et(e,this,u)}}function Oi(e,t){return t.length<2?e:_r(e,Jr(t,0,-1))}function Si(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ti=Ai($r),Pi=ct||function(e,t){return ft.setTimeout(e,t)},Ci=Ai(Zr);function ki(e,t,n){var r=t+"";return Ci(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return St(p,function(n){var r="_."+n[0];t&n[1]&&!kt(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(se):[]}(r),n)))}function Ai(e){var t=0,n=0;return function(){var r=yn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Ni(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Hr(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var ji,Ri,Ii=(ji=ja(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,function(e,n,r,o){t.push(r?o.replace(ce,"$1"):n||e)}),t},function(e){return 500===Ri.size&&Ri.clear(),e}),Ri=ji.cache,ji);function Mi(e){if("string"==typeof e||as(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Di(e){if(null!=e){try{return je.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Li(e){if(e instanceof zn)return e.clone();var t=new Un(e.__wrapped__,e.__chain__);return t.__actions__=To(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Bi=qr(function(e,t){return Ga(e)?ur(e,pr(t,1,Ga,!0)):[]}),Fi=qr(function(e,t){var n=Xi(t);return Ga(n)&&(n=o),Ga(e)?ur(e,pr(t,1,Ga,!0),ii(n,2)):[]}),Ui=qr(function(e,t){var n=Xi(t);return Ga(n)&&(n=o),Ga(e)?ur(e,pr(t,1,Ga,!0),o,n):[]});function zi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ds(n);return o<0&&(o=vn(r+o,0)),Bt(e,ii(t,3),o)}function Vi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=ds(n),i=n<0?vn(r+i,0):gn(i,r-1)),Bt(e,ii(t,3),i,!0)}function Wi(e){return null!=e&&e.length?pr(e,1):[]}function Hi(e){return e&&e.length?e[0]:o}var Gi=qr(function(e){var t=Nt(e,po);return t.length&&t[0]===e[0]?Tr(t):[]}),qi=qr(function(e){var t=Xi(e),n=Nt(e,po);return t===Xi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Tr(n,ii(t,2)):[]}),Yi=qr(function(e){var t=Xi(e),n=Nt(e,po);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Tr(n,o,t):[]});function Xi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Ki=qr($i);function $i(e,t){return e&&e.length&&t&&t.length?Vr(e,t):e}var Zi=Jo(function(e,t){var n=null==e?0:e.length,r=rr(e,t);return Wr(e,Nt(t,function(e){return vi(e,n)?+e:e}).sort(Eo)),r});function Qi(e){return null==e?e:_n.call(e)}var Ji=qr(function(e){return ao(pr(e,1,Ga,!0))}),ea=qr(function(e){var t=Xi(e);return Ga(t)&&(t=o),ao(pr(e,1,Ga,!0),ii(t,2))}),ta=qr(function(e){var t=Xi(e);return t="function"==typeof t?t:o,ao(pr(e,1,Ga,!0),o,t)});function na(e){if(!e||!e.length)return[];var t=0;return e=Ct(e,function(e){if(Ga(e))return t=vn(e.length,t),!0}),Yt(t,function(t){return Nt(e,Wt(t))})}function ra(e,t){if(!e||!e.length)return[];var n=na(e);return null==t?n:Nt(n,function(e){return Et(t,o,e)})}var oa=qr(function(e,t){return Ga(e)?ur(e,t):[]}),ia=qr(function(e){return fo(Ct(e,Ga))}),aa=qr(function(e){var t=Xi(e);return Ga(t)&&(t=o),fo(Ct(e,Ga),ii(t,2))}),sa=qr(function(e){var t=Xi(e);return t="function"==typeof t?t:o,fo(Ct(e,Ga),o,t)}),ua=qr(na),la=qr(function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,ra(e,n)});function ca(e){var t=Ln(e);return t.__chain__=!0,t}function fa(e,t){return t(e)}var da=Jo(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return rr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof zn&&vi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:fa,args:[i],thisArg:o}),new Un(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(i)}),ha=Co(function(e,t,n){Re.call(e,n)?++e[n]:nr(e,n,1)}),pa=Mo(zi),va=Mo(Vi);function ga(e,t){return(Va(e)?St:lr)(e,ii(t,3))}function ya(e,t){return(Va(e)?Tt:cr)(e,ii(t,3))}var ma=Co(function(e,t,n){Re.call(e,n)?e[n].push(t):nr(e,n,[t])}),ba=qr(function(e,t,n){var o=-1,i="function"==typeof t,a=Ha(e)?r(e.length):[];return lr(e,function(e){a[++o]=i?Et(t,e,n):Pr(e,t,n)}),a}),_a=Co(function(e,t,n){nr(e,n,t)});function wa(e,t){return(Va(e)?Nt:Mr)(e,ii(t,3))}var xa=Co(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Ea=qr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&gi(e,t[0],t[1])?t=[]:n>2&&gi(t[0],t[1],t[2])&&(t=[t[0]]),Ur(e,pr(t,1),[])}),Oa=lt||function(){return ft.Date.now()};function Sa(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Xo(e,l,o,o,o,o,t)}function Ta(e,t){var n;if("function"!=typeof t)throw new Pe(i);return e=ds(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Pa=qr(function(e,t,n){var r=1;if(n.length){var o=sn(n,oi(Pa));r|=u}return Xo(e,r,t,n,o)}),Ca=qr(function(e,t,n){var r=3;if(n.length){var o=sn(n,oi(Ca));r|=u}return Xo(t,r,e,n,o)});function ka(e,t,n){var r,a,s,u,l,c,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new Pe(i);function v(t){var n=r,i=a;return r=a=o,f=t,u=e.apply(i,n)}function g(e){var n=e-c;return c===o||n>=t||n<0||h&&e-f>=s}function y(){var e=Oa();if(g(e))return m(e);l=Pi(y,function(e){var n=t-(e-c);return h?gn(n,s-(e-f)):n}(e))}function m(e){return l=o,p&&r?v(e):(r=a=o,u)}function b(){var e=Oa(),n=g(e);if(r=arguments,a=this,c=e,n){if(l===o)return function(e){return f=e,l=Pi(y,t),d?v(e):u}(c);if(h)return bo(l),l=Pi(y,t),v(c)}return l===o&&(l=Pi(y,t)),u}return t=ps(t)||0,Qa(n)&&(d=!!n.leading,s=(h="maxWait"in n)?vn(ps(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){l!==o&&bo(l),f=0,r=c=a=l=o},b.flush=function(){return l===o?u:m(Oa())},b}var Aa=qr(function(e,t){return sr(e,1,t)}),Na=qr(function(e,t,n){return sr(e,ps(t)||0,n)});function ja(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Pe(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(ja.Cache||Hn),n}function Ra(e){if("function"!=typeof e)throw new Pe(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ja.Cache=Hn;var Ia=yo(function(e,t){var n=(t=1==t.length&&Va(t[0])?Nt(t[0],Kt(ii())):Nt(pr(t,1),Kt(ii()))).length;return qr(function(r){for(var o=-1,i=gn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Et(e,this,r)})}),Ma=qr(function(e,t){var n=sn(t,oi(Ma));return Xo(e,u,o,t,n)}),Da=qr(function(e,t){var n=sn(t,oi(Da));return Xo(e,64,o,t,n)}),La=Jo(function(e,t){return Xo(e,256,o,o,o,t)});function Ba(e,t){return e===t||e!=e&&t!=t}var Fa=Wo(Er),Ua=Wo(function(e,t){return e>=t}),za=Cr(function(){return arguments}())?Cr:function(e){return Ja(e)&&Re.call(e,"callee")&&!qe.call(e,"callee")},Va=r.isArray,Wa=yt?Kt(yt):function(e){return Ja(e)&&xr(e)==N};function Ha(e){return null!=e&&Za(e.length)&&!Ka(e)}function Ga(e){return Ja(e)&&Ha(e)}var qa=gt||pu,Ya=mt?Kt(mt):function(e){return Ja(e)&&xr(e)==m};function Xa(e){if(!Ja(e))return!1;var t=xr(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ns(e)}function Ka(e){if(!Qa(e))return!1;var t=xr(e);return t==_||t==w||"[object AsyncFunction]"==t||"[object Proxy]"==t}function $a(e){return"number"==typeof e&&e==ds(e)}function Za(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function Qa(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ja(e){return null!=e&&"object"==typeof e}var es=bt?Kt(bt):function(e){return Ja(e)&&fi(e)==x};function ts(e){return"number"==typeof e||Ja(e)&&xr(e)==E}function ns(e){if(!Ja(e)||xr(e)!=O)return!1;var t=He(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&je.call(n)==Le}var rs=_t?Kt(_t):function(e){return Ja(e)&&xr(e)==T},os=wt?Kt(wt):function(e){return Ja(e)&&fi(e)==P};function is(e){return"string"==typeof e||!Va(e)&&Ja(e)&&xr(e)==C}function as(e){return"symbol"==typeof e||Ja(e)&&xr(e)==k}var ss=xt?Kt(xt):function(e){return Ja(e)&&Za(e.length)&&!!ot[xr(e)]},us=Wo(Ir),ls=Wo(function(e,t){return e<=t});function cs(e){if(!e)return[];if(Ha(e))return is(e)?cn(e):To(e);if(Ke&&e[Ke])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ke]());var t=fi(e);return(t==x?on:t==P?un:Bs)(e)}function fs(e){return e?(e=ps(e))===c||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ds(e){var t=fs(e),n=t%1;return t==t?n?t-n:t:0}function hs(e){return e?or(ds(e),0,h):0}function ps(e){if("number"==typeof e)return e;if(as(e))return d;if(Qa(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qa(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=pe.test(e);return n||ge.test(e)?ut(e.slice(2),n?2:8):he.test(e)?d:+e}function vs(e){return Po(e,As(e))}function gs(e){return null==e?"":io(e)}var ys=ko(function(e,t){if(_i(t)||Ha(t))Po(t,ks(t),e);else for(var n in t)Re.call(t,n)&&Qn(e,n,t[n])}),ms=ko(function(e,t){Po(t,As(t),e)}),bs=ko(function(e,t,n,r){Po(t,As(t),e,r)}),_s=ko(function(e,t,n,r){Po(t,ks(t),e,r)}),ws=Jo(rr),xs=qr(function(e,t){e=Oe(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&gi(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=As(a),u=-1,l=s.length;++u<l;){var c=s[u],f=e[c];(f===o||Ba(f,Ae[c])&&!Re.call(e,c))&&(e[c]=a[c])}return e}),Es=qr(function(e){return e.push(o,$o),Et(js,o,e)});function Os(e,t,n){var r=null==e?o:_r(e,t);return r===o?n:r}function Ss(e,t){return null!=e&&di(e,t,Sr)}var Ts=Bo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),e[t]=n},Qs(tu)),Ps=Bo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]},ii),Cs=qr(Pr);function ks(e){return Ha(e)?Yn(e):Rr(e)}function As(e){return Ha(e)?Yn(e,!0):function(e){if(!Qa(e))return function(e){var t=[];if(null!=e)for(var n in Oe(e))t.push(n);return t}(e);var t=_i(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}(e)}var Ns=ko(function(e,t,n){Br(e,t,n)}),js=ko(function(e,t,n,r){Br(e,t,n,r)}),Rs=Jo(function(e,t){var n={};if(null==e)return n;var r=!1;t=Nt(t,function(t){return t=go(t,e),r||(r=t.length>1),t}),Po(e,ti(e),n),r&&(n=ir(n,7,Zo));for(var o=t.length;o--;)so(n,t[o]);return n}),Is=Jo(function(e,t){return null==e?{}:function(e,t){return zr(e,t,function(t,n){return Ss(e,n)})}(e,t)});function Ms(e,t){if(null==e)return{};var n=Nt(ti(e),function(e){return[e]});return t=ii(t),zr(e,n,function(e,n){return t(e,n[0])})}var Ds=Yo(ks),Ls=Yo(As);function Bs(e){return null==e?[]:$t(e,ks(e))}var Fs=Ro(function(e,t,n){return t=t.toLowerCase(),e+(n?Us(t):t)});function Us(e){return Xs(gs(e).toLowerCase())}function zs(e){return(e=gs(e))&&e.replace(me,en).replace(Ze,"")}var Vs=Ro(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ws=Ro(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Hs=jo("toLowerCase"),Gs=Ro(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),qs=Ro(function(e,t,n){return e+(n?" ":"")+Xs(t)}),Ys=Ro(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Xs=jo("toUpperCase");function Ks(e,t,n){return e=gs(e),(t=n?o:t)===o?function(e){return tt.test(e)}(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var $s=qr(function(e,t){try{return Et(e,o,t)}catch(e){return Xa(e)?e:new we(e)}}),Zs=Jo(function(e,t){return St(t,function(t){t=Mi(t),nr(e,t,Pa(e[t],e))}),e});function Qs(e){return function(){return e}}var Js=Do(),eu=Do(!0);function tu(e){return e}function nu(e){return jr("function"==typeof e?e:ir(e,1))}var ru=qr(function(e,t){return function(n){return Pr(n,e,t)}}),ou=qr(function(e,t){return function(n){return Pr(e,n,t)}});function iu(e,t,n){var r=ks(t),o=br(t,r);null!=n||Qa(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=br(t,ks(t)));var i=!(Qa(n)&&"chain"in n&&!n.chain),a=Ka(e);return St(o,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=To(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,jt([this.value()],arguments))})}),e}function au(){}var su=Uo(Nt),uu=Uo(Pt),lu=Uo(Mt);function cu(e){return yi(e)?Wt(Mi(e)):function(e){return function(t){return _r(t,e)}}(e)}var fu=Vo(),du=Vo(!0);function hu(){return[]}function pu(){return!1}var vu,gu=Fo(function(e,t){return e+t},0),yu=Go("ceil"),mu=Fo(function(e,t){return e/t},1),bu=Go("floor"),_u=Fo(function(e,t){return e*t},1),wu=Go("round"),xu=Fo(function(e,t){return e-t},0);return Ln.after=function(e,t){if("function"!=typeof t)throw new Pe(i);return e=ds(e),function(){if(--e<1)return t.apply(this,arguments)}},Ln.ary=Sa,Ln.assign=ys,Ln.assignIn=ms,Ln.assignInWith=bs,Ln.assignWith=_s,Ln.at=ws,Ln.before=Ta,Ln.bind=Pa,Ln.bindAll=Zs,Ln.bindKey=Ca,Ln.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Va(e)?e:[e]},Ln.chain=ca,Ln.chunk=function(e,t,n){t=(n?gi(e,t,n):t===o)?1:vn(ds(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,u=r(dt(i/t));a<i;)u[s++]=Jr(e,a,a+=t);return u},Ln.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Ln.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return jt(Va(n)?To(n):[n],pr(t,1))},Ln.cond=function(e){var t=null==e?0:e.length,n=ii();return e=t?Nt(e,function(e){if("function"!=typeof e[1])throw new Pe(i);return[n(e[0]),e[1]]}):[],qr(function(n){for(var r=-1;++r<t;){var o=e[r];if(Et(o[0],this,n))return Et(o[1],this,n)}})},Ln.conforms=function(e){return function(e){var t=ks(e);return function(n){return ar(n,e,t)}}(ir(e,1))},Ln.constant=Qs,Ln.countBy=ha,Ln.create=function(e,t){var n=Bn(e);return null==t?n:tr(n,t)},Ln.curry=function e(t,n,r){var i=Xo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Ln.curryRight=function e(t,n,r){var i=Xo(t,16,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Ln.debounce=ka,Ln.defaults=xs,Ln.defaultsDeep=Es,Ln.defer=Aa,Ln.delay=Na,Ln.difference=Bi,Ln.differenceBy=Fi,Ln.differenceWith=Ui,Ln.drop=function(e,t,n){var r=null==e?0:e.length;return r?Jr(e,(t=n||t===o?1:ds(t))<0?0:t,r):[]},Ln.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Jr(e,0,(t=r-(t=n||t===o?1:ds(t)))<0?0:t):[]},Ln.dropRightWhile=function(e,t){return e&&e.length?lo(e,ii(t,3),!0,!0):[]},Ln.dropWhile=function(e,t){return e&&e.length?lo(e,ii(t,3),!0):[]},Ln.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&gi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=ds(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:ds(r))<0&&(r+=i),r=n>r?0:hs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Ln.filter=function(e,t){return(Va(e)?Ct:hr)(e,ii(t,3))},Ln.flatMap=function(e,t){return pr(wa(e,t),1)},Ln.flatMapDeep=function(e,t){return pr(wa(e,t),c)},Ln.flatMapDepth=function(e,t,n){return n=n===o?1:ds(n),pr(wa(e,t),n)},Ln.flatten=Wi,Ln.flattenDeep=function(e){return null!=e&&e.length?pr(e,c):[]},Ln.flattenDepth=function(e,t){return null!=e&&e.length?pr(e,t=t===o?1:ds(t)):[]},Ln.flip=function(e){return Xo(e,512)},Ln.flow=Js,Ln.flowRight=eu,Ln.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Ln.functions=function(e){return null==e?[]:br(e,ks(e))},Ln.functionsIn=function(e){return null==e?[]:br(e,As(e))},Ln.groupBy=ma,Ln.initial=function(e){return null!=e&&e.length?Jr(e,0,-1):[]},Ln.intersection=Gi,Ln.intersectionBy=qi,Ln.intersectionWith=Yi,Ln.invert=Ts,Ln.invertBy=Ps,Ln.invokeMap=ba,Ln.iteratee=nu,Ln.keyBy=_a,Ln.keys=ks,Ln.keysIn=As,Ln.map=wa,Ln.mapKeys=function(e,t){var n={};return t=ii(t,3),yr(e,function(e,r,o){nr(n,t(e,r,o),e)}),n},Ln.mapValues=function(e,t){var n={};return t=ii(t,3),yr(e,function(e,r,o){nr(n,r,t(e,r,o))}),n},Ln.matches=function(e){return Dr(ir(e,1))},Ln.matchesProperty=function(e,t){return Lr(e,ir(t,1))},Ln.memoize=ja,Ln.merge=Ns,Ln.mergeWith=js,Ln.method=ru,Ln.methodOf=ou,Ln.mixin=iu,Ln.negate=Ra,Ln.nthArg=function(e){return e=ds(e),qr(function(t){return Fr(t,e)})},Ln.omit=Rs,Ln.omitBy=function(e,t){return Ms(e,Ra(ii(t)))},Ln.once=function(e){return Ta(2,e)},Ln.orderBy=function(e,t,n,r){return null==e?[]:(Va(t)||(t=null==t?[]:[t]),Va(n=r?o:n)||(n=null==n?[]:[n]),Ur(e,t,n))},Ln.over=su,Ln.overArgs=Ia,Ln.overEvery=uu,Ln.overSome=lu,Ln.partial=Ma,Ln.partialRight=Da,Ln.partition=xa,Ln.pick=Is,Ln.pickBy=Ms,Ln.property=cu,Ln.propertyOf=function(e){return function(t){return null==e?o:_r(e,t)}},Ln.pull=Ki,Ln.pullAll=$i,Ln.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,ii(n,2)):e},Ln.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,o,n):e},Ln.pullAt=Zi,Ln.range=fu,Ln.rangeRight=du,Ln.rearg=La,Ln.reject=function(e,t){return(Va(e)?Ct:hr)(e,Ra(ii(t,3)))},Ln.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=ii(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Wr(e,o),n},Ln.rest=function(e,t){if("function"!=typeof e)throw new Pe(i);return qr(e,t=t===o?t:ds(t))},Ln.reverse=Qi,Ln.sampleSize=function(e,t,n){return t=(n?gi(e,t,n):t===o)?1:ds(t),(Va(e)?Kn:Xr)(e,t)},Ln.set=function(e,t,n){return null==e?e:Kr(e,t,n)},Ln.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Kr(e,t,n,r)},Ln.shuffle=function(e){return(Va(e)?$n:Qr)(e)},Ln.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&gi(e,t,n)?(t=0,n=r):(t=null==t?0:ds(t),n=n===o?r:ds(n)),Jr(e,t,n)):[]},Ln.sortBy=Ea,Ln.sortedUniq=function(e){return e&&e.length?ro(e):[]},Ln.sortedUniqBy=function(e,t){return e&&e.length?ro(e,ii(t,2)):[]},Ln.split=function(e,t,n){return n&&"number"!=typeof n&&gi(e,t,n)&&(t=n=o),(n=n===o?h:n>>>0)?(e=gs(e))&&("string"==typeof t||null!=t&&!rs(t))&&!(t=io(t))&&rn(e)?mo(cn(e),0,n):e.split(t,n):[]},Ln.spread=function(e,t){if("function"!=typeof e)throw new Pe(i);return t=null==t?0:vn(ds(t),0),qr(function(n){var r=n[t],o=mo(n,0,t);return r&&jt(o,r),Et(e,this,o)})},Ln.tail=function(e){var t=null==e?0:e.length;return t?Jr(e,1,t):[]},Ln.take=function(e,t,n){return e&&e.length?Jr(e,0,(t=n||t===o?1:ds(t))<0?0:t):[]},Ln.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Jr(e,(t=r-(t=n||t===o?1:ds(t)))<0?0:t,r):[]},Ln.takeRightWhile=function(e,t){return e&&e.length?lo(e,ii(t,3),!1,!0):[]},Ln.takeWhile=function(e,t){return e&&e.length?lo(e,ii(t,3)):[]},Ln.tap=function(e,t){return t(e),e},Ln.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Pe(i);return Qa(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ka(e,t,{leading:r,maxWait:t,trailing:o})},Ln.thru=fa,Ln.toArray=cs,Ln.toPairs=Ds,Ln.toPairsIn=Ls,Ln.toPath=function(e){return Va(e)?Nt(e,Mi):as(e)?[e]:To(Ii(gs(e)))},Ln.toPlainObject=vs,Ln.transform=function(e,t,n){var r=Va(e),o=r||qa(e)||ss(e);if(t=ii(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:Qa(e)&&Ka(i)?Bn(He(e)):{}}return(o?St:yr)(e,function(e,r,o){return t(n,e,r,o)}),n},Ln.unary=function(e){return Sa(e,1)},Ln.union=Ji,Ln.unionBy=ea,Ln.unionWith=ta,Ln.uniq=function(e){return e&&e.length?ao(e):[]},Ln.uniqBy=function(e,t){return e&&e.length?ao(e,ii(t,2)):[]},Ln.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?ao(e,o,t):[]},Ln.unset=function(e,t){return null==e||so(e,t)},Ln.unzip=na,Ln.unzipWith=ra,Ln.update=function(e,t,n){return null==e?e:uo(e,t,vo(n))},Ln.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:uo(e,t,vo(n),r)},Ln.values=Bs,Ln.valuesIn=function(e){return null==e?[]:$t(e,As(e))},Ln.without=oa,Ln.words=Ks,Ln.wrap=function(e,t){return Ma(vo(t),e)},Ln.xor=ia,Ln.xorBy=aa,Ln.xorWith=sa,Ln.zip=ua,Ln.zipObject=function(e,t){return ho(e||[],t||[],Qn)},Ln.zipObjectDeep=function(e,t){return ho(e||[],t||[],Kr)},Ln.zipWith=la,Ln.entries=Ds,Ln.entriesIn=Ls,Ln.extend=ms,Ln.extendWith=bs,iu(Ln,Ln),Ln.add=gu,Ln.attempt=$s,Ln.camelCase=Fs,Ln.capitalize=Us,Ln.ceil=yu,Ln.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=ps(n))==n?n:0),t!==o&&(t=(t=ps(t))==t?t:0),or(ps(e),t,n)},Ln.clone=function(e){return ir(e,4)},Ln.cloneDeep=function(e){return ir(e,5)},Ln.cloneDeepWith=function(e,t){return ir(e,5,t="function"==typeof t?t:o)},Ln.cloneWith=function(e,t){return ir(e,4,t="function"==typeof t?t:o)},Ln.conformsTo=function(e,t){return null==t||ar(e,t,ks(t))},Ln.deburr=zs,Ln.defaultTo=function(e,t){return null==e||e!=e?t:e},Ln.divide=mu,Ln.endsWith=function(e,t,n){e=gs(e),t=io(t);var r=e.length,i=n=n===o?r:or(ds(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Ln.eq=Ba,Ln.escape=function(e){return(e=gs(e))&&X.test(e)?e.replace(q,tn):e},Ln.escapeRegExp=function(e){return(e=gs(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Ln.every=function(e,t,n){var r=Va(e)?Pt:fr;return n&&gi(e,t,n)&&(t=o),r(e,ii(t,3))},Ln.find=pa,Ln.findIndex=zi,Ln.findKey=function(e,t){return Lt(e,ii(t,3),yr)},Ln.findLast=va,Ln.findLastIndex=Vi,Ln.findLastKey=function(e,t){return Lt(e,ii(t,3),mr)},Ln.floor=bu,Ln.forEach=ga,Ln.forEachRight=ya,Ln.forIn=function(e,t){return null==e?e:vr(e,ii(t,3),As)},Ln.forInRight=function(e,t){return null==e?e:gr(e,ii(t,3),As)},Ln.forOwn=function(e,t){return e&&yr(e,ii(t,3))},Ln.forOwnRight=function(e,t){return e&&mr(e,ii(t,3))},Ln.get=Os,Ln.gt=Fa,Ln.gte=Ua,Ln.has=function(e,t){return null!=e&&di(e,t,Or)},Ln.hasIn=Ss,Ln.head=Hi,Ln.identity=tu,Ln.includes=function(e,t,n,r){e=Ha(e)?e:Bs(e),n=n&&!r?ds(n):0;var o=e.length;return n<0&&(n=vn(o+n,0)),is(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Ft(e,t,n)>-1},Ln.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ds(n);return o<0&&(o=vn(r+o,0)),Ft(e,t,o)},Ln.inRange=function(e,t,n){return t=fs(t),n===o?(n=t,t=0):n=fs(n),function(e,t,n){return e>=gn(t,n)&&e<vn(t,n)}(e=ps(e),t,n)},Ln.invoke=Cs,Ln.isArguments=za,Ln.isArray=Va,Ln.isArrayBuffer=Wa,Ln.isArrayLike=Ha,Ln.isArrayLikeObject=Ga,Ln.isBoolean=function(e){return!0===e||!1===e||Ja(e)&&xr(e)==y},Ln.isBuffer=qa,Ln.isDate=Ya,Ln.isElement=function(e){return Ja(e)&&1===e.nodeType&&!ns(e)},Ln.isEmpty=function(e){if(null==e)return!0;if(Ha(e)&&(Va(e)||"string"==typeof e||"function"==typeof e.splice||qa(e)||ss(e)||za(e)))return!e.length;var t=fi(e);if(t==x||t==P)return!e.size;if(_i(e))return!Rr(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},Ln.isEqual=function(e,t){return kr(e,t)},Ln.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?kr(e,t,o,n):!!r},Ln.isError=Xa,Ln.isFinite=function(e){return"number"==typeof e&&Dt(e)},Ln.isFunction=Ka,Ln.isInteger=$a,Ln.isLength=Za,Ln.isMap=es,Ln.isMatch=function(e,t){return e===t||Ar(e,t,si(t))},Ln.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Ar(e,t,si(t),n)},Ln.isNaN=function(e){return ts(e)&&e!=+e},Ln.isNative=function(e){if(bi(e))throw new we("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nr(e)},Ln.isNil=function(e){return null==e},Ln.isNull=function(e){return null===e},Ln.isNumber=ts,Ln.isObject=Qa,Ln.isObjectLike=Ja,Ln.isPlainObject=ns,Ln.isRegExp=rs,Ln.isSafeInteger=function(e){return $a(e)&&e>=-9007199254740991&&e<=f},Ln.isSet=os,Ln.isString=is,Ln.isSymbol=as,Ln.isTypedArray=ss,Ln.isUndefined=function(e){return e===o},Ln.isWeakMap=function(e){return Ja(e)&&fi(e)==A},Ln.isWeakSet=function(e){return Ja(e)&&"[object WeakSet]"==xr(e)},Ln.join=function(e,t){return null==e?"":Ht.call(e,t)},Ln.kebabCase=Vs,Ln.last=Xi,Ln.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=ds(n))<0?vn(r+i,0):gn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Bt(e,zt,i,!0)},Ln.lowerCase=Ws,Ln.lowerFirst=Hs,Ln.lt=us,Ln.lte=ls,Ln.max=function(e){return e&&e.length?dr(e,tu,Er):o},Ln.maxBy=function(e,t){return e&&e.length?dr(e,ii(t,2),Er):o},Ln.mean=function(e){return Vt(e,tu)},Ln.meanBy=function(e,t){return Vt(e,ii(t,2))},Ln.min=function(e){return e&&e.length?dr(e,tu,Ir):o},Ln.minBy=function(e,t){return e&&e.length?dr(e,ii(t,2),Ir):o},Ln.stubArray=hu,Ln.stubFalse=pu,Ln.stubObject=function(){return{}},Ln.stubString=function(){return""},Ln.stubTrue=function(){return!0},Ln.multiply=_u,Ln.nth=function(e,t){return e&&e.length?Fr(e,ds(t)):o},Ln.noConflict=function(){return ft._===this&&(ft._=Be),this},Ln.noop=au,Ln.now=Oa,Ln.pad=function(e,t,n){e=gs(e);var r=(t=ds(t))?ln(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return zo(ht(o),n)+e+zo(dt(o),n)},Ln.padEnd=function(e,t,n){e=gs(e);var r=(t=ds(t))?ln(e):0;return t&&r<t?e+zo(t-r,n):e},Ln.padStart=function(e,t,n){e=gs(e);var r=(t=ds(t))?ln(e):0;return t&&r<t?zo(t-r,n)+e:e},Ln.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),mn(gs(e).replace(re,""),t||0)},Ln.random=function(e,t,n){if(n&&"boolean"!=typeof n&&gi(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=fs(e),t===o?(t=e,e=0):t=fs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=bn();return gn(e+i*(t-e+st("1e-"+((i+"").length-1))),t)}return Hr(e,t)},Ln.reduce=function(e,t,n){var r=Va(e)?Rt:Gt,o=arguments.length<3;return r(e,ii(t,4),n,o,lr)},Ln.reduceRight=function(e,t,n){var r=Va(e)?It:Gt,o=arguments.length<3;return r(e,ii(t,4),n,o,cr)},Ln.repeat=function(e,t,n){return t=(n?gi(e,t,n):t===o)?1:ds(t),Gr(gs(e),t)},Ln.replace=function(){var e=arguments,t=gs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Ln.result=function(e,t,n){var r=-1,i=(t=go(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[Mi(t[r])];a===o&&(r=i,a=n),e=Ka(a)?a.call(e):a}return e},Ln.round=wu,Ln.runInContext=e,Ln.sample=function(e){return(Va(e)?Xn:Yr)(e)},Ln.size=function(e){if(null==e)return 0;if(Ha(e))return is(e)?ln(e):e.length;var t=fi(e);return t==x||t==P?e.size:Rr(e).length},Ln.snakeCase=Gs,Ln.some=function(e,t,n){var r=Va(e)?Mt:eo;return n&&gi(e,t,n)&&(t=o),r(e,ii(t,3))},Ln.sortedIndex=function(e,t){return to(e,t)},Ln.sortedIndexBy=function(e,t,n){return no(e,t,ii(n,2))},Ln.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=to(e,t);if(r<n&&Ba(e[r],t))return r}return-1},Ln.sortedLastIndex=function(e,t){return to(e,t,!0)},Ln.sortedLastIndexBy=function(e,t,n){return no(e,t,ii(n,2),!0)},Ln.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=to(e,t,!0)-1;if(Ba(e[n],t))return n}return-1},Ln.startCase=qs,Ln.startsWith=function(e,t,n){return e=gs(e),n=null==n?0:or(ds(n),0,e.length),t=io(t),e.slice(n,n+t.length)==t},Ln.subtract=xu,Ln.sum=function(e){return e&&e.length?qt(e,tu):0},Ln.sumBy=function(e,t){return e&&e.length?qt(e,ii(t,2)):0},Ln.template=function(e,t,n){var r=Ln.templateSettings;n&&gi(e,t,n)&&(t=o),e=gs(e),t=bs({},t,r,Ko);var i,a,s=bs({},t.imports,r.imports,Ko),u=ks(s),l=$t(s,u),c=0,f=t.interpolate||be,d="__p += '",h=Se((t.escape||be).source+"|"+f.source+"|"+(f===Z?fe:be).source+"|"+(t.evaluate||be).source+"|$","g"),p="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(h,function(t,n,r,o,s,u){return r||(r=o),d+=e.slice(c,u).replace(_e,nn),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t}),d+="';\n";var v=Re.call(t,"variable")&&t.variable;if(v){if(le.test(v))throw new we("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(V,""):d).replace(W,"$1").replace(H,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=$s(function(){return xe(u,p+"return "+d).apply(o,l)});if(g.source=d,Xa(g))throw g;return g},Ln.times=function(e,t){if((e=ds(e))<1||e>f)return[];var n=h,r=gn(e,h);t=ii(t),e-=h;for(var o=Yt(r,t);++n<e;)t(n);return o},Ln.toFinite=fs,Ln.toInteger=ds,Ln.toLength=hs,Ln.toLower=function(e){return gs(e).toLowerCase()},Ln.toNumber=ps,Ln.toSafeInteger=function(e){return e?or(ds(e),-9007199254740991,f):0===e?e:0},Ln.toString=gs,Ln.toUpper=function(e){return gs(e).toUpperCase()},Ln.trim=function(e,t,n){if((e=gs(e))&&(n||t===o))return Xt(e);if(!e||!(t=io(t)))return e;var r=cn(e),i=cn(t);return mo(r,Qt(r,i),Jt(r,i)+1).join("")},Ln.trimEnd=function(e,t,n){if((e=gs(e))&&(n||t===o))return e.slice(0,fn(e)+1);if(!e||!(t=io(t)))return e;var r=cn(e);return mo(r,0,Jt(r,cn(t))+1).join("")},Ln.trimStart=function(e,t,n){if((e=gs(e))&&(n||t===o))return e.replace(re,"");if(!e||!(t=io(t)))return e;var r=cn(e);return mo(r,Qt(r,cn(t))).join("")},Ln.truncate=function(e,t){var n=30,r="...";if(Qa(t)){var i="separator"in t?t.separator:i;n="length"in t?ds(t.length):n,r="omission"in t?io(t.omission):r}var a=(e=gs(e)).length;if(rn(e)){var s=cn(e);a=s.length}if(n>=a)return e;var u=n-ln(r);if(u<1)return r;var l=s?mo(s,0,u).join(""):e.slice(0,u);if(i===o)return l+r;if(s&&(u+=l.length-u),rs(i)){if(e.slice(u).search(i)){var c,f=l;for(i.global||(i=Se(i.source,gs(de.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var d=c.index;l=l.slice(0,d===o?u:d)}}else if(e.indexOf(io(i),u)!=u){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r},Ln.unescape=function(e){return(e=gs(e))&&Y.test(e)?e.replace(G,dn):e},Ln.uniqueId=function(e){var t=++Ie;return gs(e)+t},Ln.upperCase=Ys,Ln.upperFirst=Xs,Ln.each=ga,Ln.eachRight=ya,Ln.first=Hi,iu(Ln,(vu={},yr(Ln,function(e,t){Re.call(Ln.prototype,t)||(vu[t]=e)}),vu),{chain:!1}),Ln.VERSION="4.17.21",St(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Ln[e].placeholder=Ln}),St(["drop","take"],function(e,t){zn.prototype[e]=function(n){n=n===o?1:vn(ds(n),0);var r=this.__filtered__&&!t?new zn(this):this.clone();return r.__filtered__?r.__takeCount__=gn(n,r.__takeCount__):r.__views__.push({size:gn(n,h),type:e+(r.__dir__<0?"Right":"")}),r},zn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),St(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;zn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ii(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),St(["head","last"],function(e,t){var n="take"+(t?"Right":"");zn.prototype[e]=function(){return this[n](1).value()[0]}}),St(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");zn.prototype[e]=function(){return this.__filtered__?new zn(this):this[n](1)}}),zn.prototype.compact=function(){return this.filter(tu)},zn.prototype.find=function(e){return this.filter(e).head()},zn.prototype.findLast=function(e){return this.reverse().find(e)},zn.prototype.invokeMap=qr(function(e,t){return"function"==typeof e?new zn(this):this.map(function(n){return Pr(n,e,t)})}),zn.prototype.reject=function(e){return this.filter(Ra(ii(e)))},zn.prototype.slice=function(e,t){e=ds(e);var n=this;return n.__filtered__&&(e>0||t<0)?new zn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=ds(t))<0?n.dropRight(-t):n.take(t-e)),n)},zn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},zn.prototype.toArray=function(){return this.take(h)},yr(zn.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Ln[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(Ln.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof zn,l=s[0],c=u||Va(t),f=function(e){var t=i.apply(Ln,jt([e],s));return r&&d?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,v=u&&!h;if(!a&&c){t=v?t:new zn(this);var g=e.apply(t,s);return g.__actions__.push({func:fa,args:[f],thisArg:o}),new Un(g,d)}return p&&v?e.apply(this,s):(g=this.thru(f),p?r?g.value()[0]:g.value():g)})}),St(["pop","push","shift","sort","splice","unshift"],function(e){var t=Ce[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Ln.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Va(o)?o:[],e)}return this[n](function(n){return t.apply(Va(n)?n:[],e)})}}),yr(zn.prototype,function(e,t){var n=Ln[t];if(n){var r=n.name+"";Re.call(Cn,r)||(Cn[r]=[]),Cn[r].push({name:t,func:n})}}),Cn[Lo(o,2).name]=[{name:"wrapper",func:o}],zn.prototype.clone=function(){var e=new zn(this.__wrapped__);return e.__actions__=To(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=To(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=To(this.__views__),e},zn.prototype.reverse=function(){if(this.__filtered__){var e=new zn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},zn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Va(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=gn(t,e+a);break;case"takeRight":e=vn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,d=0,h=gn(u,this.__takeCount__);if(!n||!r&&o==u&&h==u)return co(e,this.__actions__);var p=[];e:for(;u--&&d<h;){for(var v=-1,g=e[l+=t];++v<f;){var y=c[v],m=y.iteratee,b=y.type,_=m(g);if(2==b)g=_;else if(!_){if(1==b)continue e;break e}}p[d++]=g}return p},Ln.prototype.at=da,Ln.prototype.chain=function(){return ca(this)},Ln.prototype.commit=function(){return new Un(this.value(),this.__chain__)},Ln.prototype.next=function(){this.__values__===o&&(this.__values__=cs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Ln.prototype.plant=function(e){for(var t,n=this;n instanceof Fn;){var r=Li(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Ln.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof zn){var t=e;return this.__actions__.length&&(t=new zn(this)),(t=t.reverse()).__actions__.push({func:fa,args:[Qi],thisArg:o}),new Un(t,this.__chain__)}return this.thru(Qi)},Ln.prototype.toJSON=Ln.prototype.valueOf=Ln.prototype.value=function(){return co(this.__wrapped__,this.__actions__)},Ln.prototype.first=Ln.prototype.head,Ke&&(Ln.prototype[Ke]=function(){return this}),Ln}();ft._=hn,(r=function(){return hn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},5880:function(e,t,n){var r,o;r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],o={},i=null;function a(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(){for(var n=this.getLevel(),o=0;o<r.length;o++){var i=r[o];this[i]=o<n?e:this.methodFactory(i,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function l(e){return function(){typeof console!==t&&(u.call(this),this[e].apply(this,arguments))}}function c(r,o,i){return function(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?s:void 0!==console[r]?a(console,r):void 0!==console.log?a(console,"log"):e)}(r)||l.apply(this,arguments)}function f(e,n){var a,s,l,f=this,d="loglevel";function h(){var e;if(typeof window!==t&&d){try{e=window.localStorage[d]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=encodeURIComponent(d),o=n.indexOf(r+"=");-1!==o&&(e=/^([^;]+)/.exec(n.slice(o+r.length+1))[1])}catch(e){}return void 0===f.levels[e]&&(e=void 0),e}}function p(e){var t=e;if("string"==typeof t&&void 0!==f.levels[t.toUpperCase()]&&(t=f.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=f.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?d+=":"+e:"symbol"==typeof e&&(d=void 0),f.name=e,f.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},f.methodFactory=n||c,f.getLevel=function(){return null!=l?l:null!=s?s:a},f.setLevel=function(e,n){return l=p(e),!1!==n&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&d){try{return void(window.localStorage[d]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"="+n+";"}catch(e){}}}(l),u.call(f)},f.setDefaultLevel=function(e){s=p(e),h()||f.setLevel(e,!1)},f.resetLevel=function(){l=null,function(){if(typeof window!==t&&d){try{window.localStorage.removeItem(d)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}(),u.call(f)},f.enableAll=function(e){f.setLevel(f.levels.TRACE,e)},f.disableAll=function(e){f.setLevel(f.levels.SILENT,e)},f.rebuild=function(){if(i!==f&&(a=p(i.getLevel())),u.call(f),i===f)for(var e in o)o[e].rebuild()},a=p(i?i.getLevel():"WARN");var v=h();null!=v&&(l=p(v)),u.call(f)}(i=new f).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=o[e];return t||(t=o[e]=new f(e,i.methodFactory)),t};var d=typeof window!==t?window.log:void 0;return i.noConflict=function(){return typeof window!==t&&window.log===i&&(window.log=d),i},i.getLoggers=function(){return o},i.default=i,i},void 0===(o=r.call(t,n,t,e))||(e.exports=o)},397:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.assertNotificationFilterIsEmpty=t.assertImpersonatedUserIsEmpty=t.assertTxConfigIsEmpty=t.assertDatabaseIsEmpty=void 0;var r=n(9305);n(9014),t.assertTxConfigIsEmpty=function(e,t,n){if(void 0===t&&(t=function(){}),e&&!e.isEmpty()){var o=(0,r.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality");throw t(o.message),n.onError(o),o}},t.assertDatabaseIsEmpty=function(e,t,n){if(void 0===t&&(t=function(){}),e){var o=(0,r.newError)("Driver is connected to the database that does not support multiple databases. Please upgrade to neo4j 4.0.0 or later in order to use this functionality");throw t(o.message),n.onError(o),o}},t.assertImpersonatedUserIsEmpty=function(e,t,n){if(void 0===t&&(t=function(){}),e){var o=(0,r.newError)("Driver is connected to the database that does not support user impersonation. Please upgrade to neo4j 4.4.0 or later in order to use this functionality. "+"Trying to impersonate ".concat(e,"."));throw t(o.message),n.onError(o),o}},t.assertNotificationFilterIsEmpty=function(e,t,n){if(void 0===t&&(t=function(){}),void 0!==e){var o=(0,r.newError)("Driver is connected to a database that does not support user notification filters. Please upgrade to Neo4j 5.7.0 or later in order to use this functionality. "+"Trying to set notifications to ".concat(r.json.stringify(e),"."));throw t(o.message),n.onError(o),o}}},8320:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(397),l=(n(7452),n(7168)),c=a(n(7021)),f=n(9014),d=n(9305),h=s(n(6661)),p=s(n(3321)),v=d.internal.bookmarks.Bookmarks,g=d.internal.constants,y=g.ACCESS_MODE_WRITE,m=g.BOLT_PROTOCOL_V1,b=(d.internal.logger.Logger,d.internal.txConfig.TxConfig),_=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),w=function(){function e(e,t,n,r,o,i){var a=void 0===n?{}:n,s=a.disableLosslessIntegers,u=a.useBigInt;void 0===r&&(r=function(){return null}),this._server=e||{},this._chunker=t,this._packer=this._createPacker(t),this._unpacker=this._createUnpacker(s,u),this._responseHandler=r(this),this._log=o,this._onProtocolError=i,this._fatalError=null,this._lastMessageSignature=null,this._config={disableLosslessIntegers:s,useBigInt:u}}return Object.defineProperty(e.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new p.default(Object.values(h.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return m},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supportsReAuth",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"initialized",{get:function(){return!!this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authToken",{get:function(){return this._authToken},enumerable:!1,configurable:!0}),e.prototype.packer=function(){return this._packer},e.prototype.packable=function(e){return this._packer.packable(e,this.transformer.toStructure)},e.prototype.unpacker=function(){return this._unpacker},e.prototype.unpack=function(e){return this._unpacker.unpack(e,this.transformer.fromStructure)},e.prototype.transformMetadata=function(e){return e},e.prototype.enrichErrorMetadata=function(e){return r(r({},e),{diagnostic_record:null!==e.diagnostic_record?r(r({},_),e.diagnostic_record):null})},e.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,o=(n.boltAgent,n.authToken),i=n.notificationFilter,a=n.onError,s=n.onComplete,l=new f.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return t._onLoginCompleted(e,s)}});return(0,u.assertNotificationFilterIsEmpty)(i,this._onProtocolError,l),this.write(c.default.init(r,o),l,!0),l},e.prototype.logoff=function(e){var t=void 0===e?{}:e,n=t.onComplete,r=t.onError,o=(t.flush,new f.LogoffObserver({onCompleted:n,onError:r})),i=(0,d.newError)("Driver is connected to a database that does not support logoff. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(i.message),o.onError(i),i},e.prototype.logon=function(e){var t=this,n=void 0===e?{}:e,r=n.authToken,o=n.onComplete,i=n.onError,a=(n.flush,new f.LoginObserver({onCompleted:function(){return t._onLoginCompleted({},r,o)},onError:function(e){return t._onLoginError(e,i)}})),s=(0,d.newError)("Driver is connected to a database that does not support logon. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(s.message),a.onError(s),s},e.prototype.prepareToClose=function(){},e.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,n=t.bookmarks,r=t.txConfig,o=t.database,i=t.mode,a=t.impersonatedUser,s=t.notificationFilter,u=t.beforeError,l=t.afterError,c=t.beforeComplete,f=t.afterComplete;return this.run("BEGIN",n?n.asBeginTransactionParameters():{},{bookmarks:n,txConfig:r,database:o,mode:i,impersonatedUser:a,notificationFilter:s,beforeError:u,afterError:l,beforeComplete:c,afterComplete:f,flush:!1})},e.prototype.commitTransaction=function(e){var t=void 0===e?{}:e,n=t.beforeError,r=t.afterError,o=t.beforeComplete,i=t.afterComplete;return this.run("COMMIT",{},{bookmarks:v.empty(),txConfig:b.empty(),mode:y,beforeError:n,afterError:r,beforeComplete:o,afterComplete:i})},e.prototype.rollbackTransaction=function(e){var t=void 0===e?{}:e,n=t.beforeError,r=t.afterError,o=t.beforeComplete,i=t.afterComplete;return this.run("ROLLBACK",{},{bookmarks:v.empty(),txConfig:b.empty(),mode:y,beforeError:n,afterError:r,beforeComplete:o,afterComplete:i})},e.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=(r.bookmarks,r.txConfig),i=r.database,a=(r.mode,r.impersonatedUser),s=r.notificationFilter,l=r.beforeKeys,d=r.afterKeys,h=r.beforeError,p=r.afterError,v=r.beforeComplete,g=r.afterComplete,y=r.flush,m=void 0===y||y,b=r.highRecordWatermark,_=void 0===b?Number.MAX_VALUE:b,w=r.lowRecordWatermark,x=void 0===w?Number.MAX_VALUE:w,E=new f.ResultStreamObserver({server:this._server,beforeKeys:l,afterKeys:d,beforeError:h,afterError:p,beforeComplete:v,afterComplete:g,highRecordWatermark:_,lowRecordWatermark:x});return(0,u.assertTxConfigIsEmpty)(o,this._onProtocolError,E),(0,u.assertDatabaseIsEmpty)(i,this._onProtocolError,E),(0,u.assertImpersonatedUserIsEmpty)(a,this._onProtocolError,E),(0,u.assertNotificationFilterIsEmpty)(s,this._onProtocolError,E),this.write(c.default.run(e,t),E,!1),this.write(c.default.pullAll(),E,m),E},Object.defineProperty(e.prototype,"currentFailure",{get:function(){return this._responseHandler.currentFailure},enumerable:!1,configurable:!0}),e.prototype.reset=function(e){var t=void 0===e?{}:e,n=t.onError,r=t.onComplete,o=new f.ResetObserver({onProtocolError:this._onProtocolError,onError:n,onComplete:r});return this.write(c.default.reset(),o,!0),o},e.prototype.telemetry=function(e,t){e.api;var n=void 0===t?{}:t,r=(n.onError,n.onCompleted),o=new f.CompletedObserver;return r&&r(),o},e.prototype._createPacker=function(e){return new l.v1.Packer(e)},e.prototype._createUnpacker=function(e,t){return new l.v1.Unpacker(e,t)},e.prototype.write=function(e,t,n){if(this.queueObserverIfProtocolIsNotBroken(t)){this._log.isDebugEnabled()&&this._log.debug("C: ".concat(e)),this._lastMessageSignature=e.signature;var r=new l.structure.Structure(e.signature,e.fields);this.packable(r)(),this._chunker.messageBoundary(),n&&this._chunker.flush()}},e.prototype.isLastMessageLogon=function(){return this._lastMessageSignature===c.SIGNATURES.HELLO||this._lastMessageSignature===c.SIGNATURES.LOGON},e.prototype.isLastMessageReset=function(){return this._lastMessageSignature===c.SIGNATURES.RESET},e.prototype.notifyFatalError=function(e){return this._fatalError=e,this._responseHandler._notifyErrorToObservers(e)},e.prototype.updateCurrentObserver=function(){return this._responseHandler._updateCurrentObserver()},e.prototype.hasOngoingObservableRequests=function(){return this._responseHandler.hasOngoingObservableRequests()},e.prototype.queueObserverIfProtocolIsNotBroken=function(e){return this.isBroken()?(this.notifyFatalErrorToObserver(e),!1):this._responseHandler._queueObserver(e)},e.prototype.isBroken=function(){return!!this._fatalError},e.prototype.notifyFatalErrorToObserver=function(e){e&&e.onError&&e.onError(this._fatalError)},e.prototype.resetFailure=function(){this._responseHandler._resetFailure()},e.prototype._onLoginCompleted=function(e,t,n){if(this._initialized=!0,this._authToken=t,e){var r=e.server;this._server.version||(this._server.version=r)}n&&n(e)},e.prototype._onLoginError=function(e,t){this._onProtocolError(e.message),t&&t(e)},e}();t.default=w},6661:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(9305),i=n(7168),a=n(3321),s=o.error.PROTOCOL_ERROR;t.default={createNodeTransformer:function(){return new a.TypeTransformer({signature:78,isTypeInstance:function(e){return e instanceof o.Node},toStructure:function(e){throw(0,o.newError)("It is not allowed to pass nodes in query parameters, given: ".concat(e),s)},fromStructure:function(e){i.structure.verifyStructSize("Node",3,e.size);var t=r(e.fields,3),n=t[0],a=t[1],s=t[2];return new o.Node(n,a,s)}})},createRelationshipTransformer:function(){return new a.TypeTransformer({signature:82,isTypeInstance:function(e){return e instanceof o.Relationship},toStructure:function(e){throw(0,o.newError)("It is not allowed to pass relationships in query parameters, given: ".concat(e),s)},fromStructure:function(e){i.structure.verifyStructSize("Relationship",5,e.size);var t=r(e.fields,5),n=t[0],a=t[1],s=t[2],u=t[3],l=t[4];return new o.Relationship(n,a,s,u,l)}})},createUnboundRelationshipTransformer:function(){return new a.TypeTransformer({signature:114,isTypeInstance:function(e){return e instanceof o.UnboundRelationship},toStructure:function(e){throw(0,o.newError)("It is not allowed to pass unbound relationships in query parameters, given: ".concat(e),s)},fromStructure:function(e){i.structure.verifyStructSize("UnboundRelationship",3,e.size);var t=r(e.fields,3),n=t[0],a=t[1],s=t[2];return new o.UnboundRelationship(n,a,s)}})},createPathTransformer:function(){return new a.TypeTransformer({signature:80,isTypeInstance:function(e){return e instanceof o.Path},toStructure:function(e){throw(0,o.newError)("It is not allowed to pass paths in query parameters, given: ".concat(e),s)},fromStructure:function(e){i.structure.verifyStructSize("Path",3,e.size);for(var t=r(e.fields,3),n=t[0],a=t[1],s=t[2],u=[],l=n[0],c=0;c<s.length;c+=2){var f=n[s[c+1]],d=(0,o.toNumber)(s[c]),h=void 0;d>0?(h=a[d-1])instanceof o.UnboundRelationship&&(a[d-1]=h=h.bindTo(l,f)):(h=a[-d-1])instanceof o.UnboundRelationship&&(a[-d-1]=h=h.bindTo(f,l)),u.push(new o.PathSegment(l,h,f)),l=f}return new o.Path(n[0],n[n.length-1],u)}})}}},2857:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(8320)),s=i(n(7168)),u=n(9305),l=i(n(3448)),c=i(n(3321)),f=u.internal.constants.BOLT_PROTOCOL_V2,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._createPacker=function(e){return new s.default.Packer(e)},t.prototype._createUnpacker=function(e,t){return new s.default.Unpacker(e,t)},Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new c.default(Object.values(l.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),t}(a.default);t.default=d},3448:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9305),s=n(7168),u=n(3321),l=n(5973),c=i(n(6661)),f=a.internal.temporalUtil,d=f.dateToEpochDay,h=f.localDateTimeToEpochSecond,p=f.localTimeToNanoOfDay;function v(e,t,n){if(!t&&!n)return e;var r=function(e){return n?e.toBigInt():e.toNumberOrInfinity()},o=Object.create(Object.getPrototypeOf(e));for(var i in e)if(!0===Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];o[i]=(0,a.isInt)(s)?r(s):s}return Object.freeze(o),o}t.default=r(r({},c.default),{createPoint2DTransformer:function(){return new u.TypeTransformer({signature:88,isTypeInstance:function(e){return(0,a.isPoint)(e)&&(null===e.z||void 0===e.z)},toStructure:function(e){return new s.structure.Structure(88,[(0,a.int)(e.srid),e.x,e.y])},fromStructure:function(e){s.structure.verifyStructSize("Point2D",3,e.size);var t=o(e.fields,3),n=t[0],r=t[1],i=t[2];return new a.Point(n,r,i,void 0)}})},createPoint3DTransformer:function(){return new u.TypeTransformer({signature:89,isTypeInstance:function(e){return(0,a.isPoint)(e)&&null!==e.z&&void 0!==e.z},toStructure:function(e){return new s.structure.Structure(89,[(0,a.int)(e.srid),e.x,e.y,e.z])},fromStructure:function(e){s.structure.verifyStructSize("Point3D",4,e.size);var t=o(e.fields,4),n=t[0],r=t[1],i=t[2],u=t[3];return new a.Point(n,r,i,u)}})},createDurationTransformer:function(){return new u.TypeTransformer({signature:69,isTypeInstance:a.isDuration,toStructure:function(e){var t=(0,a.int)(e.months),n=(0,a.int)(e.days),r=(0,a.int)(e.seconds),o=(0,a.int)(e.nanoseconds);return new s.structure.Structure(69,[t,n,r,o])},fromStructure:function(e){s.structure.verifyStructSize("Duration",4,e.size);var t=o(e.fields,4),n=t[0],r=t[1],i=t[2],u=t[3];return new a.Duration(n,r,i,u)}})},createLocalTimeTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return new u.TypeTransformer({signature:116,isTypeInstance:a.isLocalTime,toStructure:function(e){var t=p(e.hour,e.minute,e.second,e.nanosecond);return new s.structure.Structure(116,[t])},fromStructure:function(e){s.structure.verifyStructSize("LocalTime",1,e.size);var r=o(e.fields,1)[0];return v((0,l.nanoOfDayToLocalTime)(r),t,n)}})},createTimeTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return new u.TypeTransformer({signature:84,isTypeInstance:a.isTime,toStructure:function(e){var t=p(e.hour,e.minute,e.second,e.nanosecond),n=(0,a.int)(e.timeZoneOffsetSeconds);return new s.structure.Structure(84,[t,n])},fromStructure:function(e){s.structure.verifyStructSize("Time",2,e.size);var r=o(e.fields,2),i=r[0],u=r[1],c=(0,l.nanoOfDayToLocalTime)(i);return v(new a.Time(c.hour,c.minute,c.second,c.nanosecond,u),t,n)}})},createDateTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return new u.TypeTransformer({signature:68,isTypeInstance:a.isDate,toStructure:function(e){var t=d(e.year,e.month,e.day);return new s.structure.Structure(68,[t])},fromStructure:function(e){s.structure.verifyStructSize("Date",1,e.size);var r=o(e.fields,1)[0];return v((0,l.epochDayToDate)(r),t,n)}})},createLocalDateTimeTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return new u.TypeTransformer({signature:100,isTypeInstance:a.isLocalDateTime,toStructure:function(e){var t=h(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),n=(0,a.int)(e.nanosecond);return new s.structure.Structure(100,[t,n])},fromStructure:function(e){s.structure.verifyStructSize("LocalDateTime",2,e.size);var r=o(e.fields,2),i=r[0],a=r[1];return v((0,l.epochSecondAndNanoToLocalDateTime)(i,a),t,n)}})},createDateTimeWithZoneIdTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return new u.TypeTransformer({signature:102,isTypeInstance:function(e){return(0,a.isDateTime)(e)&&null!=e.timeZoneId},toStructure:function(e){var t=h(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),n=(0,a.int)(e.nanosecond),r=e.timeZoneId;return new s.structure.Structure(102,[t,n,r])},fromStructure:function(e){s.structure.verifyStructSize("DateTimeWithZoneId",3,e.size);var r=o(e.fields,3),i=r[0],u=r[1],c=r[2],f=(0,l.epochSecondAndNanoToLocalDateTime)(i,u);return v(new a.DateTime(f.year,f.month,f.day,f.hour,f.minute,f.second,f.nanosecond,null,c),t,n)}})},createDateTimeWithOffsetTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return new u.TypeTransformer({signature:70,isTypeInstance:function(e){return(0,a.isDateTime)(e)&&null==e.timeZoneId},toStructure:function(e){var t=h(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),n=(0,a.int)(e.nanosecond),r=(0,a.int)(e.timeZoneOffsetSeconds);return new s.structure.Structure(70,[t,n,r])},fromStructure:function(e){s.structure.verifyStructSize("DateTimeWithZoneOffset",3,e.size);var r=o(e.fields,3),i=r[0],u=r[1],c=r[2],f=(0,l.epochSecondAndNanoToLocalDateTime)(i,u);return v(new a.DateTime(f.year,f.month,f.day,f.hour,f.minute,f.second,f.nanosecond,c,null),t,n)}})}})},5642:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(2857)),u=a(n(7021)),l=n(397),c=n(9014),f=a(n(1175)),d=a(n(3321)),h=n(9305),p=(h.internal.bookmarks.Bookmarks,h.internal.constants.BOLT_PROTOCOL_V3),v=h.internal.txConfig.TxConfig,g="context",y="CALL dbms.cluster.routing.getRoutingTable($".concat(g,")"),m=new c.StreamObserver,b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return p},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new d.default(Object.values(f.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.transformMetadata=function(e){return"t_first"in e&&(e.result_available_after=e.t_first,delete e.t_first),"t_last"in e&&(e.result_consumed_after=e.t_last,delete e.t_last),e},t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,o=(n.boltAgent,n.authToken),i=n.notificationFilter,a=n.onError,s=n.onComplete,f=new c.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return t._onLoginCompleted(e,o,s)}});return(0,l.assertNotificationFilterIsEmpty)(i,this._onProtocolError,f),this.write(u.default.hello(r,o),f,!0),f},t.prototype.prepareToClose=function(){this.write(u.default.goodbye(),m,!0)},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,n=t.bookmarks,r=t.txConfig,o=t.database,i=t.impersonatedUser,a=t.notificationFilter,s=t.mode,f=t.beforeError,d=t.afterError,h=t.beforeComplete,p=t.afterComplete,v=new c.ResultStreamObserver({server:this._server,beforeError:f,afterError:d,beforeComplete:h,afterComplete:p});return v.prepareToHandleSingleResponse(),(0,l.assertDatabaseIsEmpty)(o,this._onProtocolError,v),(0,l.assertImpersonatedUserIsEmpty)(i,this._onProtocolError,v),(0,l.assertNotificationFilterIsEmpty)(a,this._onProtocolError,v),this.write(u.default.begin({bookmarks:n,txConfig:r,mode:s}),v,!0),v},t.prototype.commitTransaction=function(e){var t=void 0===e?{}:e,n=t.beforeError,r=t.afterError,o=t.beforeComplete,i=t.afterComplete,a=new c.ResultStreamObserver({server:this._server,beforeError:n,afterError:r,beforeComplete:o,afterComplete:i});return a.prepareToHandleSingleResponse(),this.write(u.default.commit(),a,!0),a},t.prototype.rollbackTransaction=function(e){var t=void 0===e?{}:e,n=t.beforeError,r=t.afterError,o=t.beforeComplete,i=t.afterComplete,a=new c.ResultStreamObserver({server:this._server,beforeError:n,afterError:r,beforeComplete:o,afterComplete:i});return a.prepareToHandleSingleResponse(),this.write(u.default.rollback(),a,!0),a},t.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=r.bookmarks,i=r.txConfig,a=r.database,s=r.impersonatedUser,f=r.notificationFilter,d=r.mode,h=r.beforeKeys,p=r.afterKeys,v=r.beforeError,g=r.afterError,y=r.beforeComplete,m=r.afterComplete,b=r.flush,_=void 0===b||b,w=r.highRecordWatermark,x=void 0===w?Number.MAX_VALUE:w,E=r.lowRecordWatermark,O=void 0===E?Number.MAX_VALUE:E,S=new c.ResultStreamObserver({server:this._server,beforeKeys:h,afterKeys:p,beforeError:v,afterError:g,beforeComplete:y,afterComplete:m,highRecordWatermark:x,lowRecordWatermark:O});return(0,l.assertDatabaseIsEmpty)(a,this._onProtocolError,S),(0,l.assertImpersonatedUserIsEmpty)(s,this._onProtocolError,S),(0,l.assertNotificationFilterIsEmpty)(f,this._onProtocolError,S),this.write(u.default.runWithMetadata(e,t,{bookmarks:o,txConfig:i,mode:d}),S,!1),this.write(u.default.pullAll(),S,_),S},t.prototype.requestRoutingInformation=function(e){var t,n=e.routingContext,r=void 0===n?{}:n,o=e.sessionContext,a=void 0===o?{}:o,s=e.onError,u=e.onCompleted,l=this.run(y,((t={})[g]=r,t),i(i({},a),{txConfig:v.empty()}));return new c.ProcedureRouteObserver({resultObserver:l,onProtocolError:this._onProtocolError,onError:s,onCompleted:u})},t}(s.default);t.default=b},1175:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(3448));t.default=r({},i.default)},2539:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(5642)),u=a(n(7021)),l=n(397),c=n(9014),f=a(n(2066)),d=a(n(3321)),h=n(9305),p=(h.internal.bookmarks.Bookmarks,h.internal.constants),v=p.BOLT_PROTOCOL_V4_0,g=p.FETCH_ALL,y=h.internal.txConfig.TxConfig,m="context",b="database",_="CALL dbms.routing.getRoutingTable($".concat(m,", $").concat(b,")"),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return v},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new d.default(Object.values(f.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,n=t.bookmarks,r=t.txConfig,o=t.database,i=t.impersonatedUser,a=t.notificationFilter,s=t.mode,f=t.beforeError,d=t.afterError,h=t.beforeComplete,p=t.afterComplete,v=new c.ResultStreamObserver({server:this._server,beforeError:f,afterError:d,beforeComplete:h,afterComplete:p});return v.prepareToHandleSingleResponse(),(0,l.assertImpersonatedUserIsEmpty)(i,this._onProtocolError,v),(0,l.assertNotificationFilterIsEmpty)(a,this._onProtocolError,v),this.write(u.default.begin({bookmarks:n,txConfig:r,database:o,mode:s}),v,!0),v},t.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=r.bookmarks,i=r.txConfig,a=r.database,s=r.impersonatedUser,f=r.notificationFilter,d=r.mode,h=r.beforeKeys,p=r.afterKeys,v=r.beforeError,y=r.afterError,m=r.beforeComplete,b=r.afterComplete,_=r.flush,w=void 0===_||_,x=r.reactive,E=void 0!==x&&x,O=r.fetchSize,S=void 0===O?g:O,T=r.highRecordWatermark,P=void 0===T?Number.MAX_VALUE:T,C=r.lowRecordWatermark,k=void 0===C?Number.MAX_VALUE:C,A=new c.ResultStreamObserver({server:this._server,reactive:E,fetchSize:S,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:h,afterKeys:p,beforeError:v,afterError:y,beforeComplete:m,afterComplete:b,highRecordWatermark:P,lowRecordWatermark:k});(0,l.assertImpersonatedUserIsEmpty)(s,this._onProtocolError,A),(0,l.assertNotificationFilterIsEmpty)(f,this._onProtocolError,A);var N=E;return this.write(u.default.runWithMetadata(e,t,{bookmarks:o,txConfig:i,database:a,mode:d}),A,N&&w),E||this.write(u.default.pull({n:S}),A,w),A},t.prototype._requestMore=function(e,t,n){this.write(u.default.pull({stmtId:e,n:t}),n,!0)},t.prototype._requestDiscard=function(e,t){this.write(u.default.discard({stmtId:e}),t,!0)},t.prototype._noOp=function(){},t.prototype.requestRoutingInformation=function(e){var t,n=e.routingContext,r=void 0===n?{}:n,o=e.databaseName,a=void 0===o?null:o,s=e.sessionContext,u=void 0===s?{}:s,l=e.onError,f=e.onCompleted,d=this.run(_,((t={})[m]=r,t[b]=a,t),i(i({},u),{txConfig:y.empty()}));return new c.ProcedureRouteObserver({resultObserver:d,onProtocolError:this._onProtocolError,onError:l,onCompleted:f})},t}(s.default);t.default=w},2066:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(1175));t.default=r({},i.default)},4596:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(2539)),s=i(n(7021)),u=n(9014),l=n(9305),c=n(397),f=i(n(7521)),d=i(n(3321)),h=l.internal.constants.BOLT_PROTOCOL_V4_1,p=function(e){function t(t,n,r,o,i,a,s){void 0===o&&(o=function(){return null});var u=e.call(this,t,n,r,o,i,a)||this;return u._serversideRouting=s,u}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new d.default(Object.values(f.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,o=(n.boltAgent,n.authToken),i=n.notificationFilter,a=n.onError,l=n.onComplete,f=new u.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return t._onLoginCompleted(e,o,l)}});return(0,c.assertNotificationFilterIsEmpty)(i,this._onProtocolError,f),this.write(s.default.hello(r,o,this._serversideRouting),f,!0),f},t}(a.default);t.default=p},7521:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2066));t.default=r({},i.default)},6445:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(4596)),s=n(9305),u=i(n(5348)),l=i(n(3321)),c=s.internal.constants.BOLT_PROTOCOL_V4_2,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new l.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t}(a.default);t.default=f},5348:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(7521));t.default=r({},i.default)},9054:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(6445)),u=a(n(7021)),l=n(9014),c=n(397),f=a(n(7331)),d=a(n(5045)),h=a(n(3321)),p=n(9305),v=p.internal.bookmarks.Bookmarks,g=p.internal.constants.BOLT_PROTOCOL_V4_3,y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return g},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new h.default(Object.values(f.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.requestRoutingInformation=function(e){var t=e.routingContext,n=void 0===t?{}:t,r=e.databaseName,o=void 0===r?null:r,i=e.sessionContext,a=void 0===i?{}:i,s=e.onError,c=e.onCompleted,f=new l.RouteObserver({onProtocolError:this._onProtocolError,onError:s,onCompleted:c}),d=a.bookmarks||v.empty();return this.write(u.default.route(n,d.values(),o),f,!0),f},t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,o=(n.boltAgent,n.authToken),i=n.notificationFilter,a=n.onError,s=n.onComplete,f=new l.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return void 0!==e.patch_bolt&&t._applyPatches(e.patch_bolt),t._onLoginCompleted(e,o,s)}});return(0,c.assertNotificationFilterIsEmpty)(i,this._onProtocolError,f),this.write(u.default.hello(r,o,this._serversideRouting,["utc"]),f,!0),f},t.prototype._applyPatches=function(e){e.includes("utc")&&this._applyUtcPatch()},t.prototype._applyUtcPatch=function(){var e=this;this._transformer=new h.default(Object.values(i(i({},f.default),d.default)).map(function(t){return t(e._config,e._log)}))},t}(s.default);t.default=y},7331:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(5348));t.default=r({},i.default)},1711:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(9054)),u=n(9305),l=a(n(7021)),c=n(9014),f=n(397),d=a(n(7518)),h=a(n(5045)),p=a(n(3321)),v=u.internal.constants,g=v.BOLT_PROTOCOL_V4_4,y=v.FETCH_ALL,m=u.internal.bookmarks.Bookmarks,b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return g},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new p.default(Object.values(d.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.requestRoutingInformation=function(e){var t=e.routingContext,n=void 0===t?{}:t,r=e.databaseName,o=void 0===r?null:r,i=e.impersonatedUser,a=void 0===i?null:i,s=e.sessionContext,u=void 0===s?{}:s,f=e.onError,d=e.onCompleted,h=new c.RouteObserver({onProtocolError:this._onProtocolError,onError:f,onCompleted:d}),p=u.bookmarks||m.empty();return this.write(l.default.routeV4x4(n,p.values(),{databaseName:o,impersonatedUser:a}),h,!0),h},t.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=r.bookmarks,i=r.txConfig,a=r.database,s=r.mode,u=r.impersonatedUser,d=r.notificationFilter,h=r.beforeKeys,p=r.afterKeys,v=r.beforeError,g=r.afterError,m=r.beforeComplete,b=r.afterComplete,_=r.flush,w=void 0===_||_,x=r.reactive,E=void 0!==x&&x,O=r.fetchSize,S=void 0===O?y:O,T=r.highRecordWatermark,P=void 0===T?Number.MAX_VALUE:T,C=r.lowRecordWatermark,k=void 0===C?Number.MAX_VALUE:C,A=new c.ResultStreamObserver({server:this._server,reactive:E,fetchSize:S,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:h,afterKeys:p,beforeError:v,afterError:g,beforeComplete:m,afterComplete:b,highRecordWatermark:P,lowRecordWatermark:k});(0,f.assertNotificationFilterIsEmpty)(d,this._onProtocolError,A);var N=E;return this.write(l.default.runWithMetadata(e,t,{bookmarks:o,txConfig:i,database:a,mode:s,impersonatedUser:u}),A,N&&w),E||this.write(l.default.pull({n:S}),A,w),A},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,n=t.bookmarks,r=t.txConfig,o=t.database,i=t.mode,a=t.impersonatedUser,s=t.notificationFilter,u=t.beforeError,d=t.afterError,h=t.beforeComplete,p=t.afterComplete,v=new c.ResultStreamObserver({server:this._server,beforeError:u,afterError:d,beforeComplete:h,afterComplete:p});return v.prepareToHandleSingleResponse(),(0,f.assertNotificationFilterIsEmpty)(s,this._onProtocolError,v),this.write(l.default.begin({bookmarks:n,txConfig:r,database:o,mode:i,impersonatedUser:a}),v,!0),v},t.prototype._applyUtcPatch=function(){var e=this;this._transformer=new p.default(Object.values(i(i({},d.default),h.default)).map(function(t){return t(e._config,e._log)}))},t}(s.default);t.default=b},7518:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(7331));t.default=r({},i.default)},844:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(1711)),s=n(397),u=i(n(7449)),l=i(n(3321)),c=i(n(7021)),f=n(9014),d=n(9305).internal.constants.BOLT_PROTOCOL_V5_0,h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new l.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,o=(n.boltAgent,n.authToken),i=n.notificationFilter,a=n.onError,u=n.onComplete,l=new f.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return t._onLoginCompleted(e,o,u)}});return(0,s.assertNotificationFilterIsEmpty)(i,this._onProtocolError,l),this.write(c.default.hello(r,o,this._serversideRouting),l,!0),l},t}(a.default);t.default=h},7449:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(7168),s=n(9305),u=i(n(7518)),l=i(n(5045));t.default=r(r(r({},u.default),l.default),{createNodeTransformer:function(e){return u.default.createNodeTransformer(e).extendsWith({fromStructure:function(e){a.structure.verifyStructSize("Node",4,e.size);var t=o(e.fields,4),n=t[0],r=t[1],i=t[2],u=t[3];return new s.Node(n,r,i,u)}})},createRelationshipTransformer:function(e){return u.default.createRelationshipTransformer(e).extendsWith({fromStructure:function(e){a.structure.verifyStructSize("Relationship",8,e.size);var t=o(e.fields,8),n=t[0],r=t[1],i=t[2],u=t[3],l=t[4],c=t[5],f=t[6],d=t[7];return new s.Relationship(n,r,i,u,l,c,f,d)}})},createUnboundRelationshipTransformer:function(e){return u.default.createUnboundRelationshipTransformer(e).extendsWith({fromStructure:function(e){a.structure.verifyStructSize("UnboundRelationship",4,e.size);var t=o(e.fields,4),n=t[0],r=t[1],i=t[2],u=t[3];return new s.UnboundRelationship(n,r,i,u)}})}})},5045:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(7168),a=n(9305),s=o(n(7518)),u=n(5973),l=n(6492),c=a.internal.temporalUtil.localDateTimeToEpochSecond,f=new Map;function d(e,t,n){var r=function(e){if(!f.has(e)){var t=new Intl.DateTimeFormat("en-US",{timeZone:e,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,era:"narrow"});f.set(e,t)}return f.get(e)}(e),o=(0,a.int)(t).multiply(1e3).add((0,a.int)(n).div(1e6)).toNumber(),i=r.formatToParts(o).reduce(function(e,t){return"era"===t.type?e.adjustEra="B"===t.value.toUpperCase()?function(e){return e.subtract(1).negate()}:l.identity:"hour"===t.type?e.hour=(0,a.int)(t.value).modulo(24):"literal"!==t.type&&(e[t.type]=(0,a.int)(t.value)),e},{});i.year=i.adjustEra(i.year);var s=c(i.year,i.month,i.day,i.hour,i.minute,i.second,i.nanosecond);return i.timeZoneOffsetSeconds=s.subtract(t),i.hour=i.hour.modulo(24),i}function h(e,t,n){if(!t&&!n)return e;var r=function(e){return n?e.toBigInt():e.toNumberOrInfinity()},o=Object.create(Object.getPrototypeOf(e));for(var i in e)if(!0===Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];o[i]=(0,a.isInt)(s)?r(s):s}return Object.freeze(o),o}t.default={createDateTimeWithZoneIdTransformer:function(e,t){var n=e.disableLosslessIntegers,o=e.useBigInt;return s.default.createDateTimeWithZoneIdTransformer(e).extendsWith({signature:105,fromStructure:function(e){i.structure.verifyStructSize("DateTimeWithZoneId",3,e.size);var t=r(e.fields,3),s=t[0],u=t[1],l=t[2],c=d(l,s,u);return h(new a.DateTime(c.year,c.month,c.day,c.hour,c.minute,c.second,(0,a.int)(u),c.timeZoneOffsetSeconds,l),n,o)},toStructure:function(e){var n=c(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),r=null!=e.timeZoneOffsetSeconds?e.timeZoneOffsetSeconds:function(e,t,n){var r=d(e,t,n),o=c(r.year,r.month,r.day,r.hour,r.minute,r.second,n).subtract(t),i=t.subtract(o),a=d(e,i,n);return c(a.year,a.month,a.day,a.hour,a.minute,a.second,n).subtract(i)}(e.timeZoneId,n,e.nanosecond);null==e.timeZoneOffsetSeconds&&t.warn('DateTime objects without "timeZoneOffsetSeconds" property are prune to bugs related to ambiguous times. For instance, 2022-10-30T2:30:00[Europe/Berlin] could be GMT+1 or GMT+2.');var o=n.subtract(r),s=(0,a.int)(e.nanosecond),u=e.timeZoneId;return new i.structure.Structure(105,[o,s,u])}})},createDateTimeWithOffsetTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return s.default.createDateTimeWithOffsetTransformer(e).extendsWith({signature:73,toStructure:function(e){var t=c(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),n=(0,a.int)(e.nanosecond),r=(0,a.int)(e.timeZoneOffsetSeconds),o=t.subtract(r);return new i.structure.Structure(73,[o,n,r])},fromStructure:function(e){i.structure.verifyStructSize("DateTimeWithZoneOffset",3,e.size);var o=r(e.fields,3),s=o[0],l=o[1],c=o[2],f=(0,a.int)(s).add(c),d=(0,u.epochSecondAndNanoToLocalDateTime)(f,l);return h(new a.DateTime(d.year,d.month,d.day,d.hour,d.minute,d.second,d.nanosecond,c,null),t,n)}})}}},6345:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(844)),u=n(397),l=a(n(9994)),c=a(n(3321)),f=a(n(7021)),d=n(9014),h=n(9305).internal.constants.BOLT_PROTOCOL_V5_1,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new c.default(Object.values(l.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,o=(n.boltAgent,n.authToken),a=n.notificationFilter,s=n.onError,l=n.onComplete,c={},h=new d.LoginObserver({onError:function(e){return t._onLoginError(e,s)},onCompleted:function(e){return c.metadata=e,t._onLoginCompleted(e)}});return(0,u.assertNotificationFilterIsEmpty)(a,this._onProtocolError,h),this.write(f.default.hello5x1(r,this._serversideRouting),h,!1),this.logon({authToken:o,onComplete:function(e){return l(i(i({},e),c.metadata))},onError:s,flush:!0})},t.prototype.logon=function(e){var t=this,n=void 0===e?{}:e,r=n.authToken,o=n.onComplete,i=n.onError,a=n.flush,s=new d.LoginObserver({onCompleted:function(){return t._onLoginCompleted(null,r,o)},onError:function(e){return t._onLoginError(e,i)}});return this.write(f.default.logon(r),s,a),s},t.prototype.logoff=function(e){var t=void 0===e?{}:e,n=t.onComplete,r=t.onError,o=t.flush,i=new d.LogoffObserver({onCompleted:n,onError:r});return this.write(f.default.logoff(),i,o),i},t}(s.default);t.default=p},9994:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(7449));t.default=r({},i.default)},934:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(6345)),u=a(n(3019)),l=a(n(3321)),c=a(n(7021)),f=n(9014),d=n(9305).internal.constants,h=d.BOLT_PROTOCOL_V5_2,p=d.FETCH_ALL,v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new l.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,o=(n.boltAgent,n.authToken),a=n.notificationFilter,s=n.onError,u=n.onComplete,l={},d=new f.LoginObserver({onError:function(e){return t._onLoginError(e,s)},onCompleted:function(e){return l.metadata=e,t._onLoginCompleted(e)}});return this.write(c.default.hello5x2(r,a,this._serversideRouting),d,!1),this.logon({authToken:o,onComplete:function(e){return u(i(i({},e),l.metadata))},onError:s,flush:!0})},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,n=t.bookmarks,r=t.txConfig,o=t.database,i=t.mode,a=t.impersonatedUser,s=t.notificationFilter,u=t.beforeError,l=t.afterError,d=t.beforeComplete,h=t.afterComplete,p=new f.ResultStreamObserver({server:this._server,beforeError:u,afterError:l,beforeComplete:d,afterComplete:h});return p.prepareToHandleSingleResponse(),this.write(c.default.begin({bookmarks:n,txConfig:r,database:o,mode:i,impersonatedUser:a,notificationFilter:s}),p,!0),p},t.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=r.bookmarks,i=r.txConfig,a=r.database,s=r.mode,u=r.impersonatedUser,l=r.notificationFilter,d=r.beforeKeys,h=r.afterKeys,v=r.beforeError,g=r.afterError,y=r.beforeComplete,m=r.afterComplete,b=r.flush,_=void 0===b||b,w=r.reactive,x=void 0!==w&&w,E=r.fetchSize,O=void 0===E?p:E,S=r.highRecordWatermark,T=void 0===S?Number.MAX_VALUE:S,P=r.lowRecordWatermark,C=void 0===P?Number.MAX_VALUE:P,k=new f.ResultStreamObserver({server:this._server,reactive:x,fetchSize:O,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:d,afterKeys:h,beforeError:v,afterError:g,beforeComplete:y,afterComplete:m,highRecordWatermark:T,lowRecordWatermark:C}),A=x;return this.write(c.default.runWithMetadata(e,t,{bookmarks:o,txConfig:i,database:a,mode:s,impersonatedUser:u,notificationFilter:l}),k,A&&_),x||this.write(c.default.pull({n:O}),k,_),k},t}(s.default);t.default=v},3019:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(9994));t.default=r({},i.default)},9125:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(934)),u=a(n(2204)),l=a(n(3321)),c=a(n(7021)),f=n(9014),d=n(9305).internal.constants.BOLT_PROTOCOL_V5_3,h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new l.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,o=n.boltAgent,a=n.authToken,s=n.notificationFilter,u=n.onError,l=n.onComplete,d={},h=new f.LoginObserver({onError:function(e){return t._onLoginError(e,u)},onCompleted:function(e){return d.metadata=e,t._onLoginCompleted(e)}});return this.write(c.default.hello5x3(r,o,s,this._serversideRouting),h,!1),this.logon({authToken:a,onComplete:function(e){return l(i(i({},e),d.metadata))},onError:u,flush:!0})},t}(s.default);t.default=h},2204:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(3019));t.default=r({},i.default)},9744:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(9125)),s=i(n(4325)),u=i(n(7021)),l=n(9014),c=i(n(3321)),f=n(9305).internal.constants.BOLT_PROTOCOL_V5_4,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new c.default(Object.values(s.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.telemetry=function(e,t){var n=e.api,r=void 0===t?{}:t,o=r.onError,i=r.onCompleted,a=new l.TelemetryObserver({onCompleted:i,onError:o});return this.write(u.default.telemetry({api:n}),a,!1),a},t}(a.default);t.default=d},4325:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2204));t.default=r({},i.default)},5815:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(9744)),u=a(n(9238)),l=a(n(3321)),c=a(n(7021)),f=n(9014),d=n(9305).internal.constants,h=d.BOLT_PROTOCOL_V5_5,p=d.FETCH_ALL,v=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new l.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,o=n.boltAgent,a=n.authToken,s=n.notificationFilter,u=n.onError,l=n.onComplete,d={},h=new f.LoginObserver({onError:function(e){return t._onLoginError(e,u)},onCompleted:function(e){return d.metadata=e,t._onLoginCompleted(e)}});return this.write(c.default.hello5x5(r,o,s,this._serversideRouting),h,!1),this.logon({authToken:a,onComplete:function(e){return l(i(i({},e),d.metadata))},onError:u,flush:!0})},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,n=t.bookmarks,r=t.txConfig,o=t.database,i=t.mode,a=t.impersonatedUser,s=t.notificationFilter,u=t.beforeError,l=t.afterError,d=t.beforeComplete,h=t.afterComplete,p=new f.ResultStreamObserver({server:this._server,beforeError:u,afterError:l,beforeComplete:d,afterComplete:h});return p.prepareToHandleSingleResponse(),this.write(c.default.begin5x5({bookmarks:n,txConfig:r,database:o,mode:i,impersonatedUser:a,notificationFilter:s}),p,!0),p},t.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=r.bookmarks,i=r.txConfig,a=r.database,s=r.mode,u=r.impersonatedUser,l=r.notificationFilter,d=r.beforeKeys,h=r.afterKeys,v=r.beforeError,g=r.afterError,y=r.beforeComplete,m=r.afterComplete,b=r.flush,_=void 0===b||b,w=r.reactive,x=void 0!==w&&w,E=r.fetchSize,O=void 0===E?p:E,S=r.highRecordWatermark,T=void 0===S?Number.MAX_VALUE:S,P=r.lowRecordWatermark,C=void 0===P?Number.MAX_VALUE:P,k=new f.ResultStreamObserver({server:this._server,reactive:x,fetchSize:O,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:d,afterKeys:h,beforeError:v,afterError:g,beforeComplete:y,afterComplete:m,highRecordWatermark:T,lowRecordWatermark:C,enrichMetadata:this._enrichMetadata}),A=x;return this.write(c.default.runWithMetadata5x5(e,t,{bookmarks:o,txConfig:i,database:a,mode:s,impersonatedUser:u,notificationFilter:l}),k,A&&_),x||this.write(c.default.pull({n:O}),k,_),k},t.prototype._enrichMetadata=function(e){return Array.isArray(e.statuses)&&(e.statuses=e.statuses.map(function(e){return i(i({},e),{description:null!=e.neo4j_code?e.status_description:e.description,diagnostic_record:null!==e.diagnostic_record?i(i({},v),e.diagnostic_record):null})})),e},t}(s.default);t.default=g},9238:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(4325));t.default=r({},i.default)},6890:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(5815)),u=a(n(9238)),l=a(n(3321)),c=n(9305).internal.constants.BOLT_PROTOCOL_V5_6,f=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new l.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype._enrichMetadata=function(e){return Array.isArray(e.statuses)&&(e.statuses=e.statuses.map(function(e){return i(i({},e),{diagnostic_record:null!==e.diagnostic_record?i(i({},f),e.diagnostic_record):null})})),e},t}(s.default);t.default=d},6377:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(6890)),u=a(n(9238)),l=a(n(3321)),c=n(9305).internal.constants.BOLT_PROTOCOL_V5_7,f=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new l.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.enrichErrorMetadata=function(e){return i(i({},e),{cause:null!==e.cause&&void 0!==e.cause?this.enrichErrorMetadata(e.cause):null,code:e.neo4j_code,diagnostic_record:null!==e.diagnostic_record?i(i({},f),e.diagnostic_record):null})},t}(s.default);t.default=d},6544:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(9305),i=r(n(8320)),a=r(n(2857)),s=r(n(5642)),u=r(n(2539)),l=r(n(4596)),c=r(n(6445)),f=r(n(9054)),d=r(n(1711)),h=r(n(844)),p=r(n(6345)),v=r(n(934)),g=r(n(9125)),y=r(n(9744)),m=r(n(5815)),b=r(n(6890)),_=r(n(6377)),w=(n(7452),r(n(2578)));t.default=function(e){var t=void 0===e?{}:e,n=t.version,r=t.chunker,x=t.dechunker,E=t.channel,O=t.disableLosslessIntegers,S=t.useBigInt,T=t.serversideRouting,P=t.server,C=t.log,k=t.observer;return function(e,t,n,r,w,x,E,O){switch(e){case 1:return new i.default(t,n,r,x,O,E);case 2:return new a.default(t,n,r,x,O,E);case 3:return new s.default(t,n,r,x,O,E);case 4:return new u.default(t,n,r,x,O,E);case 4.1:return new l.default(t,n,r,x,O,E,w);case 4.2:return new c.default(t,n,r,x,O,E,w);case 4.3:return new f.default(t,n,r,x,O,E,w);case 4.4:return new d.default(t,n,r,x,O,E,w);case 5:return new h.default(t,n,r,x,O,E,w);case 5.1:return new p.default(t,n,r,x,O,E,w);case 5.2:return new v.default(t,n,r,x,O,E,w);case 5.3:return new g.default(t,n,r,x,O,E,w);case 5.4:return new y.default(t,n,r,x,O,E,w);case 5.5:return new m.default(t,n,r,x,O,E,w);case 5.6:return new b.default(t,n,r,x,O,E,w);case 5.7:return new _.default(t,n,r,x,O,E,w);default:throw(0,o.newError)("Unknown Bolt protocol version: "+e)}}(n,P,r,{disableLosslessIntegers:O,useBigInt:S},T,function(e){var t=new w.default({transformMetadata:e.transformMetadata.bind(e),enrichErrorMetadata:e.enrichErrorMetadata.bind(e),log:C,observer:k});return E.onerror=k.onError.bind(k),E.onmessage=function(e){return x.write(e)},x.onmessage=function(n){try{t.handleResponse(e.unpack(n))}catch(e){return k.onError(e)}},t},k.onProtocolError.bind(k),C)}},8731:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(7452),o=n(9305);function i(e,t){return{major:e,minor:t}}t.default=function(e,t){var n=this;return new Promise(function(a,s){var u=function(e){s(e)};e.onerror=u.bind(n),e._error&&u(e._error),e.onmessage=function(e){try{var n=function(e,t){var n=[e.readUInt8(),e.readUInt8(),e.readUInt8(),e.readUInt8()];if(72===n[0]&&84===n[1]&&84===n[2]&&80===n[3])throw t.error("Handshake failed since server responded with HTTP."),(0,o.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");return Number(n[3]+"."+n[2])}(e,t);a({protocolVersion:n,consumeRemainingBuffer:function(t){e.hasRemaining()&&t(e.readSlice(e.remaining()))}})}catch(e){s(e)}},e.write(function(e){if(e.length>4)throw(0,o.newError)("It should not have more than 4 versions of the protocol");var t=(0,r.alloc)(20);return t.writeInt32(1616949271),e.forEach(function(e){if(e instanceof Array){var n=e[0],r=n.major,o=(i=n.minor)-e[1].minor;t.writeInt32(o<<16|i<<8|r)}else{r=e.major;var i=e.minor;t.writeInt32(i<<8|r)}}),t.reset(),t}([[i(5,7),i(5,0)],[i(4,4),i(4,2)],i(4,1),i(3,0)]))})}},7666:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RawRoutingTable=t.BoltProtocol=void 0;var a=i(n(8731)),s=i(n(6544)),u=i(n(9054)),l=i(n(7790));o(n(9014),t),t.BoltProtocol=u.default,t.RawRoutingTable=l.default,t.default={handshake:a.default,create:s.default}},7021:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SIGNATURES=void 0;var r=n(9305),o=r.internal.constants,i=o.ACCESS_MODE_READ,a=o.FETCH_ALL,s=r.internal.util.assertString,u=Object.freeze({INIT:1,RESET:15,RUN:16,PULL_ALL:63,HELLO:1,GOODBYE:2,BEGIN:17,COMMIT:18,ROLLBACK:19,TELEMETRY:84,ROUTE:102,LOGON:106,LOGOFF:107,DISCARD:47,PULL:63});t.SIGNATURES=u;var l=function(){function e(e,t,n){this.signature=e,this.fields=t,this.toString=n}return e.init=function(t,n){return new e(1,[t,n],function(){return"INIT ".concat(t," {...}")})},e.run=function(t,n){return new e(16,[t,n],function(){return"RUN ".concat(t," ").concat(r.json.stringify(n))})},e.pullAll=function(){return p},e.reset=function(){return v},e.hello=function(t,n,r,o){void 0===r&&(r=null),void 0===o&&(o=null);var i=Object.assign({user_agent:t},n);return r&&(i.routing=r),o&&(i.patch_bolt=o),new e(1,[i],function(){return"HELLO {user_agent: '".concat(t,"', ...}")})},e.hello5x1=function(t,n){void 0===n&&(n=null);var r={user_agent:t};return n&&(r.routing=n),new e(1,[r],function(){return"HELLO {user_agent: '".concat(t,"', ...}")})},e.hello5x2=function(t,n,o){void 0===n&&(n=null),void 0===o&&(o=null);var i={user_agent:t};return d(i,n),o&&(i.routing=o),new e(1,[i],function(){return"HELLO ".concat(r.json.stringify(i))})},e.hello5x3=function(t,n,o,i){void 0===o&&(o=null),void 0===i&&(i=null);var a={};return t&&(a.user_agent=t),n&&(a.bolt_agent={product:n.product,platform:n.platform,language:n.language,language_details:n.languageDetails}),d(a,o),i&&(a.routing=i),new e(1,[a],function(){return"HELLO ".concat(r.json.stringify(a))})},e.hello5x5=function(t,n,o,i){void 0===o&&(o=null),void 0===i&&(i=null);var a={};return t&&(a.user_agent=t),n&&(a.bolt_agent={product:n.product,platform:n.platform,language:n.language,language_details:n.languageDetails}),h(a,o),i&&(a.routing=i),new e(1,[a],function(){return"HELLO ".concat(r.json.stringify(a))})},e.logon=function(t){return new e(106,[t],function(){return"LOGON { ... }"})},e.logoff=function(){return new e(107,[],function(){return"LOGOFF"})},e.begin=function(t){var n=void 0===t?{}:t,o=c(n.bookmarks,n.txConfig,n.database,n.mode,n.impersonatedUser,n.notificationFilter);return new e(17,[o],function(){return"BEGIN ".concat(r.json.stringify(o))})},e.begin5x5=function(t){var n=void 0===t?{}:t,o=c(n.bookmarks,n.txConfig,n.database,n.mode,n.impersonatedUser,n.notificationFilter,{appendNotificationFilter:h});return new e(17,[o],function(){return"BEGIN ".concat(r.json.stringify(o))})},e.commit=function(){return g},e.rollback=function(){return y},e.runWithMetadata=function(t,n,o){var i=void 0===o?{}:o,a=c(i.bookmarks,i.txConfig,i.database,i.mode,i.impersonatedUser,i.notificationFilter);return new e(16,[t,n,a],function(){return"RUN ".concat(t," ").concat(r.json.stringify(n)," ").concat(r.json.stringify(a))})},e.runWithMetadata5x5=function(t,n,o){var i=void 0===o?{}:o,a=c(i.bookmarks,i.txConfig,i.database,i.mode,i.impersonatedUser,i.notificationFilter,{appendNotificationFilter:h});return new e(16,[t,n,a],function(){return"RUN ".concat(t," ").concat(r.json.stringify(n)," ").concat(r.json.stringify(a))})},e.goodbye=function(){return m},e.pull=function(t){var n=void 0===t?{}:t,o=n.stmtId,i=void 0===o?-1:o,s=n.n,u=f(null==i?-1:i,(void 0===s?a:s)||a);return new e(63,[u],function(){return"PULL ".concat(r.json.stringify(u))})},e.discard=function(t){var n=void 0===t?{}:t,o=n.stmtId,i=void 0===o?-1:o,s=n.n,u=f(null==i?-1:i,(void 0===s?a:s)||a);return new e(47,[u],function(){return"DISCARD ".concat(r.json.stringify(u))})},e.telemetry=function(t){var n=t.api,o=(0,r.int)(n);return new e(84,[o],function(){return"TELEMETRY ".concat(o.toString())})},e.route=function(t,n,o){return void 0===t&&(t={}),void 0===n&&(n=[]),void 0===o&&(o=null),new e(102,[t,n,o],function(){return"ROUTE ".concat(r.json.stringify(t)," ").concat(r.json.stringify(n)," ").concat(o)})},e.routeV4x4=function(t,n,o){void 0===t&&(t={}),void 0===n&&(n=[]),void 0===o&&(o={});var i={};return o.databaseName&&(i.db=o.databaseName),o.impersonatedUser&&(i.imp_user=o.impersonatedUser),new e(102,[t,n,i],function(){return"ROUTE ".concat(r.json.stringify(t)," ").concat(r.json.stringify(n)," ").concat(r.json.stringify(i))})},e}();function c(e,t,n,r,o,a,u){var l;void 0===u&&(u={});var c={};return e.isEmpty()||(c.bookmarks=e.values()),null!==t.timeout&&(c.tx_timeout=t.timeout),t.metadata&&(c.tx_metadata=t.metadata),n&&(c.db=s(n,"database")),o&&(c.imp_user=s(o,"impersonatedUser")),r===i&&(c.mode="r"),(null!==(l=u.appendNotificationFilter)&&void 0!==l?l:d)(c,a),c}function f(e,t){var n={n:(0,r.int)(t)};return-1!==e&&(n.qid=(0,r.int)(e)),n}function d(e,t){t&&(t.minimumSeverityLevel&&(e.notifications_minimum_severity=t.minimumSeverityLevel),t.disabledCategories&&(e.notifications_disabled_categories=t.disabledCategories),t.disabledClassifications&&(e.notifications_disabled_categories=t.disabledClassifications))}function h(e,t){t&&(t.minimumSeverityLevel&&(e.notifications_minimum_severity=t.minimumSeverityLevel),t.disabledCategories&&(e.notifications_disabled_classifications=t.disabledCategories),t.disabledClassifications&&(e.notifications_disabled_classifications=t.disabledClassifications))}t.default=l;var p=new l(63,[],function(){return"PULL_ALL"}),v=new l(15,[],function(){return"RESET"}),g=new l(18,[],function(){return"COMMIT"}),y=new l(19,[],function(){return"ROLLBACK"}),m=new l(2,[],function(){return"GOODBYE"})},2578:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(9305);function o(){}function i(e){return e}var a={onNext:o,onCompleted:o,onError:o},s=function(){function e(e){var t=void 0===e?{}:e,n=t.transformMetadata,r=t.enrichErrorMetadata,a=t.log,s=t.observer;this._pendingObservers=[],this._log=a,this._transformMetadata=n||i,this._enrichErrorMetadata=r||i,this._observer=Object.assign({onObserversCountChange:o,onError:o,onFailure:o,onErrorApplyTransformation:i},s)}return Object.defineProperty(e.prototype,"currentFailure",{get:function(){return this._currentFailure},enumerable:!1,configurable:!0}),e.prototype.handleResponse=function(e){var t=e.fields[0];switch(e.signature){case 113:this._log.isDebugEnabled()&&this._log.debug("S: RECORD ".concat(r.json.stringify(e))),this._currentObserver.onNext(t);break;case 112:this._log.isDebugEnabled()&&this._log.debug("S: SUCCESS ".concat(r.json.stringify(e)));try{var n=this._transformMetadata(t);this._currentObserver.onCompleted(n)}finally{this._updateCurrentObserver()}break;case 127:this._log.isDebugEnabled()&&this._log.debug("S: FAILURE ".concat(r.json.stringify(e)));try{this._currentFailure=this._handleErrorPayload(this._enrichErrorMetadata(t)),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._observer.onFailure(this._currentFailure)}break;case 126:this._log.isDebugEnabled()&&this._log.debug("S: IGNORED ".concat(r.json.stringify(e)));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,r.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._observer.onError((0,r.newError)("Unknown Bolt protocol message: "+e))}},e.prototype._updateCurrentObserver=function(){this._currentObserver=this._pendingObservers.shift(),this._observer.onObserversCountChange(this._observersCount)},Object.defineProperty(e.prototype,"_observersCount",{get:function(){return null==this._currentObserver?this._pendingObservers.length:this._pendingObservers.length+1},enumerable:!1,configurable:!0}),e.prototype._queueObserver=function(e){return(e=e||a).onCompleted=e.onCompleted||o,e.onError=e.onError||o,e.onNext=e.onNext||o,void 0===this._currentObserver?this._currentObserver=e:this._pendingObservers.push(e),this._observer.onObserversCountChange(this._observersCount),!0},e.prototype._notifyErrorToObservers=function(e){for(this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(e);this._pendingObservers.length>0;){var t=this._pendingObservers.shift();t&&t.onError&&t.onError(e)}},e.prototype.hasOngoingObservableRequests=function(){return null!=this._currentObserver||this._pendingObservers.length>0},e.prototype._resetFailure=function(){this._currentFailure=null},e.prototype._handleErrorPayload=function(e){var t,n="Neo.TransientError.Transaction.Terminated"===(t=e.code)?"Neo.ClientError.Transaction.Terminated":"Neo.TransientError.Transaction.LockClientStopped"===t?"Neo.ClientError.Transaction.LockClientStopped":t,o=null!=e.cause?this._handleErrorCause(e.cause):void 0,i=(0,r.newError)(e.message,n,o,e.gql_status,e.description,e.diagnostic_record);return this._observer.onErrorApplyTransformation(i)},e.prototype._handleErrorCause=function(e){var t=null!=e.cause?this._handleErrorCause(e.cause):void 0,n=(0,r.newGQLError)(e.message,t,e.gql_status,e.description,e.diagnostic_record);return this._observer.onErrorApplyTransformation(n)},e}();t.default=s},7790:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),i(n(9305));var a=function(){function e(){}return e.ofRecord=function(t){return null===t?e.ofNull():new l(t)},e.ofMessageResponse=function(t){return null===t?e.ofNull():new s(t)},e.ofNull=function(){return new u},Object.defineProperty(e.prototype,"ttl",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"db",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"servers",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNull",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),e}();t.default=a;var s=function(e){function t(t){var n=e.call(this)||this;return n._response=t,n}return o(t,e),Object.defineProperty(t.prototype,"ttl",{get:function(){return this._response.rt.ttl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"servers",{get:function(){return this._response.rt.servers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"db",{get:function(){return this._response.rt.db},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){return null===this._response},enumerable:!1,configurable:!0}),t}(a),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"isNull",{get:function(){return!0},enumerable:!1,configurable:!0}),t}(a),l=function(e){function t(t){var n=e.call(this)||this;return n._record=t,n}return o(t,e),Object.defineProperty(t.prototype,"ttl",{get:function(){return this._record.get("ttl")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"servers",{get:function(){return this._record.get("servers")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"db",{get:function(){return this._record.has("db")?this._record.get("db"):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){return null===this._record},enumerable:!1,configurable:!0}),t}(a)},9014:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryObserver=t.ProcedureRouteObserver=t.RouteObserver=t.CompletedObserver=t.FailedObserver=t.ResetObserver=t.LogoffObserver=t.LoginObserver=t.ResultStreamObserver=t.StreamObserver=void 0;var a=n(9305),s=i(n(7790)),u=n(6781),l=a.internal.constants.FETCH_ALL,c=a.error.PROTOCOL_ERROR,f=function(){function e(){}return e.prototype.onNext=function(e){},e.prototype.onError=function(e){},e.prototype.onCompleted=function(e){},e}();t.StreamObserver=f;var d=function(e){function t(t){var n=void 0===t?{}:t,r=n.reactive,o=void 0!==r&&r,i=n.moreFunction,a=n.discardFunction,s=n.fetchSize,c=void 0===s?l:s,f=n.beforeError,d=n.afterError,h=n.beforeKeys,p=n.afterKeys,v=n.beforeComplete,g=n.afterComplete,y=n.server,m=n.highRecordWatermark,b=void 0===m?Number.MAX_VALUE:m,_=n.lowRecordWatermark,x=void 0===_?Number.MAX_VALUE:_,E=n.enrichMetadata,O=e.call(this)||this;return O._fieldKeys=null,O._fieldLookup=null,O._head=null,O._queuedRecords=[],O._tail=null,O._error=null,O._observers=[],O._meta={},O._server=y,O._beforeError=f,O._afterError=d,O._beforeKeys=h,O._afterKeys=p,O._beforeComplete=v,O._afterComplete=g,O._enrichMetadata=E||u.functional.identity,O._queryId=null,O._moreFunction=i,O._discardFunction=a,O._discard=!1,O._fetchSize=c,O._lowRecordWatermark=x,O._highRecordWatermark=b,O._setState(o?w.READY:w.READY_STREAMING),O._setupAutoPull(),O._paused=!1,O._pulled=!o,O._haveRecordStreamed=!1,O}return o(t,e),t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1,this._setupAutoPull(!0),this._state.pull(this)},t.prototype.onNext=function(e){this._haveRecordStreamed=!0;var t=new a.Record(this._fieldKeys,e,this._fieldLookup);this._observers.some(function(e){return e.onNext})?this._observers.forEach(function(e){e.onNext&&e.onNext(t)}):(this._queuedRecords.push(t),this._queuedRecords.length>this._highRecordWatermark&&(this._autoPull=!1))},t.prototype.onCompleted=function(e){this._state.onSuccess(this,e)},t.prototype.onError=function(e){this._state.onError(this,e)},t.prototype.cancel=function(){this._discard=!0},t.prototype.prepareToHandleSingleResponse=function(){this._head=[],this._fieldKeys=[],this._setState(w.STREAMING)},t.prototype.markCompleted=function(){this._head=[],this._fieldKeys=[],this._tail={},this._setState(w.SUCCEEDED)},t.prototype.subscribe=function(e){if(this._head&&e.onKeys&&e.onKeys(this._head),this._queuedRecords.length>0&&e.onNext)for(var t=0;t<this._queuedRecords.length;t++)e.onNext(this._queuedRecords[t]),this._queuedRecords.length-t-1<=this._lowRecordWatermark&&(this._autoPull=!0,this._state===w.READY&&this._handleStreaming());this._tail&&e.onCompleted&&e.onCompleted(this._tail),this._error&&e.onError(this._error),this._observers.push(e),this._state===w.READY&&this._handleStreaming()},t.prototype._handleHasMore=function(e){this._setState(w.READY),this._handleStreaming(),delete e.has_more},t.prototype._handlePullSuccess=function(e){var t=this,n=this._enrichMetadata(Object.assign(this._server?{server:this._server}:{},this._meta,{stream_summary:{have_records_streamed:this._haveRecordStreamed,pulled:this._pulled,has_keys:this._fieldKeys.length>0}},e));if([void 0,null,"r","w","rw","s"].includes(n.type)){this._setState(w.SUCCEEDED);var r=null;this._beforeComplete&&(r=this._beforeComplete(n));var o=function(){t._tail=n,t._observers.some(function(e){return e.onCompleted})&&t._observers.forEach(function(e){e.onCompleted&&e.onCompleted(n)}),t._afterComplete&&t._afterComplete(n)};r?Promise.resolve(r).then(function(){return o()}):o()}else this.onError((0,a.newError)('Server returned invalid query type. Expected one of [undefined, null, "r", "w", "rw", "s"] but got \''.concat(n.type,"'"),c))},t.prototype._handleRunSuccess=function(e,t){var n=this;if(null===this._fieldKeys){if(this._fieldKeys=[],this._fieldLookup={},e.fields&&e.fields.length>0){this._fieldKeys=e.fields;for(var r=0;r<e.fields.length;r++)this._fieldLookup[e.fields[r]]=r}null!=e.fields&&delete e.fields,null!==e.qid&&void 0!==e.qid&&(this._queryId=e.qid,delete e.qid),this._storeMetadataForCompletion(e);var o=null;this._beforeKeys&&(o=this._beforeKeys(this._fieldKeys));var i=function(){n._head=n._fieldKeys,n._observers.some(function(e){return e.onKeys})&&n._observers.forEach(function(e){e.onKeys&&e.onKeys(n._fieldKeys)}),n._afterKeys&&n._afterKeys(n._fieldKeys),t()};o?Promise.resolve(o).then(function(){return i()}):i()}},t.prototype._handleError=function(e){var t=this;this._setState(w.FAILED),this._error=e;var n=null;this._beforeError&&(n=this._beforeError(e));var r=function(){t._observers.some(function(e){return e.onError})&&t._observers.forEach(function(t){t.onError&&t.onError(e)}),t._afterError&&t._afterError(e)};n?Promise.resolve(n).then(function(){return r()}):r()},t.prototype._handleStreaming=function(){this._head&&this._observers.some(function(e){return e.onNext||e.onCompleted})&&(this._paused||!this._discard&&!this._autoPull||this._more())},t.prototype._more=function(){this._discard?this._discardFunction(this._queryId,this):(this._pulled=!0,this._moreFunction(this._queryId,this._fetchSize,this)),this._setState(w.STREAMING)},t.prototype._storeMetadataForCompletion=function(e){for(var t=Object.keys(e),n=t.length,r="";n--;)r=t[n],this._meta[r]=e[r]},t.prototype._setState=function(e){this._state=e},t.prototype._setupAutoPull=function(){this._autoPull=!0},t}(f);t.ResultStreamObserver=d;var h=function(e){function t(t){var n=void 0===t?{}:t,r=n.onError,o=n.onCompleted,i=e.call(this)||this;return i._onError=r,i._onCompleted=o,i}return o(t,e),t.prototype.onNext=function(e){this.onError((0,a.newError)("Received RECORD when initializing "+a.json.stringify(e)))},t.prototype.onError=function(e){this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)},t}(f);t.LoginObserver=h;var p=function(e){function t(t){var n=void 0===t?{}:t,r=n.onError,o=n.onCompleted,i=e.call(this)||this;return i._onError=r,i._onCompleted=o,i}return o(t,e),t.prototype.onNext=function(e){this.onError((0,a.newError)("Received RECORD when logging off "+a.json.stringify(e)))},t.prototype.onError=function(e){this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)},t}(f);t.LogoffObserver=p;var v=function(e){function t(t){var n=void 0===t?{}:t,r=n.onProtocolError,o=n.onError,i=n.onComplete,a=e.call(this)||this;return a._onProtocolError=r,a._onError=o,a._onComplete=i,a}return o(t,e),t.prototype.onNext=function(e){this.onError((0,a.newError)("Received RECORD when resetting: received record is: "+a.json.stringify(e),c))},t.prototype.onError=function(e){e.code===c&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onComplete&&this._onComplete(e)},t}(f);t.ResetObserver=v;var g=function(e){function t(t){var n=void 0===t?{}:t,r=n.onError,o=n.onCompleted,i=e.call(this)||this;return i._onError=r,i._onCompleted=o,i}return o(t,e),t.prototype.onNext=function(e){this.onError((0,a.newError)("Received RECORD when sending telemetry "+a.json.stringify(e),c))},t.prototype.onError=function(e){this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)},t}(d);t.TelemetryObserver=g;var y=function(e){function t(t){var n=t.error,r=t.onError,o=e.call(this,{beforeError:r})||this;return o.onError(n),o}return o(t,e),t}(d);t.FailedObserver=y;var m=function(e){function t(){var t=e.call(this)||this;return e.prototype.markCompleted.call(t),t}return o(t,e),t}(d);t.CompletedObserver=m;var b=function(e){function t(t){var n=t.resultObserver,r=t.onProtocolError,o=t.onError,i=t.onCompleted,a=e.call(this)||this;return a._resultObserver=n,a._onError=o,a._onCompleted=i,a._records=[],a._onProtocolError=r,n.subscribe(a),a}return o(t,e),t.prototype.onNext=function(e){this._records.push(e)},t.prototype.onError=function(e){e.code===c&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},t.prototype.onCompleted=function(){null===this._records||1===this._records.length?this._onCompleted&&this._onCompleted(s.default.ofRecord(this._records[0])):this.onError((0,a.newError)("Illegal response from router. Received "+this._records.length+" records but expected only one.\n"+a.json.stringify(this._records),c))},t}(f);t.ProcedureRouteObserver=b;var _=function(e){function t(t){var n=void 0===t?{}:t,r=n.onProtocolError,o=n.onError,i=n.onCompleted,a=e.call(this)||this;return a._onProtocolError=r,a._onError=o,a._onCompleted=i,a}return o(t,e),t.prototype.onNext=function(e){this.onError((0,a.newError)("Received RECORD when resetting: received record is: "+a.json.stringify(e),c))},t.prototype.onError=function(e){e.code===c&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(s.default.ofMessageResponse(e))},t}(f);t.RouteObserver=_;var w={READY_STREAMING:{onSuccess:function(e,t){e._handleRunSuccess(t,function(){e._setState(w.STREAMING)})},onError:function(e,t){e._handleError(t)},name:function(){return"READY_STREAMING"},pull:function(){}},READY:{onSuccess:function(e,t){e._handleRunSuccess(t,function(){return e._handleStreaming()})},onError:function(e,t){e._handleError(t)},name:function(){return"READY"},pull:function(e){return e._more()}},STREAMING:{onSuccess:function(e,t){t.has_more?e._handleHasMore(t):e._handlePullSuccess(t)},onError:function(e,t){e._handleError(t)},name:function(){return"STREAMING"},pull:function(){}},FAILED:{onError:function(e){},name:function(){return"FAILED"},pull:function(){}},SUCCEEDED:{name:function(){return"SUCCEEDED"},pull:function(){}}}},5973:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.epochSecondAndNanoToLocalDateTime=t.nanoOfDayToLocalTime=t.epochDayToDate=void 0;var r=n(9305),o=r.internal.temporalUtil,i=o.DAYS_0000_TO_1970,a=o.DAYS_PER_400_YEAR_CYCLE,s=o.NANOS_PER_HOUR,u=o.NANOS_PER_MINUTE,l=o.NANOS_PER_SECOND,c=o.SECONDS_PER_DAY,f=o.floorDiv,d=o.floorMod;function h(e){var t=(e=(0,r.int)(e)).add(i).subtract(60),n=(0,r.int)(0);if(t.lessThan(0)){var o=t.add(1).div(a).subtract(1);n=o.multiply(400),t=t.add(o.multiply(-a))}var s=t.multiply(400).add(591).div(a),u=t.subtract(s.multiply(365).add(s.div(4)).subtract(s.div(100)).add(s.div(400)));u.lessThan(0)&&(s=s.subtract(1),u=t.subtract(s.multiply(365).add(s.div(4)).subtract(s.div(100)).add(s.div(400)))),s=s.add(n);var l=u,c=l.multiply(5).add(2).div(153),f=c.add(2).modulo(12).add(1),d=l.subtract(c.multiply(306).add(5).div(10)).add(1);return s=s.add(c.div(10)),new r.Date(s,f,d)}function p(e){var t=(e=(0,r.int)(e)).div(s),n=(e=e.subtract(t.multiply(s))).div(u),o=(e=e.subtract(n.multiply(u))).div(l),i=e.subtract(o.multiply(l));return new r.LocalTime(t,n,o,i)}t.epochDayToDate=h,t.nanoOfDayToLocalTime=p,t.epochSecondAndNanoToLocalDateTime=function(e,t){var n=f(e,c),o=d(e,c).multiply(l).add(t),i=h(n),a=p(o);return new r.LocalDateTime(i.year,i.month,i.day,a.hour,a.minute,a.second,a.nanosecond)}},3321:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TypeTransformer=void 0;var r=n(7168),o=n(9305).internal.objectUtil,i=function(){function e(e){this._transformers=e,this._transformersPerSignature=new Map(e.map(function(e){return[e.signature,e]})),this.fromStructure=this.fromStructure.bind(this),this.toStructure=this.toStructure.bind(this),Object.freeze(this)}return e.prototype.fromStructure=function(e){try{return e instanceof r.structure.Structure&&this._transformersPerSignature.has(e.signature)?(0,this._transformersPerSignature.get(e.signature).fromStructure)(e):e}catch(e){return o.createBrokenObject(e)}},e.prototype.toStructure=function(e){var t=this._transformers.find(function(t){return(0,t.isTypeInstance)(e)});return void 0!==t?t.toStructure(e):e},e}();t.default=i;var a=function(){function e(e){var t=e.signature,n=e.fromStructure,r=e.toStructure,o=e.isTypeInstance;this.signature=t,this.isTypeInstance=o,this.fromStructure=n,this.toStructure=r,Object.freeze(this)}return e.prototype.extendsWith=function(t){var n=t.signature,r=t.fromStructure,o=t.toStructure,i=t.isTypeInstance;return new e({signature:n||this.signature,fromStructure:r||this.fromStructure,toStructure:o||this.toStructure,isTypeInstance:i||this.isTypeInstance})},e}();t.TypeTransformer=a},45:function(e,t){var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.position=0,this.length=e}return e.prototype.getUInt8=function(e){throw new Error("Not implemented")},e.prototype.getInt8=function(e){throw new Error("Not implemented")},e.prototype.getFloat64=function(e){throw new Error("Not implemented")},e.prototype.putUInt8=function(e,t){throw new Error("Not implemented")},e.prototype.putInt8=function(e,t){throw new Error("Not implemented")},e.prototype.putFloat64=function(e,t){throw new Error("Not implemented")},e.prototype.getInt16=function(e){return this.getInt8(e)<<8|this.getUInt8(e+1)},e.prototype.getUInt16=function(e){return this.getUInt8(e)<<8|this.getUInt8(e+1)},e.prototype.getInt32=function(e){return this.getInt8(e)<<24|this.getUInt8(e+1)<<16|this.getUInt8(e+2)<<8|this.getUInt8(e+3)},e.prototype.getUInt32=function(e){return this.getUInt8(e)<<24|this.getUInt8(e+1)<<16|this.getUInt8(e+2)<<8|this.getUInt8(e+3)},e.prototype.getInt64=function(e){return this.getInt8(e)<<56|this.getUInt8(e+1)<<48|this.getUInt8(e+2)<<40|this.getUInt8(e+3)<<32|this.getUInt8(e+4)<<24|this.getUInt8(e+5)<<16|this.getUInt8(e+6)<<8|this.getUInt8(e+7)},e.prototype.getSlice=function(e,t){return new i(e,t,this)},e.prototype.putInt16=function(e,t){this.putInt8(e,t>>8),this.putUInt8(e+1,255&t)},e.prototype.putUInt16=function(e,t){this.putUInt8(e,t>>8&255),this.putUInt8(e+1,255&t)},e.prototype.putInt32=function(e,t){this.putInt8(e,t>>24),this.putUInt8(e+1,t>>16&255),this.putUInt8(e+2,t>>8&255),this.putUInt8(e+3,255&t)},e.prototype.putUInt32=function(e,t){this.putUInt8(e,t>>24&255),this.putUInt8(e+1,t>>16&255),this.putUInt8(e+2,t>>8&255),this.putUInt8(e+3,255&t)},e.prototype.putInt64=function(e,t){this.putInt8(e,t>>48),this.putUInt8(e+1,t>>42&255),this.putUInt8(e+2,t>>36&255),this.putUInt8(e+3,t>>30&255),this.putUInt8(e+4,t>>24&255),this.putUInt8(e+5,t>>16&255),this.putUInt8(e+6,t>>8&255),this.putUInt8(e+7,255&t)},e.prototype.putBytes=function(e,t){for(var n=0,r=t.remaining();n<r;n++)this.putUInt8(e+n,t.readUInt8())},e.prototype.readUInt8=function(){return this.getUInt8(this._updatePos(1))},e.prototype.readInt8=function(){return this.getInt8(this._updatePos(1))},e.prototype.readUInt16=function(){return this.getUInt16(this._updatePos(2))},e.prototype.readUInt32=function(){return this.getUInt32(this._updatePos(4))},e.prototype.readInt16=function(){return this.getInt16(this._updatePos(2))},e.prototype.readInt32=function(){return this.getInt32(this._updatePos(4))},e.prototype.readInt64=function(){return this.getInt32(this._updatePos(8))},e.prototype.readFloat64=function(){return this.getFloat64(this._updatePos(8))},e.prototype.writeUInt8=function(e){this.putUInt8(this._updatePos(1),e)},e.prototype.writeInt8=function(e){this.putInt8(this._updatePos(1),e)},e.prototype.writeInt16=function(e){this.putInt16(this._updatePos(2),e)},e.prototype.writeInt32=function(e){this.putInt32(this._updatePos(4),e)},e.prototype.writeUInt32=function(e){this.putUInt32(this._updatePos(4),e)},e.prototype.writeInt64=function(e){this.putInt64(this._updatePos(8),e)},e.prototype.writeFloat64=function(e){this.putFloat64(this._updatePos(8),e)},e.prototype.writeBytes=function(e){this.putBytes(this._updatePos(e.remaining()),e)},e.prototype.readSlice=function(e){return this.getSlice(this._updatePos(e),e)},e.prototype._updatePos=function(e){var t=this.position;return this.position+=e,t},e.prototype.remaining=function(){return this.length-this.position},e.prototype.hasRemaining=function(){return this.remaining()>0},e.prototype.reset=function(){this.position=0},e.prototype.toString=function(){return this.constructor.name+"( position="+this.position+" )\n  "+this.toHex()},e.prototype.toHex=function(){for(var e="",t=0;t<this.length;t++){var n=this.getUInt8(t).toString(16);1===n.length&&(n="0"+n),e+=n,t!==this.length-1&&(e+=" ")}return e},e}();t.default=o;var i=function(e){function t(t,n,r){var o=e.call(this,n)||this;return o._start=t,o._inner=r,o}return r(t,e),t.prototype.putUInt8=function(e,t){this._inner.putUInt8(this._start+e,t)},t.prototype.getUInt8=function(e){return this._inner.getUInt8(this._start+e)},t.prototype.putInt8=function(e,t){this._inner.putInt8(this._start+e,t)},t.prototype.putFloat64=function(e,t){this._inner.putFloat64(this._start+e,t)},t.prototype.getInt8=function(e){return this._inner.getInt8(this._start+e)},t.prototype.getFloat64=function(e){return this._inner.getFloat64(this._start+e)},t}(o)},7174:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseBuffer=void 0;var o=r(n(45));t.BaseBuffer=o.default,t.default=o.default},6245:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5319)),i=n(9305),a=i.internal.util,s=a.ENCRYPTION_OFF,u=a.ENCRYPTION_ON,l=function(){function e(e,t,n){void 0===t&&(t=c),void 0===n&&(n=function(e){return new WebSocket(e)});var r=this;this._open=!0,this._pending=[],this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this),this._config=e,this._receiveTimeout=null,this._receiveTimeoutStarted=!1,this._receiveTimeoutId=null,this._closingPromise=null;var a=function(e,t){var n=function(e){return!0===e.encrypted||e.encrypted===u}(e),r=function(e){return!1===e.encrypted||e.encrypted===s}(e),o=e.trust,a=function(e){var t="function"==typeof e?e():"";return t&&t.toLowerCase().indexOf("https")>=0}(t);return function(e,t,n){null===n||(e&&!n?console.warn("Neo4j driver is configured to use secure WebSocket on a HTTP web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to not use encryption."):t&&n&&console.warn("Neo4j driver is configured to use insecure WebSocket on a HTTPS web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to use encryption."))}(n,r,a),r?{scheme:"ws",error:null}:a?{scheme:"wss",error:null}:n?o&&"TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"!==o?{scheme:null,error:(0,i.newError)("The browser version of this driver only supports one trust strategy, 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES'. "+o+' is not supported. Please either use TRUST_SYSTEM_CA_SIGNED_CERTIFICATES or disable encryption by setting `encrypted:"'+s+'"` in the driver configuration.')}:{scheme:"wss",error:null}:{scheme:"ws",error:null}}(e,t),l=a.scheme,f=a.error;if(f)this._error=f;else{this._ws=function(e,t,n){var r=e+"://"+t.asHostPort();try{return n(r)}catch(r){if(function(e,t){return"SyntaxError"===e.name&&"["===(n=t.asHostPort()).charAt(0)&&-1!==n.indexOf("]");var n}(r,t)){var o=function(e,t){var n=t.host().replace(/:/g,"-").replace("%","s")+".ipv6-literal.net";return"".concat(e,"://").concat(n,":").concat(t.port())}(e,t);return n(o)}throw r}}(l,e.address,n),this._ws.binaryType="arraybuffer";var d=this;this._ws.onclose=function(e){e&&!e.wasClean&&d._handleConnectionError(),d._open=!1},this._ws.onopen=function(){d._clearConnectionTimeout();var e=d._pending;d._pending=null;for(var t=0;t<e.length;t++)d.write(e[t])},this._ws.onmessage=function(e){if(r._resetTimeout(),d.onmessage){var t=new o.default(e.data);d.onmessage(t)}},this._ws.onerror=this._handleConnectionError,this._connectionTimeoutFired=!1,this._connectionTimeoutId=this._setupConnectionTimeout()}}return e.prototype._handleConnectionError=function(){if(this._connectionTimeoutFired)return this._error=(0,i.newError)("Failed to establish connection in ".concat(this._config.connectionTimeout,"ms"),this._config.connectionErrorCode),void(this.onerror&&this.onerror(this._error));this._open&&!this._timedout&&(this._error=(0,i.newError)("WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: "+this._ws.readyState,this._config.connectionErrorCode),this.onerror&&this.onerror(this._error))},e.prototype.write=function(e){if(null!==this._pending)this._pending.push(e);else{if(!(e instanceof o.default))throw(0,i.newError)("Don't know how to send buffer: "+e);try{this._ws.send(e._buffer)}catch(e){if(1===this._ws.readyState)throw e;this._handleConnectionError()}}},e.prototype.close=function(){var e=this;return null===this._closingPromise&&(this._closingPromise=new Promise(function(t,n){e._clearConnectionTimeout(),e._ws&&3!==e._ws.readyState?(e._open=!1,e.stopReceiveTimeout(),e._ws.onclose=function(){t()},e._ws.close()):t()})),this._closingPromise},e.prototype.setupReceiveTimeout=function(e){this._receiveTimeout=e},e.prototype.stopReceiveTimeout=function(){null!==this._receiveTimeout&&this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!1,null!=this._receiveTimeoutId&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=null)},e.prototype.startReceiveTimeout=function(){this._open&&null!==this._receiveTimeout&&!this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!0,this._resetTimeout())},e.prototype._resetTimeout=function(){var e=this;this._receiveTimeoutStarted&&(null!==this._receiveTimeoutId&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=setTimeout(function(){e._receiveTimeoutId=null,e._timedout=!0,e.stopReceiveTimeout(),e._error=(0,i.newError)("Connection lost. Server didn't respond in ".concat(e._receiveTimeout,"ms"),e._config.connectionErrorCode),e.close(),e.onerror&&e.onerror(e._error)},this._receiveTimeout))},e.prototype._setupConnectionTimeout=function(){var e=this,t=this._config.connectionTimeout;if(t){var n=this._ws;return setTimeout(function(){1!==n.readyState&&(e._connectionTimeoutFired=!0,n.close())},t)}return null},e.prototype._clearConnectionTimeout=function(){var e=this._connectionTimeoutId;(e||0===e)&&(this._connectionTimeoutFired=!1,this._connectionTimeoutId=null,clearTimeout(e))},e}();function c(){return"undefined"!=typeof window&&window.location?window.location.protocol:null}t.default=l},614:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.default={load:function(e){return n(this,void 0,void 0,function(){return r(this,function(t){return[2,e]})})}}},2199:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.resolve=function(e){return this._resolveToItself(e)},t}(n(9305).internal.resolver.BaseHostNameResolver);t.default=i},3951:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientCertificatesLoader=t.HostNameResolver=t.Channel=void 0;var o=r(n(6245)),i=r(n(2199)),a=r(n(614));t.Channel=o.default,t.HostNameResolver=i.default,t.ClientCertificatesLoader=a.default},5319:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.alloc=void 0;var a=i(n(1048)),s=function(e){function t(t){var n=this,r=function(e){return e instanceof a.default.Buffer?e:"number"==typeof e&&"function"==typeof a.default.Buffer.alloc?a.default.Buffer.alloc(e):new a.default.Buffer(e)}(t);return(n=e.call(this,r.length)||this)._buffer=r,n}return o(t,e),t.prototype.getUInt8=function(e){return this._buffer.readUInt8(e)},t.prototype.getInt8=function(e){return this._buffer.readInt8(e)},t.prototype.getFloat64=function(e){return this._buffer.readDoubleBE(e)},t.prototype.putUInt8=function(e,t){this._buffer.writeUInt8(t,e)},t.prototype.putInt8=function(e,t){this._buffer.writeInt8(t,e)},t.prototype.putFloat64=function(e,t){this._buffer.writeDoubleBE(t,e)},t.prototype.putBytes=function(n,r){if(r instanceof t){var o=Math.min(r.length-r.position,this.length-n);r._buffer.copy(this._buffer,n,r.position,r.position+o),r.position+=o}else e.prototype.putBytes.call(this,n,r)},t.prototype.getSlice=function(e,n){return new t(this._buffer.slice(e,e+n))},t}(i(n(7174)).default);t.default=s,t.alloc=function(e){return new s(e)}},2481:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(9305),o=r.internal.util,i=o.ENCRYPTION_OFF,a=o.ENCRYPTION_ON,s=r.error.SERVICE_UNAVAILABLE,u=[null,void 0,!0,!1,a,i],l=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"];t.default=function(e,t,n,o){this.address=e,this.encrypted=function(e){var t=e.encrypted;if(-1===u.indexOf(t))throw(0,r.newError)("Illegal value of the encrypted setting ".concat(t,". Expected one of ").concat(u));return t}(t),this.trust=function(e){var t=e.trust;if(-1===l.indexOf(t))throw(0,r.newError)("Illegal value of the trust setting ".concat(t,". Expected one of ").concat(l));return t}(t),this.trustedCertificates=function(e){return e.trustedCertificates||[]}(t),this.knownHostsPath=function(e){return e.knownHosts||null}(t),this.connectionErrorCode=n||s,this.connectionTimeout=t.connectionTimeout,this.clientCertificate=o}},373:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Dechunker=t.Chunker=void 0;var a=i(n(45)),s=n(5319),u=i(n(5553)),l=function(e){function t(t,n){var r=e.call(this,0)||this;return r._bufferSize=n||1400,r._ch=t,r._buffer=(0,s.alloc)(r._bufferSize),r._currentChunkStart=0,r._chunkOpen=!1,r}return o(t,e),t.prototype.putUInt8=function(e,t){this._ensure(1),this._buffer.writeUInt8(t)},t.prototype.putInt8=function(e,t){this._ensure(1),this._buffer.writeInt8(t)},t.prototype.putFloat64=function(e,t){this._ensure(8),this._buffer.writeFloat64(t)},t.prototype.putBytes=function(e,t){for(;t.remaining()>0;)this._ensure(1),this._buffer.remaining()>t.remaining()?this._buffer.writeBytes(t):this._buffer.writeBytes(t.readSlice(this._buffer.remaining()));return this},t.prototype.flush=function(){if(this._buffer.position>0){this._closeChunkIfOpen();var e=this._buffer;this._buffer=null,this._ch.write(e.getSlice(0,e.position)),this._buffer=(0,s.alloc)(this._bufferSize),this._chunkOpen=!1}return this},t.prototype.messageBoundary=function(){this._closeChunkIfOpen(),this._buffer.remaining()<2&&this.flush(),this._buffer.writeInt16(0)},t.prototype._ensure=function(e){var t=this._chunkOpen?e:e+2;this._buffer.remaining()<t&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+2,this._chunkOpen=!0)},t.prototype._closeChunkIfOpen=function(){if(this._chunkOpen){var e=this._buffer.position-(this._currentChunkStart+2);this._buffer.putUInt16(this._currentChunkStart,e),this._chunkOpen=!1}},t}(a.default);t.Chunker=l;var c=function(){function e(){this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}return e.prototype.AWAITING_CHUNK=function(e){return e.remaining()>=2?this._onHeader(e.readUInt16()):(this._partialChunkHeader=e.readUInt8()<<8,this.IN_HEADER)},e.prototype.IN_HEADER=function(e){return this._onHeader(65535&(this._partialChunkHeader|e.readUInt8()))},e.prototype.IN_CHUNK=function(e){return this._chunkSize<=e.remaining()?(this._currentMessage.push(e.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=e.remaining(),this._currentMessage.push(e.readSlice(e.remaining())),this.IN_CHUNK)},e.prototype.CLOSED=function(e){},e.prototype._onHeader=function(e){if(0===e){var t=void 0;switch(this._currentMessage.length){case 0:return this.AWAITING_CHUNK;case 1:t=this._currentMessage[0];break;default:t=new u.default(this._currentMessage)}return this._currentMessage=[],this.onmessage(t),this.AWAITING_CHUNK}return this._chunkSize=e,this.IN_CHUNK},e.prototype.write=function(e){for(;e.hasRemaining();)this._state=this._state(e)},e}();t.Dechunker=c},5553:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(7174),a=n(5319),s=function(e){function t(t){for(var n=this,r=0,o=0;o<t.length;o++)r+=t[o].length;return(n=e.call(this,r)||this)._buffers=t,n}return o(t,e),t.prototype.getUInt8=function(e){for(var t=0;t<this._buffers.length;t++){var n=this._buffers[t];if(!(e>=n.length))return n.getUInt8(e);e-=n.length}},t.prototype.getInt8=function(e){for(var t=0;t<this._buffers.length;t++){var n=this._buffers[t];if(!(e>=n.length))return n.getInt8(e);e-=n.length}},t.prototype.getFloat64=function(e){for(var t=(0,a.alloc)(8),n=0;n<8;n++)t.putUInt8(n,this.getUInt8(e+n));return t.getFloat64(0)},t}(i.BaseBuffer);t.default=s},7452:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.utf8=t.alloc=t.ChannelConfig=void 0,o(n(3951),t),o(n(373),t);var a=n(2481);Object.defineProperty(t,"ChannelConfig",{enumerable:!0,get:function(){return i(a).default}});var s=n(5319);Object.defineProperty(t,"alloc",{enumerable:!0,get:function(){return s.alloc}});var u=n(3473);Object.defineProperty(t,"utf8",{enumerable:!0,get:function(){return i(u).default}})},3473:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5319)),i=n(9305),a=r(n(1048)),s=new(n(8888).StringDecoder)("utf8");t.default={encode:function(e){return new o.default(function(e){return"function"==typeof a.default.Buffer.from?a.default.Buffer.from(e,"utf8"):new a.default.Buffer(e,"utf8")}(e))},decode:function(e,t){if(Object.prototype.hasOwnProperty.call(e,"_buffer"))return function(e,t){var n=e.position,r=n+t;return e.position=Math.min(r,e.length),e._buffer.toString("utf8",n,r)}(e,t);if(Object.prototype.hasOwnProperty.call(e,"_buffers"))return function(e,t){return function(e,t){var n=t,r=e.position;return e._updatePos(Math.min(t,e.length-r)),e._buffers.reduce(function(e,t){if(n<=0)return e;if(r>=t.length)return r-=t.length,"";t._updatePos(r-t.position);var o=Math.min(t.length-r,n),i=t.readSlice(o);return t._updatePos(o),n=Math.max(n-i.length,0),r=0,e+function(e){return s.write(e._buffer)}(i)},"")+s.end()}(e,t)}(e,t);throw(0,i.newError)("Don't know how to decode strings from '".concat(e,"'"))}}},1839:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9305),a=n(6781),s=function(){function e(e){var t=e.authTokenManager,n=e.userAgent,r=e.boltAgent;this._authTokenManager=t||(0,i.staticAuthTokenManager)({}),this._userAgent=n,this._boltAgent=r}return e.prototype.authenticate=function(e){var t=e.connection,n=e.auth,i=e.skipReAuth,s=e.waitReAuth,u=e.forceReAuth;return r(this,void 0,void 0,function(){var e,r;return o(this,function(o){switch(o.label){case 0:return null==n?[3,3]:(e=!0===t.supportsReAuth&&(!a.object.equals(t.authToken,n)&&!0!==i||!0===u),null==t.authToken||e?[4,t.connect(this._userAgent,this._boltAgent,n,s||!1)]:[3,2]);case 1:case 5:return[2,o.sent()];case 2:case 6:return[2,t];case 3:return[4,this._authTokenManager.getToken()];case 4:return r=o.sent(),a.object.equals(r,t.authToken)?[3,6]:[4,t.connect(this._userAgent,this._boltAgent,r,!1)]}})})},e.prototype.handleError=function(e){var t=e.connection,n=e.code;return!(!t||!n.startsWith("Neo.ClientError.Security."))&&this._authTokenManager.handleSecurityException(t.authToken,n)},e}();t.default=s},4271:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(7452),a=function(){function e(e){var t=e.clientCertificateProvider,n=e.loader;this._clientCertificateProvider=t,this._loader=n||i.ClientCertificatesLoader,this._clientCertificate=null}return e.prototype.getClientCertificate=function(){return r(this,void 0,void 0,function(){var e,t,n=this;return o(this,function(r){switch(r.label){case 0:return(e=null!=this._clientCertificateProvider)?(t=null==this._clientCertificate)?[3,2]:[4,this._clientCertificateProvider.hasUpdate()]:[3,3];case 1:t=r.sent(),r.label=2;case 2:e=t,r.label=3;case 3:return e&&(this._clientCertificate=Promise.resolve(this._clientCertificateProvider.getClientCertificate()).then(this._loader.load).then(function(e){return n._clientCertificate=e,n._clientCertificate}).catch(function(e){throw n._clientCertificate=null,e})),[2,this._clientCertificate]}})})},e}();t.default=a},3545:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(8987)),l=n(7721),c=n(9305),f=c.internal.constants,d=f.BOLT_PROTOCOL_V3,h=f.BOLT_PROTOCOL_V4_0,p=f.BOLT_PROTOCOL_V4_4,v=f.BOLT_PROTOCOL_V5_1,g=c.error.SERVICE_UNAVAILABLE,y=function(e){function t(t){var n=t.id,r=t.config,o=t.log,i=t.address,a=t.userAgent,s=t.boltAgent,u=t.authTokenManager,l=t.newPool,c=e.call(this,{id:n,config:r,log:o,userAgent:a,boltAgent:s,authTokenManager:u,newPool:l})||this;return c._address=i,c}return o(t,e),t.prototype.acquireConnection=function(e){var t=void 0===e?{}:e,n=(t.accessMode,t.database),r=(t.bookmarks,t.auth),o=t.forceReAuth;return i(this,void 0,void 0,function(){var e,t,i=this;return a(this,function(a){switch(a.label){case 0:return e=l.ConnectionErrorHandler.create({errorCode:g,handleSecurityError:function(e,t,r){return i._handleSecurityError(e,t,r,n)}}),[4,this._connectionPool.acquire({auth:r,forceReAuth:o},this._address)];case 1:return t=a.sent(),r?[4,this._verifyStickyConnection({auth:r,connection:t,address:this._address})]:[3,3];case 2:return a.sent(),[2,t];case 3:return[2,new l.DelegateConnection(t,e)]}})})},t.prototype._handleSecurityError=function(t,n,r,o){return this._log.warn("Direct driver ".concat(this._id," will close connection to ").concat(n," for database '").concat(o,"' because of an error ").concat(t.code," '").concat(t.message,"'")),e.prototype._handleSecurityError.call(this,t,n,r)},t.prototype._hasProtocolVersion=function(e){return i(this,void 0,void 0,function(){var t,n;return a(this,function(r){switch(r.label){case 0:return[4,this._createChannelConnection(this._address)];case 1:return t=r.sent(),n=t.protocol()?t.protocol().version:null,[4,t.close()];case 2:return r.sent(),n?[2,e(n)]:[2,!1]}})})},t.prototype.supportsMultiDb=function(){return i(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=h})];case 1:return[2,e.sent()]}})})},t.prototype.getNegotiatedProtocolVersion=function(){var e=this;return new Promise(function(t,n){e._hasProtocolVersion(t).catch(n)})},t.prototype.supportsTransactionConfig=function(){return i(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=d})];case 1:return[2,e.sent()]}})})},t.prototype.supportsUserImpersonation=function(){return i(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=p})];case 1:return[2,e.sent()]}})})},t.prototype.supportsSessionAuth=function(){return i(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=v})];case 1:return[2,e.sent()]}})})},t.prototype.verifyAuthentication=function(e){var t=e.auth;return i(this,void 0,void 0,function(){var e=this;return a(this,function(n){return[2,this._verifyAuthentication({auth:t,getAddress:function(){return e._address}})]})})},t.prototype.verifyConnectivityAndGetServerInfo=function(){return i(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._verifyConnectivityAndGetServerVersion({address:this._address})];case 1:return[2,e.sent()]}})})},t}(u.default);t.default=y},8987:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(7721),f=n(9305),d=l(n(1839)),h=n(6781),p=l(n(4531)),v=l(n(4271)),g=f.error.SERVICE_UNAVAILABLE,y=["Neo.ClientError.Security.CredentialsExpired","Neo.ClientError.Security.Forbidden","Neo.ClientError.Security.TokenExpired","Neo.ClientError.Security.Unauthorized"],m=f.internal.pool,b=m.Pool,_=m.PoolConfig,w=function(e){function t(n,r){var o=n.id,l=n.config,f=n.log,h=n.userAgent,g=n.boltAgent,y=n.authTokenManager,m=n.newPool,w=void 0===m?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(b.bind.apply(b,u([void 0],s(e),!1)))}:m;void 0===r&&(r=null);var x=e.call(this)||this;return x._id=o,x._config=l,x._log=f,x._clientCertificateHolder=new v.default({clientCertificateProvider:x._config.clientCertificate}),x._authenticationProvider=new d.default({authTokenManager:y,userAgent:h,boltAgent:g}),x._livenessCheckProvider=new p.default({connectionLivenessCheckTimeout:l.connectionLivenessCheckTimeout}),x._userAgent=h,x._boltAgent=g,x._createChannelConnection=r||function(e){return i(x,void 0,void 0,function(){var t,n;return a(this,function(r){switch(r.label){case 0:return t=c.createChannelConnection,n=[e,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,t.apply(void 0,n.concat([r.sent()]))]}})})},x._connectionPool=w({create:x._createConnection.bind(x),destroy:x._destroyConnection.bind(x),validateOnAcquire:x._validateConnectionOnAcquire.bind(x),validateOnRelease:x._validateConnectionOnRelease.bind(x),installIdleObserver:t._installIdleObserverOnConnection.bind(x),removeIdleObserver:t._removeIdleObserverOnConnection.bind(x),config:_.fromDriverConfig(l),log:x._log}),x._openConnections={},x}return o(t,e),t.prototype._createConnectionErrorHandler=function(){return new c.ConnectionErrorHandler(g)},t.prototype._getClientCertificate=function(){return i(this,void 0,void 0,function(){return a(this,function(e){return[2,this._config.clientCertificate.getClientCertificate()]})})},t.prototype._createConnection=function(e,t,n){var r=this,o=e.auth;return this._createChannelConnection(t).then(function(e){return e.release=function(){return e.idleTimestamp=Date.now(),n(t,e)},r._openConnections[e.id]=e,r._authenticationProvider.authenticate({connection:e,auth:o}).catch(function(t){throw r._destroyConnection(e),t})})},t.prototype._validateConnectionOnAcquire=function(e,t){var n=e.auth,r=e.skipReAuth;return i(this,void 0,void 0,function(){var e,o;return a(this,function(i){switch(i.label){case 0:if(!this._validateConnection(t))return[2,!1];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._livenessCheckProvider.check(t)];case 2:return i.sent(),[3,4];case 3:return e=i.sent(),this._log.debug("The connection ".concat(t.id," is not alive because of an error ").concat(e.code," '").concat(e.message,"'")),[2,!1];case 4:return i.trys.push([4,6,,7]),[4,this._authenticationProvider.authenticate({connection:t,auth:n,skipReAuth:r})];case 5:return i.sent(),[2,!0];case 6:return o=i.sent(),this._log.debug("The connection ".concat(t.id," is not valid because of an error ").concat(o.code," '").concat(o.message,"'")),[2,!1];case 7:return[2]}})})},t.prototype._validateConnectionOnRelease=function(e){return!0!==e._sticky&&this._validateConnection(e)},t.prototype._validateConnection=function(e){if(!e.isOpen())return!1;var t=this._config.maxConnectionLifetime;return!(Date.now()-e.creationTimestamp>t)},t.prototype._destroyConnection=function(e){return delete this._openConnections[e.id],e.close()},t.prototype._verifyConnectivityAndGetServerVersion=function(e){var t=e.address;return i(this,void 0,void 0,function(){var e,n;return a(this,function(r){switch(r.label){case 0:return[4,this._connectionPool.acquire({},t)];case 1:e=r.sent(),n=new f.ServerInfo(e.server,e.protocol().version),r.label=2;case 2:return r.trys.push([2,,5,7]),e.protocol().isLastMessageLogon()?[3,4]:[4,e.resetAndFlush()];case 3:r.sent(),r.label=4;case 4:return[3,7];case 5:return[4,e.release()];case 6:return r.sent(),[7];case 7:return[2,n]}})})},t.prototype._verifyAuthentication=function(e){var t=e.getAddress,n=e.auth;return i(this,void 0,void 0,function(){var e,r,o,i,s,u;return a(this,function(a){switch(a.label){case 0:e=[],a.label=1;case 1:return a.trys.push([1,8,9,11]),[4,t()];case 2:return r=a.sent(),[4,this._connectionPool.acquire({auth:n,skipReAuth:!0},r)];case 3:if(o=a.sent(),e.push(o),i=!o.protocol().isLastMessageLogon(),!o.supportsReAuth)throw(0,f.newError)("Driver is connected to a database that does not support user switch.");return i&&o.supportsReAuth?[4,this._authenticationProvider.authenticate({connection:o,auth:n,waitReAuth:!0,forceReAuth:!0})]:[3,5];case 4:return a.sent(),[3,7];case 5:return!i||o.supportsReAuth?[3,7]:[4,this._connectionPool.acquire({auth:n},r,{requireNew:!0})];case 6:(s=a.sent())._sticky=!0,e.push(s),a.label=7;case 7:return[2,!0];case 8:if(u=a.sent(),y.includes(u.code))return[2,!1];throw u;case 9:return[4,Promise.all(e.map(function(e){return e.release()}))];case 10:return a.sent(),[7];case 11:return[2]}})})},t.prototype._verifyStickyConnection=function(e){var t=e.auth,n=e.connection;return e.address,i(this,void 0,void 0,function(){var e,r;return a(this,function(o){switch(o.label){case 0:return e=h.object.equals(t,n.authToken),r=!e,n._sticky=e&&!n.supportsReAuth,r||n._sticky?[4,n.release()]:[3,2];case 1:throw o.sent(),(0,f.newError)("Driver is connected to a database that does not support user switch.");case 2:return[2]}})})},t.prototype.close=function(){return i(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._connectionPool.close()];case 1:return e.sent(),[4,Promise.all(Object.values(this._openConnections).map(function(e){return e.close()}))];case 2:return e.sent(),[2]}})})},t._installIdleObserverOnConnection=function(e,t){e._setIdle(t)},t._removeIdleObserverOnConnection=function(e){e._unsetIdle()},t.prototype._handleSecurityError=function(e,t,n){return this._authenticationProvider.handleError({connection:n,code:e.code})&&(e.retriable=!0),"Neo.ClientError.Security.AuthorizationExpired"===e.code&&this._connectionPool.apply(t,function(e){e.authToken=null}),n&&n.close().catch(function(){}),e},t}(f.ConnectionProvider);t.default=w},7428:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},f=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},d=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=n(9305),v=u(n(206)),g=n(7452),y=h(n(4132)),m=h(n(8987)),b=n(4455),_=n(7721),w=n(6781),x=p.error.SERVICE_UNAVAILABLE,E=p.error.SESSION_EXPIRED,O=p.internal.bookmarks.Bookmarks,S=p.internal.constants,T=S.ACCESS_MODE_READ,P=S.ACCESS_MODE_WRITE,C=S.BOLT_PROTOCOL_V3,k=S.BOLT_PROTOCOL_V4_0,A=S.BOLT_PROTOCOL_V4_4,N=S.BOLT_PROTOCOL_V5_1,j="Neo.ClientError.Database.DatabaseNotFound",R="Neo.ClientError.Transaction.InvalidBookmark",I="Neo.ClientError.Transaction.InvalidBookmarkMixture",M="Neo.ClientError.Security.AuthorizationExpired",D="Neo.ClientError.Statement.ArgumentError",L="Neo.ClientError.Request.Invalid",B="Neo.ClientError.Statement.TypeError",F="N/A",U=null,z=(0,p.int)(3e4),V=function(e){function t(t){var n=t.id,r=t.address,o=t.routingContext,a=t.hostNameResolver,s=t.config,u=t.log,f=t.userAgent,d=t.boltAgent,h=t.authTokenManager,y=t.routingTablePurgeDelay,m=t.newPool,x=e.call(this,{id:n,config:s,log:u,userAgent:f,boltAgent:d,authTokenManager:h,newPool:m},function(e){return l(x,void 0,void 0,function(){var t,n;return c(this,function(r){switch(r.label){case 0:return t=_.createChannelConnection,n=[e,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,t.apply(void 0,n.concat([r.sent(),this._routingContext]))]}})})})||this;return x._routingContext=i(i({},o),{address:r.toString()}),x._seedRouter=r,x._rediscovery=new v.default(x._routingContext),x._loadBalancingStrategy=new b.LeastConnectedLoadBalancingStrategy(x._connectionPool),x._hostNameResolver=a,x._dnsResolver=new g.HostNameResolver,x._log=u,x._useSeedRouter=!0,x._routingTableRegistry=new W(y?(0,p.int)(y):z),x._refreshRoutingTable=w.functional.reuseOngoingRequest(x._refreshRoutingTable,x),x}return o(t,e),t.prototype._createConnectionErrorHandler=function(){return new _.ConnectionErrorHandler(E)},t.prototype._handleUnavailability=function(e,t,n){return this._log.warn("Routing driver ".concat(this._id," will forget ").concat(t," for database '").concat(n,"' because of an error ").concat(e.code," '").concat(e.message,"'")),this.forget(t,n||U),e},t.prototype._handleSecurityError=function(t,n,r,o){return this._log.warn("Routing driver ".concat(this._id," will close connections to ").concat(n," for database '").concat(o,"' because of an error ").concat(t.code," '").concat(t.message,"'")),e.prototype._handleSecurityError.call(this,t,n,r,o)},t.prototype._handleWriteFailure=function(e,t,n){return this._log.warn("Routing driver ".concat(this._id," will forget writer ").concat(t," for database '").concat(n,"' because of an error ").concat(e.code," '").concat(e.message,"'")),this.forgetWriter(t,n||U),(0,p.newError)("No longer possible to write to server at "+t,E,e)},t.prototype.acquireConnection=function(e){var t=void 0===e?{}:e,n=t.accessMode,r=t.database,o=t.bookmarks,i=t.impersonatedUser,a=t.onDatabaseNameResolved,s=t.auth;return l(this,void 0,void 0,function(){var e,t,u,l,f,d,h,v=this;return c(this,function(c){switch(c.label){case 0:return u={database:r||U},l=new _.ConnectionErrorHandler(E,function(e,t){return v._handleUnavailability(e,t,u.database)},function(e,t){return v._handleWriteFailure(e,t,u.database)},function(e,t,n){return v._handleSecurityError(e,t,n,u.database)}),[4,this._freshRoutingTable({accessMode:n,database:u.database,bookmarks:o,impersonatedUser:i,auth:s,onDatabaseNameResolved:function(e){u.database=u.database||e,a&&a(e)}})];case 1:if(f=c.sent(),n===T)t=this._loadBalancingStrategy.selectReader(f.readers),e="read";else{if(n!==P)throw(0,p.newError)("Illegal mode "+n);t=this._loadBalancingStrategy.selectWriter(f.writers),e="write"}if(!t)throw(0,p.newError)("Failed to obtain connection towards ".concat(e," server. Known routing table is: ").concat(f),E);c.label=2;case 2:return c.trys.push([2,6,,7]),[4,this._connectionPool.acquire({auth:s},t)];case 3:return d=c.sent(),s?[4,this._verifyStickyConnection({auth:s,connection:d,address:t})]:[3,5];case 4:return c.sent(),[2,d];case 5:return[2,new _.DelegateConnection(d,l)];case 6:throw h=c.sent(),l.handleAndTransformError(h,t);case 7:return[2]}})})},t.prototype._hasProtocolVersion=function(e){return l(this,void 0,void 0,function(){var t,n,r,o,i,a;return c(this,function(s){switch(s.label){case 0:return[4,this._resolveSeedRouter(this._seedRouter)];case 1:t=s.sent(),r=0,s.label=2;case 2:if(!(r<t.length))return[3,8];s.label=3;case 3:return s.trys.push([3,6,,7]),[4,this._createChannelConnection(t[r])];case 4:return o=s.sent(),i=o.protocol()?o.protocol().version:null,[4,o.close()];case 5:return s.sent(),i?[2,e(i)]:[2,!1];case 6:return a=s.sent(),n=a,[3,7];case 7:return r++,[3,2];case 8:if(n)throw n;return[2,!1]}})})},t.prototype.supportsMultiDb=function(){return l(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=k})];case 1:return[2,e.sent()]}})})},t.prototype.supportsTransactionConfig=function(){return l(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=C})];case 1:return[2,e.sent()]}})})},t.prototype.supportsUserImpersonation=function(){return l(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=A})];case 1:return[2,e.sent()]}})})},t.prototype.supportsSessionAuth=function(){return l(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=N})];case 1:return[2,e.sent()]}})})},t.prototype.getNegotiatedProtocolVersion=function(){var e=this;return new Promise(function(t,n){e._hasProtocolVersion(t).catch(n)})},t.prototype.verifyAuthentication=function(e){var t=e.database,n=e.accessMode,r=e.auth;return l(this,void 0,void 0,function(){var e=this;return c(this,function(o){return[2,this._verifyAuthentication({auth:r,getAddress:function(){return l(e,void 0,void 0,function(){var e,o,i;return c(this,function(a){switch(a.label){case 0:return e={database:t||U},[4,this._freshRoutingTable({accessMode:n,database:e.database,auth:r,onDatabaseNameResolved:function(t){e.database=e.database||t}})];case 1:if(o=a.sent(),0===(i=n===P?o.writers:o.readers).length)throw(0,p.newError)("No servers available for database '".concat(e.database,"' with access mode '").concat(n,"'"),x);return[2,i[0]]}})})}})]})})},t.prototype.verifyConnectivityAndGetServerInfo=function(e){var t=e.database,n=e.accessMode;return l(this,void 0,void 0,function(){var e,r,o,i,a,s,u,l,d,h,v;return c(this,function(c){switch(c.label){case 0:return e={database:t||U},[4,this._freshRoutingTable({accessMode:n,database:e.database,onDatabaseNameResolved:function(t){e.database=e.database||t}})];case 1:r=c.sent(),o=n===P?r.writers:r.readers,i=(0,p.newError)("No servers available for database '".concat(e.database,"' with access mode '").concat(n,"'"),x),c.label=2;case 2:c.trys.push([2,9,10,11]),a=f(o),s=a.next(),c.label=3;case 3:if(s.done)return[3,8];u=s.value,c.label=4;case 4:return c.trys.push([4,6,,7]),[4,this._verifyConnectivityAndGetServerVersion({address:u})];case 5:return[2,c.sent()];case 6:return l=c.sent(),i=l,[3,7];case 7:return s=a.next(),[3,3];case 8:return[3,11];case 9:return d=c.sent(),h={error:d},[3,11];case 10:try{s&&!s.done&&(v=a.return)&&v.call(a)}finally{if(h)throw h.error}return[7];case 11:throw i}})})},t.prototype.forget=function(e,t){this._routingTableRegistry.apply(t,{applyWhenExists:function(t){return t.forget(e)}}),this._connectionPool.purge(e).catch(function(){})},t.prototype.forgetWriter=function(e,t){this._routingTableRegistry.apply(t,{applyWhenExists:function(t){return t.forgetWriter(e)}})},t.prototype._freshRoutingTable=function(e){var t=void 0===e?{}:e,n=t.accessMode,r=t.database,o=t.bookmarks,i=t.impersonatedUser,a=t.onDatabaseNameResolved,s=t.auth,u=this._routingTableRegistry.get(r,function(){return new v.RoutingTable({database:r})});return u.isStaleFor(n)?(this._log.info('Routing table is stale for database: "'.concat(r,'" and access mode: "').concat(n,'": ').concat(u)),this._refreshRoutingTable(u,o,i,s).then(function(e){return a(e.database),e})):u},t.prototype._refreshRoutingTable=function(e,t,n,r){var o=e.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(o,e,t,n,r):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(o,e,t,n,r)},t.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters=function(e,t,n,r,o){return l(this,void 0,void 0,function(){var i,a,s,u,l,f,h;return c(this,function(c){switch(c.label){case 0:return i=[],[4,this._fetchRoutingTableUsingSeedRouter(i,this._seedRouter,t,n,r,o)];case 1:return a=d.apply(void 0,[c.sent(),2]),s=a[0],u=a[1],s?(this._useSeedRouter=!1,[3,4]):[3,2];case 2:return[4,this._fetchRoutingTableUsingKnownRouters(e,t,n,r,o)];case 3:l=d.apply(void 0,[c.sent(),2]),f=l[0],h=l[1],s=f,u=h||u,c.label=4;case 4:return[4,this._applyRoutingTableIfPossible(t,s,u)];case 5:return[2,c.sent()]}})})},t.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter=function(e,t,n,r,o){return l(this,void 0,void 0,function(){var i,a,s,u;return c(this,function(l){switch(l.label){case 0:return[4,this._fetchRoutingTableUsingKnownRouters(e,t,n,r,o)];case 1:return i=d.apply(void 0,[l.sent(),2]),a=i[0],s=i[1],a?[3,3]:[4,this._fetchRoutingTableUsingSeedRouter(e,this._seedRouter,t,n,r,o)];case 2:u=d.apply(void 0,[l.sent(),2]),a=u[0],s=u[1],l.label=3;case 3:return[4,this._applyRoutingTableIfPossible(t,a,s)];case 4:return[2,l.sent()]}})})},t.prototype._fetchRoutingTableUsingKnownRouters=function(e,n,r,o,i){return l(this,void 0,void 0,function(){var a,s,u,l;return c(this,function(c){switch(c.label){case 0:return[4,this._fetchRoutingTable(e,n,r,o,i)];case 1:return a=d.apply(void 0,[c.sent(),2]),s=a[0],u=a[1],s?[2,[s,null]]:(l=e.length-1,t._forgetRouter(n,e,l),[2,[null,u]])}})})},t.prototype._fetchRoutingTableUsingSeedRouter=function(e,t,n,r,o,i){return l(this,void 0,void 0,function(){var a,s;return c(this,function(u){switch(u.label){case 0:return[4,this._resolveSeedRouter(t)];case 1:return a=u.sent(),s=a.filter(function(t){return e.indexOf(t)<0}),[4,this._fetchRoutingTable(s,n,r,o,i)];case 2:return[2,u.sent()]}})})},t.prototype._resolveSeedRouter=function(e){return l(this,void 0,void 0,function(){var t,n,r=this;return c(this,function(o){switch(o.label){case 0:return[4,this._hostNameResolver.resolve(e)];case 1:return t=o.sent(),[4,Promise.all(t.map(function(e){return r._dnsResolver.resolve(e)}))];case 2:return n=o.sent(),[2,[].concat.apply([],n)]}})})},t.prototype._fetchRoutingTable=function(e,n,r,o,i){return l(this,void 0,void 0,function(){var a=this;return c(this,function(s){return[2,e.reduce(function(s,u,f){return l(a,void 0,void 0,function(){var a,l,h,p,v,g,y;return c(this,function(c){switch(c.label){case 0:return[4,s];case 1:return a=d.apply(void 0,[c.sent(),1]),(l=a[0])?[2,[l,null]]:(h=f-1,t._forgetRouter(n,e,h),[4,this._createSessionForRediscovery(u,r,o,i)]);case 2:if(p=d.apply(void 0,[c.sent(),2]),v=p[0],g=p[1],!v)return[3,8];c.label=3;case 3:return c.trys.push([3,5,6,7]),[4,this._rediscovery.lookupRoutingTableOnRouter(v,n.database,u,o)];case 4:return[2,[c.sent(),null]];case 5:return y=c.sent(),[2,this._handleRediscoveryError(y,u)];case 6:return v.close(),[7];case 7:return[3,9];case 8:return[2,[null,g]];case 9:return[2]}})})},Promise.resolve([null,null]))]})})},t.prototype._createSessionForRediscovery=function(e,t,n,r){return l(this,void 0,void 0,function(){var o,i,a,s,u,l=this;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,4,,5]),[4,this._connectionPool.acquire({auth:r},e)];case 1:return o=c.sent(),r?[4,this._verifyStickyConnection({auth:r,connection:o,address:e})]:[3,3];case 2:c.sent(),c.label=3;case 3:return i=_.ConnectionErrorHandler.create({errorCode:E,handleSecurityError:function(e,t,n){return l._handleSecurityError(e,t,n)}}),a=o._sticky?new _.DelegateConnection(o):new _.DelegateConnection(o,i),s=new y.default(a),o.protocol().version<4?[2,[new p.Session({mode:P,bookmarks:O.empty(),connectionProvider:s}),null]]:[2,[new p.Session({mode:T,database:"system",bookmarks:t,connectionProvider:s,impersonatedUser:n}),null]];case 4:return u=c.sent(),[2,this._handleRediscoveryError(u,e)];case 5:return[2]}})})},t.prototype._handleRediscoveryError=function(e,t){if(function(e){return[j,R,I,D,L,B,F].includes(e.code)}(e)||function(e){return e.code.startsWith("Neo.ClientError.Security.")&&![M].includes(e.code)}(e))throw e;if("Neo.ClientError.Procedure.ProcedureNotFound"===e.code)throw(0,p.newError)("Server at ".concat(t.asHostPort()," can't perform routing. Make sure you are connecting to a causal cluster"),x,e);return this._log.warn("unable to fetch routing table because of an error ".concat(e)),[null,e]},t.prototype._applyRoutingTableIfPossible=function(e,t,n){return l(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:if(!t)throw(0,p.newError)("Could not perform discovery. No routing servers available. Known routing table: ".concat(e),x,n);return 0===t.writers.length&&(this._useSeedRouter=!0),[4,this._updateRoutingTable(t)];case 1:return r.sent(),[2,t]}})})},t.prototype._updateRoutingTable=function(e){return l(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,this._connectionPool.keepAll(e.allServers())];case 1:return t.sent(),this._routingTableRegistry.removeExpired(),this._routingTableRegistry.register(e),this._log.info("Updated routing table ".concat(e)),[2]}})})},t._forgetRouter=function(e,t,n){var r=t[n];e&&r&&e.forgetRouter(r)},t}(m.default);t.default=V;var W=function(){function e(e){this._tables=new Map,this._routingTablePurgeDelay=e}return e.prototype.register=function(e){return this._tables.set(e.database,e),this},e.prototype.apply=function(e,t){var n=void 0===t?{}:t,r=n.applyWhenExists,o=n.applyWhenDontExists,i=void 0===o?function(){}:o;return this._tables.has(e)?r(this._tables.get(e)):"string"==typeof e||null===e?i():this._forEach(r),this},e.prototype.get=function(e,t){return this._tables.has(e)?this._tables.get(e):"function"==typeof t?t():t},e.prototype.removeExpired=function(){var e=this;return this._removeIf(function(t){return t.isExpiredFor(e._routingTablePurgeDelay)})},e.prototype._forEach=function(e){var t,n;try{for(var r=f(this._tables),o=r.next();!o.done;o=r.next())e(d(o.value,2)[1])}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e.prototype._remove=function(e){return this._tables.delete(e),this},e.prototype._removeIf=function(e){var t,n;try{for(var r=f(this._tables),o=r.next();!o.done;o=r.next()){var i=d(o.value,2),a=i[0];e(i[1])&&this._remove(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e}()},4132:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this)||this;return n._connection=t,n}return o(t,e),t.prototype.acquireConnection=function(e){var t=void 0===e?{}:e,n=(t.accessMode,t.database,t.bookmarks,this._connection);return this._connection=null,Promise.resolve(n)},t}(n(9305).ConnectionProvider);t.default=i},9689:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoutingConnectionProvider=t.DirectConnectionProvider=t.PooledConnectionProvider=t.SingleConnectionProvider=void 0;var o=n(4132);Object.defineProperty(t,"SingleConnectionProvider",{enumerable:!0,get:function(){return r(o).default}});var i=n(8987);Object.defineProperty(t,"PooledConnectionProvider",{enumerable:!0,get:function(){return r(i).default}});var a=n(3545);Object.defineProperty(t,"DirectConnectionProvider",{enumerable:!0,get:function(){return r(a).default}});var s=n(7428);Object.defineProperty(t,"RoutingConnectionProvider",{enumerable:!0,get:function(){return r(s).default}})},4531:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){var t=e.connectionLivenessCheckTimeout;this._connectionLivenessCheckTimeout=t}return e.prototype.check=function(e){return n(this,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:return this._isCheckDisabled||this._isNewlyCreatedConnection(e)?[2,!0]:(t=Date.now()-e.idleTimestamp,0===this._connectionLivenessCheckTimeout||t>this._connectionLivenessCheckTimeout?[4,e.resetAndFlush().then(function(){return!0})]:[3,2]);case 1:return[2,n.sent()];case 2:return[2,!0]}})})},Object.defineProperty(e.prototype,"_isCheckDisabled",{get:function(){return null==this._connectionLivenessCheckTimeout||this._connectionLivenessCheckTimeout<0},enumerable:!1,configurable:!0}),e.prototype._isNewlyCreatedConnection=function(e){return null==e.authToken},e}();t.default=o},8031:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createChannelConnection=void 0;var u=n(7452),l=n(9305),c=s(n(6385)),f=s(n(7666)),d=l.error.PROTOCOL_ERROR,h=l.internal.logger.Logger,p=0;t.createChannelConnection=function(e,t,n,r,o,i,a){void 0===i&&(i=null),void 0===a&&(a=function(e){return new u.Channel(e)});var s=a(new u.ChannelConfig(e,t,n.errorCode(),o));return f.default.handshake(s,r).then(function(o){var a=o.protocolVersion,l=o.consumeRemainingBuffer,c=new u.Chunker(s),d=new u.Dechunker,h=new v(s,n,e,r,t.disableLosslessIntegers,i,c,t.notificationFilter,function(e){return f.default.create({version:a,channel:s,chunker:c,dechunker:d,disableLosslessIntegers:t.disableLosslessIntegers,useBigInt:t.useBigInt,serversideRouting:i,server:e.server,log:e.logger,observer:{onObserversCountChange:e._handleOngoingRequestsNumberChange.bind(e),onError:e._handleFatalError.bind(e),onFailure:e._resetOnFailure.bind(e),onProtocolError:e._handleProtocolError.bind(e),onErrorApplyTransformation:function(t){return e.handleAndTransformError(t,e._address)}}})},t.telemetryDisabled);return l(function(e){return d.write(e)}),h}).catch(function(e){return s.close().then(function(){throw e})})};var v=function(e){function t(t,n,r,o,i,a,s,u,l,c){void 0===i&&(i=!1),void 0===a&&(a=null);var f,d,v=e.call(this,n)||this;return v._authToken=null,v._idle=!1,v._reseting=!1,v._resetObservers=[],v._id=p++,v._address=r,v._server={address:r.asHostPort()},v._creationTimestamp=Date.now(),v._disableLosslessIntegers=i,v._ch=t,v._chunker=s,v._log=(f=v,new h((d=o)._level,function(e,t){return d._loggerFunction(e,"".concat(f," ").concat(t))})),v._serversideRouting=a,v._notificationFilter=u,v._telemetryDisabledDriverConfig=!0===c,v._telemetryDisabledConnection=!0,v._dbConnectionId=null,v._protocol=l(v),v._isBroken=!1,v._log.isDebugEnabled()&&v._log.debug("created towards ".concat(r)),v}return o(t,e),t.prototype.beginTransaction=function(e){return this._sendTelemetryIfEnabled(e),this._protocol.beginTransaction(e)},t.prototype.run=function(e,t,n){return this._sendTelemetryIfEnabled(n),this._protocol.run(e,t,n)},t.prototype._sendTelemetryIfEnabled=function(e){this._telemetryDisabledConnection||this._telemetryDisabledDriverConfig||null==e||null==e.apiTelemetryConfig||this._protocol.telemetry({api:e.apiTelemetryConfig.api},{onCompleted:e.apiTelemetryConfig.onTelemetrySuccess,onError:e.beforeError})},t.prototype.commitTransaction=function(e){return this._protocol.commitTransaction(e)},t.prototype.rollbackTransaction=function(e){return this._protocol.rollbackTransaction(e)},t.prototype.getProtocolVersion=function(){return this._protocol.version},Object.defineProperty(t.prototype,"authToken",{get:function(){return this._authToken},set:function(e){this._authToken=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return this._protocol.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){return this._dbConnectionId},set:function(e){this._dbConnectionId=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"idleTimestamp",{get:function(){return this._idleTimestamp},set:function(e){this._idleTimestamp=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creationTimestamp",{get:function(){return this._creationTimestamp},enumerable:!1,configurable:!0}),t.prototype.connect=function(e,t,n,r){return i(this,void 0,void 0,function(){var o=this;return a(this,function(i){switch(i.label){case 0:if(this._protocol.initialized&&!this._protocol.supportsReAuth)throw(0,l.newError)("Connection does not support re-auth");return this._authToken=n,this._protocol.initialized?[3,2]:[4,this._initialize(e,t,n)];case 1:case 3:return[2,i.sent()];case 2:return r?[4,new Promise(function(e,t){o._protocol.logoff({onError:t}),o._protocol.logon({authToken:n,onError:t,onComplete:function(){return e(o)},flush:!0})})]:[3,4];case 4:return this._protocol.logoff(),this._protocol.logon({authToken:n,flush:!0}),[2,this]}})})},t.prototype._initialize=function(e,t,n){var r=this,o=this;return new Promise(function(i,a){r._protocol.initialize({userAgent:e,boltAgent:t,authToken:n,notificationFilter:r._notificationFilter,onError:function(e){return a(e)},onComplete:function(e){if(e){var t=e.server;r.version&&!t||(r.version=t);var n=e.connection_id;if(r.databaseId||(r.databaseId=n),e.hints){var a=e.hints["connection.recv_timeout_seconds"];if(null!=a){var s=(0,l.toNumber)(a);Number.isInteger(s)&&s>0?r._ch.setupReceiveTimeout(1e3*s):r._log.info("Server located at ".concat(r._address," supplied an invalid connection receive timeout value (").concat(s,"). ")+"Please, verify the server configuration and status because this can be the symptom of a bigger issue.")}!0===e.hints["telemetry.enabled"]&&(r._telemetryDisabledConnection=!1)}}i(o)}})})},t.prototype.protocol=function(){return this._protocol},Object.defineProperty(t.prototype,"address",{get:function(){return this._address},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._server.version},set:function(e){this._server.version=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logger",{get:function(){return this._log},enumerable:!1,configurable:!0}),t.prototype._handleFatalError=function(e){this._isBroken=!0,this._error=this.handleAndTransformError(this._protocol.currentFailure||e,this._address),this._log.isErrorEnabled()&&this._log.error("experienced a fatal error caused by ".concat(this._error," (").concat(l.json.stringify(this._error),")")),this._protocol.notifyFatalError(this._error)},t.prototype._setIdle=function(e){this._idle=!0,this._ch.stopReceiveTimeout(),this._protocol.queueObserverIfProtocolIsNotBroken(e)},t.prototype._unsetIdle=function(){this._idle=!1,this._updateCurrentObserver()},t.prototype._queueObserver=function(e){return this._protocol.queueObserverIfProtocolIsNotBroken(e)},t.prototype.hasOngoingObservableRequests=function(){return!this._idle&&this._protocol.hasOngoingObservableRequests()},t.prototype.resetAndFlush=function(){var e=this;return new Promise(function(t,n){e._reset({onError:function(t){if(e._isBroken)n(t);else{var r=e._handleProtocolError("Received FAILURE as a response for RESET: ".concat(t));n(r)}},onComplete:function(){t()}})})},t.prototype._resetOnFailure=function(){var e=this;this.isOpen()&&this._reset({onError:function(){e._protocol.resetFailure()},onComplete:function(){e._protocol.resetFailure()}})},t.prototype._reset=function(e){var t=this;if(this._reseting)this._protocol.isLastMessageReset()?this._resetObservers.push(e):this._protocol.reset({onError:function(t){e.onError(t)},onComplete:function(){e.onComplete()}});else{this._resetObservers.push(e),this._reseting=!0;var n=function(e){t._reseting=!1;var n=t._resetObservers;t._resetObservers=[],n.forEach(e)};this._protocol.reset({onError:function(e){n(function(t){return t.onError(e)})},onComplete:function(){n(function(e){return e.onComplete()})}})}},t.prototype._updateCurrentObserver=function(){this._protocol.updateCurrentObserver()},t.prototype.isOpen=function(){return!this._isBroken&&this._ch._open},t.prototype._handleOngoingRequestsNumberChange=function(e){this._idle||(0===e?this._ch.stopReceiveTimeout():this._ch.startReceiveTimeout())},t.prototype.close=function(){return i(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return this._log.isDebugEnabled()&&this._log.debug("closing"),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(),[4,this._ch.close()];case 1:return e.sent(),this._log.isDebugEnabled()&&this._log.debug("closed"),[2]}})})},t.prototype.toString=function(){return"Connection [".concat(this.id,"][").concat(this.databaseId||"","]")},t.prototype._handleProtocolError=function(e){this._protocol.resetFailure(),this._updateCurrentObserver();var t=(0,l.newError)(e,d);return this._handleFatalError(t),t},t}(c.default);t.default=v},9857:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n){var r=e.call(this,n)||this;return n&&(r._originalErrorHandler=t._errorHandler,t._errorHandler=r._errorHandler),r._delegate=t,r}return o(t,e),t.prototype.beginTransaction=function(e){return this._delegate.beginTransaction(e)},t.prototype.run=function(e,t,n){return this._delegate.run(e,t,n)},t.prototype.commitTransaction=function(e){return this._delegate.commitTransaction(e)},t.prototype.rollbackTransaction=function(e){return this._delegate.rollbackTransaction(e)},t.prototype.getProtocolVersion=function(){return this._delegate.getProtocolVersion()},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){return this._delegate.databaseId},set:function(e){this._delegate.databaseId=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){return this._delegate.server},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authToken",{get:function(){return this._delegate.authToken},set:function(e){this._delegate.authToken=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return this._delegate.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"address",{get:function(){return this._delegate.address},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._delegate.version},set:function(e){this._delegate.version=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creationTimestamp",{get:function(){return this._delegate.creationTimestamp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"idleTimestamp",{get:function(){return this._delegate.idleTimestamp},set:function(e){this._delegate.idleTimestamp=e},enumerable:!1,configurable:!0}),t.prototype.isOpen=function(){return this._delegate.isOpen()},t.prototype.protocol=function(){return this._delegate.protocol()},t.prototype.connect=function(e,t,n,r){return this._delegate.connect(e,t,n,r)},t.prototype.write=function(e,t,n){return this._delegate.write(e,t,n)},t.prototype.resetAndFlush=function(){return this._delegate.resetAndFlush()},t.prototype.hasOngoingObservableRequests=function(){return this._delegate.hasOngoingObservableRequests()},t.prototype.close=function(){return this._delegate.close()},t.prototype.release=function(){return this._originalErrorHandler&&(this._delegate._errorHandler=this._originalErrorHandler),this._delegate.release()},t}(i(n(6385)).default);t.default=a},2363:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(9305),o=r.error.SERVICE_UNAVAILABLE,i=r.error.SESSION_EXPIRED,a=function(){function e(e,t,n,r){this._errorCode=e,this._handleUnavailability=t||s,this._handleWriteFailure=n||s,this._handleSecurityError=r||s}return e.create=function(t){return new e(t.errorCode,t.handleUnavailability,t.handleWriteFailure,t.handleSecurityError)},e.prototype.errorCode=function(){return this._errorCode},e.prototype.handleAndTransformError=function(e,t,n){return function(e){return null!=e&&null!=e.code&&e.code.startsWith("Neo.ClientError.Security.")}(e)?this._handleSecurityError(e,t,n):function(e){return!!e&&(e.code===i||e.code===o||"Neo.TransientError.General.DatabaseUnavailable"===e.code)}(e)?this._handleUnavailability(e,t,n):function(e){return!!e&&("Neo.ClientError.Cluster.NotALeader"===e.code||"Neo.ClientError.General.ForbiddenOnReadOnlyDatabase"===e.code)}(e)?this._handleWriteFailure(e,t,n):e},e}();function s(e){return e}t.default=a},6385:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n(7666);var i=function(e){function t(t){var n=e.call(this)||this;return n._errorHandler=t,n}return o(t,e),Object.defineProperty(t.prototype,"id",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authToken",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creationTimestamp",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"idleTimestamp",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),t.prototype.protocol=function(){throw new Error("not implemented")},Object.defineProperty(t.prototype,"address",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),t.prototype.connect=function(e,t,n,r){throw new Error("not implemented")},t.prototype.write=function(e,t,n){throw new Error("not implemented")},t.prototype.close=function(){throw new Error("not implemented")},t.prototype.handleAndTransformError=function(e,t){return this._errorHandler?this._errorHandler.handleAndTransformError(e,t,this):e},t}(n(9305).Connection);t.default=i},7721:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createChannelConnection=t.ConnectionErrorHandler=t.DelegateConnection=t.ChannelConnection=t.Connection=void 0;var s=a(n(6385));t.Connection=s.default;var u=i(n(8031));t.ChannelConnection=u.default,Object.defineProperty(t,"createChannelConnection",{enumerable:!0,get:function(){return u.createChannelConnection}});var l=a(n(9857));t.DelegateConnection=l.default;var c=a(n(2363));t.ConnectionErrorHandler=c.default,t.default=s.default},6672:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.packstream=t.channel=t.buf=t.bolt=t.loadBalancing=void 0,t.loadBalancing=i(n(4455)),t.bolt=i(n(7666)),t.buf=i(n(7174)),t.channel=i(n(7452)),t.packstream=i(n(7168)),a(n(9689),t)},6492:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reuseOngoingRequest=t.identity=void 0;var r=n(9305);t.identity=function(e){return e},t.reuseOngoingRequest=function(e,t){void 0===t&&(t=null);var n=new Map;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=r.json.stringify(o);if(n.has(a))return n.get(a);var s=e.apply(t,o);return n.set(a,s),s.finally(function(){n.delete(a)})}}},6781:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.object=t.functional=void 0,t.functional=i(n(6492)),t.object=i(n(6702))},6702:function(e,t){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.equals=void 0,t.equals=function(e,t){var r,o;if(e===t)return!0;if(null===e||null===t)return!1;if("object"==typeof e&&"object"==typeof t){var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;try{for(var s=n(i),u=s.next();!u.done;u=s.next()){var l=u.value;if(e[l]!==t[l])return!1}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return!0}return!1}},4455:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LeastConnectedLoadBalancingStrategy=t.LoadBalancingStrategy=void 0;var o=r(n(4311));t.LoadBalancingStrategy=o.default;var i=r(n(2533));t.LeastConnectedLoadBalancingStrategy=i.default,t.default=i.default},2533:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(715)),s=function(e){function t(t){var n=e.call(this)||this;return n._readersIndex=new a.default,n._writersIndex=new a.default,n._connectionPool=t,n}return o(t,e),t.prototype.selectReader=function(e){return this._select(e,this._readersIndex)},t.prototype.selectWriter=function(e){return this._select(e,this._writersIndex)},t.prototype._select=function(e,t){var n=e.length;if(0===n)return null;var r=t.next(n),o=r,i=null,a=Number.MAX_SAFE_INTEGER;do{var s=e[o],u=this._connectionPool.activeResourceCount(s);u<a&&(i=s,a=u),o===n-1?o=0:o++}while(o!==r);return i},t}(i(n(4311)).default);t.default=s},4311:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.selectReader=function(e){throw new Error("Abstract function")},e.prototype.selectWriter=function(e){throw new Error("Abstract function")},e}();t.default=n},715:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._offset=e||0}return e.prototype.next=function(e){if(0===e)return-1;var t=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),t%e},e}();t.default=n},7168:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.structure=t.v2=t.v1=void 0;var a=i(n(5361));t.v1=a;var s=i(n(2072));t.v2=s;var u=i(n(7665));t.structure=u,t.default=s},5361:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Unpacker=t.Packer=void 0;var r=n(7452),o=n(6781),i=n(7665),a=n(9305),s=a.error.PROTOCOL_ERROR,u=function(){function e(e){this._ch=e,this._byteArraysSupported=!0}return e.prototype.packable=function(e,t){var n,r=this;void 0===t&&(t=o.functional.identity);try{e=t(e)}catch(e){return function(){throw e}}if(null===e)return function(){return r._ch.writeUInt8(192)};if(!0===e)return function(){return r._ch.writeUInt8(195)};if(!1===e)return function(){return r._ch.writeUInt8(194)};if("number"==typeof e)return function(){return r.packFloat(e)};if("string"==typeof e)return function(){return r.packString(e)};if("bigint"==typeof e)return function(){return r.packInteger((0,a.int)(e))};if((0,a.isInt)(e))return function(){return r.packInteger(e)};if(e instanceof Int8Array)return function(){return r.packBytes(e)};if(e instanceof Array)return function(){r.packListHeader(e.length);for(var n=0;n<e.length;n++)r.packable(void 0===e[n]?null:e[n],t)()};if(null!=(n=e)&&"function"==typeof n[Symbol.iterator])return this.packableIterable(e,t);if(e instanceof i.Structure){for(var s=[],u=0;u<e.fields.length;u++)s[u]=this.packable(e.fields[u],t);return function(){return r.packStruct(e.signature,s)}}return"object"==typeof e?function(){for(var n=Object.keys(e),o=0,i=0;i<n.length;i++)void 0!==e[n[i]]&&o++;for(r.packMapHeader(o),i=0;i<n.length;i++){var a=n[i];void 0!==e[a]&&(r.packString(a),r.packable(e[a],t)())}}:this._nonPackableValue("Unable to pack the given value: ".concat(e))},e.prototype.packableIterable=function(e,t){try{var n=Array.from(e);return this.packable(n,t)}catch(t){throw(0,a.newError)("Cannot pack given iterable, ".concat(t.message,": ").concat(e))}},e.prototype.packStruct=function(e,t){t=t||[],this.packStructHeader(t.length,e);for(var n=0;n<t.length;n++)t[n]()},e.prototype.packInteger=function(e){var t=e.high,n=e.low;e.greaterThanOrEqual(-16)&&e.lessThan(128)?this._ch.writeInt8(n):e.greaterThanOrEqual(-128)&&e.lessThan(-16)?(this._ch.writeUInt8(200),this._ch.writeInt8(n)):e.greaterThanOrEqual(-32768)&&e.lessThan(32768)?(this._ch.writeUInt8(201),this._ch.writeInt16(n)):e.greaterThanOrEqual(-2147483648)&&e.lessThan(2147483648)?(this._ch.writeUInt8(202),this._ch.writeInt32(n)):(this._ch.writeUInt8(203),this._ch.writeInt32(t),this._ch.writeInt32(n))},e.prototype.packFloat=function(e){this._ch.writeUInt8(193),this._ch.writeFloat64(e)},e.prototype.packString=function(e){var t=r.utf8.encode(e),n=t.length;if(n<16)this._ch.writeUInt8(128|n),this._ch.writeBytes(t);else if(n<256)this._ch.writeUInt8(208),this._ch.writeUInt8(n),this._ch.writeBytes(t);else if(n<65536)this._ch.writeUInt8(209),this._ch.writeUInt8(n/256|0),this._ch.writeUInt8(n%256),this._ch.writeBytes(t);else{if(!(n<4294967296))throw(0,a.newError)("UTF-8 strings of size "+n+" are not supported");this._ch.writeUInt8(210),this._ch.writeUInt8((n/16777216|0)%256),this._ch.writeUInt8((n/65536|0)%256),this._ch.writeUInt8((n/256|0)%256),this._ch.writeUInt8(n%256),this._ch.writeBytes(t)}},e.prototype.packListHeader=function(e){if(e<16)this._ch.writeUInt8(144|e);else if(e<256)this._ch.writeUInt8(212),this._ch.writeUInt8(e);else if(e<65536)this._ch.writeUInt8(213),this._ch.writeUInt8((e/256|0)%256),this._ch.writeUInt8(e%256);else{if(!(e<4294967296))throw(0,a.newError)("Lists of size "+e+" are not supported");this._ch.writeUInt8(214),this._ch.writeUInt8((e/16777216|0)%256),this._ch.writeUInt8((e/65536|0)%256),this._ch.writeUInt8((e/256|0)%256),this._ch.writeUInt8(e%256)}},e.prototype.packBytes=function(e){if(!this._byteArraysSupported)throw(0,a.newError)("Byte arrays are not supported by the database this driver is connected to");this.packBytesHeader(e.length);for(var t=0;t<e.length;t++)this._ch.writeInt8(e[t])},e.prototype.packBytesHeader=function(e){if(e<256)this._ch.writeUInt8(204),this._ch.writeUInt8(e);else if(e<65536)this._ch.writeUInt8(205),this._ch.writeUInt8((e/256|0)%256),this._ch.writeUInt8(e%256);else{if(!(e<4294967296))throw(0,a.newError)("Byte arrays of size "+e+" are not supported");this._ch.writeUInt8(206),this._ch.writeUInt8((e/16777216|0)%256),this._ch.writeUInt8((e/65536|0)%256),this._ch.writeUInt8((e/256|0)%256),this._ch.writeUInt8(e%256)}},e.prototype.packMapHeader=function(e){if(e<16)this._ch.writeUInt8(160|e);else if(e<256)this._ch.writeUInt8(216),this._ch.writeUInt8(e);else if(e<65536)this._ch.writeUInt8(217),this._ch.writeUInt8(e/256|0),this._ch.writeUInt8(e%256);else{if(!(e<4294967296))throw(0,a.newError)("Maps of size "+e+" are not supported");this._ch.writeUInt8(218),this._ch.writeUInt8((e/16777216|0)%256),this._ch.writeUInt8((e/65536|0)%256),this._ch.writeUInt8((e/256|0)%256),this._ch.writeUInt8(e%256)}},e.prototype.packStructHeader=function(e,t){if(e<16)this._ch.writeUInt8(176|e),this._ch.writeUInt8(t);else if(e<256)this._ch.writeUInt8(220),this._ch.writeUInt8(e),this._ch.writeUInt8(t);else{if(!(e<65536))throw(0,a.newError)("Structures of size "+e+" are not supported");this._ch.writeUInt8(221),this._ch.writeUInt8(e/256|0),this._ch.writeUInt8(e%256)}},e.prototype.disableByteArrays=function(){this._byteArraysSupported=!1},e.prototype._nonPackableValue=function(e){return function(){throw(0,a.newError)(e,s)}},e}();t.Packer=u;var l=function(){function e(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this._disableLosslessIntegers=e,this._useBigInt=t}return e.prototype.unpack=function(e,t){void 0===t&&(t=o.functional.identity);var n=e.readUInt8(),r=240&n,i=15&n;if(192===n)return null;var s=this._unpackBoolean(n);if(null!==s)return s;var u=this._unpackNumberOrInteger(n,e);if(null!==u){if((0,a.isInt)(u)){if(this._useBigInt)return u.toBigInt();if(this._disableLosslessIntegers)return u.toNumberOrInfinity()}return u}var l=this._unpackString(n,r,i,e);if(null!==l)return l;var c=this._unpackList(n,r,i,e,t);if(null!==c)return c;var f=this._unpackByteArray(n,e);if(null!==f)return f;var d=this._unpackMap(n,r,i,e,t);if(null!==d)return d;var h=this._unpackStruct(n,r,i,e,t);if(null!==h)return h;throw(0,a.newError)("Unknown packed value with marker "+n.toString(16))},e.prototype.unpackInteger=function(e){var t=e.readUInt8(),n=this._unpackInteger(t,e);if(null==n)throw(0,a.newError)("Unable to unpack integer value with marker "+t.toString(16));return n},e.prototype._unpackBoolean=function(e){return 195===e||194!==e&&null},e.prototype._unpackNumberOrInteger=function(e,t){return 193===e?t.readFloat64():this._unpackInteger(e,t)},e.prototype._unpackInteger=function(e,t){if(e>=0&&e<128)return(0,a.int)(e);if(e>=240&&e<256)return(0,a.int)(e-256);if(200===e)return(0,a.int)(t.readInt8());if(201===e)return(0,a.int)(t.readInt16());if(202===e){var n=t.readInt32();return(0,a.int)(n)}if(203===e){var r=t.readInt32(),o=t.readInt32();return new a.Integer(o,r)}return null},e.prototype._unpackString=function(e,t,n,o){return 128===t?r.utf8.decode(o,n):208===e?r.utf8.decode(o,o.readUInt8()):209===e?r.utf8.decode(o,o.readUInt16()):210===e?r.utf8.decode(o,o.readUInt32()):null},e.prototype._unpackList=function(e,t,n,r,o){return 144===t?this._unpackListWithSize(n,r,o):212===e?this._unpackListWithSize(r.readUInt8(),r,o):213===e?this._unpackListWithSize(r.readUInt16(),r,o):214===e?this._unpackListWithSize(r.readUInt32(),r,o):null},e.prototype._unpackListWithSize=function(e,t,n){for(var r=[],o=0;o<e;o++)r.push(this.unpack(t,n));return r},e.prototype._unpackByteArray=function(e,t){return 204===e?this._unpackByteArrayWithSize(t.readUInt8(),t):205===e?this._unpackByteArrayWithSize(t.readUInt16(),t):206===e?this._unpackByteArrayWithSize(t.readUInt32(),t):null},e.prototype._unpackByteArrayWithSize=function(e,t){for(var n=new Int8Array(e),r=0;r<e;r++)n[r]=t.readInt8();return n},e.prototype._unpackMap=function(e,t,n,r,o){return 160===t?this._unpackMapWithSize(n,r,o):216===e?this._unpackMapWithSize(r.readUInt8(),r,o):217===e?this._unpackMapWithSize(r.readUInt16(),r,o):218===e?this._unpackMapWithSize(r.readUInt32(),r,o):null},e.prototype._unpackMapWithSize=function(e,t,n){for(var r={},o=0;o<e;o++)r[this.unpack(t,n)]=this.unpack(t,n);return r},e.prototype._unpackStruct=function(e,t,n,r,o){return 176===t?this._unpackStructWithSize(n,r,o):220===e?this._unpackStructWithSize(r.readUInt8(),r,o):221===e?this._unpackStructWithSize(r.readUInt16(),r,o):null},e.prototype._unpackStructWithSize=function(e,t,n){for(var r=t.readUInt8(),o=new i.Structure(r,[]),a=0;a<e;a++)o.fields.push(this.unpack(t,n));return n(o)},e}();t.Unpacker=l},2072:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Unpacker=t.Packer=void 0;var u=s(n(5361)),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.disableByteArrays=function(){throw new Error("Bolt V2 should always support byte arrays")},t}(u.Packer);t.Packer=l;var c=function(e){function t(t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),e.call(this,t,n)||this}return o(t,e),t}(u.Unpacker);t.Unpacker=c},7665:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.verifyStructSize=t.Structure=void 0;var r=n(9305),o=r.error.PROTOCOL_ERROR,i=function(){function e(e,t){this.signature=e,this.fields=t}return Object.defineProperty(e.prototype,"size",{get:function(){return this.fields.length},enumerable:!1,configurable:!0}),e.prototype.toString=function(){for(var e="",t=0;t<this.fields.length;t++)t>0&&(e+=", "),e+=this.fields[t];return"Structure("+this.signature+", ["+e+"])"},e}();t.Structure=i,t.verifyStructSize=function(e,t,n){if(t!==n)throw(0,r.newError)("Wrong struct size for ".concat(e,", expected ").concat(t," but was ").concat(n),o)},t.default=i},206:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoutingTable=t.Rediscovery=void 0;var o=r(n(4151));t.Rediscovery=o.default;var i=r(n(9018));t.RoutingTable=i.default,t.default=o.default},4151:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(9018)),i=(n(9305),function(){function e(e){this._routingContext=e}return e.prototype.lookupRoutingTableOnRouter=function(e,t,n,r){var i=this;return e._acquireConnection(function(a){return i._requestRawRoutingTable(a,e,t,n,r).then(function(e){return e.isNull?null:o.default.fromRawRoutingTable(t,n,e)})})},e.prototype._requestRawRoutingTable=function(e,t,n,r,o){var i=this;return new Promise(function(r,a){e.protocol().requestRoutingInformation({routingContext:i._routingContext,databaseName:n,impersonatedUser:o,sessionContext:{bookmarks:t._lastBookmarks,mode:t._mode,database:t._database,afterComplete:t._onComplete},onCompleted:r,onError:a})})},e}());t.default=i},9018:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.createValidRoutingTable=void 0;var i=n(9305),a=i.internal.constants,s=a.ACCESS_MODE_WRITE,u=a.ACCESS_MODE_READ,l=i.internal.serverAddress.ServerAddress,c=i.error.PROTOCOL_ERROR,f=function(){function e(e){var t=void 0===e?{}:e,n=t.database,r=t.routers,o=t.readers,a=t.writers,s=t.expirationTime,u=t.ttl;this.database=n||null,this.databaseName=n||"default database",this.routers=r||[],this.readers=o||[],this.writers=a||[],this.expirationTime=s||(0,i.int)(0),this.ttl=u}return e.fromRawRoutingTable=function(e,t,n){return h(e,t,n)},e.prototype.forget=function(e){this.readers=d(this.readers,e),this.writers=d(this.writers,e)},e.prototype.forgetRouter=function(e){this.routers=d(this.routers,e)},e.prototype.forgetWriter=function(e){this.writers=d(this.writers,e)},e.prototype.isStaleFor=function(e){return this.expirationTime.lessThan(Date.now())||this.routers.length<1||e===u&&0===this.readers.length||e===s&&0===this.writers.length},e.prototype.isExpiredFor=function(e){return this.expirationTime.add(e).lessThan(Date.now())},e.prototype.allServers=function(){return o(o(o([],r(this.routers),!1),r(this.readers),!1),r(this.writers),!1)},e.prototype.toString=function(){return"RoutingTable["+"database=".concat(this.databaseName,", ")+"expirationTime=".concat(this.expirationTime,", ")+"currentTime=".concat(Date.now(),", ")+"routers=[".concat(this.routers,"], ")+"readers=[".concat(this.readers,"], ")+"writers=[".concat(this.writers,"]]")},e}();function d(e,t){return e.filter(function(e){return e.asKey()!==t.asKey()})}function h(e,t,n){var r=n.ttl,o=function(e,t){try{var n=(0,i.int)(Date.now()),r=(0,i.int)(e.ttl).multiply(1e3).add(n);return r.lessThan(n)?i.Integer.MAX_VALUE:r}catch(n){throw(0,i.newError)("Unable to parse TTL entry from router ".concat(t," from raw routing table:\n").concat(i.json.stringify(e),"\nError message: ").concat(n.message),c)}}(n,t),a=function(e,t){try{var n=[],r=[],o=[];return e.servers.forEach(function(e){var t=e.role,i=e.addresses;"ROUTE"===t?n=v(i).map(function(e){return l.fromUrl(e)}):"WRITE"===t?o=v(i).map(function(e){return l.fromUrl(e)}):"READ"===t&&(r=v(i).map(function(e){return l.fromUrl(e)}))}),{routers:n,readers:r,writers:o}}catch(n){throw(0,i.newError)("Unable to parse servers entry from router ".concat(t," from addresses:\n").concat(i.json.stringify(e.servers),"\nError message: ").concat(n.message),c)}}(n,t),s=a.routers,u=a.readers,d=a.writers;return p(s,"routers",t),p(u,"readers",t),new f({database:e||n.db,routers:s,readers:u,writers:d,expirationTime:o,ttl:r})}function p(e,t,n){if(0===e.length)throw(0,i.newError)("Received no "+t+" from router "+n,c)}function v(e){if(!Array.isArray(e))throw new TypeError("Array expected but got: "+e);return Array.from(e)}t.default=f,t.createValidRoutingTable=h},2069:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.staticAuthTokenManager=t.authTokenManagers=t.AuthTokenAndExpiration=void 0;var a=i(n(1967)),s=n(6995),u=function(){function e(){}return e.prototype.getToken=function(){throw new Error("Not Implemented")},e.prototype.handleSecurityException=function(e,t){throw new Error("Not implemented")},e}();t.default=u,t.AuthTokenAndExpiration=function(){this.token=a.default.none(),this.expiration=void 0};var l=new(function(){function e(){}return e.prototype.bearer=function(e){var t=e.tokenProvider;if("function"!=typeof t)throw new TypeError("tokenProvider should be function, but got: ".concat(typeof t));return new f(t,["Neo.ClientError.Security.Unauthorized","Neo.ClientError.Security.TokenExpired"])},e.prototype.basic=function(e){var t=this,n=e.tokenProvider;if("function"!=typeof n)throw new TypeError("tokenProvider should be function, but got: ".concat(typeof n));return new f(function(){return r(t,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return e={},[4,n()];case 1:return[2,(e.token=t.sent(),e)]}})})},["Neo.ClientError.Security.Unauthorized"])},e}());t.authTokenManagers=l,Object.freeze(l),t.staticAuthTokenManager=function(e){var t=e.authToken;return new d(t)};var c=function(){function e(e){void 0===e&&(e=[]),this._subscribers=e}return e.prototype.subscribe=function(e){this._subscribers.push(e)},e.prototype.onCompleted=function(e){this._subscribers.forEach(function(t){return t.onCompleted(e)})},e.prototype.onError=function(e){this._subscribers.forEach(function(t){return t.onError(e)})},e}(),f=function(){function e(e,t,n,r){this._tokenProvider=e,this._handledSecurityCodes=t,this._currentAuthData=n,this._refreshObservable=r}return e.prototype.getToken=function(){var e;return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return void 0===this._currentAuthData||void 0!==this._currentAuthData.expiration&&this._currentAuthData.expiration<new Date?[4,this._refreshAuthToken()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2,null===(e=this._currentAuthData)||void 0===e?void 0:e.token]}})})},e.prototype.handleSecurityException=function(e,t){var n;return!!this._handledSecurityCodes.includes(t)&&(s.util.equals(e,null===(n=this._currentAuthData)||void 0===n?void 0:n.token)&&this._scheduleRefreshAuthToken(),!0)},e.prototype._scheduleRefreshAuthToken=function(e){var t=this;void 0===this._refreshObservable&&(this._currentAuthData=void 0,this._refreshObservable=new c,Promise.resolve(this._tokenProvider()).then(function(e){var n;t._currentAuthData=e,null===(n=t._refreshObservable)||void 0===n||n.onCompleted(e)}).catch(function(e){var n;null===(n=t._refreshObservable)||void 0===n||n.onError(e)}).finally(function(){t._refreshObservable=void 0})),void 0!==e&&this._refreshObservable.subscribe(e)},e.prototype._refreshAuthToken=function(){return r(this,void 0,void 0,function(){var e=this;return o(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t,n){e._scheduleRefreshAuthToken({onCompleted:t,onError:n})})];case 1:return[2,t.sent()]}})})},e}(),d=function(){function e(e){this._authToken=e}return e.prototype.getToken=function(){return this._authToken},e.prototype.handleSecurityException=function(e,t){return!1},e}()},1967:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n={basic:function(e,t,n){return null!=n?{scheme:"basic",principal:e,credentials:t,realm:n}:{scheme:"basic",principal:e,credentials:t}},kerberos:function(e){return{scheme:"kerberos",principal:"",credentials:e}},bearer:function(e){return{scheme:"bearer",credentials:e}},none:function(){return{scheme:"none"}},custom:function(e,t,n,o,i){var a={scheme:o,principal:e};return r(t)&&(a.credentials=t),r(n)&&(a.realm=n),r(i)&&(a.parameters=i),a}};function r(e){return!(null==e||""===e||Object.getPrototypeOf(e)===Object.prototype&&0===Object.keys(e).length)}t.default=n},6755:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.bookmarkManager=void 0;var s=function(){function e(){throw new Error("Not implemented")}return e.prototype.updateBookmarks=function(e,t){return n(this,void 0,void 0,function(){return r(this,function(e){throw new Error("Not implemented")})})},e.prototype.getBookmarks=function(){return n(this,void 0,void 0,function(){return r(this,function(e){throw new Error("Not implemented")})})},e}();t.default=s,t.bookmarkManager=function(e){void 0===e&&(e={});var t=new Set(e.initialBookmarks);return new u(t,e.bookmarksSupplier,e.bookmarksConsumer)};var u=function(){function e(e,t,n){this._bookmarks=e,this._bookmarksSupplier=t,this._bookmarksConsumer=n}return e.prototype.updateBookmarks=function(e,t){return n(this,void 0,void 0,function(){var n,s,u,l,c,f,d,h,p,v;return r(this,function(r){switch(r.label){case 0:n=this._bookmarks;try{for(s=o(e),u=s.next();!u.done;u=s.next())f=u.value,n.delete(f)}catch(e){d={error:e}}finally{try{u&&!u.done&&(h=s.return)&&h.call(s)}finally{if(d)throw d.error}}try{for(l=o(t),c=l.next();!c.done;c=l.next())f=c.value,n.add(f)}catch(e){p={error:e}}finally{try{c&&!c.done&&(v=l.return)&&v.call(l)}finally{if(p)throw p.error}}return"function"!=typeof this._bookmarksConsumer?[3,2]:[4,this._bookmarksConsumer(a([],i(n),!1))];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.getBookmarks=function(){var e;return n(this,void 0,void 0,function(){var t,n,s,u,l,c,f;return r(this,function(r){switch(r.label){case 0:return t=new Set(this._bookmarks),"function"!=typeof this._bookmarksSupplier?[3,2]:[4,this._bookmarksSupplier()];case 1:n=null!==(e=r.sent())&&void 0!==e?e:[];try{for(s=o(n),u=s.next();!u.done;u=s.next())l=u.value,t.add(l)}catch(e){c={error:e}}finally{try{u&&!u.done&&(f=s.return)&&f.call(s)}finally{if(c)throw c.error}}r.label=2;case 2:return[2,a([],i(t),!1)]}})})},e}()},8264:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveCertificateProvider=t.clientCertificateProviders=t.RotatingClientCertificateProvider=t.ClientCertificateProvider=void 0;var l=u(n(4027));t.default=function(){this.certfile="",this.keyfile="",this.password=void 0};var c=function(){function e(){}return e.prototype.hasUpdate=function(){throw new Error("Not Implemented")},e.prototype.getClientCertificate=function(){throw new Error("Not Implemented")},e}();t.ClientCertificateProvider=c;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.updateCertificate=function(e){throw new Error("Not implemented")},t}(c);t.RotatingClientCertificateProvider=f;var d=new(function(){function e(){}return e.prototype.rotating=function(e){var t=e.initialCertificate;if(null==t||!h(t))throw new TypeError("initialCertificate should be ClientCertificate, but got ".concat(l.stringify(t)));var n=i({},t);return new y(n)},e}());function h(e){return null!=e&&"object"==typeof e&&"certfile"in e&&(p(t=e.certfile)||v(t,p))&&"keyfile"in e&&function(e){function t(e){return"string"==typeof e||null!=e&&"object"==typeof e&&"path"in e&&"string"==typeof e.path&&g("password",e)}return t(e)||v(e,t)}(e.keyfile)&&g("password",e);var t}function p(e){return"string"==typeof e}function v(e,t,n){return void 0===n&&(n=!1),Array.isArray(e)&&(n||e.length>0)&&e.filter(t).length===e.length}function g(e,t){return!(e in t)||null==t[e]||"string"==typeof t[e]}t.clientCertificateProviders=d,Object.freeze(d),t.resolveCertificateProvider=function(e){if(null!=e){if("object"==typeof e&&"hasUpdate"in e&&"getClientCertificate"in e&&"function"==typeof e.getClientCertificate&&"function"==typeof e.hasUpdate)return e;if(h(e)){var t=i({},e);return{getClientCertificate:function(){return t},hasUpdate:function(){return!1}}}throw new TypeError("clientCertificate should be configured with ClientCertificate or ClientCertificateProvider, but got ".concat(l.stringify(e)))}};var y=function(){function e(e,t){void 0===t&&(t=!1),this._certificate=e,this._updated=t}return e.prototype.hasUpdate=function(){try{return this._updated}finally{this._updated=!1}},e.prototype.getClientCertificate=function(){return this._certificate},e.prototype.updateCertificate=function(e){if(!h(e))throw new TypeError("certificate should be ClientCertificate, but got ".concat(l.stringify(e)));this._certificate=i({},e),this._updated=!0},e}()},2007:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Releasable=void 0;var n=function(){function e(){}return e.prototype.release=function(){throw new Error("Not implemented")},e}();t.Releasable=n;var r=function(){function e(){}return e.prototype.acquireConnection=function(e){throw Error("Not implemented")},e.prototype.supportsMultiDb=function(){throw Error("Not implemented")},e.prototype.supportsTransactionConfig=function(){throw Error("Not implemented")},e.prototype.supportsUserImpersonation=function(){throw Error("Not implemented")},e.prototype.supportsSessionAuth=function(){throw Error("Not implemented")},e.prototype.verifyConnectivityAndGetServerInfo=function(e){throw Error("Not implemented")},e.prototype.verifyAuthentication=function(e){throw Error("Not implemented")},e.prototype.getNegotiatedProtocolVersion=function(){throw Error("Not Implemented")},e.prototype.close=function(){throw Error("Not implemented")},e}();t.default=r},1409:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.beginTransaction=function(e){throw new Error("Not implemented")},e.prototype.run=function(e,t,n){throw new Error("Not implemented")},e.prototype.commitTransaction=function(e){throw new Error("Not implemented")},e.prototype.rollbackTransaction=function(e){throw new Error("Not implemented")},e.prototype.resetAndFlush=function(){throw new Error("Not implemented")},e.prototype.isOpen=function(){throw new Error("Not implemented")},e.prototype.getProtocolVersion=function(){throw new Error("Not implemented")},e.prototype.hasOngoingObservableRequests=function(){throw new Error("Not implemented")},e}();t.default=n},7264:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.QueryConfig=t.SessionConfig=t.routing=t.WRITE=t.READ=t.Driver=void 0;var a=n(9730),s=i(n(8341)),u=n(326),l=n(4883),c=i(n(5481)),f=n(6587),d=n(6755),h=i(n(1573)),p=i(n(7041)),v=n(9691),g=u.ACCESS_MODE_READ;t.READ=g;var y=u.ACCESS_MODE_WRITE;t.WRITE=y;var m=0;t.SessionConfig=function(){this.defaultAccessMode=y,this.bookmarks=[],this.database="",this.impersonatedUser=void 0,this.auth=void 0,this.fetchSize=void 0,this.bookmarkManager=void 0,this.notificationFilter=void 0};var b={WRITE:"WRITE",READ:"READ"};t.routing=b,Object.freeze(b),t.QueryConfig=function(){this.routing=b.WRITE,this.resultTransformer=void 0,this.database="",this.impersonatedUser=void 0,this.bookmarkManager=void 0,this.transactionConfig=void 0,this.auth=void 0,this.signal=void 0};var _=function(){function e(e,t,n,r,o){void 0===t&&(t={}),void 0===r&&(r=function(e){return new c.default(e)}),void 0===o&&(o=function(e){return new p.default(e)}),function(e){e.maxConnectionLifetime=w(e.maxConnectionLifetime,36e5),e.maxConnectionPoolSize=w(e.maxConnectionPoolSize,u.DEFAULT_POOL_MAX_SIZE),e.connectionAcquisitionTimeout=w(e.connectionAcquisitionTimeout,u.DEFAULT_POOL_ACQUISITION_TIMEOUT),e.fetchSize=x(e.fetchSize,1e3),e.connectionTimeout=function(e){var t=parseInt(e.connectionTimeout,10);return 0===t||!isNaN(t)&&t<0?null:isNaN(t)?u.DEFAULT_CONNECTION_TIMEOUT_MILLIS:t}(e),e.connectionLivenessCheckTimeout=function(e){if(null!=e){var t=parseInt(e,10);if(t<0||Number.isNaN(t))throw new Error("The connectionLivenessCheckTimeout can only be a positive value or 0 for always. However connectionLivenessCheckTimeout = ".concat(t));return t}}(e.connectionLivenessCheckTimeout)}(t);var i=l.Logger.create(t);!function(e,t){var n,r,o=e.resolver;if(null!=o&&"function"!=typeof o)throw new TypeError("Configured resolver should be a function. Got: ".concat(typeof o));if(e.connectionAcquisitionTimeout<e.connectionTimeout&&t.warn('Configuration for "connectionAcquisitionTimeout" should be greater than or equal to "connectionTimeout". Otherwise, the connection acquisition timeout will take precedence for over the connection timeout in scenarios where a new connection is created while it is acquired'),null!=(null===(n=e.notificationFilter)||void 0===n?void 0:n.disabledCategories)&&null!=(null===(r=e.notificationFilter)||void 0===r?void 0:r.disabledClassifications))throw new Error('The notificationFilter can\'t have both "disabledCategories" and  "disabledClassifications" configured at the same time.')}(t,i),this._id=m++,this._meta=e,this._config=t,this._log=i,this._createConnectionProvider=n,this._createSession=r,this._defaultExecuteQueryBookmarkManager=(0,d.bookmarkManager)(),this._queryExecutor=o(this.session.bind(this)),this._connectionProvider=null,this._afterConstruction()}return Object.defineProperty(e.prototype,"executeQueryBookmarkManager",{get:function(){return this._defaultExecuteQueryBookmarkManager},enumerable:!1,configurable:!0}),e.prototype.executeQuery=function(e,t,n){var i,a,s;return void 0===n&&(n={}),r(this,void 0,void 0,function(){var r,u,l;return o(this,function(o){switch(o.label){case 0:if(r=null===n.bookmarkManager?void 0:null!==(i=n.bookmarkManager)&&void 0!==i?i:this.executeQueryBookmarkManager,u=null!==(a=n.resultTransformer)&&void 0!==a?a:h.default.eagerResultTransformer(),(l=null!==(s=n.routing)&&void 0!==s?s:b.WRITE)!==b.READ&&l!==b.WRITE)throw(0,v.newError)('Illegal query routing config: "'.concat(l,'"'));return[4,this._queryExecutor.execute({resultTransformer:u,bookmarkManager:r,routing:l,database:n.database,impersonatedUser:n.impersonatedUser,transactionConfig:n.transactionConfig,auth:n.auth,signal:n.signal},e,t)];case 1:return[2,o.sent()]}})})},e.prototype.verifyConnectivity=function(e){var t=(void 0===e?{}:e).database,n=void 0===t?"":t;return this._getOrCreateConnectionProvider().verifyConnectivityAndGetServerInfo({database:n,accessMode:g})},e.prototype.verifyAuthentication=function(e){var t=void 0===e?{}:e,n=t.database,i=t.auth;return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,this._getOrCreateConnectionProvider().verifyAuthentication({database:null!=n?n:"system",auth:i,accessMode:g})];case 1:return[2,e.sent()]}})})},e.prototype.getServerInfo=function(e){var t=(void 0===e?{}:e).database,n=void 0===t?"":t;return this._getOrCreateConnectionProvider().verifyConnectivityAndGetServerInfo({database:n,accessMode:g})},e.prototype.supportsMultiDb=function(){return this._getOrCreateConnectionProvider().supportsMultiDb()},e.prototype.supportsTransactionConfig=function(){return this._getOrCreateConnectionProvider().supportsTransactionConfig()},e.prototype.supportsUserImpersonation=function(){return this._getOrCreateConnectionProvider().supportsUserImpersonation()},e.prototype.supportsSessionAuth=function(){return this._getOrCreateConnectionProvider().supportsSessionAuth()},e.prototype.getNegotiatedProtocolVersion=function(){return this._getOrCreateConnectionProvider().getNegotiatedProtocolVersion()},e.prototype.isEncrypted=function(){return this._isEncrypted()},e.prototype._supportsRouting=function(){return this._meta.routing},e.prototype._isEncrypted=function(){return this._config.encrypted===f.ENCRYPTION_ON||!0===this._config.encrypted},e.prototype._getTrust=function(){return this._config.trust},e.prototype.session=function(e){var t=void 0===e?{}:e,n=t.defaultAccessMode,r=void 0===n?y:n,o=t.bookmarks,i=t.database,a=void 0===i?"":i,s=t.impersonatedUser,u=t.fetchSize,l=t.bookmarkManager,c=t.notificationFilter,f=t.auth;return this._newSession({defaultAccessMode:r,bookmarkOrBookmarks:o,database:a,reactive:!1,impersonatedUser:s,fetchSize:x(u,this._config.fetchSize),bookmarkManager:l,notificationFilter:c,auth:f})},e.prototype.close=function(){return this._log.info("Driver ".concat(this._id," closing")),null!=this._connectionProvider?this._connectionProvider.close():Promise.resolve()},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype._afterConstruction=function(){this._log.info("".concat(this._meta.typename," driver ").concat(this._id," created for server address ").concat(this._meta.address.toString()))},e.prototype._newSession=function(e){var t=e.defaultAccessMode,n=e.bookmarkOrBookmarks,r=e.database,o=e.reactive,i=e.impersonatedUser,s=e.fetchSize,u=e.bookmarkManager,l=e.notificationFilter,f=e.auth,d=c.default._validateSessionMode(t),h=this._getOrCreateConnectionProvider(),p=null!=n?new a.Bookmarks(n):a.Bookmarks.empty();return this._createSession({mode:d,database:null!=r?r:"",connectionProvider:h,bookmarks:p,config:this._config,reactive:o,impersonatedUser:i,fetchSize:s,bookmarkManager:u,notificationFilter:l,auth:f,log:this._log})},e.prototype._getOrCreateConnectionProvider=function(){var e;return null==this._connectionProvider&&(this._connectionProvider=this._createConnectionProvider(this._id,this._config,this._log,(e=this._config,new s.default(e.resolver)))),this._connectionProvider},e}();function w(e,t){var n=parseInt(e,10);return n>0||0===n?n:n<0?Number.MAX_SAFE_INTEGER:t}function x(e,t){var n=parseInt(e,10);if(n>0||n===u.FETCH_ALL)return n;if(0===n||n<0)throw new Error("The fetch size can only be a positive value or ".concat(u.FETCH_ALL," for ALL. However fetchSize = ").concat(n));return t}t.Driver=_,t.default=_},9691:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PROTOCOL_ERROR=t.SESSION_EXPIRED=t.SERVICE_UNAVAILABLE=t.GQLError=t.Neo4jError=t.isRetriableError=t.newGQLError=t.newError=void 0;var u=s(n(4027)),l=n(1053),c={DATABASE_ERROR:"DATABASE_ERROR",CLIENT_ERROR:"CLIENT_ERROR",TRANSIENT_ERROR:"TRANSIENT_ERROR",UNKNOWN:"UNKNOWN"};Object.freeze(c);var f=Object.values(c),d="ServiceUnavailable";t.SERVICE_UNAVAILABLE=d;var h="SessionExpired";t.SESSION_EXPIRED=h,t.PROTOCOL_ERROR="ProtocolError";var p=function(e){function t(n,r,o,i,a){var s,u=this;return(u=e.call(this,n,null!=a?{cause:a}:void 0)||this).constructor=t,u.__proto__=t.prototype,u.cause=null!=a?a:void 0,u.gqlStatus=r,u.gqlStatusDescription=o,u.diagnosticRecord=i,u.classification=function(e){return void 0===e||void 0===e._classification?"UNKNOWN":f.includes(e._classification)?null==e?void 0:e._classification:"UNKNOWN"}(u.diagnosticRecord),u.rawClassification=null!==(s=null==i?void 0:i._classification)&&void 0!==s?s:void 0,u.name="GQLError",u}return o(t,e),Object.defineProperty(t.prototype,"diagnosticRecordAsJsonString",{get:function(){return u.stringify(this.diagnosticRecord,{useCustomToString:!0})},enumerable:!1,configurable:!0}),t}(Error);t.GQLError=p;var v=function(e){function t(n,r,o,i,a,s){var u=e.call(this,n,o,i,a,s)||this;return u.constructor=t,u.__proto__=t.prototype,u.code=r,u.name="Neo4jError",u.retriable=function(e){return e===d||e===h||function(e){return"Neo.ClientError.Security.AuthorizationExpired"===e}(e)||function(e){return!0===(null==e?void 0:e.includes("TransientError"))}(e)}(r),u}return o(t,e),t.isRetriable=function(e){return null!=e&&e instanceof t&&e.retriable},t}(p);t.Neo4jError=v,t.newError=function(e,t,n,r,o,i){return new v(e,null!=t?t:"N/A",null!=r?r:"50N42",null!=o?o:"error: general processing exception - unexpected error. "+e,null!=i?i:l.rawPolyfilledDiagnosticRecord,n)},t.newGQLError=function(e,t,n,r,o){return new p(e,null!=n?n:"50N42",null!=r?r:"error: general processing exception - unexpected error. "+e,null!=o?o:l.rawPolyfilledDiagnosticRecord,t)};var g=v.isRetriable;t.isRetriableError=g},1053:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rawPolyfilledDiagnosticRecord=void 0,t.rawPolyfilledDiagnosticRecord={OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"},Object.freeze(t.rawPolyfilledDiagnosticRecord)},1517:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isPathSegment=t.PathSegment=t.isPath=t.Path=t.isUnboundRelationship=t.UnboundRelationship=t.isRelationship=t.Relationship=t.isNode=t.Node=void 0;var r=n(4027),o={value:!0,enumerable:!1,configurable:!1,writable:!1},i="__isNode__",a="__isRelationship__",s="__isUnboundRelationship__",u="__isPath__",l="__isPathSegment__";function c(e,t){return null!=e&&!0===e[t]}var f=function(){function e(e,t,n,r){this.identity=e,this.labels=t,this.properties=n,this.elementId=g(r,function(){return e.toString()})}return e.prototype.toString=function(){for(var e="("+this.elementId,t=0;t<this.labels.length;t++)e+=":"+this.labels[t];var n=Object.keys(this.properties);if(n.length>0){for(e+=" {",t=0;t<n.length;t++)t>0&&(e+=","),e+=n[t]+":"+(0,r.stringify)(this.properties[n[t]]);e+="}"}return e+")"},e}();t.Node=f,Object.defineProperty(f.prototype,i,o),t.isNode=function(e){return c(e,i)};var d=function(){function e(e,t,n,r,o,i,a,s){this.identity=e,this.start=t,this.end=n,this.type=r,this.properties=o,this.elementId=g(i,function(){return e.toString()}),this.startNodeElementId=g(a,function(){return t.toString()}),this.endNodeElementId=g(s,function(){return n.toString()})}return e.prototype.toString=function(){var e="("+this.startNodeElementId+")-[:"+this.type,t=Object.keys(this.properties);if(t.length>0){e+=" {";for(var n=0;n<t.length;n++)n>0&&(e+=","),e+=t[n]+":"+(0,r.stringify)(this.properties[t[n]]);e+="}"}return e+"]->("+this.endNodeElementId+")"},e}();t.Relationship=d,Object.defineProperty(d.prototype,a,o),t.isRelationship=function(e){return c(e,a)};var h=function(){function e(e,t,n,r){this.identity=e,this.type=t,this.properties=n,this.elementId=g(r,function(){return e.toString()})}return e.prototype.bind=function(e,t){return new d(this.identity,e,t,this.type,this.properties,this.elementId)},e.prototype.bindTo=function(e,t){return new d(this.identity,e.identity,t.identity,this.type,this.properties,this.elementId,e.elementId,t.elementId)},e.prototype.toString=function(){var e="-[:"+this.type,t=Object.keys(this.properties);if(t.length>0){e+=" {";for(var n=0;n<t.length;n++)n>0&&(e+=","),e+=t[n]+":"+(0,r.stringify)(this.properties[t[n]]);e+="}"}return e+"]->"},e}();t.UnboundRelationship=h,Object.defineProperty(h.prototype,s,o),t.isUnboundRelationship=function(e){return c(e,s)};var p=function(e,t,n){this.start=e,this.relationship=t,this.end=n};t.PathSegment=p,Object.defineProperty(p.prototype,l,o),t.isPathSegment=function(e){return c(e,l)};var v=function(e,t,n){this.start=e,this.end=t,this.segments=n,this.length=n.length};function g(e,t){return null==e?t():e}t.Path=v,Object.defineProperty(v.prototype,u,o),t.isPath=function(e){return c(e,u)}},9305:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EagerResult=t.Result=t.Stats=t.QueryStatistics=t.ProfiledPlan=t.Plan=t.GqlStatusObject=t.Notification=t.ServerInfo=t.queryType=t.ResultSummary=t.Record=t.isPathSegment=t.PathSegment=t.isPath=t.Path=t.isUnboundRelationship=t.UnboundRelationship=t.isRelationship=t.Relationship=t.isNode=t.Node=t.Time=t.LocalTime=t.LocalDateTime=t.isTime=t.isLocalTime=t.isLocalDateTime=t.isDuration=t.isDateTime=t.isDate=t.Duration=t.DateTime=t.Date=t.Point=t.isPoint=t.internal=t.toString=t.toNumber=t.inSafeRange=t.isInt=t.int=t.Integer=t.error=t.isRetriableError=t.GQLError=t.newGQLError=t.Neo4jError=t.newError=t.authTokenManagers=void 0,t.resolveCertificateProvider=t.clientCertificateProviders=t.notificationFilterMinimumSeverityLevel=t.notificationFilterDisabledClassification=t.notificationFilterDisabledCategory=t.notificationSeverityLevel=t.notificationClassification=t.notificationCategory=t.resultTransformers=t.routing=t.staticAuthTokenManager=t.bookmarkManager=t.auth=t.json=t.driver=t.types=t.Driver=t.Session=t.TransactionPromise=t.ManagedTransaction=t.Transaction=t.Connection=t.Releasable=t.ConnectionProvider=void 0;var s=n(9691);Object.defineProperty(t,"newError",{enumerable:!0,get:function(){return s.newError}}),Object.defineProperty(t,"Neo4jError",{enumerable:!0,get:function(){return s.Neo4jError}}),Object.defineProperty(t,"newGQLError",{enumerable:!0,get:function(){return s.newGQLError}}),Object.defineProperty(t,"GQLError",{enumerable:!0,get:function(){return s.GQLError}}),Object.defineProperty(t,"isRetriableError",{enumerable:!0,get:function(){return s.isRetriableError}});var u=i(n(3371));t.Integer=u.default,Object.defineProperty(t,"int",{enumerable:!0,get:function(){return u.int}}),Object.defineProperty(t,"isInt",{enumerable:!0,get:function(){return u.isInt}}),Object.defineProperty(t,"inSafeRange",{enumerable:!0,get:function(){return u.inSafeRange}}),Object.defineProperty(t,"toNumber",{enumerable:!0,get:function(){return u.toNumber}}),Object.defineProperty(t,"toString",{enumerable:!0,get:function(){return u.toString}});var l=n(5459);Object.defineProperty(t,"Date",{enumerable:!0,get:function(){return l.Date}}),Object.defineProperty(t,"DateTime",{enumerable:!0,get:function(){return l.DateTime}}),Object.defineProperty(t,"Duration",{enumerable:!0,get:function(){return l.Duration}}),Object.defineProperty(t,"isDate",{enumerable:!0,get:function(){return l.isDate}}),Object.defineProperty(t,"isDateTime",{enumerable:!0,get:function(){return l.isDateTime}}),Object.defineProperty(t,"isDuration",{enumerable:!0,get:function(){return l.isDuration}}),Object.defineProperty(t,"isLocalDateTime",{enumerable:!0,get:function(){return l.isLocalDateTime}}),Object.defineProperty(t,"isLocalTime",{enumerable:!0,get:function(){return l.isLocalTime}}),Object.defineProperty(t,"isTime",{enumerable:!0,get:function(){return l.isTime}}),Object.defineProperty(t,"LocalDateTime",{enumerable:!0,get:function(){return l.LocalDateTime}}),Object.defineProperty(t,"LocalTime",{enumerable:!0,get:function(){return l.LocalTime}}),Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return l.Time}});var c=n(1517);Object.defineProperty(t,"Node",{enumerable:!0,get:function(){return c.Node}}),Object.defineProperty(t,"isNode",{enumerable:!0,get:function(){return c.isNode}}),Object.defineProperty(t,"Relationship",{enumerable:!0,get:function(){return c.Relationship}}),Object.defineProperty(t,"isRelationship",{enumerable:!0,get:function(){return c.isRelationship}}),Object.defineProperty(t,"UnboundRelationship",{enumerable:!0,get:function(){return c.UnboundRelationship}}),Object.defineProperty(t,"isUnboundRelationship",{enumerable:!0,get:function(){return c.isUnboundRelationship}}),Object.defineProperty(t,"Path",{enumerable:!0,get:function(){return c.Path}}),Object.defineProperty(t,"isPath",{enumerable:!0,get:function(){return c.isPath}}),Object.defineProperty(t,"PathSegment",{enumerable:!0,get:function(){return c.PathSegment}}),Object.defineProperty(t,"isPathSegment",{enumerable:!0,get:function(){return c.isPathSegment}});var f=a(n(4820));t.Record=f.default;var d=n(7093);Object.defineProperty(t,"isPoint",{enumerable:!0,get:function(){return d.isPoint}}),Object.defineProperty(t,"Point",{enumerable:!0,get:function(){return d.Point}});var h=i(n(6033));t.ResultSummary=h.default,Object.defineProperty(t,"queryType",{enumerable:!0,get:function(){return h.queryType}}),Object.defineProperty(t,"ServerInfo",{enumerable:!0,get:function(){return h.ServerInfo}}),Object.defineProperty(t,"Plan",{enumerable:!0,get:function(){return h.Plan}}),Object.defineProperty(t,"ProfiledPlan",{enumerable:!0,get:function(){return h.ProfiledPlan}}),Object.defineProperty(t,"QueryStatistics",{enumerable:!0,get:function(){return h.QueryStatistics}}),Object.defineProperty(t,"Stats",{enumerable:!0,get:function(){return h.Stats}});var p=i(n(1866));t.Notification=p.default,Object.defineProperty(t,"GqlStatusObject",{enumerable:!0,get:function(){return p.GqlStatusObject}}),Object.defineProperty(t,"notificationCategory",{enumerable:!0,get:function(){return p.notificationCategory}}),Object.defineProperty(t,"notificationClassification",{enumerable:!0,get:function(){return p.notificationClassification}}),Object.defineProperty(t,"notificationSeverityLevel",{enumerable:!0,get:function(){return p.notificationSeverityLevel}});var v=n(1985);Object.defineProperty(t,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return v.notificationFilterDisabledCategory}}),Object.defineProperty(t,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return v.notificationFilterDisabledClassification}}),Object.defineProperty(t,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return v.notificationFilterMinimumSeverityLevel}});var g=a(n(9512));t.Result=g.default;var y=a(n(8917));t.EagerResult=y.default;var m=i(n(2007));t.ConnectionProvider=m.default,Object.defineProperty(t,"Releasable",{enumerable:!0,get:function(){return m.Releasable}});var b=a(n(1409));t.Connection=b.default;var _=a(n(9473));t.Transaction=_.default;var w=a(n(5909));t.ManagedTransaction=w.default;var x=a(n(4569));t.TransactionPromise=x.default;var E=a(n(5481));t.Session=E.default;var O=i(n(7264)),S=O;t.Driver=O.default,t.driver=S;var T=a(n(1967));t.auth=T.default;var P=n(6755);Object.defineProperty(t,"bookmarkManager",{enumerable:!0,get:function(){return P.bookmarkManager}});var C=n(2069);Object.defineProperty(t,"authTokenManagers",{enumerable:!0,get:function(){return C.authTokenManagers}}),Object.defineProperty(t,"staticAuthTokenManager",{enumerable:!0,get:function(){return C.staticAuthTokenManager}});var k=n(7264);Object.defineProperty(t,"routing",{enumerable:!0,get:function(){return k.routing}});var A=i(n(6872));t.types=A;var N=i(n(4027));t.json=N;var j=a(n(1573));t.resultTransformers=j.default;var R=n(8264);Object.defineProperty(t,"clientCertificateProviders",{enumerable:!0,get:function(){return R.clientCertificateProviders}}),Object.defineProperty(t,"resolveCertificateProvider",{enumerable:!0,get:function(){return R.resolveCertificateProvider}});var I=i(n(6995));t.internal=I;var M={SERVICE_UNAVAILABLE:s.SERVICE_UNAVAILABLE,SESSION_EXPIRED:s.SESSION_EXPIRED,PROTOCOL_ERROR:s.PROTOCOL_ERROR};t.error=M;var D={authTokenManagers:C.authTokenManagers,newError:s.newError,Neo4jError:s.Neo4jError,newGQLError:s.newGQLError,GQLError:s.GQLError,isRetriableError:s.isRetriableError,error:M,Integer:u.default,int:u.int,isInt:u.isInt,inSafeRange:u.inSafeRange,toNumber:u.toNumber,toString:u.toString,internal:I,isPoint:d.isPoint,Point:d.Point,Date:l.Date,DateTime:l.DateTime,Duration:l.Duration,isDate:l.isDate,isDateTime:l.isDateTime,isDuration:l.isDuration,isLocalDateTime:l.isLocalDateTime,isLocalTime:l.isLocalTime,isTime:l.isTime,LocalDateTime:l.LocalDateTime,LocalTime:l.LocalTime,Time:l.Time,Node:c.Node,isNode:c.isNode,Relationship:c.Relationship,isRelationship:c.isRelationship,UnboundRelationship:c.UnboundRelationship,isUnboundRelationship:c.isUnboundRelationship,Path:c.Path,isPath:c.isPath,PathSegment:c.PathSegment,isPathSegment:c.isPathSegment,Record:f.default,ResultSummary:h.default,queryType:h.queryType,ServerInfo:h.ServerInfo,Notification:p.default,GqlStatusObject:p.GqlStatusObject,Plan:h.Plan,ProfiledPlan:h.ProfiledPlan,QueryStatistics:h.QueryStatistics,Stats:h.Stats,Result:g.default,EagerResult:y.default,Transaction:_.default,ManagedTransaction:w.default,TransactionPromise:x.default,Session:E.default,Driver:O.default,Connection:b.default,Releasable:m.Releasable,types:A,driver:S,json:N,auth:T.default,bookmarkManager:P.bookmarkManager,routing:k.routing,resultTransformers:j.default,notificationCategory:p.notificationCategory,notificationClassification:p.notificationClassification,notificationSeverityLevel:p.notificationSeverityLevel,notificationFilterDisabledCategory:v.notificationFilterDisabledCategory,notificationFilterDisabledClassification:v.notificationFilterDisabledClassification,notificationFilterMinimumSeverityLevel:v.notificationFilterMinimumSeverityLevel,clientCertificateProviders:R.clientCertificateProviders,resolveCertificateProvider:R.resolveCertificateProvider};t.default=D},3371:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toString=t.toNumber=t.inSafeRange=t.isInt=t.int=void 0;var r=n(9691),o=new Map,i=function(){function e(e,t){this.low=null!=e?e:0,this.high=null!=t?t:0}return e.prototype.inSafeRange=function(){return this.greaterThanOrEqual(e.MIN_SAFE_VALUE)&&this.lessThanOrEqual(e.MAX_SAFE_VALUE)},e.prototype.toInt=function(){return this.low},e.prototype.toNumber=function(){return this.high*s+(this.low>>>0)},e.prototype.toBigInt=function(){if(this.isZero())return BigInt(0);if(this.isPositive())return BigInt(this.high>>>0)*BigInt(s)+BigInt(this.low>>>0);var e=this.negate();return BigInt(-1)*(BigInt(e.high>>>0)*BigInt(s)+BigInt(e.low>>>0))},e.prototype.toNumberOrInfinity=function(){return this.lessThan(e.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(e.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()},e.prototype.toString=function(t){if((t=null!=t?t:10)<2||t>36)throw RangeError("radix out of range: "+t.toString());if(this.isZero())return"0";var n;if(this.isNegative()){if(this.equals(e.MIN_VALUE)){var r=e.fromNumber(t),o=this.div(r);return n=o.multiply(r).subtract(this),o.toString(t)+n.toInt().toString(t)}return"-"+this.negate().toString(t)}var i=e.fromNumber(Math.pow(t,6));n=this;for(var a="";;){var s=n.div(i),u=(n.subtract(s.multiply(i)).toInt()>>>0).toString(t);if((n=s).isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}},e.prototype.valueOf=function(){return this.toBigInt()},e.prototype.getHighBits=function(){return this.high},e.prototype.getLowBits=function(){return this.low},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(e.MIN_VALUE)?64:this.negate().getNumBitsAbs();var t=0!==this.high?this.high:this.low,n=0;for(n=31;n>0&&0==(t&1<<n);n--);return 0!==this.high?n+33:n+1},e.prototype.isZero=function(){return 0===this.high&&0===this.low},e.prototype.isNegative=function(){return this.high<0},e.prototype.isPositive=function(){return this.high>=0},e.prototype.isOdd=function(){return 1==(1&this.low)},e.prototype.isEven=function(){return 0==(1&this.low)},e.prototype.equals=function(t){var n=e.fromValue(t);return this.high===n.high&&this.low===n.low},e.prototype.notEquals=function(e){return!this.equals(e)},e.prototype.lessThan=function(e){return this.compare(e)<0},e.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},e.prototype.greaterThan=function(e){return this.compare(e)>0},e.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},e.prototype.compare=function(t){var n=e.fromValue(t);if(this.equals(n))return 0;var r=this.isNegative(),o=n.isNegative();return r&&!o?-1:!r&&o?1:this.subtract(n).isNegative()?-1:1},e.prototype.negate=function(){return this.equals(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.add=function(t){var n=e.fromValue(t),r=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,s=n.high>>>16,u=65535&n.high,l=n.low>>>16,c=0,f=0,d=0,h=0;return d+=(h+=a+(65535&n.low))>>>16,h&=65535,f+=(d+=i+l)>>>16,d&=65535,c+=(f+=o+u)>>>16,f&=65535,c+=r+s,c&=65535,e.fromBits(d<<16|h,c<<16|f)},e.prototype.subtract=function(t){var n=e.fromValue(t);return this.add(n.negate())},e.prototype.multiply=function(t){if(this.isZero())return e.ZERO;var n=e.fromValue(t);if(n.isZero())return e.ZERO;if(this.equals(e.MIN_VALUE))return n.isOdd()?e.MIN_VALUE:e.ZERO;if(n.equals(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return n.isNegative()?this.negate().multiply(n.negate()):this.negate().multiply(n).negate();if(n.isNegative())return this.multiply(n.negate()).negate();if(this.lessThan(l)&&n.lessThan(l))return e.fromNumber(this.toNumber()*n.toNumber());var r=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,s=n.high>>>16,u=65535&n.high,c=n.low>>>16,f=65535&n.low,d=0,h=0,p=0,v=0;return p+=(v+=a*f)>>>16,v&=65535,h+=(p+=i*f)>>>16,p&=65535,h+=(p+=a*c)>>>16,p&=65535,d+=(h+=o*f)>>>16,h&=65535,d+=(h+=i*c)>>>16,h&=65535,d+=(h+=a*u)>>>16,h&=65535,d+=r*f+o*c+i*u+a*s,d&=65535,e.fromBits(p<<16|v,d<<16|h)},e.prototype.div=function(t){var n,o,i,a=e.fromValue(t);if(a.isZero())throw(0,r.newError)("division by zero");if(this.isZero())return e.ZERO;if(this.equals(e.MIN_VALUE))return a.equals(e.ONE)||a.equals(e.NEG_ONE)?e.MIN_VALUE:a.equals(e.MIN_VALUE)?e.ONE:(n=this.shiftRight(1).div(a).shiftLeft(1)).equals(e.ZERO)?a.isNegative()?e.ONE:e.NEG_ONE:(o=this.subtract(a.multiply(n)),i=n.add(o.div(a)));if(a.equals(e.MIN_VALUE))return e.ZERO;if(this.isNegative())return a.isNegative()?this.negate().div(a.negate()):this.negate().div(a).negate();if(a.isNegative())return this.div(a.negate()).negate();for(i=e.ZERO,o=this;o.greaterThanOrEqual(a);){n=Math.max(1,Math.floor(o.toNumber()/a.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),u=s<=48?1:Math.pow(2,s-48),l=e.fromNumber(n),c=l.multiply(a);c.isNegative()||c.greaterThan(o);)n-=u,c=(l=e.fromNumber(n)).multiply(a);l.isZero()&&(l=e.ONE),i=i.add(l),o=o.subtract(c)}return i},e.prototype.modulo=function(t){var n=e.fromValue(t);return this.subtract(this.div(n).multiply(n))},e.prototype.not=function(){return e.fromBits(~this.low,~this.high)},e.prototype.and=function(t){var n=e.fromValue(t);return e.fromBits(this.low&n.low,this.high&n.high)},e.prototype.or=function(t){var n=e.fromValue(t);return e.fromBits(this.low|n.low,this.high|n.high)},e.prototype.xor=function(t){var n=e.fromValue(t);return e.fromBits(this.low^n.low,this.high^n.high)},e.prototype.shiftLeft=function(t){var n=e.toNumber(t);return 0==(n&=63)?e.ZERO:n<32?e.fromBits(this.low<<n,this.high<<n|this.low>>>32-n):e.fromBits(0,this.low<<n-32)},e.prototype.shiftRight=function(t){var n=e.toNumber(t),r=e.toNumber(t);return 0==(n&=63)?e.ZERO:r<32?e.fromBits(this.low>>>n|this.high<<32-n,this.high>>n):e.fromBits(this.high>>n-32,this.high>=0?0:-1)},e.isInteger=function(e){return!0===(null==e?void 0:e.__isInteger__)},e.fromInt=function(t){var n;if((t|=0)>=-128&&t<128&&null!=(n=o.get(t)))return n;var r=new e(t,t<0?-1:0);return t>=-128&&t<128&&o.set(t,r),r},e.fromBits=function(t,n){return new e(t,n)},e.fromNumber=function(t){return isNaN(t)||!isFinite(t)?e.ZERO:t<=-u?e.MIN_VALUE:t+1>=u?e.MAX_VALUE:t<0?e.fromNumber(-t).negate():new e(t%s|0,t/s|0)},e.fromString=function(t,n,o){var i,s=(void 0===o?{}:o).strictStringValidation;if(0===t.length)throw(0,r.newError)("number format error: empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if((n=null!=n?n:10)<2||n>36)throw(0,r.newError)("radix out of range: "+n.toString());if((i=t.indexOf("-"))>0)throw(0,r.newError)('number format error: interior "-" character: '+t);if(0===i)return e.fromString(t.substring(1),n).negate();for(var u=e.fromNumber(Math.pow(n,8)),l=e.ZERO,c=0;c<t.length;c+=8){var f=Math.min(8,t.length-c),d=t.substring(c,c+f),h=parseInt(d,n);if(!0===s&&!a(d,h,n))throw(0,r.newError)('number format error: "'.concat(d,'" is NaN in radix ').concat(n,": ").concat(t));if(f<8){var p=e.fromNumber(Math.pow(n,f));l=l.multiply(p).add(e.fromNumber(h))}else l=(l=l.multiply(u)).add(e.fromNumber(h))}return l},e.fromValue=function(t,n){return void 0===n&&(n={}),t instanceof e?t:"number"==typeof t?(!0===n.ceilFloat&&(t=Math.ceil(t)),e.fromNumber(t)):"string"==typeof t?e.fromString(t,void 0,n):"bigint"==typeof t?e.fromString(t.toString()):new e(t.low,t.high)},e.toNumber=function(t){switch(typeof t){case"number":return t;case"bigint":return Number(t);default:return e.fromValue(t).toNumber()}},e.toString=function(t,n){return e.fromValue(t).toString(n)},e.inSafeRange=function(t){return e.fromValue(t).inSafeRange()},e.ZERO=e.fromInt(0),e.ONE=e.fromInt(1),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647),e.MIN_VALUE=e.fromBits(0,-2147483648),e.MIN_SAFE_VALUE=e.fromBits(1,-2097152),e.MAX_SAFE_VALUE=e.fromBits(-1,2097151),e.__isInteger__=!0,e}();function a(e,t,n){return!Number.isNaN(e)&&!Number.isNaN(t)&&function(e,t,n){var r=e.toString(t),o=Math.max(n-r.length,0),i="0".repeat(o);return"".concat(i).concat(r)}(t,n,e.length)===e.toLowerCase()}Object.defineProperty(i.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1});var s=4294967296,u=s*s/2,l=i.fromInt(1<<24),c=i.fromValue;t.int=c;var f=i.isInteger;t.isInt=f;var d=i.inSafeRange;t.inSafeRange=d;var h=i.toNumber;t.toNumber=h;var p=i.toString;t.toString=p,t.default=i},5837:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromVersion=void 0,t.fromVersion=function(e,t){void 0===t&&(t=function(){return{get userAgent(){}}});var n=t(),r=null!=n.userAgent?n.userAgent.split("(")[1].split(")")[0]:void 0,o=n.userAgent||void 0;return{product:"neo4j-javascript/".concat(e),platform:r,languageDetails:o}}},3488:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(5837),t)},9730:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Bookmarks=void 0;var u=i(n(6587)),l=function(){function e(e){this._values=function(e){if(null==e||""===e)return[];if(u.isString(e))return[e];if(Array.isArray(e)){for(var t=new Set,n=f(e),r=0;r<n.length;r++){var o=n[r];if(null!=o){if(!u.isString(o))throw new TypeError("Bookmark value should be a string, given: '".concat(o,"'"));t.add(o)}}return s([],a(t),!1)}throw new TypeError("Bookmarks should either be a string or a string array, given: '".concat(e,"'"))}(e)}return e.empty=function(){return c},e.prototype.isEmpty=function(){return 0===this._values.length},e.prototype.values=function(){return this._values},e.prototype[Symbol.iterator]=function(){return this._values[Symbol.iterator]()},e.prototype.asBeginTransactionParameters=function(){var e;return this.isEmpty()?{}:((e={}).bookmarks=this._values,e)},e}();t.Bookmarks=l;var c=new l(null);function f(e){return e.reduce(function(e,t){return Array.isArray(t)?e.concat(f(t)):e.concat(t)},[])}},3618:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_CONNECTION_HOLDER=t.ReadOnlyConnectionHolder=t.ConnectionHolder=void 0;var s=n(9691),u=n(6587),l=n(326),c=n(9730),f=n(4883),d=function(){function e(e){var t=e.mode,n=e.database,r=void 0===n?"":n,o=e.bookmarks,i=e.connectionProvider,a=e.impersonatedUser,s=e.onDatabaseNameResolved,f=e.getConnectionAcquistionBookmarks,d=e.auth,h=e.log;this._mode=null!=t?t:l.ACCESS_MODE_WRITE,this._closed=!1,this._database=null!=r?(0,u.assertString)(r,"database"):"",this._bookmarks=null!=o?o:c.Bookmarks.empty(),this._connectionProvider=i,this._impersonatedUser=a,this._referenceCount=0,this._connectionPromise=Promise.resolve(null),this._onDatabaseNameResolved=s,this._auth=d,this._log=h,this._logError=this._logError.bind(this),this._getConnectionAcquistionBookmarks=null!=f?f:function(){return Promise.resolve(c.Bookmarks.empty())}}return e.prototype.mode=function(){return this._mode},e.prototype.database=function(){return this._database},e.prototype.setDatabase=function(e){this._database=e},e.prototype.bookmarks=function(){return this._bookmarks},e.prototype.connectionProvider=function(){return this._connectionProvider},e.prototype.referenceCount=function(){return this._referenceCount},e.prototype.initializeConnection=function(){return 0!==this._referenceCount||null==this._connectionProvider?(this._referenceCount++,!1):(this._connectionPromise=this._createConnectionPromise(this._connectionProvider),this._referenceCount++,!0)},e.prototype._createConnectionPromise=function(e){return i(this,void 0,void 0,function(){var t,n,r;return a(this,function(o){switch(o.label){case 0:return n=(t=e).acquireConnection,r={accessMode:this._mode,database:this._database},[4,this._getBookmarks()];case 1:return[4,n.apply(t,[(r.bookmarks=o.sent(),r.impersonatedUser=this._impersonatedUser,r.onDatabaseNameResolved=this._onDatabaseNameResolved,r.auth=this._auth,r)])];case 2:return[2,o.sent()]}})})},e.prototype._getBookmarks=function(){return i(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._getConnectionAcquistionBookmarks()];case 1:return[2,e.sent()]}})})},e.prototype.getConnection=function(){return this._connectionPromise},e.prototype.releaseConnection=function(){return 0===this._referenceCount?this._connectionPromise:(this._referenceCount--,0===this._referenceCount?this._releaseConnection():this._connectionPromise)},e.prototype.close=function(e){return this._closed=!0,0===this._referenceCount?this._connectionPromise:(this._referenceCount=0,this._releaseConnection(e))},e.prototype.log=function(){return this._log},e.prototype._releaseConnection=function(e){return this._connectionPromise=this._connectionPromise.then(function(t){return null!=t?t.isOpen()&&(t.hasOngoingObservableRequests()||!0===e)?t.resetAndFlush().catch(v).then(function(){return t.release().then(function(){return null})}):t.release().then(function(){return null}):Promise.resolve(null)}).catch(this._logError),this._connectionPromise},e.prototype._logError=function(e){return this._log.isWarnEnabled()&&this._log.warn("ConnectionHolder got an error while releasing the connection. Error ".concat(e,". Stacktrace: ").concat(e.stack)),null},e}();t.ConnectionHolder=d;var h=function(e){function t(t){var n=e.call(this,{mode:t.mode(),database:t.database(),bookmarks:t.bookmarks(),getConnectionAcquistionBookmarks:t._getConnectionAcquistionBookmarks,connectionProvider:t.connectionProvider(),log:t.log()})||this;return n._connectionHolder=t,n}return o(t,e),t.prototype.initializeConnection=function(){return 0!==this._connectionHolder.referenceCount()},t.prototype.getConnection=function(){return this._connectionHolder.getConnection()},t.prototype.releaseConnection=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},t.prototype.close=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},t}(d);t.ReadOnlyConnectionHolder=h,t.default=h;var p=new(function(e){function t(){return e.call(this,{log:f.Logger.create({})})||this}return o(t,e),t.prototype.mode=function(){},t.prototype.database=function(){},t.prototype.initializeConnection=function(){return!0},t.prototype.getConnection=function(){return i(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,Promise.reject((0,s.newError)("This connection holder does not serve connections"))];case 1:return[2,e.sent()]}})})},t.prototype.releaseConnection=function(){return i(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,e.sent()]}})})},t.prototype.close=function(){return i(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,e.sent()]}})})},t}(d));function v(e){return null}t.EMPTY_CONNECTION_HOLDER=p},326:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TELEMETRY_APIS=t.BOLT_PROTOCOL_V5_7=t.BOLT_PROTOCOL_V5_6=t.BOLT_PROTOCOL_V5_5=t.BOLT_PROTOCOL_V5_4=t.BOLT_PROTOCOL_V5_3=t.BOLT_PROTOCOL_V5_2=t.BOLT_PROTOCOL_V5_1=t.BOLT_PROTOCOL_V5_0=t.BOLT_PROTOCOL_V4_4=t.BOLT_PROTOCOL_V4_3=t.BOLT_PROTOCOL_V4_2=t.BOLT_PROTOCOL_V4_1=t.BOLT_PROTOCOL_V4_0=t.BOLT_PROTOCOL_V3=t.BOLT_PROTOCOL_V2=t.BOLT_PROTOCOL_V1=t.DEFAULT_POOL_MAX_SIZE=t.DEFAULT_POOL_ACQUISITION_TIMEOUT=t.DEFAULT_CONNECTION_TIMEOUT_MILLIS=t.ACCESS_MODE_WRITE=t.ACCESS_MODE_READ=t.FETCH_ALL=void 0,t.FETCH_ALL=-1,t.DEFAULT_POOL_ACQUISITION_TIMEOUT=6e4,t.DEFAULT_POOL_MAX_SIZE=100,t.DEFAULT_CONNECTION_TIMEOUT_MILLIS=3e4,t.ACCESS_MODE_READ="READ",t.ACCESS_MODE_WRITE="WRITE",t.BOLT_PROTOCOL_V1=1,t.BOLT_PROTOCOL_V2=2,t.BOLT_PROTOCOL_V3=3,t.BOLT_PROTOCOL_V4_0=4,t.BOLT_PROTOCOL_V4_1=4.1,t.BOLT_PROTOCOL_V4_2=4.2,t.BOLT_PROTOCOL_V4_3=4.3,t.BOLT_PROTOCOL_V4_4=4.4,t.BOLT_PROTOCOL_V5_0=5,t.BOLT_PROTOCOL_V5_1=5.1,t.BOLT_PROTOCOL_V5_2=5.2,t.BOLT_PROTOCOL_V5_3=5.3,t.BOLT_PROTOCOL_V5_4=5.4,t.BOLT_PROTOCOL_V5_5=5.5,t.BOLT_PROTOCOL_V5_6=5.6,t.BOLT_PROTOCOL_V5_7=5.7,t.TELEMETRY_APIS={MANAGED_TRANSACTION:0,UNMANAGED_TRANSACTION:1,AUTO_COMMIT_TRANSACTION:2,EXECUTE_QUERY:3}},6995:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.pool=t.boltAgent=t.objectUtil=t.resolver=t.serverAddress=t.urlUtil=t.logger=t.transactionExecutor=t.txConfig=t.connectionHolder=t.constants=t.bookmarks=t.observer=t.temporalUtil=t.util=void 0;var a=i(n(6587));t.util=a;var s=i(n(5022));t.temporalUtil=s;var u=i(n(2696));t.observer=u;var l=i(n(9730));t.bookmarks=l;var c=i(n(326));t.constants=c;var f=i(n(3618));t.connectionHolder=f;var d=i(n(754));t.txConfig=d;var h=i(n(6189));t.transactionExecutor=h;var p=i(n(4883));t.logger=p;var v=i(n(407));t.urlUtil=v;var g=i(n(7509));t.serverAddress=g;var y=i(n(9470));t.resolver=y;var m=i(n(93));t.objectUtil=m;var b=i(n(3488));t.boltAgent=b;var _=i(n(2906));t.pool=_},4883:function(e,t,n){var r,o,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var a=n(9691),s="error",u="warn",l="info",c="debug",f=l,d=((o={})[s]=0,o[u]=1,o[l]=2,o[c]=3,o),h=function(){function e(e,t){this._level=e,this._loggerFunction=t}return e.create=function(t){if(null!=(null==t?void 0:t.logging)){var n=t.logging,r=function(e){if(null!=(null==e?void 0:e.level)){var t=e.level,n=d[t];if(null==n&&0!==n)throw(0,a.newError)("Illegal logging level: ".concat(t,". Supported levels are: ").concat(Object.keys(d).toString()));return t}return f}(n),o=function(e){var t,n;if(null!=(null==e?void 0:e.logger)){var r=e.logger;if(null!=r&&"function"==typeof r)return r}throw(0,a.newError)("Illegal logger function: ".concat(null!==(n=null===(t=null==e?void 0:e.logger)||void 0===t?void 0:t.toString())&&void 0!==n?n:"undefined"))}(n);return new e(r,o)}return this.noOp()},e.noOp=function(){return p},e.prototype.isErrorEnabled=function(){return v(this._level,s)},e.prototype.error=function(e){this.isErrorEnabled()&&this._loggerFunction(s,e)},e.prototype.isWarnEnabled=function(){return v(this._level,u)},e.prototype.warn=function(e){this.isWarnEnabled()&&this._loggerFunction(u,e)},e.prototype.isInfoEnabled=function(){return v(this._level,l)},e.prototype.info=function(e){this.isInfoEnabled()&&this._loggerFunction(l,e)},e.prototype.isDebugEnabled=function(){return v(this._level,c)},e.prototype.debug=function(e){this.isDebugEnabled()&&this._loggerFunction(c,e)},e}();t.Logger=h;var p=new(function(e){function t(){return e.call(this,l,function(e,t){})||this}return i(t,e),t.prototype.isErrorEnabled=function(){return!1},t.prototype.error=function(e){},t.prototype.isWarnEnabled=function(){return!1},t.prototype.warn=function(e){},t.prototype.isInfoEnabled=function(){return!1},t.prototype.info=function(e){},t.prototype.isDebugEnabled=function(){return!1},t.prototype.debug=function(e){},t}(h));function v(e,t){return d[e]>=d[t]}},93:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getBrokenObjectReason=t.isBrokenObject=t.createBrokenObject=void 0;var n="__isBrokenObject__",r="__reason__";t.createBrokenObject=function(e,t){void 0===t&&(t={});var o=function(){throw e};return new Proxy(t,{get:function(t,i){return i===n||(i===r?e:void("toJSON"!==i&&o()))},set:o,apply:o,construct:o,defineProperty:o,deleteProperty:o,getOwnPropertyDescriptor:o,getPrototypeOf:o,has:o,isExtensible:o,ownKeys:o,preventExtensions:o,setPrototypeOf:o})},t.isBrokenObject=function(e){return null!==e&&"object"==typeof e&&!0===e[n]},t.getBrokenObjectReason=function(e){return e[r]}},2696:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FailedObserver=t.CompletedObserver=void 0;var n=function(){function e(){}return e.prototype.subscribe=function(e){o(e,e.onKeys,[]),o(e,e.onCompleted,{})},e.prototype.cancel=function(){},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.prepareToHandleSingleResponse=function(){},e.prototype.markCompleted=function(){},e.prototype.onError=function(e){throw new Error("CompletedObserver not supposed to call onError",{cause:e})},e}();t.CompletedObserver=n;var r=function(){function e(e){var t=e.error,n=e.onError;this._error=t,this._beforeError=n,this._observers=[],this.onError(t)}return e.prototype.subscribe=function(e){o(e,e.onError,this._error),this._observers.push(e)},e.prototype.onError=function(e){o(this,this._beforeError,e),this._observers.forEach(function(t){return o(t,t.onError,e)})},e.prototype.cancel=function(){},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.markCompleted=function(){},e.prototype.prepareToHandleSingleResponse=function(){},e}();function o(e,t,n){null!=t&&t.bind(e)(n)}t.FailedObserver=r},2906:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MAX_SIZE=t.DEFAULT_ACQUISITION_TIMEOUT=t.PoolConfig=t.Pool=void 0;var s=i(n(7589));t.PoolConfig=s.default,Object.defineProperty(t,"DEFAULT_ACQUISITION_TIMEOUT",{enumerable:!0,get:function(){return s.DEFAULT_ACQUISITION_TIMEOUT}}),Object.defineProperty(t,"DEFAULT_MAX_SIZE",{enumerable:!0,get:function(){return s.DEFAULT_MAX_SIZE}});var u=a(n(6842));t.Pool=u.default,t.default=u.default},7589:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ACQUISITION_TIMEOUT=t.DEFAULT_MAX_SIZE=void 0;var n=100;t.DEFAULT_MAX_SIZE=n;var r=6e4;t.DEFAULT_ACQUISITION_TIMEOUT=r;var o=function(){function e(e,t){this.maxSize=i(e,n),this.acquisitionTimeout=i(t,r)}return e.defaultConfig=function(){return new e(n,r)},e.fromDriverConfig=function(t){return new e(a(t.maxConnectionPoolSize)?t.maxConnectionPoolSize:n,a(t.connectionAcquisitionTimeout)?t.connectionAcquisitionTimeout:r)},e}();function i(e,t){return a(e)?e:t}function a(e){return 0===e||null!=e}t.default=o},6842:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(7589)),s=n(9691),u=n(4883),l=function(){function e(e){var t=e.create,n=void 0===t?function(e,t,n){return r(w,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,Promise.reject(new Error("Not implemented"))];case 1:return[2,e.sent()]}})})}:t,i=e.destroy,s=void 0===i?function(e){return r(w,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,Promise.resolve()];case 1:return[2,e.sent()]}})})}:i,l=e.validateOnAcquire,c=void 0===l?function(e,t){return!0}:l,f=e.validateOnRelease,d=void 0===f?function(e){return!0}:f,h=e.installIdleObserver,p=void 0===h?function(e,t){}:h,v=e.removeIdleObserver,g=void 0===v?function(e){}:v,y=e.config,m=void 0===y?a.default.defaultConfig():y,b=e.log,_=void 0===b?u.Logger.noOp():b,w=this;this._create=n,this._destroy=s,this._validateOnAcquire=c,this._validateOnRelease=d,this._installIdleObserver=p,this._removeIdleObserver=g,this._maxSize=m.maxSize,this._acquisitionTimeout=m.acquisitionTimeout,this._pools={},this._pendingCreates={},this._acquireRequests={},this._activeResourceCounts={},this._release=this._release.bind(this),this._log=_,this._closed=!1}return e.prototype.acquire=function(e,t,n){return r(this,void 0,void 0,function(){var r,i,a=this;return o(this,function(o){switch(o.label){case 0:return r=t.asKey(),null==(i=this._acquireRequests)[r]&&(i[r]=[]),[4,new Promise(function(o,u){var l=setTimeout(function(){var e=i[r];if(null!=e&&(i[r]=e.filter(function(e){return e!==c})),c.isCompleted());else{var n=a.activeResourceCount(t),o=a.has(t)?a._pools[r].length:0;c.reject((0,s.newError)("Connection acquisition timed out in ".concat(a._acquisitionTimeout," ms. Pool status: Active conn count = ").concat(n,", Idle conn count = ").concat(o,".")))}},a._acquisitionTimeout);"object"==typeof l&&l.unref();var c=new d(r,e,n,o,u,l,a._log);i[r].push(c),a._processPendingAcquireRequests(t)})];case 1:return[2,o.sent()]}})})},e.prototype.purge=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this._purgeKey(e.asKey())];case 1:return[2,t.sent()]}})})},e.prototype.apply=function(e,t){var n=e.asKey();n in this._pools&&this._pools[n].apply(t)},e.prototype.close=function(){return r(this,void 0,void 0,function(){var e=this;return o(this,function(t){switch(t.label){case 0:return this._closed=!0,[4,Promise.all(Object.keys(this._pools).map(function(t){return r(e,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,this._purgeKey(t)];case 1:return[2,e.sent()]}})})})).then()];case 1:return[2,t.sent()]}})})},e.prototype.keepAll=function(e){return r(this,void 0,void 0,function(){var t,n,i,a=this;return o(this,function(s){switch(s.label){case 0:return t=e.map(function(e){return e.asKey()}),n=Object.keys(this._pools),i=n.filter(function(e){return!t.includes(e)}),[4,Promise.all(i.map(function(e){return r(a,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this._purgeKey(e)];case 1:return[2,t.sent()]}})})})).then()];case 1:return[2,s.sent()]}})})},e.prototype.has=function(e){return e.asKey()in this._pools},e.prototype.activeResourceCount=function(e){var t;return null!==(t=this._activeResourceCounts[e.asKey()])&&void 0!==t?t:0},e.prototype._getOrInitializePoolFor=function(e){var t=this._pools[e];return null==t&&(t=new h,this._pools[e]=t,this._pendingCreates[e]=0),t},e.prototype._acquire=function(e,t,n){return r(this,void 0,void 0,function(){var i,a,u,l,d,h,p,v=this;return o(this,function(g){switch(g.label){case 0:if(this._closed)throw(0,s.newError)("Pool is closed, it is no more able to serve requests.");if(i=t.asKey(),a=this._getOrInitializePoolFor(i),n)return[3,10];g.label=1;case 1:if(!(a.length>0))return[3,10];if(null==(u=a.pop()))return[3,1];c(i,this._activeResourceCounts),null!=this._removeIdleObserver&&this._removeIdleObserver(u),l=!1,g.label=2;case 2:return g.trys.push([2,4,,6]),[4,this._validateOnAcquire(e,u)];case 3:return l=g.sent(),[3,6];case 4:return d=g.sent(),f(i,this._activeResourceCounts),a.removeInUse(u),[4,this._destroy(u)];case 5:throw g.sent(),d;case 6:return l?(this._log.isDebugEnabled()&&this._log.debug("".concat(u," acquired from the pool ").concat(i)),[2,{resource:u,pool:a}]):[3,7];case 7:return f(i,this._activeResourceCounts),a.removeInUse(u),[4,this._destroy(u)];case 8:g.sent(),g.label=9;case 9:return[3,1];case 10:if(this._maxSize>0&&this.activeResourceCount(t)+this._pendingCreates[i]>=this._maxSize)return[2,{resource:null,pool:a}];this._pendingCreates[i]=this._pendingCreates[i]+1,g.label=11;case 11:return g.trys.push([11,,15,16]),this.activeResourceCount(t)+a.length>=this._maxSize&&n?null==(p=a.pop())?[3,13]:(null!=this._removeIdleObserver&&this._removeIdleObserver(p),a.removeInUse(p),[4,this._destroy(p)]):[3,13];case 12:g.sent(),g.label=13;case 13:return[4,this._create(e,t,function(e,t){return r(v,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,this._release(e,t,a)];case 1:return[2,n.sent()]}})})})];case 14:return h=g.sent(),a.pushInUse(h),c(i,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(h," created for the pool ").concat(i)),[3,16];case 15:return this._pendingCreates[i]=this._pendingCreates[i]-1,[7];case 16:return[2,{resource:h,pool:a}]}})})},e.prototype._release=function(e,t,n){return r(this,void 0,void 0,function(){var r,i=this;return o(this,function(o){switch(o.label){case 0:r=e.asKey(),o.label=1;case 1:return o.trys.push([1,,9,10]),n.isActive()?[4,this._validateOnRelease(t)]:[3,6];case 2:return o.sent()?[3,4]:(this._log.isDebugEnabled()&&this._log.debug("".concat(t," destroyed and can't be released to the pool ").concat(r," because it is not functional")),n.removeInUse(t),[4,this._destroy(t)]);case 3:return o.sent(),[3,5];case 4:null!=this._installIdleObserver&&this._installIdleObserver(t,{onError:function(e){i._log.debug("Idle connection ".concat(t," destroyed because of error: ").concat(e));var n=i._pools[r];null!=n&&(i._pools[r]=n.filter(function(e){return e!==t}),n.removeInUse(t)),i._destroy(t).catch(function(){})}}),n.push(t),this._log.isDebugEnabled()&&this._log.debug("".concat(t," released to the pool ").concat(r)),o.label=5;case 5:return[3,8];case 6:return this._log.isDebugEnabled()&&this._log.debug("".concat(t," destroyed and can't be released to the pool ").concat(r," because pool has been purged")),n.removeInUse(t),[4,this._destroy(t)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:return f(r,this._activeResourceCounts),this._processPendingAcquireRequests(e),[7];case 10:return[2]}})})},e.prototype._purgeKey=function(e){return r(this,void 0,void 0,function(){var t,n,r;return o(this,function(o){switch(o.label){case 0:if(t=this._pools[e],n=[],null==t)return[3,2];for(;t.length>0;)null!=(r=t.pop())&&(null!=this._removeIdleObserver&&this._removeIdleObserver(r),n.push(this._destroy(r)));return t.close(),delete this._pools[e],[4,Promise.all(n)];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype._processPendingAcquireRequests=function(e){var t=this,n=e.asKey(),r=this._acquireRequests[n];if(null!=r){var o=r.shift();null!=o?this._acquire(o.context,e,o.requireNew).catch(function(e){return o.reject(e),{resource:null,pool:null}}).then(function(r){var i=r.resource,a=r.pool;null!=i&&null!=a?o.isCompleted()?t._release(e,i,a).catch(function(e){t._log.isDebugEnabled()&&t._log.debug("".concat(i," could not be release back to the pool. Cause: ").concat(e))}):o.resolve(i):o.isCompleted()||(null==t._acquireRequests[n]&&(t._acquireRequests[n]=[]),t._acquireRequests[n].unshift(o))}).catch(function(e){return o.reject(e)}):delete this._acquireRequests[n]}},e}();function c(e,t){var n,r=null!==(n=t[e])&&void 0!==n?n:0;t[e]=r+1}function f(e,t){var n,r=(null!==(n=t[e])&&void 0!==n?n:0)-1;r>0?t[e]=r:delete t[e]}var d=function(){function e(e,t,n,r,o,i,a){this._key=e,this._context=t,this._resolve=r,this._reject=o,this._timeoutId=i,this._log=a,this._completed=!1,this._config=null!=n?n:{}}return Object.defineProperty(e.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requireNew",{get:function(){var e;return null!==(e=this._config.requireNew)&&void 0!==e&&e},enumerable:!1,configurable:!0}),e.prototype.isCompleted=function(){return this._completed},e.prototype.resolve=function(e){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug("".concat(e," acquired from the pool ").concat(this._key)),this._resolve(e))},e.prototype.reject=function(e){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(e))},e}(),h=function(){function e(){this._active=!0,this._elements=[],this._elementsInUse=new Set}return e.prototype.isActive=function(){return this._active},e.prototype.close=function(){this._active=!1,this._elements=[],this._elementsInUse=new Set},e.prototype.filter=function(e){return this._elements=this._elements.filter(e),this},e.prototype.apply=function(e){this._elements.forEach(e),this._elementsInUse.forEach(e)},Object.defineProperty(e.prototype,"length",{get:function(){return this._elements.length},enumerable:!1,configurable:!0}),e.prototype.pop=function(){var e=this._elements.pop();return null!=e&&this._elementsInUse.add(e),e},e.prototype.push=function(e){return this._elementsInUse.delete(e),this._elements.push(e)},e.prototype.pushInUse=function(e){this._elementsInUse.add(e)},e.prototype.removeInUse=function(e){this._elementsInUse.delete(e)},e}();t.default=l},7041:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(326),a=function(){function e(e){this._createSession=e}return e.prototype.execute=function(e,t,n){return r(this,void 0,void 0,function(){var a,s,u=this;return o(this,function(l){switch(l.label){case 0:a=this._createSession({database:e.database,bookmarkManager:e.bookmarkManager,impersonatedUser:e.impersonatedUser,auth:e.auth}),c=e.signal,f="abort",d=function(){return r(u,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,a.close()];case 1:return[2,e.sent()]}})})},"function"==typeof(null==c?void 0:c.addEventListener)&&c.addEventListener(f,d),s={uninstall:function(){"function"==typeof(null==c?void 0:c.removeEventListener)&&c.removeEventListener(f,d)}},a._configureTransactionExecutor(!0,i.TELEMETRY_APIS.EXECUTE_QUERY),l.label=1;case 1:return l.trys.push([1,,3,5]),[4,("READ"===e.routing?a.executeRead.bind(a):a.executeWrite.bind(a))(function(i){return r(u,void 0,void 0,function(){var r;return o(this,function(o){switch(o.label){case 0:return r=i.run(t,n),[4,e.resultTransformer(r)];case 1:return[2,o.sent()]}})})},e.transactionConfig)];case 2:return[2,l.sent()];case 3:return s.uninstall(),[4,a.close()];case 4:return l.sent(),[7];case 5:return[2]}var c,f,d})})},e}();t.default=a},3389:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.resolve=function(){throw new Error("Abstract function")},e.prototype._resolveToItself=function(e){return Promise.resolve([e])},e}();t.default=n},8341:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(7509);function o(e){return Promise.resolve([e])}var i=function(){function e(e){this._resolverFunction=null!=e?e:o}return e.prototype.resolve=function(e){var t=this;return new Promise(function(n){return n(t._resolverFunction(e.asHostPort()))}).then(function(e){if(!Array.isArray(e))throw new TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses."+"Each address is '<host>:<port>'. Got: ".concat(e));return e.map(function(e){return r.ServerAddress.fromUrl(e)})})},e}();t.default=i},9470:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfiguredCustomResolver=t.BaseHostNameResolver=void 0;var o=r(n(3389));t.BaseHostNameResolver=o.default;var i=r(n(8341));t.ConfiguredCustomResolver=i.default},7509:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ServerAddress=void 0;var a=n(6587),s=i(n(407)),u=function(){function e(e,t,n,r){this._host=(0,a.assertString)(e,"host"),this._resolved=null!=t?(0,a.assertString)(t,"resolved"):null,this._port=(0,a.assertNumber)(n,"port"),this._hostPort=r,this._stringValue=null!=t?"".concat(r,"(").concat(t,")"):"".concat(r)}return e.prototype.host=function(){return this._host},e.prototype.resolvedHost=function(){return null!=this._resolved?this._resolved:this._host},e.prototype.port=function(){return this._port},e.prototype.resolveWith=function(t){return new e(this._host,t,this._port,this._hostPort)},e.prototype.asHostPort=function(){return this._hostPort},e.prototype.asKey=function(){return this._hostPort},e.prototype.toString=function(){return this._stringValue},e.fromUrl=function(t){var n=s.parseDatabaseUrl(t);return new e(n.host,null,n.port,n.hostAndPort)},e}();t.ServerAddress=u},5022:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.floorMod=t.floorDiv=t.assertValidZoneId=t.assertValidNanosecond=t.assertValidSecond=t.assertValidMinute=t.assertValidHour=t.assertValidDay=t.assertValidMonth=t.assertValidYear=t.timeZoneOffsetInSeconds=t.totalNanoseconds=t.newDate=t.toStandardDate=t.isoStringToStandardDate=t.dateToIsoString=t.timeZoneOffsetToIsoString=t.timeToIsoString=t.durationToIsoString=t.dateToEpochDay=t.localDateTimeToEpochSecond=t.localTimeToNanoOfDay=t.normalizeNanosecondsForDuration=t.normalizeSecondsForDuration=t.SECONDS_PER_DAY=t.DAYS_PER_400_YEAR_CYCLE=t.DAYS_0000_TO_1970=t.NANOS_PER_HOUR=t.NANOS_PER_MINUTE=t.NANOS_PER_MILLISECOND=t.NANOS_PER_SECOND=t.SECONDS_PER_HOUR=t.SECONDS_PER_MINUTE=t.MINUTES_PER_HOUR=t.NANOSECOND_OF_SECOND_RANGE=t.SECOND_OF_MINUTE_RANGE=t.MINUTE_OF_HOUR_RANGE=t.HOUR_OF_DAY_RANGE=t.DAY_OF_MONTH_RANGE=t.MONTH_OF_YEAR_RANGE=t.YEAR_RANGE=void 0;var a=i(n(3371)),s=n(9691),u=n(6587),l=function(){function e(e,t){this._minNumber=e,this._maxNumber=t,this._minInteger=(0,a.int)(e),this._maxInteger=(0,a.int)(t)}return e.prototype.contains=function(e){if((0,a.isInt)(e)&&e instanceof a.default)return e.greaterThanOrEqual(this._minInteger)&&e.lessThanOrEqual(this._maxInteger);if("bigint"==typeof e){var t=(0,a.int)(e);return t.greaterThanOrEqual(this._minInteger)&&t.lessThanOrEqual(this._maxInteger)}return e>=this._minNumber&&e<=this._maxNumber},e.prototype.toString=function(){return"[".concat(this._minNumber,", ").concat(this._maxNumber,"]")},e}();function c(e,n,r){e=(0,a.int)(e),n=(0,a.int)(n),r=(0,a.int)(r);var o=e.multiply(365);return o=(o=(o=e.greaterThanOrEqual(0)?o.add(e.add(3).div(4).subtract(e.add(99).div(100)).add(e.add(399).div(400))):o.subtract(e.div(-4).subtract(e.div(-100)).add(e.div(-400)))).add(n.multiply(367).subtract(362).div(12))).add(r.subtract(1)),n.greaterThan(2)&&(o=o.subtract(1),function(e){return!(!(e=(0,a.int)(e)).modulo(4).equals(0)||e.modulo(100).equals(0)&&!e.modulo(400).equals(0))}(e)||(o=o.subtract(1))),o.subtract(t.DAYS_0000_TO_1970)}t.YEAR_RANGE=new l(-999999999,999999999),t.MONTH_OF_YEAR_RANGE=new l(1,12),t.DAY_OF_MONTH_RANGE=new l(1,31),t.HOUR_OF_DAY_RANGE=new l(0,23),t.MINUTE_OF_HOUR_RANGE=new l(0,59),t.SECOND_OF_MINUTE_RANGE=new l(0,59),t.NANOSECOND_OF_SECOND_RANGE=new l(0,999999999),t.MINUTES_PER_HOUR=60,t.SECONDS_PER_MINUTE=60,t.SECONDS_PER_HOUR=t.SECONDS_PER_MINUTE*t.MINUTES_PER_HOUR,t.NANOS_PER_SECOND=1e9,t.NANOS_PER_MILLISECOND=1e6,t.NANOS_PER_MINUTE=t.NANOS_PER_SECOND*t.SECONDS_PER_MINUTE,t.NANOS_PER_HOUR=t.NANOS_PER_MINUTE*t.MINUTES_PER_HOUR,t.DAYS_0000_TO_1970=719528,t.DAYS_PER_400_YEAR_CYCLE=146097,t.SECONDS_PER_DAY=86400,t.normalizeSecondsForDuration=function(e,n){return(0,a.int)(e).add(p(n,t.NANOS_PER_SECOND))},t.normalizeNanosecondsForDuration=function(e){return v(e,t.NANOS_PER_SECOND)},t.localTimeToNanoOfDay=function(e,n,r,o){e=(0,a.int)(e),n=(0,a.int)(n),r=(0,a.int)(r),o=(0,a.int)(o);var i=e.multiply(t.NANOS_PER_HOUR);return(i=(i=i.add(n.multiply(t.NANOS_PER_MINUTE))).add(r.multiply(t.NANOS_PER_SECOND))).add(o)},t.localDateTimeToEpochSecond=function(e,n,r,o,i,s,u){var l=c(e,n,r),f=function(e,n,r){e=(0,a.int)(e),n=(0,a.int)(n),r=(0,a.int)(r);var o=e.multiply(t.SECONDS_PER_HOUR);return(o=o.add(n.multiply(t.SECONDS_PER_MINUTE))).add(r)}(o,i,s);return l.multiply(t.SECONDS_PER_DAY).add(f)},t.dateToEpochDay=c,t.durationToIsoString=function(e,n,r,o){var i=y(e),s=y(n),u=function(e,n){var r,o;e=(0,a.int)(e),n=(0,a.int)(n);var i=e.isNegative(),s=n.greaterThan(0);return r=i&&s?e.equals(-1)?"-0":e.add(1).toString():e.toString(),s&&(o=g(i?n.negate().add(2*t.NANOS_PER_SECOND).modulo(t.NANOS_PER_SECOND):n.add(t.NANOS_PER_SECOND).modulo(t.NANOS_PER_SECOND))),null!=o?r+o:r}(r,o);return"P".concat(i,"M").concat(s,"DT").concat(u,"S")},t.timeToIsoString=function(e,t,n,r){var o=y(e,2),i=y(t,2),a=y(n,2),s=g(r);return"".concat(o,":").concat(i,":").concat(a).concat(s)},t.timeZoneOffsetToIsoString=function(e){if((e=(0,a.int)(e)).equals(0))return"Z";var n=e.isNegative();n&&(e=e.multiply(-1));var r=n?"-":"+",o=y(e.div(t.SECONDS_PER_HOUR),2),i=y(e.div(t.SECONDS_PER_MINUTE).modulo(t.MINUTES_PER_HOUR),2),s=e.modulo(t.SECONDS_PER_MINUTE),u=s.equals(0)?null:y(s,2);return null!=u?"".concat(r).concat(o,":").concat(i,":").concat(u):"".concat(r).concat(o,":").concat(i)},t.dateToIsoString=function(e,t,n){var r=function(e){var t=(0,a.int)(e);return t.isNegative()||t.greaterThan(9999)?y(t,6,{usePositiveSign:!0}):y(t,4)}(e),o=y(t,2),i=y(n,2);return"".concat(r,"-").concat(o,"-").concat(i)},t.isoStringToStandardDate=function(e){return new Date(e)},t.toStandardDate=function(e){return new Date(e)},t.newDate=function(e){return new Date(e)},t.totalNanoseconds=function(e,n){return r=n=null!=n?n:0,o=e.getMilliseconds()*t.NANOS_PER_MILLISECOND,r instanceof a.default?r.add(o):"bigint"==typeof r?r+BigInt(o):r+o;var r,o},t.timeZoneOffsetInSeconds=function(e){var n=e.getSeconds()>=e.getUTCSeconds()?e.getSeconds()-e.getUTCSeconds():e.getSeconds()-e.getUTCSeconds()+60,r=e.getTimezoneOffset();return 0===r?0+n:-1*r*t.SECONDS_PER_MINUTE+n},t.assertValidYear=function(e){return h(e,t.YEAR_RANGE,"Year")},t.assertValidMonth=function(e){return h(e,t.MONTH_OF_YEAR_RANGE,"Month")},t.assertValidDay=function(e){return h(e,t.DAY_OF_MONTH_RANGE,"Day")},t.assertValidHour=function(e){return h(e,t.HOUR_OF_DAY_RANGE,"Hour")},t.assertValidMinute=function(e){return h(e,t.MINUTE_OF_HOUR_RANGE,"Minute")},t.assertValidSecond=function(e){return h(e,t.SECOND_OF_MINUTE_RANGE,"Second")},t.assertValidNanosecond=function(e){return h(e,t.NANOSECOND_OF_SECOND_RANGE,"Nanosecond")};var f=new Map,d=function(e,t){return(0,s.newError)("".concat(t,' is expected to be a valid ZoneId but was: "').concat(e,'"'))};function h(e,t,n){if((0,u.assertNumberOrInteger)(e,n),!t.contains(e))throw(0,s.newError)("".concat(n," is expected to be in range ").concat(t.toString()," but was: ").concat(e.toString()));return e}function p(e,t){e=(0,a.int)(e),t=(0,a.int)(t);var n=e.div(t);return e.isPositive()!==t.isPositive()&&n.multiply(t).notEquals(e)&&(n=n.subtract(1)),n}function v(e,t){return e=(0,a.int)(e),t=(0,a.int)(t),e.subtract(p(e,t).multiply(t))}function g(e){return(e=(0,a.int)(e)).equals(0)?"":"."+y(e,9)}function y(e,t,n){var r=(e=(0,a.int)(e)).isNegative();r&&(e=e.negate());var o=e.toString();if(null!=t)for(;o.length<t;)o="0"+o;return r?"-"+o:!0===(null==n?void 0:n.usePositiveSign)?"+"+o:o}t.assertValidZoneId=function(e,t){var n=f.get(t);if(!0!==n){if(!1===n)throw d(t,e);try{Intl.DateTimeFormat(void 0,{timeZone:t}),f.set(t,!0)}catch(n){throw f.set(t,!1),d(t,e)}}},t.floorDiv=p,t.floorMod=v},6189:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionExecutor=void 0;var u=n(9691),l=n(326);function c(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,s([e,t],a(n),!1))}function f(e){return clearTimeout(e)}var d=function(){function e(e,t,n,r,o){void 0===o&&(o={setTimeout:c,clearTimeout:f}),this._maxRetryTimeMs=h(e,3e4),this._initialRetryDelayMs=h(t,1e3),this._multiplier=h(n,2),this._jitterFactor=h(r,.2),this._setTimeout=o.setTimeout,this._clearTimeout=o.clearTimeout,this._inFlightTimeoutIds=[],this.pipelineBegin=!1,this.telemetryApi=l.TELEMETRY_APIS.MANAGED_TRANSACTION,this._verifyAfterConstruction()}return e.prototype.execute=function(e,t,n){var r=this,o={apiTransactionConfig:{api:this.telemetryApi,onTelemetrySuccess:function(){o.apiTransactionConfig=void 0}}};return new Promise(function(i,a){r._executeTransactionInsidePromise(e,t,i,a,n,o).catch(a)}).catch(function(i){var a=Date.now(),s=r._initialRetryDelayMs;return r._retryTransactionPromise(e,t,i,a,s,n,o)})},e.prototype.close=function(){var e=this;this._inFlightTimeoutIds.forEach(function(t){return e._clearTimeout(t)}),this._inFlightTimeoutIds=[]},e.prototype._retryTransactionPromise=function(e,t,n,r,o,i,a){var s=this;return Date.now()-r>this._maxRetryTimeMs||!(0,u.isRetriableError)(n)?Promise.reject(n):new Promise(function(n,r){var u=s._computeDelayWithJitter(o),l=s._setTimeout(function(){s._inFlightTimeoutIds=s._inFlightTimeoutIds.filter(function(e){return e!==l}),s._executeTransactionInsidePromise(e,t,n,r,i,a).catch(r)},u);s._inFlightTimeoutIds.push(l)}).catch(function(n){var u=o*s._multiplier;return s._retryTransactionPromise(e,t,n,r,u,i,a)})},e.prototype._executeTransactionInsidePromise=function(e,t,n,a,s,u){return o(this,void 0,void 0,function(){var o,l,c,f,d,h,p=this;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),l=e(null!=(null==u?void 0:u.apiTransactionConfig)?r({},null==u?void 0:u.apiTransactionConfig):void 0),this.pipelineBegin?(c=l,[3,3]):[3,1];case 1:return[4,l];case 2:c=i.sent(),i.label=3;case 3:return o=c,[3,5];case 4:return f=i.sent(),a(f),[2];case 5:return d=null!=s?s:function(e){return e},h=d(o),this._safeExecuteTransactionWork(h,t).then(function(e){return p._handleTransactionWorkSuccess(e,o,n,a)}).catch(function(e){return p._handleTransactionWorkFailure(e,o,a)}),[2]}})})},e.prototype._safeExecuteTransactionWork=function(e,t){try{var n=t(e);return Promise.resolve(n)}catch(e){return Promise.reject(e)}},e.prototype._handleTransactionWorkSuccess=function(e,t,n,r){t.isOpen()?t.commit().then(function(){n(e)}).catch(function(e){r(e)}):n(e)},e.prototype._handleTransactionWorkFailure=function(e,t,n){t.isOpen()?t.rollback().catch(function(e){}).then(function(){return n(e)}).catch(n):n(e)},e.prototype._computeDelayWithJitter=function(e){var t=e*this._jitterFactor,n=e-t,r=e+t;return Math.random()*(r-n)+n},e.prototype._verifyAfterConstruction=function(){if(this._maxRetryTimeMs<0)throw(0,u.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs.toString());if(this._initialRetryDelayMs<0)throw(0,u.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs.toString());if(this._multiplier<1)throw(0,u.newError)("Multiplier should be >= 1.0: "+this._multiplier.toString());if(this._jitterFactor<0||this._jitterFactor>1)throw(0,u.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor.toFixed())},e}();function h(e,t){return null!=e?e:t}t.TransactionExecutor=d},754:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TxConfig=void 0;var a=i(n(6587)),s=n(9691),u=n(3371),l=function(){function e(e,t){!function(e){null!=e&&a.assertObject(e,"Transaction config")}(e),this.timeout=function(e,t){if(a.isObject(e)&&null!=e.timeout){a.assertNumberOrInteger(e.timeout,"Transaction timeout"),function(e){return"number"==typeof e.timeout&&!Number.isInteger(e.timeout)}(e)&&!0===(null==t?void 0:t.isInfoEnabled())&&(null==t||t.info("Transaction timeout expected to be an integer, got: ".concat(e.timeout,". The value will be rounded up.")));var n=(0,u.int)(e.timeout,{ceilFloat:!0});if(n.isNegative())throw(0,s.newError)("Transaction timeout should not be negative");return n}return null}(e,t),this.metadata=function(e){if(a.isObject(e)&&null!=e.metadata){var t=e.metadata;if(a.assertObject(t,"config.metadata"),0!==Object.keys(t).length)return t}return null}(e)}return e.empty=function(){return c},e.prototype.isEmpty=function(){return Object.values(this).every(function(e){return null==e})},e}();t.TxConfig=l;var c=new l({})},407:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.Url=t.formatIPv6Address=t.formatIPv4Address=t.defaultPortForScheme=t.parseDatabaseUrl=void 0;var i=n(6587),a=function(e,t,n,r,o){this.scheme=e,this.host=t,this.port=n,this.hostAndPort=r,this.query=o};function s(e,t,n){if(""===(e=(null!=e?e:"").trim()))throw new Error("Illegal empty ".concat(t," in URL query '").concat(n,"'"));return e}function u(e){var t="["===e.charAt(0),n="]"===e.charAt(e.length-1);if(t||n){if(t&&n)return e;throw new Error("Illegal IPv6 address ".concat(e))}return"[".concat(e,"]")}function l(e){return"http"===e?7474:"https"===e?7473:7687}t.Url=a,t.parseDatabaseUrl=function(e){var t;(0,i.assertString)(e,"URL");var n,c=function(e){return(e=e.trim()).includes("://")?{schemeMissing:!1,url:e}:{schemeMissing:!0,url:"none://".concat(e)}}(e),f=function(e){function t(e,t){var n=e.indexOf(t);return n>=0?[e.substring(0,n),e[n],e.substring(n+1)]:[e,"",""]}var n,i={};return":"===(n=t(e,":"))[1]&&(i.scheme=decodeURIComponent(n[0]),e=n[2]),"#"===(n=t(e,"#"))[1]&&(i.fragment=decodeURIComponent(n[2]),e=n[0]),"?"===(n=t(e,"?"))[1]&&(i.query=n[2],e=n[0]),e.startsWith("//")?(n=t(e.substr(2),"/"),(i=r(r({},i),function(e){var n,r,i,a={};"@"===(r=e,i=r.lastIndexOf("@"),n=i>=0?[r.substring(0,i),r[i],r.substring(i+1)]:["","",r])[1]&&(a.userInfo=decodeURIComponent(n[0]),e=n[2]);var s=o(function(e){var n=t(e,"["),r=t(n[2],"]");return[r[0],r[2]]}(e),2),u=s[0],l=s[1];return""!==u?(a.host=u,n=t(l,":")):(n=t(e,":"),a.host=n[0]),":"===n[1]&&(a.port=n[2]),a}(n[0]))).path=n[1]+n[2]):i.path=e,i}(c.url),d=c.schemeMissing?null:function(e){return null!=e?(":"===(e=e.trim()).charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e):null}(f.scheme),h=function(e){if(null==e)throw new Error("Unable to extract host from null or undefined URL");return e.trim()}(f.host),p=function(e){if(""===e||null==e)throw new Error("Illegal host ".concat(e));return e.includes(":")?u(e):e}(h),v=function(e,t){var n="string"==typeof e?parseInt(e,10):e;return null==n||isNaN(n)?l(t):n}(f.port,d),g="".concat(p,":").concat(v),y=function(e,t){var n=null!=e?function(e){return"?"===(null==(e=(null!=e?e:"").trim())?void 0:e.charAt(0))&&(e=e.substring(1,e.length)),e}(e):null,r={};return null!=n&&n.split("&").forEach(function(e){var n=e.split("=");if(2!==n.length)throw new Error("Invalid parameters: '".concat(n.toString(),"' in URL '").concat(t,"'."));var o=s(n[0],"key",t),i=s(n[1],"value",t);if(void 0!==r[o])throw new Error("Duplicated query parameters with key '".concat(o,"' in URL '").concat(t,"'"));r[o]=i}),r}(null!==(t=f.query)&&void 0!==t?t:"string"!=typeof(n=f.resourceName)?null:o(n.split("?"),2)[1],e);return new a(d,h,v,g,y)},t.formatIPv4Address=function(e,t){return"".concat(e,":").concat(t)},t.formatIPv6Address=function(e,t){var n=u(e);return"".concat(n,":").concat(t)},t.defaultPortForScheme=l},6587:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.ENCRYPTION_OFF=t.ENCRYPTION_ON=t.equals=t.validateQueryAndParameters=t.toNumber=t.assertValidDate=t.assertNumberOrInteger=t.assertNumber=t.assertString=t.assertObject=t.isString=t.isObject=t.isEmptyObjectOrNull=void 0;var s=i(n(3371)),u=n(4027);function l(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}function c(e,t){if(!f(e))throw new TypeError((0,u.stringify)(t)+" expected to be string but was: "+(0,u.stringify)(e));return e}function f(e){return"[object String]"===Object.prototype.toString.call(e)}t.ENCRYPTION_ON="ENCRYPTION_ON",t.ENCRYPTION_OFF="ENCRYPTION_OFF",t.isEmptyObjectOrNull=function(e){if(null===e)return!0;if(!l(e))return!1;for(var t in e)if(void 0!==e[t])return!1;return!0},t.isObject=l,t.validateQueryAndParameters=function(e,t,n){var r,o,i="",a=null!=t?t:{},s=null!==(r=null==n?void 0:n.skipAsserts)&&void 0!==r&&r;return"string"==typeof e?i=e:e instanceof String?i=e.toString():"object"==typeof e&&null!=e.text&&(i=e.text,a=null!==(o=e.parameters)&&void 0!==o?o:{}),s||(function(e){if(c(e,"Cypher query"),0===e.trim().length)throw new TypeError("Cypher query is expected to be a non-empty string.")}(i),function(e){if(!l(e)){var t=null!=e.constructor?" "+e.constructor.name:"";throw new TypeError("Query parameters are expected to either be undefined/null or an object, given:".concat(t," ").concat(JSON.stringify(e)))}}(a)),{validatedQuery:i,params:a}},t.assertObject=function(e,t){if(!l(e))throw new TypeError(t+" expected to be an object but was: "+(0,u.stringify)(e));return e},t.assertString=c,t.assertNumber=function(e,t){if("number"!=typeof e)throw new TypeError(t+" expected to be a number but was: "+(0,u.stringify)(e));return e},t.assertNumberOrInteger=function(e,t){if("number"!=typeof e&&"bigint"!=typeof e&&!(0,s.isInt)(e))throw new TypeError(t+" expected to be either a number or an Integer object but was: "+(0,u.stringify)(e));return e},t.assertValidDate=function(e,t){if("[object Date]"!==Object.prototype.toString.call(e))throw new TypeError(t+" expected to be a standard JavaScript Date but was: "+(0,u.stringify)(e));if(Number.isNaN(e.getTime()))throw new TypeError(t+" expected to be valid JavaScript Date but its time was NaN: "+(0,u.stringify)(e));return e},t.isString=f,t.equals=function e(t,n){var r,o;if(t===n)return!0;if(null===t||null===n)return!1;if("object"==typeof t&&"object"==typeof n){var i=Object.keys(t),s=Object.keys(n);if(i.length!==s.length)return!1;try{for(var u=a(i),l=u.next();!l.done;l=u.next()){var c=l.value;if(!e(t[c],n[c]))return!1}}catch(e){r={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}return!0}return!1},t.toNumber=function(e){return e instanceof s.default?e.toNumber():"bigint"==typeof e?(0,s.int)(e).toNumber():e}},4027:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=void 0;var r=n(93);t.stringify=function(e,t){return JSON.stringify(e,function(e,n){return(0,r.isBrokenObject)(n)?{__isBrokenObject__:!0,__reason__:(0,r.getBrokenObjectReason)(n)}:"bigint"==typeof n?"".concat(n,"n"):!0!==(null==t?void 0:t.useCustomToString)||"object"!=typeof n||Array.isArray(n)||"function"!=typeof n.toString||n.toString===Object.prototype.toString?n:null==n?void 0:n.toString()})}},1985:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.notificationFilterDisabledClassification=t.notificationFilterDisabledCategory=t.notificationFilterMinimumSeverityLevel=void 0;var n={OFF:"OFF",WARNING:"WARNING",INFORMATION:"INFORMATION"};t.notificationFilterMinimumSeverityLevel=n,Object.freeze(n);var r={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",DEPRECATION:"DEPRECATION",GENERIC:"GENERIC",SCHEMA:"SCHEMA"};t.notificationFilterDisabledCategory=r,Object.freeze(r);var o=r;t.notificationFilterDisabledClassification=o,t.default=function(){throw this.minimumSeverityLevel=void 0,this.disabledCategories=void 0,this.disabledClassifications=void 0,new Error("Not implemented")}},1866:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.buildNotificationsFromMetadata=t.buildGqlStatusObjectFromMetadata=t.polyfillNotification=t.polyfillGqlStatusObject=t.GqlStatusObject=t.Notification=t.notificationClassification=t.notificationCategory=t.notificationSeverityLevel=void 0;var l=a(n(4027)),c=n(6995),f=n(1053),d={WARNING:{gql_status:"01N42",status_description:"warn: unknown warning"},NO_DATA:{gql_status:"02N42",status_description:"note: no data - unknown subcondition"},INFORMATION:{gql_status:"03N42",status_description:"info: unknown notification"},ERROR:{gql_status:"50N42",status_description:"error: general processing exception - unexpected error"}},h={WARNING:"WARNING",INFORMATION:"INFORMATION",UNKNOWN:"UNKNOWN"};t.notificationSeverityLevel=h,Object.freeze(h);var p=Object.values(h),v={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",DEPRECATION:"DEPRECATION",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",GENERIC:"GENERIC",SCHEMA:"SCHEMA",UNKNOWN:"UNKNOWN"};t.notificationCategory=v,Object.freeze(v);var g=Object.values(v),y=v;t.notificationClassification=y;var m=function(e){this.code=e.code,this.title=e.title,this.description=e.description,this.severity=e.severity,this.position=S(e.position),this.severityLevel=T(e.severity),this.rawSeverityLevel=e.severity,this.category=P(e.category),this.rawCategory=e.category};t.Notification=m;var b=function(){function e(e){var t;this.gqlStatus=e.gql_status,this.statusDescription=e.status_description,this.diagnosticRecord=null!==(t=e.diagnostic_record)&&void 0!==t?t:{},this.position=null!=this.diagnosticRecord._position?S(this.diagnosticRecord._position):void 0,this.severity=T(this.diagnosticRecord._severity),this.rawSeverity=this.diagnosticRecord._severity,this.classification=P(this.diagnosticRecord._classification),this.rawClassification=this.diagnosticRecord._classification,this.isNotification=null!=e.neo4j_code,Object.freeze(this)}return Object.defineProperty(e.prototype,"diagnosticRecordAsJsonString",{get:function(){return l.stringify(this.diagnosticRecord,{useCustomToString:!0})},enumerable:!1,configurable:!0}),e}();function _(e){var t,n,r;if(null!=e.neo4j_code)return new m({code:e.neo4j_code,title:e.title,description:e.description,severity:null===(t=e.diagnostic_record)||void 0===t?void 0:t._severity,category:null===(n=e.diagnostic_record)||void 0===n?void 0:n._classification,position:null===(r=e.diagnostic_record)||void 0===r?void 0:r._position})}function w(e){var t,n=e.severity===h.WARNING?d.WARNING:d.INFORMATION,o={gql_status:n.gql_status,status_description:null!==(t=e.description)&&void 0!==t?t:n.status_description,neo4j_code:e.code,title:e.title,diagnostic_record:r({},f.rawPolyfilledDiagnosticRecord)};return null!=e.severity&&(o.diagnostic_record._severity=e.severity),null!=e.category&&(o.diagnostic_record._classification=e.category),null!=e.position&&(o.diagnostic_record._position=e.position),new b(o)}t.GqlStatusObject=b,t.polyfillNotification=_,t.polyfillGqlStatusObject=w;var x={SUCCESS:new b({gql_status:"00000",status_description:"note: successful completion",diagnostic_record:f.rawPolyfilledDiagnosticRecord}),NO_DATA:new b({gql_status:"02000",status_description:"note: no data",diagnostic_record:f.rawPolyfilledDiagnosticRecord}),NO_DATA_UNKNOWN_SUBCONDITION:new b(r(r({},d.NO_DATA),{diagnostic_record:f.rawPolyfilledDiagnosticRecord})),OMITTED_RESULT:new b({gql_status:"00001",status_description:"note: successful completion - omitted result",diagnostic_record:f.rawPolyfilledDiagnosticRecord})};Object.freeze(x),t.buildGqlStatusObjectFromMetadata=function(e){var t,n;if(null!=e.statuses)return e.statuses.map(function(e){return new b(e)});var r,o=!0===(null==(r=e.stream_summary)?void 0:r.have_records_streamed)?x.SUCCESS:!1===(null==r?void 0:r.has_keys)?x.OMITTED_RESULT:!0===(null==r?void 0:r.pulled)?x.NO_DATA:x.NO_DATA_UNKNOWN_SUBCONDITION;return u([o],s(null!==(n=null===(t=e.notifications)||void 0===t?void 0:t.map(w))&&void 0!==n?n:[]),!1).sort(function(e,t){return O(e)-O(t)})};var E=Object.freeze({"02":0,"01":1,"00":2});function O(e){var t,n,r=null===(t=e.gqlStatus)||void 0===t?void 0:t.slice(0,2);return null!==(n=E[r])&&void 0!==n?n:9999}function S(e){return null==e?{}:{offset:c.util.toNumber(e.offset),line:c.util.toNumber(e.line),column:c.util.toNumber(e.column)}}function T(e){return p.includes(e)?e:h.UNKNOWN}function P(e){return g.includes(e)?e:y.UNKNOWN}t.buildNotificationsFromMetadata=function(e){return null!=e.notifications?e.notifications.map(function(e){return new m(e)}):null!=e.statuses?e.statuses.map(_).filter(function(e){return null!=e}):[]},t.default=m},4820:function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9691),s=function(){function e(e,t,n){this.keys=e,this.length=e.length,this._fields=t,this._fieldLookup=null!=n?n:function(e){var t={};return e.forEach(function(e,n){t[e]=n}),t}(e)}return e.prototype.forEach=function(e){var t,n;try{for(var r=o(this.entries()),a=r.next();!a.done;a=r.next()){var s=i(a.value,2),u=s[0];e(s[1],u,this)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.map=function(e){var t,n,r=[];try{for(var a=o(this.entries()),s=a.next();!s.done;s=a.next()){var u=i(s.value,2),l=u[0],c=u[1];r.push(e(c,l,this))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},e.prototype.entries=function(){var e;return r(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this.keys.length?[4,[this.keys[e],this._fields[e]]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})},e.prototype.values=function(){var e;return r(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this.keys.length?[4,this._fields[e]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})},e.prototype[Symbol.iterator]=function(){var e;return r(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this.keys.length?[4,this._fields[e]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})},e.prototype.toObject=function(){var e,t,n={};try{for(var r=o(this.entries()),a=r.next();!a.done;a=r.next()){var s=i(a.value,2),u=s[0],l=s[1];n[u]=l}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.get=function(e){var t;if("number"!=typeof e){if(void 0===(t=this._fieldLookup[e]))throw(0,a.newError)("This record has no field with key '".concat(e.toString(),"', available keys are: [")+this.keys.toString()+"].")}else t=e;if(t>this._fields.length-1||t<0)throw(0,a.newError)("This record has no field with index '"+t.toString()+"'. Remember that indexes start at `0`, and make sure your query returns records in the shape you meant it to.");return this._fields[t]},e.prototype.has=function(e){return"number"==typeof e?e>=0&&e<this._fields.length:void 0!==this._fieldLookup[e]},e}();t.default=s},8917:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){this.keys=e,this.records=t,this.summary=n}},6033:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Stats=t.QueryStatistics=t.ProfiledPlan=t.Plan=t.ServerInfo=t.queryType=void 0;var r=n(6995),o=n(1866),i=function(){function e(e,t,n,r){var i,c,f;this.query={text:e,parameters:t},this.queryType=n.type,this.counters=new u(null!==(i=n.stats)&&void 0!==i?i:{}),this.updateStatistics=this.counters,this.plan=(null!=n.plan||null!=n.profile)&&new a(null!==(c=n.plan)&&void 0!==c?c:n.profile),this.profile=null!=n.profile&&new s(n.profile),this.notifications=(0,o.buildNotificationsFromMetadata)(n),this.gqlStatusObjects=(0,o.buildGqlStatusObjectFromMetadata)(n),this.server=new l(n.server,r),this.resultConsumedAfter=n.result_consumed_after,this.resultAvailableAfter=n.result_available_after,this.database={name:null!==(f=n.db)&&void 0!==f?f:null}}return e.prototype.hasPlan=function(){return this.plan instanceof a},e.prototype.hasProfile=function(){return this.profile instanceof s},e}(),a=function e(t){this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.children=null!=t.children?t.children.map(function(t){return new e(t)}):[]};t.Plan=a;var s=function(){function e(t){this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.dbHits=c("dbHits",t),this.rows=c("rows",t),this.pageCacheMisses=c("pageCacheMisses",t),this.pageCacheHits=c("pageCacheHits",t),this.pageCacheHitRatio=c("pageCacheHitRatio",t),this.time=c("time",t),this.children=null!=t.children?t.children.map(function(t){return new e(t)}):[]}return e.prototype.hasPageCacheStats=function(){return this.pageCacheMisses>0||this.pageCacheHits>0||this.pageCacheHitRatio>0},e}();t.ProfiledPlan=s,t.Stats=function(){this.nodesCreated=0,this.nodesDeleted=0,this.relationshipsCreated=0,this.relationshipsDeleted=0,this.propertiesSet=0,this.labelsAdded=0,this.labelsRemoved=0,this.indexesAdded=0,this.indexesRemoved=0,this.constraintsAdded=0,this.constraintsRemoved=0};var u=function(){function e(e){var t=this;this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},this._systemUpdates=0,Object.keys(e).forEach(function(n){var o=n.replace(/(-\w)/g,function(e){return e[1].toUpperCase()});o in t._stats?t._stats[o]=r.util.toNumber(e[n]):"systemUpdates"===o?t._systemUpdates=r.util.toNumber(e[n]):"containsSystemUpdates"===o?t._containsSystemUpdates=e[n]:"containsUpdates"===o&&(t._containsUpdates=e[n])}),this._stats=Object.freeze(this._stats)}return e.prototype.containsUpdates=function(){var e=this;return void 0!==this._containsUpdates?this._containsUpdates:Object.keys(this._stats).reduce(function(t,n){return t+e._stats[n]},0)>0},e.prototype.updates=function(){return this._stats},e.prototype.containsSystemUpdates=function(){return void 0!==this._containsSystemUpdates?this._containsSystemUpdates:this._systemUpdates>0},e.prototype.systemUpdates=function(){return this._systemUpdates},e}();t.QueryStatistics=u;var l=function(e,t){null!=e&&(this.address=e.address,this.agent=e.version),this.protocolVersion=t};function c(e,t,n){if(void 0===n&&(n=0),!1!==t&&e in t){var o=t[e];return r.util.toNumber(o)}return n}t.ServerInfo=l,t.queryType={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"},t.default=i},1573:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(8917)),s=n(9691),u=new(function(){function e(){}return e.prototype.eagerResultTransformer=function(){return l},e.prototype.eager=function(){return l},e.prototype.mappedResultTransformer=function(e){return c(e)},e.prototype.mapped=function(e){return c(e)},e.prototype.first=function(){return f},e.prototype.summary=function(){return d},e}());function l(e){return r(this,void 0,void 0,function(){var t,n,r,i;return o(this,function(o){switch(o.label){case 0:return[4,e];case 1:return t=o.sent(),n=t.summary,r=t.records,[4,e.keys()];case 2:return i=o.sent(),[2,new a.default(i,r,n)]}})})}function c(e){var t=this;if(null==e||null==e.collect&&null==e.map)throw(0,s.newError)("Requires a map or/and a collect functions.");return function(n){return r(t,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t,r){var o={records:[],keys:[]};n.subscribe({onKeys:function(e){o.keys=e},onNext:function(t){if(null!=e.map){var n=e.map(t);void 0!==n&&o.records.push(n)}else o.records.push(t)},onCompleted:function(n){if(null!=e.collect)t(e.collect(o.records,n,o.keys));else{var r={records:o.records,summary:n,keys:o.keys};t(r)}},onError:function(e){r(e)}})})];case 1:return[2,t.sent()]}})})}}function f(e){return r(this,void 0,void 0,function(){var t,n,r,i;return o(this,function(o){switch(o.label){case 0:return[4,(t=e[Symbol.asyncIterator]()).next()];case 1:n=o.sent(),r=n.value,i=n.done,o.label=2;case 2:return o.trys.push([2,,3,6]),!0===i?[2,void 0]:[2,r];case 3:return null==t.return?[3,5]:[4,t.return()];case 4:o.sent(),o.label=5;case 5:return[7];case 6:return[2]}})})}function d(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,e.summary()];case 1:return[2,t.sent()]}})})}Object.freeze(u),t.default=u},9512:function(e,t,n){var r,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(6033)),u=n(6995),l=n(9691),c=u.connectionHolder.EMPTY_CONNECTION_HOLDER,f=function(e){console.log("Uncaught error when processing result: "+e)},d=function(e){},h=function(e){},p=function(){function e(e,t,n,o,i){var a;void 0===i&&(i={high:Number.MAX_VALUE,low:Number.MAX_VALUE}),this[r]="Result",this._stack=null!=(a=new Error("")).stack?a.stack.replace(/^Error(\n\r)*/,""):null,this._streamObserverPromise=e,this._p=null,this._query=t,this._parameters=null!=n?n:{},this._connectionHolder=null!=o?o:c,this._keys=null,this._summary=null,this._error=null,this._watermarks=i}return e.prototype.keys=function(){var e=this;return null!==this._keys?Promise.resolve(this._keys):null!==this._error?Promise.reject(this._error):new Promise(function(t,n){e._streamObserverPromise.then(function(r){return r.subscribe(e._decorateObserver({onKeys:function(e){return t(e)},onError:function(e){return n(e)}}))}).catch(n)})},e.prototype.summary=function(){var e=this;return null!==this._summary?Promise.resolve(this._summary):null!==this._error?Promise.reject(this._error):new Promise(function(t,n){e._streamObserverPromise.then(function(r){r.cancel(),r.subscribe(e._decorateObserver({onCompleted:function(e){return t(e)},onError:function(e){return n(e)}}))}).catch(n)})},e.prototype._getOrCreatePromise=function(){var e=this;return null==this._p&&(this._p=new Promise(function(t,n){var r=[],o={onNext:function(e){r.push(e)},onCompleted:function(e){t({records:r,summary:e})},onError:function(e){n(e)}};e.subscribe(o)})),this._p},e.prototype[Symbol.asyncIterator]=function(){var e=this;if(!this.isOpen()){var t=(0,l.newError)("Result is already consumed");return{next:function(){return Promise.reject(t)},peek:function(){return Promise.reject(t)}}}var n={paused:!0,firstRun:!0,finished:!1},r=function(){var t,r;if(null!=n.streaming){var o=null!==(r=null===(t=n.queuedObserver)||void 0===t?void 0:t.size)&&void 0!==r?r:0,i=o>=e._watermarks.high,a=o<=e._watermarks.low;i&&!n.paused?(n.paused=!0,n.streaming.pause()):(a&&n.paused||n.firstRun&&!i)&&(n.firstRun=!1,n.paused=!1,n.streaming.resume())}},a=function(){return o(e,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return void 0!==n.queuedObserver?[3,2]:(n.queuedObserver=this._createQueuedResultObserver(r),e=n,[4,this._subscribe(n.queuedObserver,!0).catch(function(){})]);case 1:e.streaming=t.sent(),r(),t.label=2;case 2:return[2,n.queuedObserver]}})})},s=function(e){if(void 0===e)throw(0,l.newError)("InvalidState: Result stream finished without Summary",l.PROTOCOL_ERROR);return!0};return{next:function(){return o(e,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return n.finished&&s(n.summary)?[2,{done:!0,value:n.summary}]:[4,a()];case 1:return[4,t.sent().dequeue()];case 2:return!0===(e=t.sent()).done&&(n.finished=e.done,n.summary=e.value),[2,e]}})})},return:function(t){return o(e,void 0,void 0,function(){var e,r;return i(this,function(o){switch(o.label){case 0:return n.finished&&s(n.summary)?[2,{done:!0,value:null!=t?t:n.summary}]:(null===(r=n.streaming)||void 0===r||r.cancel(),[4,a()]);case 1:return[4,o.sent().dequeueUntilDone()];case 2:return e=o.sent(),n.finished=!0,e.value=null!=t?t:e.value,n.summary=e.value,[2,e]}})})},peek:function(){return o(e,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return n.finished&&s(n.summary)?[2,{done:!0,value:n.summary}]:[4,a()];case 1:return[4,e.sent().head()];case 2:return[2,e.sent()]}})})}}},e.prototype.then=function(e,t){return this._getOrCreatePromise().then(e,t)},e.prototype.catch=function(e){return this._getOrCreatePromise().catch(e)},e.prototype.finally=function(e){return this._getOrCreatePromise().finally(e)},e.prototype.subscribe=function(e){this._subscribe(e).catch(function(){})},e.prototype.isOpen=function(){return null===this._summary&&null===this._error},e.prototype._subscribe=function(e,t){void 0===t&&(t=!1);var n=this._decorateObserver(e);return this._streamObserverPromise.then(function(e){return t&&e.pause(),e.subscribe(n),e}).catch(function(e){return null!=n.onError&&n.onError(e),Promise.reject(e)})},e.prototype._decorateObserver=function(e){var t,n,r,o=this,i=null!==(t=e.onCompleted)&&void 0!==t?t:d,a=null!==(n=e.onError)&&void 0!==n?n:f,s=null!==(r=e.onKeys)&&void 0!==r?r:h;return{onNext:null!=e.onNext?e.onNext.bind(e):void 0,onKeys:function(t){return o._keys=t,s.call(e,t)},onCompleted:function(t){o._releaseConnectionAndGetSummary(t).then(function(t){return null!==o._summary?i.call(e,o._summary):(o._summary=t,i.call(e,t))}).catch(a)},onError:function(t){o._connectionHolder.releaseConnection().then(function(){!function(e,t){null!=t&&(e.stack=e.toString()+"\n"+t)}(t,o._stack),o._error=t,a.call(e,t)}).catch(a)}}},e.prototype._cancel=function(){null===this._summary&&null===this._error&&this._streamObserverPromise.then(function(e){return e.cancel()}).catch(function(){})},e.prototype._releaseConnectionAndGetSummary=function(e){var t=u.util.validateQueryAndParameters(this._query,this._parameters,{skipAsserts:!0}),n=t.validatedQuery,r=t.params,o=this._connectionHolder;return o.getConnection().then(function(e){return o.releaseConnection().then(function(){return null==e?void 0:e.getProtocolVersion()})},function(e){}).then(function(t){return new s.default(n,r,e,t)})},e.prototype._createQueuedResultObserver=function(e){var t=this;function n(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}function r(e){return e instanceof Error}function a(){var t;return o(this,void 0,void 0,function(){var o;return i(this,function(i){switch(i.label){case 0:if(s.length>0){if(o=null!==(t=s.shift())&&void 0!==t?t:(0,l.newError)("Unexpected empty buffer",l.PROTOCOL_ERROR),e(),r(o))throw o;return[2,o]}return u.resolvable=n(),[4,u.resolvable.promise];case 1:return[2,i.sent()]}})})}var s=[],u={resolvable:null},c={onNext:function(e){c._push({done:!1,value:e})},onCompleted:function(e){c._push({done:!0,value:e})},onError:function(e){c._push(e)},_push:function(t){if(null!==u.resolvable){var n=u.resolvable;u.resolvable=null,r(t)?n.reject(t):n.resolve(t)}else s.push(t),e()},dequeue:a,dequeueUntilDone:function(){return o(t,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,a()];case 1:return!0===(e=t.sent()).done?[2,e]:[3,0];case 2:return[2]}})})},head:function(){return o(t,void 0,void 0,function(){var t,o;return i(this,function(i){switch(i.label){case 0:if(s.length>0){if(r(t=s[0]))throw t;return[2,t]}u.resolvable=n(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,u.resolvable.promise];case 2:return t=i.sent(),s.unshift(t),[2,t];case 3:throw o=i.sent(),s.unshift(o),o;case 4:return e(),[7];case 5:return[2]}})})},get size(){return s.length}};return c},e}();r=Symbol.toStringTag,t.default=p},5481:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(2696),l=n(6587),c=n(326),f=n(9691),d=s(n(9512)),h=n(3618),p=n(6189),v=n(9730),g=n(754),y=s(n(4569)),m=s(n(5909)),b=function(){function e(e){var t=e.mode,n=e.connectionProvider,r=e.bookmarks,o=e.database,i=e.config,a=e.reactive,s=e.fetchSize,u=e.impersonatedUser,l=e.bookmarkManager,f=e.notificationFilter,d=e.auth,g=e.log;this._mode=t,this._database=o,this._reactive=a,this._fetchSize=s,this._onDatabaseNameResolved=this._onDatabaseNameResolved.bind(this),this._getConnectionAcquistionBookmarks=this._getConnectionAcquistionBookmarks.bind(this),this._readConnectionHolder=new h.ConnectionHolder({mode:c.ACCESS_MODE_READ,auth:d,database:o,bookmarks:r,connectionProvider:n,impersonatedUser:u,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:g}),this._writeConnectionHolder=new h.ConnectionHolder({mode:c.ACCESS_MODE_WRITE,auth:d,database:o,bookmarks:r,connectionProvider:n,impersonatedUser:u,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:g}),this._open=!0,this._hasTx=!1,this._impersonatedUser=u,this._lastBookmarks=null!=r?r:v.Bookmarks.empty(),this._configuredBookmarks=this._lastBookmarks,this._transactionExecutor=function(e){var t,n=null!==(t=null==e?void 0:e.maxTransactionRetryTime)&&void 0!==t?t:null;return new p.TransactionExecutor(n)}(i),this._databaseNameResolved=""!==this._database;var y=this._calculateWatermaks();this._lowRecordWatermark=y.low,this._highRecordWatermark=y.high,this._results=[],this._bookmarkManager=l,this._notificationFilter=f,this._log=g}return e.prototype.run=function(e,t,n){var i=this,a=(0,l.validateQueryAndParameters)(e,t),s=a.validatedQuery,u=a.params,f=null!=n?new g.TxConfig(n,this._log):g.TxConfig.empty(),d=this._run(s,u,function(e){return r(i,void 0,void 0,function(){var t,n=this;return o(this,function(r){switch(r.label){case 0:return[4,this._bookmarks()];case 1:return t=r.sent(),this._assertSessionIsOpen(),[2,e.run(s,u,{bookmarks:t,txConfig:f,mode:this._mode,database:this._database,apiTelemetryConfig:{api:c.TELEMETRY_APIS.AUTO_COMMIT_TRANSACTION},impersonatedUser:this._impersonatedUser,afterComplete:function(e){return n._onCompleteCallback(e,t)},reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter})]}})})});return this._results.push(d),d},e.prototype._run=function(e,t,n){var r=this._acquireAndConsumeConnection(n),o=r.connectionHolder,i=r.resultPromise.catch(function(e){return Promise.resolve(new u.FailedObserver({error:e}))}),a={high:this._highRecordWatermark,low:this._lowRecordWatermark};return new d.default(i,e,t,o,a)},e.prototype._acquireConnection=function(e){var t=this,n=this._acquireAndConsumeConnection(e),i=n.connectionHolder;return n.resultPromise.then(function(e){return r(t,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,i.releaseConnection()];case 1:return t.sent(),[2,e]}})})})},e.prototype._acquireAndConsumeConnection=function(e){var t,n=this._connectionHolderWithMode(this._mode);return t=this._open?!this._hasTx&&n.initializeConnection()?n.getConnection().then(function(t){return e(t)}):Promise.reject((0,f.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")):Promise.reject((0,f.newError)("Cannot run query in a closed session.")),{connectionHolder:n,resultPromise:t}},e.prototype.beginTransaction=function(e){var t=e,n=g.TxConfig.empty();return null!=t&&(n=new g.TxConfig(t,this._log)),this._beginTransaction(this._mode,n,{api:c.TELEMETRY_APIS.UNMANAGED_TRANSACTION})},e.prototype._beginTransaction=function(t,n,r){var o=this;if(!this._open)throw(0,f.newError)("Cannot begin a transaction on a closed session.");if(this._hasTx)throw(0,f.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");var i=e._validateSessionMode(t),a=this._connectionHolderWithMode(i);a.initializeConnection(),this._hasTx=!0;var s=new y.default({connectionHolder:a,impersonatedUser:this._impersonatedUser,onClose:this._transactionClosed.bind(this),onBookmarks:function(e,t,n){return o._updateBookmarks(e,t,n)},onConnection:this._assertSessionIsOpen.bind(this),reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter,apiTelemetryConfig:r});return s._begin(function(){return o._bookmarks()},n),s},e.prototype._assertSessionIsOpen=function(){if(!this._open)throw(0,f.newError)("You cannot run more transactions on a closed session.")},e.prototype._transactionClosed=function(){this._hasTx=!1},e.prototype.lastBookmark=function(){return this.lastBookmarks()},e.prototype.lastBookmarks=function(){return this._lastBookmarks.values()},e.prototype._bookmarks=function(){var e;return r(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return[4,null===(e=this._bookmarkManager)||void 0===e?void 0:e.getBookmarks()];case 1:return void 0===(t=n.sent())?[2,this._lastBookmarks]:[2,new v.Bookmarks(a(a([],i(t),!1),i(this._configuredBookmarks),!1))]}})})},e.prototype.readTransaction=function(e,t){var n=new g.TxConfig(t,this._log);return this._runTransaction(c.ACCESS_MODE_READ,n,e)},e.prototype.writeTransaction=function(e,t){var n=new g.TxConfig(t,this._log);return this._runTransaction(c.ACCESS_MODE_WRITE,n,e)},e.prototype._runTransaction=function(e,t,n){var r=this;return this._transactionExecutor.execute(function(n){return r._beginTransaction(e,t,n)},n)},e.prototype.executeRead=function(e,t){var n=new g.TxConfig(t,this._log);return this._executeInTransaction(c.ACCESS_MODE_READ,n,e)},e.prototype.executeWrite=function(e,t){var n=new g.TxConfig(t,this._log);return this._executeInTransaction(c.ACCESS_MODE_WRITE,n,e)},e.prototype._executeInTransaction=function(e,t,n){var r=this;return this._transactionExecutor.execute(function(n){return r._beginTransaction(e,t,n)},n,m.default.fromTransaction)},e.prototype._onDatabaseNameResolved=function(e){if(!this._databaseNameResolved){var t=null!=e?e:"";this._database=t,this._readConnectionHolder.setDatabase(t),this._writeConnectionHolder.setDatabase(t),this._databaseNameResolved=!0}},e.prototype._getConnectionAcquistionBookmarks=function(){var e;return r(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return[4,null===(e=this._bookmarkManager)||void 0===e?void 0:e.getBookmarks()];case 1:return void 0===(t=n.sent())?[2,this._lastBookmarks]:[2,new v.Bookmarks(a(a([],i(this._configuredBookmarks),!1),i(t),!1))]}})})},e.prototype._updateBookmarks=function(e,t,n){var r,o,i;null==e||e.isEmpty()||(null===(r=this._bookmarkManager)||void 0===r||r.updateBookmarks(null!==(o=null==t?void 0:t.values())&&void 0!==o?o:[],null!==(i=null==e?void 0:e.values())&&void 0!==i?i:[]).catch(function(){}),this._lastBookmarks=e,this._configuredBookmarks=v.Bookmarks.empty())},e.prototype.close=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this._open?(this._open=!1,this._results.forEach(function(e){return e._cancel()}),this._transactionExecutor.close(),[4,this._readConnectionHolder.close(this._hasTx)]):[3,3];case 1:return e.sent(),[4,this._writeConnectionHolder.close(this._hasTx)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype._connectionHolderWithMode=function(e){if(e===c.ACCESS_MODE_READ)return this._readConnectionHolder;if(e===c.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,f.newError)("Unknown access mode: "+e)},e.prototype._onCompleteCallback=function(e,t){this._updateBookmarks(new v.Bookmarks(e.bookmark),t,e.db)},e.prototype._calculateWatermaks=function(){return this._fetchSize===c.FETCH_ALL?{low:Number.MAX_VALUE,high:Number.MAX_VALUE}:{low:.3*this._fetchSize,high:.7*this._fetchSize}},e.prototype._configureTransactionExecutor=function(e,t){this._transactionExecutor.pipelineBegin=e,this._transactionExecutor.telemetryApi=t},e._validateSessionMode=function(e){var t=null!=e?e:c.ACCESS_MODE_WRITE;if(t!==c.ACCESS_MODE_READ&&t!==c.ACCESS_MODE_WRITE)throw(0,f.newError)("Illegal session mode "+t);return t},e}();t.default=b},7093:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isPoint=t.Point=void 0;var r=n(6587),o="__isPoint__",i=function(){function e(e,t,n,o){this.srid=(0,r.assertNumberOrInteger)(e,"SRID"),this.x=(0,r.assertNumber)(t,"X coordinate"),this.y=(0,r.assertNumber)(n,"Y coordinate"),this.z=null==o?o:(0,r.assertNumber)(o,"Z coordinate"),Object.freeze(this)}return e.prototype.toString=function(){return null==this.z||isNaN(this.z)?"Point{srid=".concat(a(this.srid),", x=").concat(a(this.x),", y=").concat(a(this.y),"}"):"Point{srid=".concat(a(this.srid),", x=").concat(a(this.x),", y=").concat(a(this.y),", z=").concat(a(this.z),"}")},e}();function a(e){return Number.isInteger(e)?e.toString()+".0":e.toString()}t.Point=i,Object.defineProperty(i.prototype,o,{value:!0,enumerable:!1,configurable:!1,writable:!1}),t.isPoint=function(e){return null!=e&&!0===e[o]}},5459:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.isDateTime=t.DateTime=t.isLocalDateTime=t.LocalDateTime=t.isDate=t.Date=t.isTime=t.Time=t.isLocalTime=t.LocalTime=t.isDuration=t.Duration=void 0;var s=i(n(5022)),u=n(6587),l=n(9691),c=i(n(3371)),f={value:!0,enumerable:!1,configurable:!1,writable:!1},d="__isDuration__",h="__isLocalTime__",p="__isTime__",v="__isDate__",g="__isLocalDateTime__",y="__isDateTime__",m=function(){function e(e,t,n,r){this.months=(0,u.assertNumberOrInteger)(e,"Months"),this.days=(0,u.assertNumberOrInteger)(t,"Days"),(0,u.assertNumberOrInteger)(n,"Seconds"),(0,u.assertNumberOrInteger)(r,"Nanoseconds"),this.seconds=s.normalizeSecondsForDuration(n,r),this.nanoseconds=s.normalizeNanosecondsForDuration(r),Object.freeze(this)}return e.prototype.toString=function(){return s.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)},e}();t.Duration=m,Object.defineProperty(m.prototype,d,f),t.isDuration=function(e){return O(e,d)};var b=function(){function e(e,t,n,r){this.hour=s.assertValidHour(e),this.minute=s.assertValidMinute(t),this.second=s.assertValidSecond(n),this.nanosecond=s.assertValidNanosecond(r),Object.freeze(this)}return e.fromStandardDate=function(t,n){T(t,n);var r=s.totalNanoseconds(t,n);return new e(t.getHours(),t.getMinutes(),t.getSeconds(),r instanceof c.default?r.toInt():"bigint"==typeof r?(0,c.int)(r).toInt():r)},e.prototype.toString=function(){return s.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)},e}();t.LocalTime=b,Object.defineProperty(b.prototype,h,f),t.isLocalTime=function(e){return O(e,h)};var _=function(){function e(e,t,n,r,o){this.hour=s.assertValidHour(e),this.minute=s.assertValidMinute(t),this.second=s.assertValidSecond(n),this.nanosecond=s.assertValidNanosecond(r),this.timeZoneOffsetSeconds=(0,u.assertNumberOrInteger)(o,"Time zone offset in seconds"),Object.freeze(this)}return e.fromStandardDate=function(t,n){return T(t,n),new e(t.getHours(),t.getMinutes(),t.getSeconds(),(0,c.toNumber)(s.totalNanoseconds(t,n)),s.timeZoneOffsetInSeconds(t))},e.prototype.toString=function(){return s.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+s.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)},e}();t.Time=_,Object.defineProperty(_.prototype,p,f),t.isTime=function(e){return O(e,p)};var w=function(){function e(e,t,n){this.year=s.assertValidYear(e),this.month=s.assertValidMonth(t),this.day=s.assertValidDay(n),Object.freeze(this)}return e.fromStandardDate=function(t){return T(t),new e(t.getFullYear(),t.getMonth()+1,t.getDate())},e.prototype.toStandardDate=function(){return s.isoStringToStandardDate(this.toString())},e.prototype.toString=function(){return s.dateToIsoString(this.year,this.month,this.day)},e}();t.Date=w,Object.defineProperty(w.prototype,v,f),t.isDate=function(e){return O(e,v)};var x=function(){function e(e,t,n,r,o,i,a){this.year=s.assertValidYear(e),this.month=s.assertValidMonth(t),this.day=s.assertValidDay(n),this.hour=s.assertValidHour(r),this.minute=s.assertValidMinute(o),this.second=s.assertValidSecond(i),this.nanosecond=s.assertValidNanosecond(a),Object.freeze(this)}return e.fromStandardDate=function(t,n){return T(t,n),new e(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),(0,c.toNumber)(s.totalNanoseconds(t,n)))},e.prototype.toStandardDate=function(){return s.isoStringToStandardDate(this.toString())},e.prototype.toString=function(){return S(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)},e}();t.LocalDateTime=x,Object.defineProperty(x.prototype,g,f),t.isLocalDateTime=function(e){return O(e,g)};var E=function(){function e(e,t,n,r,o,i,c,f,d){this.year=s.assertValidYear(e),this.month=s.assertValidMonth(t),this.day=s.assertValidDay(n),this.hour=s.assertValidHour(r),this.minute=s.assertValidMinute(o),this.second=s.assertValidSecond(i),this.nanosecond=s.assertValidNanosecond(c);var h=a(function(e,t){var n=null!=e,r=null!=t&&""!==t;if(!n&&!r)throw(0,l.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: ".concat(e," and id: ").concat(t));var o=[void 0,void 0];return n&&((0,u.assertNumberOrInteger)(e,"Time zone offset in seconds"),o[0]=e),r&&((0,u.assertString)(t,"Time zone ID"),s.assertValidZoneId("Time zone ID",t),o[1]=t),o}(f,d),2),p=h[0],v=h[1];this.timeZoneOffsetSeconds=p,this.timeZoneId=null!=v?v:void 0,Object.freeze(this)}return e.fromStandardDate=function(t,n){return T(t,n),new e(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),(0,c.toNumber)(s.totalNanoseconds(t,n)),s.timeZoneOffsetInSeconds(t),null)},e.prototype.toStandardDate=function(){return s.toStandardDate(this._toUTC())},e.prototype.toString=function(){var e;return S(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)+(null!=this.timeZoneOffsetSeconds?s.timeZoneOffsetToIsoString(null!==(e=this.timeZoneOffsetSeconds)&&void 0!==e?e:0):"")+(null!=this.timeZoneId?"[".concat(this.timeZoneId,"]"):"")},e.prototype._toUTC=function(){var e;if(void 0===this.timeZoneOffsetSeconds)throw new Error("Requires DateTime created with time zone offset");var t=s.localDateTimeToEpochSecond(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond).subtract(null!==(e=this.timeZoneOffsetSeconds)&&void 0!==e?e:0);return(0,c.int)(t).multiply(1e3).add((0,c.int)(this.nanosecond).div(1e6)).toNumber()},e}();function O(e,t){return null!=e&&!0===e[t]}function S(e,t,n,r,o,i,a){return s.dateToIsoString(e,t,n)+"T"+s.timeToIsoString(r,o,i,a)}function T(e,t){(0,u.assertValidDate)(e,"Standard date"),null!=t&&(0,u.assertNumberOrInteger)(t,"Nanosecond")}t.DateTime=E,Object.defineProperty(E.prototype,y,f),t.isDateTime=function(e){return O(e,y)}},5909:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=e.run;this._run=t}return e.fromTransaction=function(t){return new e({run:t.run.bind(t)})},e.prototype.run=function(e,t){return this._run(e,t)},e}();t.default=n},4569:function(e,t,n){var r,o,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t){var n=t.connectionHolder,r=t.onClose,i=t.onBookmarks,a=t.onConnection,s=t.reactive,u=t.fetchSize,l=t.impersonatedUser,c=t.highRecordWatermark,f=t.lowRecordWatermark,d=t.notificationFilter,h=t.apiTelemetryConfig,p=e.call(this,{connectionHolder:n,onClose:r,onBookmarks:i,onConnection:a,reactive:s,fetchSize:u,impersonatedUser:l,highRecordWatermark:c,lowRecordWatermark:f,notificationFilter:d,apiTelemetryConfig:h})||this;return p[o]="TransactionPromise",p}return i(t,e),t.prototype.then=function(e,t){return this._getOrCreateBeginPromise().then(e,t)},t.prototype.catch=function(e){return this._getOrCreateBeginPromise().catch(e)},t.prototype.finally=function(e){return this._getOrCreateBeginPromise().finally(e)},t.prototype._getOrCreateBeginPromise=function(){var e=this;return null==this._beginPromise&&(this._beginPromise=new Promise(function(t,n){e._resolve=t,e._reject=n,null!=e._beginError&&n(e._beginError),null!=e._beginMetadata&&t(e._toTransaction())})),this._beginPromise},t.prototype._toTransaction=function(){return a(a({},this),{run:e.prototype.run.bind(this),commit:e.prototype.commit.bind(this),rollback:e.prototype.rollback.bind(this),close:e.prototype.close.bind(this),isOpen:e.prototype.isOpen.bind(this),_begin:this._begin.bind(this)})},t.prototype._begin=function(t,n){return e.prototype._begin.call(this,t,n,{onError:this._onBeginError.bind(this),onComplete:this._onBeginMetadata.bind(this)})},t.prototype._onBeginError=function(e){this._beginError=e,null!=this._reject&&this._reject(e)},t.prototype._onBeginMetadata=function(e){this._beginMetadata=null!=e?e:{},null!=this._resolve&&this._resolve(this._toTransaction())},t}(s(n(9473)).default);o=Symbol.toStringTag,t.default=u},9473:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6587),s=n(3618),u=n(9730),l=n(754),c=n(2696),f=n(9691),d=i(n(9512)),h=function(){function e(e){var t=e.connectionHolder,n=e.onClose,r=e.onBookmarks,o=e.onConnection,i=e.reactive,a=e.fetchSize,s=e.impersonatedUser,l=e.highRecordWatermark,c=e.lowRecordWatermark,f=e.notificationFilter,d=e.apiTelemetryConfig,h=this;this._connectionHolder=t,this._reactive=i,this._state=p.ACTIVE,this._onClose=n,this._onBookmarks=r,this._onConnection=o,this._onError=this._onErrorCallback.bind(this),this._fetchSize=a,this._onComplete=this._onCompleteCallback.bind(this),this._results=[],this._impersonatedUser=s,this._lowRecordWatermak=c,this._highRecordWatermark=l,this._bookmarks=u.Bookmarks.empty(),this._notificationFilter=f,this._apiTelemetryConfig=d,this._acceptActive=function(){},this._activePromise=new Promise(function(e,t){h._acceptActive=e})}return e.prototype._begin=function(e,t,n){var i=this;this._connectionHolder.getConnection().then(function(a){return r(i,void 0,void 0,function(){var r,i=this;return o(this,function(o){switch(o.label){case 0:return this._onConnection(),null==a?[3,2]:(r=this,[4,e()]);case 1:return r._bookmarks=o.sent(),[2,a.beginTransaction({bookmarks:this._bookmarks,txConfig:t,mode:this._connectionHolder.mode(),database:this._connectionHolder.database(),impersonatedUser:this._impersonatedUser,notificationFilter:this._notificationFilter,apiTelemetryConfig:this._apiTelemetryConfig,beforeError:function(e){null!=n&&n.onError(e),i._onError(e).catch(function(){})},afterComplete:function(e){null!=n&&n.onComplete(e),i._onComplete(e)}})];case 2:throw(0,f.newError)("No connection available")}})})}).catch(function(e){null!=n&&n.onError(e),i._onError(e).catch(function(){})}).finally(function(){return i._acceptActive()})},e.prototype.run=function(e,t){var n=(0,a.validateQueryAndParameters)(e,t),r=n.validatedQuery,o=n.params,i=this._state.run(r,o,{connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,reactive:this._reactive,fetchSize:this._fetchSize,highRecordWatermark:this._highRecordWatermark,lowRecordWatermark:this._lowRecordWatermak,preparationJob:this._activePromise});return this._results.push(i),i},e.prototype.commit=function(){var e=this,t=this._state.commit({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:function(t){return e._onCompleteCallback(t,e._bookmarks)},onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=t.state,this._onClose(),new Promise(function(e,n){t.result.subscribe({onCompleted:function(){return e()},onError:function(e){return n(e)}})})},e.prototype.rollback=function(){var e=this._state.rollback({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=e.state,this._onClose(),new Promise(function(t,n){e.result.subscribe({onCompleted:function(){return t()},onError:function(e){return n(e)}})})},e.prototype.isOpen=function(){return this._state===p.ACTIVE},e.prototype.close=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this.isOpen()?[4,this.rollback()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype._onErrorCallback=function(e){return this._state===p.FAILED?Promise.resolve(null):(this._state=p.FAILED,this._onClose(),this._results.forEach(function(t){t.isOpen()&&t._streamObserverPromise.then(function(t){return t.onError(e)}).catch(function(e){})}),this._connectionHolder.releaseConnection())},e.prototype._onCompleteCallback=function(e,t){this._onBookmarks(new u.Bookmarks(null==e?void 0:e.bookmark),null!=t?t:u.Bookmarks.empty(),null==e?void 0:e.db)},e}(),p={ACTIVE:{commit:function(e){return{result:v(!0,e.connectionHolder,e.onError,e.onComplete,e.onConnection,e.pendingResults,e.preparationJob),state:p.SUCCEEDED}},rollback:function(e){return{result:v(!1,e.connectionHolder,e.onError,e.onComplete,e.onConnection,e.pendingResults,e.preparationJob),state:p.ROLLED_BACK}},run:function(e,t,n){var r=n.connectionHolder,o=n.onError,i=n.onComplete,a=n.onConnection,s=n.reactive,d=n.fetchSize,h=n.highRecordWatermark,p=n.lowRecordWatermark,v=n.preparationJob,y=null!=v?v:Promise.resolve();return g(r.getConnection().then(function(e){return y.then(function(){return e})}).then(function(n){if(a(),null!=n)return n.run(e,t,{bookmarks:u.Bookmarks.empty(),txConfig:l.TxConfig.empty(),beforeError:o,afterComplete:i,reactive:s,fetchSize:d,highRecordWatermark:h,lowRecordWatermark:p});throw(0,f.newError)("No connection available")}).catch(function(e){return new c.FailedObserver({error:e,onError:o})}),e,t,r,h,p)}},FAILED:{commit:function(e){var t=e.connectionHolder,n=e.onError;return e.onComplete,{result:g(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has been rolled back either because of an error or explicit termination."),onError:n}),"COMMIT",{},t,0,0),state:p.FAILED}},rollback:function(e){var t=e.connectionHolder;return e.onError,e.onComplete,{result:g(new c.CompletedObserver,"ROLLBACK",{},t,0,0),state:p.FAILED}},run:function(e,t,n){var r=n.connectionHolder,o=n.onError;return n.onComplete,g(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has been rolled back either because of an error or explicit termination."),onError:o}),e,t,r,0,0)}},SUCCEEDED:{commit:function(e){var t=e.connectionHolder,n=e.onError;return e.onComplete,{result:g(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been committed."),onError:n}),"COMMIT",{},s.EMPTY_CONNECTION_HOLDER,0,0),state:p.SUCCEEDED,connectionHolder:t}},rollback:function(e){var t=e.connectionHolder,n=e.onError;return e.onComplete,{result:g(new c.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been committed."),onError:n}),"ROLLBACK",{},s.EMPTY_CONNECTION_HOLDER,0,0),state:p.SUCCEEDED,connectionHolder:t}},run:function(e,t,n){var r=n.connectionHolder,o=n.onError;return n.onComplete,g(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been committed."),onError:o}),e,t,r,0,0)}},ROLLED_BACK:{commit:function(e){var t=e.connectionHolder,n=e.onError;return e.onComplete,{result:g(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been rolled back."),onError:n}),"COMMIT",{},t,0,0),state:p.ROLLED_BACK}},rollback:function(e){var t=e.connectionHolder;return e.onError,e.onComplete,{result:g(new c.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been rolled back.")}),"ROLLBACK",{},t,0,0),state:p.ROLLED_BACK}},run:function(e,t,n){var r=n.connectionHolder,o=n.onError;return n.onComplete,g(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been rolled back."),onError:o}),e,t,r,0,0)}}};function v(e,t,n,r,o,i,a){var s=null!=a?a:Promise.resolve(),u=t.getConnection().then(function(e){return s.then(function(){return e})}).then(function(t){return o(),i.forEach(function(e){return e._cancel()}),Promise.all(i.map(function(e){return e.summary()})).then(function(o){if(null!=t)return e?t.commitTransaction({beforeError:n,afterComplete:r}):t.rollbackTransaction({beforeError:n,afterComplete:r});throw(0,f.newError)("No connection available")})}).catch(function(e){return new c.FailedObserver({error:e,onError:n})});return new d.default(u,e?"COMMIT":"ROLLBACK",{},t,{high:Number.MAX_VALUE,low:Number.MAX_VALUE})}function g(e,t,n,r,o,i){return void 0===r&&(r=s.EMPTY_CONNECTION_HOLDER),new d.default(Promise.resolve(e),t,n,new s.ReadOnlyConnectionHolder(null!=r?r:s.EMPTY_CONNECTION_HOLDER),{low:i,high:o})}t.default=h},6872:function(e,t){var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.InternalConfig=t.Config=void 0;var o=function(){this.encrypted=void 0,this.trust=void 0,this.trustedCertificates=[],this.maxConnectionPoolSize=100,this.maxConnectionLifetime=36e5,this.connectionAcquisitionTimeout=6e4,this.maxTransactionRetryTime=3e4,this.connectionLivenessCheckTimeout=void 0,this.connectionTimeout=3e4,this.disableLosslessIntegers=!1,this.useBigInt=!1,this.logging=void 0,this.resolver=void 0,this.notificationFilter=void 0,this.userAgent=void 0,this.telemetryDisabled=!1,this.clientCertificate=void 0};t.Config=o;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(o);t.InternalConfig=i},7857:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WRITE=t.READ=t.Driver=void 0;var a=n(9305),s=i(n(3466)),u=a.internal.constants.FETCH_ALL,l=a.driver.READ,c=a.driver.WRITE;t.READ=l,t.WRITE=c;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.rxSession=function(e){var t=void 0===e?{}:e,n=t.defaultAccessMode,r=void 0===n?c:n,o=t.bookmarks,i=t.database,a=void 0===i?"":i,u=t.fetchSize,l=t.impersonatedUser,f=t.bookmarkManager,h=t.notificationFilter,p=t.auth;return new s.default({session:this._newSession({defaultAccessMode:r,bookmarkOrBookmarks:o,database:a,impersonatedUser:l,auth:p,reactive:!1,fetchSize:d(u,this._config.fetchSize),bookmarkManager:f,notificationFilter:h,log:this._log}),config:this._config,log:this._log})},t}(a.Driver);function d(e,t){var n=parseInt(e,10);if(n>0||n===u)return n;if(0===n||n<0)throw new Error("The fetch size can only be a positive value or ".concat(u," for ALL. However fetchSize = ").concat(n));return t}t.Driver=f,t.default=f},1187:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UnboundRelationship=t.Relationship=t.Node=t.Record=t.ServerInfo=t.GqlStatusObject=t.Notification=t.QueryStatistics=t.ProfiledPlan=t.Plan=t.ResultSummary=t.RxResult=t.RxManagedTransaction=t.RxTransaction=t.RxSession=t.EagerResult=t.Result=t.ManagedTransaction=t.Transaction=t.Session=t.Driver=t.temporal=t.spatial=t.graph=t.error=t.routing=t.session=t.types=t.logging=t.auth=t.isRetryableError=t.Neo4jError=t.integer=t.isUnboundRelationship=t.isRelationship=t.isPathSegment=t.isPath=t.isNode=t.isDateTime=t.isLocalDateTime=t.isDate=t.isTime=t.isLocalTime=t.isDuration=t.isPoint=t.isInt=t.int=t.hasReachableServer=t.driver=t.authTokenManagers=void 0,t.clientCertificateProviders=t.notificationFilterMinimumSeverityLevel=t.notificationFilterDisabledClassification=t.notificationFilterDisabledCategory=t.notificationSeverityLevel=t.notificationClassification=t.notificationCategory=t.resultTransformers=t.bookmarkManager=t.DateTime=t.LocalDateTime=t.Date=t.Time=t.LocalTime=t.Duration=t.Integer=t.Point=t.PathSegment=t.Path=void 0;var a=n(7857);Object.defineProperty(t,"Driver",{enumerable:!0,get:function(){return a.Driver}});var s=i(n(3659)),u=n(9305);Object.defineProperty(t,"authTokenManagers",{enumerable:!0,get:function(){return u.authTokenManagers}}),Object.defineProperty(t,"Neo4jError",{enumerable:!0,get:function(){return u.Neo4jError}}),Object.defineProperty(t,"isRetryableError",{enumerable:!0,get:function(){return u.isRetryableError}}),Object.defineProperty(t,"error",{enumerable:!0,get:function(){return u.error}}),Object.defineProperty(t,"Integer",{enumerable:!0,get:function(){return u.Integer}}),Object.defineProperty(t,"int",{enumerable:!0,get:function(){return u.int}}),Object.defineProperty(t,"isInt",{enumerable:!0,get:function(){return u.isInt}}),Object.defineProperty(t,"isPoint",{enumerable:!0,get:function(){return u.isPoint}}),Object.defineProperty(t,"Point",{enumerable:!0,get:function(){return u.Point}}),Object.defineProperty(t,"Date",{enumerable:!0,get:function(){return u.Date}}),Object.defineProperty(t,"DateTime",{enumerable:!0,get:function(){return u.DateTime}}),Object.defineProperty(t,"Duration",{enumerable:!0,get:function(){return u.Duration}}),Object.defineProperty(t,"isDate",{enumerable:!0,get:function(){return u.isDate}}),Object.defineProperty(t,"isDateTime",{enumerable:!0,get:function(){return u.isDateTime}}),Object.defineProperty(t,"isDuration",{enumerable:!0,get:function(){return u.isDuration}}),Object.defineProperty(t,"isLocalDateTime",{enumerable:!0,get:function(){return u.isLocalDateTime}}),Object.defineProperty(t,"isLocalTime",{enumerable:!0,get:function(){return u.isLocalTime}}),Object.defineProperty(t,"isNode",{enumerable:!0,get:function(){return u.isNode}}),Object.defineProperty(t,"isPath",{enumerable:!0,get:function(){return u.isPath}}),Object.defineProperty(t,"isPathSegment",{enumerable:!0,get:function(){return u.isPathSegment}}),Object.defineProperty(t,"isRelationship",{enumerable:!0,get:function(){return u.isRelationship}}),Object.defineProperty(t,"isTime",{enumerable:!0,get:function(){return u.isTime}}),Object.defineProperty(t,"isUnboundRelationship",{enumerable:!0,get:function(){return u.isUnboundRelationship}}),Object.defineProperty(t,"LocalDateTime",{enumerable:!0,get:function(){return u.LocalDateTime}}),Object.defineProperty(t,"LocalTime",{enumerable:!0,get:function(){return u.LocalTime}}),Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return u.Time}}),Object.defineProperty(t,"Node",{enumerable:!0,get:function(){return u.Node}}),Object.defineProperty(t,"Path",{enumerable:!0,get:function(){return u.Path}}),Object.defineProperty(t,"PathSegment",{enumerable:!0,get:function(){return u.PathSegment}}),Object.defineProperty(t,"Relationship",{enumerable:!0,get:function(){return u.Relationship}}),Object.defineProperty(t,"UnboundRelationship",{enumerable:!0,get:function(){return u.UnboundRelationship}}),Object.defineProperty(t,"Record",{enumerable:!0,get:function(){return u.Record}}),Object.defineProperty(t,"ResultSummary",{enumerable:!0,get:function(){return u.ResultSummary}}),Object.defineProperty(t,"Plan",{enumerable:!0,get:function(){return u.Plan}}),Object.defineProperty(t,"ProfiledPlan",{enumerable:!0,get:function(){return u.ProfiledPlan}}),Object.defineProperty(t,"QueryStatistics",{enumerable:!0,get:function(){return u.QueryStatistics}}),Object.defineProperty(t,"Notification",{enumerable:!0,get:function(){return u.Notification}}),Object.defineProperty(t,"GqlStatusObject",{enumerable:!0,get:function(){return u.GqlStatusObject}}),Object.defineProperty(t,"ServerInfo",{enumerable:!0,get:function(){return u.ServerInfo}}),Object.defineProperty(t,"Result",{enumerable:!0,get:function(){return u.Result}}),Object.defineProperty(t,"EagerResult",{enumerable:!0,get:function(){return u.EagerResult}}),Object.defineProperty(t,"auth",{enumerable:!0,get:function(){return u.auth}}),Object.defineProperty(t,"Session",{enumerable:!0,get:function(){return u.Session}}),Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return u.Transaction}}),Object.defineProperty(t,"ManagedTransaction",{enumerable:!0,get:function(){return u.ManagedTransaction}}),Object.defineProperty(t,"bookmarkManager",{enumerable:!0,get:function(){return u.bookmarkManager}}),Object.defineProperty(t,"routing",{enumerable:!0,get:function(){return u.routing}}),Object.defineProperty(t,"resultTransformers",{enumerable:!0,get:function(){return u.resultTransformers}}),Object.defineProperty(t,"notificationCategory",{enumerable:!0,get:function(){return u.notificationCategory}}),Object.defineProperty(t,"notificationClassification",{enumerable:!0,get:function(){return u.notificationClassification}}),Object.defineProperty(t,"notificationSeverityLevel",{enumerable:!0,get:function(){return u.notificationSeverityLevel}}),Object.defineProperty(t,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return u.notificationFilterDisabledCategory}}),Object.defineProperty(t,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return u.notificationFilterDisabledClassification}}),Object.defineProperty(t,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return u.notificationFilterMinimumSeverityLevel}}),Object.defineProperty(t,"clientCertificateProviders",{enumerable:!0,get:function(){return u.clientCertificateProviders}});var l=n(6672),c=i(n(3466));t.RxSession=c.default;var f=i(n(5742));t.RxTransaction=f.default;var d=i(n(1530));t.RxManagedTransaction=d.default;var h=i(n(3057));t.RxResult=h.default;var p=u.internal.util,v=p.ENCRYPTION_ON,g=p.assertString,y=p.isEmptyObjectOrNull,m=u.internal.serverAddress.ServerAddress,b=u.internal.urlUtil,_="neo4j-javascript/"+s.default;function w(e,t,n){void 0===n&&(n={}),g(e,"Bolt URL");var r,o=b.parseDatabaseUrl(e),i=!1,c=!1;switch(o.scheme){case"bolt":break;case"bolt+s":c=!0,r="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES";break;case"bolt+ssc":c=!0,r="TRUST_ALL_CERTIFICATES";break;case"neo4j":i=!0;break;case"neo4j+s":c=!0,r="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES",i=!0;break;case"neo4j+ssc":c=!0,r="TRUST_ALL_CERTIFICATES",i=!0;break;default:throw new Error("Unknown scheme: ".concat(o.scheme))}if(c){if("encrypted"in n||"trust"in n)throw new Error("Encryption/trust can only be configured either through URL or config, not both");n.encrypted=v,n.trust=r,n.clientCertificate=(0,u.resolveCertificateProvider)(n.clientCertificate)}var f=function(e){if("object"==typeof(t=e)&&null!=t&&"getToken"in t&&"handleSecurityException"in t&&"function"==typeof t.getToken&&"function"==typeof t.handleSecurityException)return e;var t,n=e;return(n=n||{}).scheme=n.scheme||"none",(0,u.staticAuthTokenManager)({authToken:n})}(t);n.userAgent=n.userAgent||_,n.boltAgent=u.internal.boltAgent.fromVersion(s.default);var d=m.fromUrl(o.hostAndPort),h={address:d,typename:i?"Routing":"Direct",routing:i};return new a.Driver(h,n,function(){if(i)return function(e,t,n,r){return new l.RoutingConnectionProvider({id:e,config:t,log:n,hostNameResolver:r,authTokenManager:f,address:d,userAgent:t.userAgent,boltAgent:t.boltAgent,routingContext:o.query})};if(!y(o.query))throw new Error("Parameters are not supported with none routed scheme. Given URL: '".concat(e,"'"));return function(e,t,n){return new l.DirectConnectionProvider({id:e,config:t,log:n,authTokenManager:f,address:d,userAgent:t.userAgent,boltAgent:t.boltAgent})}}())}function x(e,t){return r(this,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:n=w(e,{scheme:"none",principal:"",credentials:""},t),r.label=1;case 1:return r.trys.push([1,,3,5]),[4,n.getNegotiatedProtocolVersion()];case 2:return r.sent(),[2,!0];case 3:return[4,n.close()];case 4:return r.sent(),[7];case 5:return[2]}})})}t.driver=w,t.hasReachableServer=x;var E={console:function(e){return{level:e,logger:function(e,t){return console.log("".concat(n.g.Date.now()," ").concat(e.toUpperCase()," ").concat(t))}}}};t.logging=E;var O={Node:u.Node,Relationship:u.Relationship,UnboundRelationship:u.UnboundRelationship,PathSegment:u.PathSegment,Path:u.Path,Result:u.Result,EagerResult:u.EagerResult,ResultSummary:u.ResultSummary,Record:u.Record,Point:u.Point,Date:u.Date,DateTime:u.DateTime,Duration:u.Duration,LocalDateTime:u.LocalDateTime,LocalTime:u.LocalTime,Time:u.Time,Integer:u.Integer};t.types=O;var S={READ:a.READ,WRITE:a.WRITE};t.session=S;var T={toNumber:u.toNumber,toString:u.toString,inSafeRange:u.inSafeRange};t.integer=T;var P={isPoint:u.isPoint};t.spatial=P;var C={isDuration:u.isDuration,isLocalTime:u.isLocalTime,isTime:u.isTime,isDate:u.isDate,isLocalDateTime:u.isLocalDateTime,isDateTime:u.isDateTime};t.temporal=C;var k={isNode:u.isNode,isPath:u.isPath,isPathSegment:u.isPathSegment,isRelationship:u.isRelationship,isUnboundRelationship:u.isUnboundRelationship};t.graph=k;var A={authTokenManagers:u.authTokenManagers,driver:w,hasReachableServer:x,int:u.int,isInt:u.isInt,isPoint:u.isPoint,isDuration:u.isDuration,isLocalTime:u.isLocalTime,isTime:u.isTime,isDate:u.isDate,isLocalDateTime:u.isLocalDateTime,isDateTime:u.isDateTime,isNode:u.isNode,isPath:u.isPath,isPathSegment:u.isPathSegment,isRelationship:u.isRelationship,isUnboundRelationship:u.isUnboundRelationship,integer:T,Neo4jError:u.Neo4jError,isRetryableError:u.isRetryableError,auth:u.auth,logging:E,types:O,session:S,routing:u.routing,error:u.error,graph:k,spatial:P,temporal:C,Driver:a.Driver,Session:u.Session,Transaction:u.Transaction,ManagedTransaction:u.ManagedTransaction,Result:u.Result,EagerResult:u.EagerResult,RxSession:c.default,RxTransaction:f.default,RxManagedTransaction:d.default,RxResult:h.default,ResultSummary:u.ResultSummary,Plan:u.Plan,ProfiledPlan:u.ProfiledPlan,QueryStatistics:u.QueryStatistics,Notification:u.Notification,GqlStatusObject:u.GqlStatusObject,ServerInfo:u.ServerInfo,Record:u.Record,Node:u.Node,Relationship:u.Relationship,UnboundRelationship:u.UnboundRelationship,Path:u.Path,PathSegment:u.PathSegment,Point:u.Point,Integer:u.Integer,Duration:u.Duration,LocalTime:u.LocalTime,Time:u.Time,Date:u.Date,LocalDateTime:u.LocalDateTime,DateTime:u.DateTime,bookmarkManager:u.bookmarkManager,resultTransformers:u.resultTransformers,notificationCategory:u.notificationCategory,notificationSeverityLevel:u.notificationSeverityLevel,notificationFilterDisabledCategory:u.notificationFilterDisabledCategory,notificationFilterMinimumSeverityLevel:u.notificationFilterMinimumSeverityLevel,clientCertificateProviders:u.clientCertificateProviders};t.default=A},9823:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(9305),o=n(8813),i=n(9419),a=(r.internal.logger.Logger,r.error.SERVICE_UNAVAILABLE),s=function(){function e(e){var t=void 0===e?{}:e,n=t.maxRetryTimeout,r=void 0===n?3e4:n,o=t.initialDelay,i=void 0===o?1e3:o,a=t.delayMultiplier,s=void 0===a?2:a,l=t.delayJitter,c=void 0===l?.2:l,f=t.logger,d=void 0===f?null:f;this._maxRetryTimeout=u(r,3e4),this._initialDelay=u(i,1e3),this._delayMultiplier=u(s,2),this._delayJitter=u(c,.2),this._logger=d}return e.prototype.retry=function(e){var t=this;return e.pipe((0,i.retryWhen)(function(e){var n=[],s=Date.now(),u=1,l=t._initialDelay;return e.pipe((0,i.mergeMap)(function(e){if(!(0,r.isRetriableError)(e))return(0,o.throwError)(function(){return e});if(n.push(e),u>=2&&Date.now()-s>=t._maxRetryTimeout){var c=(0,r.newError)("Failed after retried for ".concat(u," times in ").concat(t._maxRetryTimeout," ms. Make sure that your database is online and retry again."),a);return c.seenErrors=n,(0,o.throwError)(function(){return c})}var f=t._computeNextDelay(l);return l*=t._delayMultiplier,u++,t._logger&&t._logger.warn("Transaction failed and will be retried in ".concat(f)),(0,o.of)(1).pipe((0,i.delay)(f))}))}))},e.prototype._computeNextDelay=function(e){var t=e*this._delayJitter;return e-t+2*t*Math.random()},e}();function u(e,t){return e||0===e?e:t}t.default=s},3057:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9305),a=n(8813),s=n(9419),u=function(){function e(e,t){var n=e.pipe((0,s.publishReplay)(1),(0,s.refCount)());this._result=n,this._keys=n.pipe((0,s.mergeMap)(function(e){return(0,a.from)(e.keys())}),(0,s.publishReplay)(1),(0,s.refCount)()),this._records=void 0,this._controls=new l,this._summary=new a.ReplaySubject,this._state=t||0}return e.prototype.keys=function(){return this._keys},e.prototype.records=function(){var e=this,t=this._result.pipe((0,s.mergeMap)(function(t){return new a.Observable(function(n){return e._startStreaming({result:t,recordsObserver:n})})}));return t.push=function(){return e._push()},t},e.prototype.consume=function(){var e=this;return this._result.pipe((0,s.mergeMap)(function(t){return new a.Observable(function(n){return e._startStreaming({result:t,summaryObserver:n})})}))},e.prototype.pause=function(){this._controls.pause()},e.prototype.resume=function(){return this._controls.resume()},e.prototype.push=function(){return this._controls.push()},e.prototype._startStreaming=function(e){var t=void 0===e?{}:e,n=t.result,r=t.recordsObserver,o=void 0===r?null:r,a=t.summaryObserver,s=void 0===a?null:a,u=[];return s&&u.push(this._summary.subscribe(s)),this._state<1?(this._state=1,this._setupRecordsStream(n),o?u.push(this._records.subscribe(o)):n._cancel(),u.push({unsubscribe:function(){n._cancel&&n._cancel()}})):o&&o.error((0,i.newError)("Streaming has already started/consumed with a previous records or summary subscription.")),function(){u.forEach(function(e){return e.unsubscribe()})}},e.prototype._toObservable=function(){var t=this;return new a.Observable(function(n){t._result.subscribe({complete:function(){return n.complete()},next:function(r){return n.next(new e(function(e){return new a.Observable(function(t){t.next(e),t.complete()})}(r)),t._state)},error:function(e){return n.error(e)}})})},e.prototype._setupRecordsStream=function(e){var t=this;return this._records||(this._records=function(e,t,n){var i=this;void 0===n&&(n=new l);var s=new a.Subject,u=function(a){return r(i,void 0,void 0,function(){var r,i,l,c;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,3,4]),n.pushing=!0,[4,a];case 1:return r=o.sent(),i=r.done,l=r.value,i?(s.complete(),t.complete()):(s.next(l),n.paused||u(e.next()).catch(function(){})),[3,4];case 2:return c=o.sent(),s.error(c),t.error(c),[3,4];case 3:return n.pushing=!1,[7];case 4:return[2]}})})};function c(t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,u(e.next(t))];case 1:return n.sent(),[2]}})})}return n.pusher=c,c(),s}(e[Symbol.asyncIterator](),{complete:function(){return r(t,void 0,void 0,function(){var t,n;return o(this,function(r){switch(r.label){case 0:return this._state=2,n=(t=this._summary).next,[4,e.summary()];case 1:return n.apply(t,[r.sent()]),this._summary.complete(),[2]}})})},error:function(e){t._state=2,t._summary.error(e)}},this._controls)),this._records},e}();t.default=u;var l=function(){function e(e){void 0===e&&(e=function(){return r(t,void 0,void 0,function(){return o(this,function(e){return[2]})})});var t=this;this._paused=!1,this._pushing=!1,this._push=e}return e.prototype.pause=function(){this._paused=!0},Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pushing",{get:function(){return this._pushing},set:function(e){this._pushing=e},enumerable:!1,configurable:!0}),e.prototype.resume=function(){return r(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return e=this._paused,this._paused=!1,!e||this._pushing?[3,2]:[4,this._push()];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.push=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this.pause(),[4,this._push()];case 1:return[2,e.sent()]}})})},Object.defineProperty(e.prototype,"pusher",{get:function(){return this._push},set:function(e){this._push=e},enumerable:!1,configurable:!0}),e}()},3466:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(8813),i=n(9419),a=r(n(3057)),s=n(9305),u=r(n(5742)),l=r(n(1530)),c=r(n(9823)),f=s.internal.constants,d=f.ACCESS_MODE_READ,h=f.ACCESS_MODE_WRITE,p=f.TELEMETRY_APIS,v=s.internal.txConfig.TxConfig,g=function(){function e(e){var t=void 0===e?{}:e,n=t.session,r=t.config,o=t.log;this._session=n,this._retryLogic=function(e){var t=e&&e.maxTransactionRetryTime?e.maxTransactionRetryTime:null;return new c.default({maxRetryTimeout:t})}(r),this._log=o}return e.prototype.run=function(e,t,n){var r=this;return new a.default(new o.Observable(function(o){try{o.next(r._session.run(e,t,n)),o.complete()}catch(e){o.error(e)}return function(){}}))},e.prototype.beginTransaction=function(e){return this._beginTransaction(this._session._mode,e,{api:p.UNMANAGED_TRANSACTION})},e.prototype.readTransaction=function(e,t){return this._runTransaction(d,e,t)},e.prototype.writeTransaction=function(e,t){return this._runTransaction(h,e,t)},e.prototype.executeRead=function(e,t){return this._executeInTransaction(d,e,t)},e.prototype.executeWrite=function(e,t){return this._executeInTransaction(h,e,t)},e.prototype._executeInTransaction=function(e,t,n){return this._runTransaction(e,t,n,function(e){return new l.default({run:e.run.bind(e)})})},e.prototype.close=function(){var e=this;return new o.Observable(function(t){e._session.close().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype.lastBookmark=function(){return this.lastBookmarks()},e.prototype.lastBookmarks=function(){return this._session.lastBookmarks()},e.prototype._beginTransaction=function(e,t,n){var r=this,i=v.empty();return t&&(i=new v(t,this._log)),new o.Observable(function(t){try{r._session._beginTransaction(e,i,n).then(function(e){t.next(new u.default(e)),t.complete()}).catch(function(e){return t.error(e)})}catch(e){t.error(e)}return function(){}})},e.prototype._runTransaction=function(e,t,n,r){var a=this;void 0===r&&(r=function(e){return e});var s=v.empty();n&&(s=new v(n));var u={apiTelemetryConfig:{api:p.MANAGED_TRANSACTION,onTelemetrySuccess:function(){u.apiTelemetryConfig=void 0}}};return this._retryLogic.retry((0,o.of)(1).pipe((0,i.mergeMap)(function(){return a._beginTransaction(e,s,u.apiTelemetryConfig)}),(0,i.mergeMap)(function(e){return(0,o.defer)(function(){try{return t(r(e))}catch(e){return(0,o.throwError)(function(){return e})}}).pipe((0,i.catchError)(function(t){return e.rollback().pipe((0,i.concatWith)((0,o.throwError)(function(){return t})))}),(0,i.concatWith)(e.commit()))})))},e}();t.default=g},1530:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),r(n(3057)),r(n(5742));var o=function(){function e(e){var t=e.run;this._run=t}return e.fromTransaction=function(t){return new e({run:t.run.bind(t)})},e.prototype.run=function(e,t){return this._run(e,t)},e}();t.default=o},5742:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(8813),i=r(n(3057)),a=(r(n(9305)),function(){function e(e){this._txc=e}return e.prototype.run=function(e,t){var n=this;return new i.default(new o.Observable(function(r){try{r.next(n._txc.run(e,t)),r.complete()}catch(e){r.error(e)}return function(){}}))},e.prototype.commit=function(){var e=this;return new o.Observable(function(t){e._txc.commit().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},e.prototype.rollback=function(){var e=this;return new o.Observable(function(t){e._txc.rollback().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},e.prototype.isOpen=function(){return this._txc.isOpen()},e.prototype.close=function(){var e=this;return new o.Observable(function(t){e._txc.close().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},e}());t.default=a},3659:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default="5.26.0"},481:(e,t,n)=>{e.exports=n(137)},137:e=>{e.exports=class{constructor(e,t,n,r){let o;if("object"==typeof e){let i=e;e=i.k_p,t=i.k_i,n=i.k_d,r=i.dt,o=i.i_max}this.k_p="number"==typeof e?e:1,this.k_i=t||0,this.k_d=n||0,this.dt=r||0,this.i_max=o||0,this.sumError=0,this.lastError=0,this.lastTime=0,this.target=0}setTarget(e){this.target=e}update(e){this.currentValue=e;let t=this.dt;if(!t){let e=Date.now();t=0===this.lastTime?0:(e-this.lastTime)/1e3,this.lastTime=e}"number"==typeof t&&0!==t||(t=1);let n=this.target-this.currentValue;if(this.sumError=this.sumError+n*t,this.i_max>0&&Math.abs(this.sumError)>this.i_max){let e=this.sumError>0?1:-1;this.sumError=e*this.i_max}let r=(n-this.lastError)/t;return this.lastError=n,this.k_p*n+this.k_i*this.sumError+this.k_d*r}reset(){this.sumError=0,this.lastError=0,this.lastTime=0}}},1803:e=>{var t,n,r=document.attachEvent,o=!1;function i(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}function a(e){var t=this;i(this),this.__resizeRAF__&&u(this.__resizeRAF__),this.__resizeRAF__=s(function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(n){n.call(t,e)}))})}if(!r){var s=(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},function(e){return n(e)}),u=(t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(e){return t(e)}),l=!1,c="",f="animationstart",d="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),p=document.createElement("fakeelement");if(void 0!==p.style.animationName&&(l=!0),!1===l)for(var v=0;v<d.length;v++)if(void 0!==p.style[d[v]+"AnimationName"]){c="-"+d[v].toLowerCase()+"-",f=h[v],l=!0;break}var g="resizeanim",y="@"+c+"keyframes "+g+" { from { opacity: 0; } to { opacity: 0; } } ",m=c+"animation: 1ms "+g+"; "}e.exports=function(e,t){return r?e.attachEvent("onresize",t):(e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),function(){if(!o){var e=(y||"")+".resize-triggers { "+(m||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n),o=!0}}(),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),i(e),e.addEventListener("scroll",a,!0),f&&e.__resizeTriggers__.addEventListener(f,function(t){t.animationName==g&&i(e)})),e.__resizeListeners__.push(t)),function(){r?e.detachEvent("onresize",t):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",a),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))}}},8813:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.interval=t.iif=t.generate=t.fromEventPattern=t.fromEvent=t.from=t.forkJoin=t.empty=t.defer=t.connectable=t.concat=t.combineLatest=t.bindNodeCallback=t.bindCallback=t.UnsubscriptionError=t.TimeoutError=t.SequenceError=t.ObjectUnsubscribedError=t.NotFoundError=t.EmptyError=t.ArgumentOutOfRangeError=t.firstValueFrom=t.lastValueFrom=t.isObservable=t.identity=t.noop=t.pipe=t.NotificationKind=t.Notification=t.Subscriber=t.Subscription=t.Scheduler=t.VirtualAction=t.VirtualTimeScheduler=t.animationFrameScheduler=t.animationFrame=t.queueScheduler=t.queue=t.asyncScheduler=t.async=t.asapScheduler=t.asap=t.AsyncSubject=t.ReplaySubject=t.BehaviorSubject=t.Subject=t.animationFrames=t.observable=t.ConnectableObservable=t.Observable=void 0,t.filter=t.expand=t.exhaustMap=t.exhaustAll=t.exhaust=t.every=t.endWith=t.elementAt=t.distinctUntilKeyChanged=t.distinctUntilChanged=t.distinct=t.dematerialize=t.delayWhen=t.delay=t.defaultIfEmpty=t.debounceTime=t.debounce=t.count=t.connect=t.concatWith=t.concatMapTo=t.concatMap=t.concatAll=t.combineLatestWith=t.combineLatestAll=t.combineAll=t.catchError=t.bufferWhen=t.bufferToggle=t.bufferTime=t.bufferCount=t.buffer=t.auditTime=t.audit=t.config=t.NEVER=t.EMPTY=t.scheduled=t.zip=t.using=t.timer=t.throwError=t.range=t.race=t.partition=t.pairs=t.onErrorResumeNext=t.of=t.never=t.merge=void 0,t.switchMap=t.switchAll=t.subscribeOn=t.startWith=t.skipWhile=t.skipUntil=t.skipLast=t.skip=t.single=t.shareReplay=t.share=t.sequenceEqual=t.scan=t.sampleTime=t.sample=t.refCount=t.retryWhen=t.retry=t.repeatWhen=t.repeat=t.reduce=t.raceWith=t.publishReplay=t.publishLast=t.publishBehavior=t.publish=t.pluck=t.pairwise=t.onErrorResumeNextWith=t.observeOn=t.multicast=t.min=t.mergeWith=t.mergeScan=t.mergeMapTo=t.mergeMap=t.flatMap=t.mergeAll=t.max=t.materialize=t.mapTo=t.map=t.last=t.isEmpty=t.ignoreElements=t.groupBy=t.first=t.findIndex=t.find=t.finalize=void 0,t.zipWith=t.zipAll=t.withLatestFrom=t.windowWhen=t.windowToggle=t.windowTime=t.windowCount=t.window=t.toArray=t.timestamp=t.timeoutWith=t.timeout=t.timeInterval=t.throwIfEmpty=t.throttleTime=t.throttle=t.tap=t.takeWhile=t.takeUntil=t.takeLast=t.take=t.switchScan=t.switchMapTo=void 0;var i=n(4662);Object.defineProperty(t,"Observable",{enumerable:!0,get:function(){return i.Observable}});var a=n(8918);Object.defineProperty(t,"ConnectableObservable",{enumerable:!0,get:function(){return a.ConnectableObservable}});var s=n(3327);Object.defineProperty(t,"observable",{enumerable:!0,get:function(){return s.observable}});var u=n(3110);Object.defineProperty(t,"animationFrames",{enumerable:!0,get:function(){return u.animationFrames}});var l=n(2483);Object.defineProperty(t,"Subject",{enumerable:!0,get:function(){return l.Subject}});var c=n(1637);Object.defineProperty(t,"BehaviorSubject",{enumerable:!0,get:function(){return c.BehaviorSubject}});var f=n(1242);Object.defineProperty(t,"ReplaySubject",{enumerable:!0,get:function(){return f.ReplaySubject}});var d=n(95);Object.defineProperty(t,"AsyncSubject",{enumerable:!0,get:function(){return d.AsyncSubject}});var h=n(3692);Object.defineProperty(t,"asap",{enumerable:!0,get:function(){return h.asap}}),Object.defineProperty(t,"asapScheduler",{enumerable:!0,get:function(){return h.asapScheduler}});var p=n(7961);Object.defineProperty(t,"async",{enumerable:!0,get:function(){return p.async}}),Object.defineProperty(t,"asyncScheduler",{enumerable:!0,get:function(){return p.asyncScheduler}});var v=n(2886);Object.defineProperty(t,"queue",{enumerable:!0,get:function(){return v.queue}}),Object.defineProperty(t,"queueScheduler",{enumerable:!0,get:function(){return v.queueScheduler}});var g=n(3862);Object.defineProperty(t,"animationFrame",{enumerable:!0,get:function(){return g.animationFrame}}),Object.defineProperty(t,"animationFrameScheduler",{enumerable:!0,get:function(){return g.animationFrameScheduler}});var y=n(182);Object.defineProperty(t,"VirtualTimeScheduler",{enumerable:!0,get:function(){return y.VirtualTimeScheduler}}),Object.defineProperty(t,"VirtualAction",{enumerable:!0,get:function(){return y.VirtualAction}});var m=n(8986);Object.defineProperty(t,"Scheduler",{enumerable:!0,get:function(){return m.Scheduler}});var b=n(8014);Object.defineProperty(t,"Subscription",{enumerable:!0,get:function(){return b.Subscription}});var _=n(5);Object.defineProperty(t,"Subscriber",{enumerable:!0,get:function(){return _.Subscriber}});var w=n(7800);Object.defineProperty(t,"Notification",{enumerable:!0,get:function(){return w.Notification}}),Object.defineProperty(t,"NotificationKind",{enumerable:!0,get:function(){return w.NotificationKind}});var x=n(2706);Object.defineProperty(t,"pipe",{enumerable:!0,get:function(){return x.pipe}});var E=n(1342);Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return E.noop}});var O=n(6640);Object.defineProperty(t,"identity",{enumerable:!0,get:function(){return O.identity}});var S=n(1751);Object.defineProperty(t,"isObservable",{enumerable:!0,get:function(){return S.isObservable}});var T=n(6894);Object.defineProperty(t,"lastValueFrom",{enumerable:!0,get:function(){return T.lastValueFrom}});var P=n(9060);Object.defineProperty(t,"firstValueFrom",{enumerable:!0,get:function(){return P.firstValueFrom}});var C=n(7057);Object.defineProperty(t,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return C.ArgumentOutOfRangeError}});var k=n(2823);Object.defineProperty(t,"EmptyError",{enumerable:!0,get:function(){return k.EmptyError}});var A=n(1759);Object.defineProperty(t,"NotFoundError",{enumerable:!0,get:function(){return A.NotFoundError}});var N=n(9686);Object.defineProperty(t,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return N.ObjectUnsubscribedError}});var j=n(1505);Object.defineProperty(t,"SequenceError",{enumerable:!0,get:function(){return j.SequenceError}});var R=n(1554);Object.defineProperty(t,"TimeoutError",{enumerable:!0,get:function(){return R.TimeoutError}});var I=n(5788);Object.defineProperty(t,"UnsubscriptionError",{enumerable:!0,get:function(){return I.UnsubscriptionError}});var M=n(2713);Object.defineProperty(t,"bindCallback",{enumerable:!0,get:function(){return M.bindCallback}});var D=n(8561);Object.defineProperty(t,"bindNodeCallback",{enumerable:!0,get:function(){return D.bindNodeCallback}});var L=n(3247);Object.defineProperty(t,"combineLatest",{enumerable:!0,get:function(){return L.combineLatest}});var B=n(3865);Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return B.concat}});var F=n(7579);Object.defineProperty(t,"connectable",{enumerable:!0,get:function(){return F.connectable}});var U=n(9353);Object.defineProperty(t,"defer",{enumerable:!0,get:function(){return U.defer}});var z=n(8616);Object.defineProperty(t,"empty",{enumerable:!0,get:function(){return z.empty}});var V=n(9105);Object.defineProperty(t,"forkJoin",{enumerable:!0,get:function(){return V.forkJoin}});var W=n(4917);Object.defineProperty(t,"from",{enumerable:!0,get:function(){return W.from}});var H=n(5337);Object.defineProperty(t,"fromEvent",{enumerable:!0,get:function(){return H.fromEvent}});var G=n(347);Object.defineProperty(t,"fromEventPattern",{enumerable:!0,get:function(){return G.fromEventPattern}});var q=n(7610);Object.defineProperty(t,"generate",{enumerable:!0,get:function(){return q.generate}});var Y=n(4209);Object.defineProperty(t,"iif",{enumerable:!0,get:function(){return Y.iif}});var X=n(6472);Object.defineProperty(t,"interval",{enumerable:!0,get:function(){return X.interval}});var K=n(2833);Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return K.merge}});var $=n(8655);Object.defineProperty(t,"never",{enumerable:!0,get:function(){return $.never}});var Z=n(1004);Object.defineProperty(t,"of",{enumerable:!0,get:function(){return Z.of}});var Q=n(6102);Object.defineProperty(t,"onErrorResumeNext",{enumerable:!0,get:function(){return Q.onErrorResumeNext}});var J=n(7740);Object.defineProperty(t,"pairs",{enumerable:!0,get:function(){return J.pairs}});var ee=n(1699);Object.defineProperty(t,"partition",{enumerable:!0,get:function(){return ee.partition}});var te=n(5584);Object.defineProperty(t,"race",{enumerable:!0,get:function(){return te.race}});var ne=n(9376);Object.defineProperty(t,"range",{enumerable:!0,get:function(){return ne.range}});var re=n(1103);Object.defineProperty(t,"throwError",{enumerable:!0,get:function(){return re.throwError}});var oe=n(4092);Object.defineProperty(t,"timer",{enumerable:!0,get:function(){return oe.timer}});var ie=n(7853);Object.defineProperty(t,"using",{enumerable:!0,get:function(){return ie.using}});var ae=n(7286);Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return ae.zip}});var se=n(1656);Object.defineProperty(t,"scheduled",{enumerable:!0,get:function(){return se.scheduled}});var ue=n(8616);Object.defineProperty(t,"EMPTY",{enumerable:!0,get:function(){return ue.EMPTY}});var le=n(8655);Object.defineProperty(t,"NEVER",{enumerable:!0,get:function(){return le.NEVER}}),o(n(6038),t);var ce=n(3413);Object.defineProperty(t,"config",{enumerable:!0,get:function(){return ce.config}});var fe=n(3146);Object.defineProperty(t,"audit",{enumerable:!0,get:function(){return fe.audit}});var de=n(3231);Object.defineProperty(t,"auditTime",{enumerable:!0,get:function(){return de.auditTime}});var he=n(8015);Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return he.buffer}});var pe=n(5572);Object.defineProperty(t,"bufferCount",{enumerable:!0,get:function(){return pe.bufferCount}});var ve=n(7210);Object.defineProperty(t,"bufferTime",{enumerable:!0,get:function(){return ve.bufferTime}});var ge=n(8995);Object.defineProperty(t,"bufferToggle",{enumerable:!0,get:function(){return ge.bufferToggle}});var ye=n(8831);Object.defineProperty(t,"bufferWhen",{enumerable:!0,get:function(){return ye.bufferWhen}});var me=n(8118);Object.defineProperty(t,"catchError",{enumerable:!0,get:function(){return me.catchError}});var be=n(6625);Object.defineProperty(t,"combineAll",{enumerable:!0,get:function(){return be.combineAll}});var _e=n(6728);Object.defineProperty(t,"combineLatestAll",{enumerable:!0,get:function(){return _e.combineLatestAll}});var we=n(8239);Object.defineProperty(t,"combineLatestWith",{enumerable:!0,get:function(){return we.combineLatestWith}});var xe=n(8158);Object.defineProperty(t,"concatAll",{enumerable:!0,get:function(){return xe.concatAll}});var Ee=n(9135);Object.defineProperty(t,"concatMap",{enumerable:!0,get:function(){return Ee.concatMap}});var Oe=n(9938);Object.defineProperty(t,"concatMapTo",{enumerable:!0,get:function(){return Oe.concatMapTo}});var Se=n(9669);Object.defineProperty(t,"concatWith",{enumerable:!0,get:function(){return Se.concatWith}});var Te=n(1483);Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return Te.connect}});var Pe=n(1038);Object.defineProperty(t,"count",{enumerable:!0,get:function(){return Pe.count}});var Ce=n(4461);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return Ce.debounce}});var ke=n(8079);Object.defineProperty(t,"debounceTime",{enumerable:!0,get:function(){return ke.debounceTime}});var Ae=n(378);Object.defineProperty(t,"defaultIfEmpty",{enumerable:!0,get:function(){return Ae.defaultIfEmpty}});var Ne=n(914);Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return Ne.delay}});var je=n(8766);Object.defineProperty(t,"delayWhen",{enumerable:!0,get:function(){return je.delayWhen}});var Re=n(7441);Object.defineProperty(t,"dematerialize",{enumerable:!0,get:function(){return Re.dematerialize}});var Ie=n(5365);Object.defineProperty(t,"distinct",{enumerable:!0,get:function(){return Ie.distinct}});var Me=n(8937);Object.defineProperty(t,"distinctUntilChanged",{enumerable:!0,get:function(){return Me.distinctUntilChanged}});var De=n(9612);Object.defineProperty(t,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return De.distinctUntilKeyChanged}});var Le=n(4520);Object.defineProperty(t,"elementAt",{enumerable:!0,get:function(){return Le.elementAt}});var Be=n(1776);Object.defineProperty(t,"endWith",{enumerable:!0,get:function(){return Be.endWith}});var Fe=n(5510);Object.defineProperty(t,"every",{enumerable:!0,get:function(){return Fe.every}});var Ue=n(1551);Object.defineProperty(t,"exhaust",{enumerable:!0,get:function(){return Ue.exhaust}});var ze=n(2752);Object.defineProperty(t,"exhaustAll",{enumerable:!0,get:function(){return ze.exhaustAll}});var Ve=n(4753);Object.defineProperty(t,"exhaustMap",{enumerable:!0,get:function(){return Ve.exhaustMap}});var We=n(7661);Object.defineProperty(t,"expand",{enumerable:!0,get:function(){return We.expand}});var He=n(783);Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return He.filter}});var Ge=n(3555);Object.defineProperty(t,"finalize",{enumerable:!0,get:function(){return Ge.finalize}});var qe=n(7714);Object.defineProperty(t,"find",{enumerable:!0,get:function(){return qe.find}});var Ye=n(9756);Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return Ye.findIndex}});var Xe=n(8275);Object.defineProperty(t,"first",{enumerable:!0,get:function(){return Xe.first}});var Ke=n(7815);Object.defineProperty(t,"groupBy",{enumerable:!0,get:function(){return Ke.groupBy}});var $e=n(490);Object.defineProperty(t,"ignoreElements",{enumerable:!0,get:function(){return $e.ignoreElements}});var Ze=n(9356);Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return Ze.isEmpty}});var Qe=n(8669);Object.defineProperty(t,"last",{enumerable:!0,get:function(){return Qe.last}});var Je=n(5471);Object.defineProperty(t,"map",{enumerable:!0,get:function(){return Je.map}});var et=n(3218);Object.defineProperty(t,"mapTo",{enumerable:!0,get:function(){return et.mapTo}});var tt=n(2360);Object.defineProperty(t,"materialize",{enumerable:!0,get:function(){return tt.materialize}});var nt=n(1415);Object.defineProperty(t,"max",{enumerable:!0,get:function(){return nt.max}});var rt=n(7302);Object.defineProperty(t,"mergeAll",{enumerable:!0,get:function(){return rt.mergeAll}});var ot=n(6902);Object.defineProperty(t,"flatMap",{enumerable:!0,get:function(){return ot.flatMap}});var it=n(983);Object.defineProperty(t,"mergeMap",{enumerable:!0,get:function(){return it.mergeMap}});var at=n(6586);Object.defineProperty(t,"mergeMapTo",{enumerable:!0,get:function(){return at.mergeMapTo}});var st=n(4408);Object.defineProperty(t,"mergeScan",{enumerable:!0,get:function(){return st.mergeScan}});var ut=n(8253);Object.defineProperty(t,"mergeWith",{enumerable:!0,get:function(){return ut.mergeWith}});var lt=n(2669);Object.defineProperty(t,"min",{enumerable:!0,get:function(){return lt.min}});var ct=n(9247);Object.defineProperty(t,"multicast",{enumerable:!0,get:function(){return ct.multicast}});var ft=n(5184);Object.defineProperty(t,"observeOn",{enumerable:!0,get:function(){return ft.observeOn}});var dt=n(1226);Object.defineProperty(t,"onErrorResumeNextWith",{enumerable:!0,get:function(){return dt.onErrorResumeNextWith}});var ht=n(1518);Object.defineProperty(t,"pairwise",{enumerable:!0,get:function(){return ht.pairwise}});var pt=n(4912);Object.defineProperty(t,"pluck",{enumerable:!0,get:function(){return pt.pluck}});var vt=n(766);Object.defineProperty(t,"publish",{enumerable:!0,get:function(){return vt.publish}});var gt=n(7220);Object.defineProperty(t,"publishBehavior",{enumerable:!0,get:function(){return gt.publishBehavior}});var yt=n(6106);Object.defineProperty(t,"publishLast",{enumerable:!0,get:function(){return yt.publishLast}});var mt=n(8157);Object.defineProperty(t,"publishReplay",{enumerable:!0,get:function(){return mt.publishReplay}});var bt=n(5600);Object.defineProperty(t,"raceWith",{enumerable:!0,get:function(){return bt.raceWith}});var _t=n(9139);Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return _t.reduce}});var wt=n(8522);Object.defineProperty(t,"repeat",{enumerable:!0,get:function(){return wt.repeat}});var xt=n(6566);Object.defineProperty(t,"repeatWhen",{enumerable:!0,get:function(){return xt.repeatWhen}});var Et=n(7835);Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return Et.retry}});var Ot=n(9843);Object.defineProperty(t,"retryWhen",{enumerable:!0,get:function(){return Ot.retryWhen}});var St=n(7561);Object.defineProperty(t,"refCount",{enumerable:!0,get:function(){return St.refCount}});var Tt=n(1731);Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return Tt.sample}});var Pt=n(6086);Object.defineProperty(t,"sampleTime",{enumerable:!0,get:function(){return Pt.sampleTime}});var Ct=n(8624);Object.defineProperty(t,"scan",{enumerable:!0,get:function(){return Ct.scan}});var kt=n(582);Object.defineProperty(t,"sequenceEqual",{enumerable:!0,get:function(){return kt.sequenceEqual}});var At=n(8977);Object.defineProperty(t,"share",{enumerable:!0,get:function(){return At.share}});var Nt=n(3133);Object.defineProperty(t,"shareReplay",{enumerable:!0,get:function(){return Nt.shareReplay}});var jt=n(3001);Object.defineProperty(t,"single",{enumerable:!0,get:function(){return jt.single}});var Rt=n(3982);Object.defineProperty(t,"skip",{enumerable:!0,get:function(){return Rt.skip}});var It=n(9098);Object.defineProperty(t,"skipLast",{enumerable:!0,get:function(){return It.skipLast}});var Mt=n(7372);Object.defineProperty(t,"skipUntil",{enumerable:!0,get:function(){return Mt.skipUntil}});var Dt=n(4721);Object.defineProperty(t,"skipWhile",{enumerable:!0,get:function(){return Dt.skipWhile}});var Lt=n(269);Object.defineProperty(t,"startWith",{enumerable:!0,get:function(){return Lt.startWith}});var Bt=n(8960);Object.defineProperty(t,"subscribeOn",{enumerable:!0,get:function(){return Bt.subscribeOn}});var Ft=n(8774);Object.defineProperty(t,"switchAll",{enumerable:!0,get:function(){return Ft.switchAll}});var Ut=n(3879);Object.defineProperty(t,"switchMap",{enumerable:!0,get:function(){return Ut.switchMap}});var zt=n(3274);Object.defineProperty(t,"switchMapTo",{enumerable:!0,get:function(){return zt.switchMapTo}});var Vt=n(8712);Object.defineProperty(t,"switchScan",{enumerable:!0,get:function(){return Vt.switchScan}});var Wt=n(846);Object.defineProperty(t,"take",{enumerable:!0,get:function(){return Wt.take}});var Ht=n(8330);Object.defineProperty(t,"takeLast",{enumerable:!0,get:function(){return Ht.takeLast}});var Gt=n(4780);Object.defineProperty(t,"takeUntil",{enumerable:!0,get:function(){return Gt.takeUntil}});var qt=n(2129);Object.defineProperty(t,"takeWhile",{enumerable:!0,get:function(){return qt.takeWhile}});var Yt=n(3964);Object.defineProperty(t,"tap",{enumerable:!0,get:function(){return Yt.tap}});var Xt=n(8941);Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return Xt.throttle}});var Kt=n(7640);Object.defineProperty(t,"throttleTime",{enumerable:!0,get:function(){return Kt.throttleTime}});var $t=n(4869);Object.defineProperty(t,"throwIfEmpty",{enumerable:!0,get:function(){return $t.throwIfEmpty}});var Zt=n(489);Object.defineProperty(t,"timeInterval",{enumerable:!0,get:function(){return Zt.timeInterval}});var Qt=n(1554);Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return Qt.timeout}});var Jt=n(4862);Object.defineProperty(t,"timeoutWith",{enumerable:!0,get:function(){return Jt.timeoutWith}});var en=n(6505);Object.defineProperty(t,"timestamp",{enumerable:!0,get:function(){return en.timestamp}});var tn=n(2343);Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return tn.toArray}});var nn=n(5477);Object.defineProperty(t,"window",{enumerable:!0,get:function(){return nn.window}});var rn=n(6746);Object.defineProperty(t,"windowCount",{enumerable:!0,get:function(){return rn.windowCount}});var on=n(8208);Object.defineProperty(t,"windowTime",{enumerable:!0,get:function(){return on.windowTime}});var an=n(6637);Object.defineProperty(t,"windowToggle",{enumerable:!0,get:function(){return an.windowToggle}});var sn=n(1141);Object.defineProperty(t,"windowWhen",{enumerable:!0,get:function(){return sn.windowWhen}});var un=n(5442);Object.defineProperty(t,"withLatestFrom",{enumerable:!0,get:function(){return un.withLatestFrom}});var ln=n(187);Object.defineProperty(t,"zipAll",{enumerable:!0,get:function(){return ln.zipAll}});var cn=n(8538);Object.defineProperty(t,"zipWith",{enumerable:!0,get:function(){return cn.zipWith}})},95:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncSubject=void 0;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return o(t,e),t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t._hasValue,o=t._value,i=t.thrownError,a=t.isStopped,s=t._isComplete;n?e.error(i):(a||s)&&(r&&e.next(o),e.complete())},t.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},t.prototype.complete=function(){var t=this,n=t._hasValue,r=t._value;t._isComplete||(this._isComplete=!0,n&&e.prototype.next.call(this,r),e.prototype.complete.call(this))},t}(n(2483).Subject);t.AsyncSubject=i},1637:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BehaviorSubject=void 0;var i=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return o(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(n(2483).Subject);t.BehaviorSubject=i},7800:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observeNotification=t.Notification=t.NotificationKind=void 0;var r,o=n(8616),i=n(1004),a=n(1103),s=n(1018);(r=t.NotificationKind||(t.NotificationKind={})).NEXT="N",r.ERROR="E",r.COMPLETE="C";var u=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){return l(this,e)},e.prototype.do=function(e,t,n){var r=this,o=r.kind,i=r.value,a=r.error;return"N"===o?null==e?void 0:e(i):"E"===o?null==t?void 0:t(a):null==n?void 0:n()},e.prototype.accept=function(e,t,n){var r;return s.isFunction(null===(r=e)||void 0===r?void 0:r.next)?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e=this,t=e.kind,n=e.value,r=e.error,s="N"===t?i.of(n):"E"===t?a.throwError(function(){return r}):"C"===t?o.EMPTY:0;if(!s)throw new TypeError("Unexpected notification kind "+t);return s},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function l(e,t){var n,r,o,i=e,a=i.kind,s=i.value,u=i.error;if("string"!=typeof a)throw new TypeError('Invalid notification, missing "kind"');"N"===a?null===(n=t.next)||void 0===n||n.call(t,s):"E"===a?null===(r=t.error)||void 0===r||r.call(t,u):null===(o=t.complete)||void 0===o||o.call(t)}t.Notification=u,t.observeNotification=l},9052:(e,t)=>{function n(e,t,n){return{kind:e,value:t,error:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.createNotification=t.nextNotification=t.errorNotification=t.COMPLETE_NOTIFICATION=void 0,t.COMPLETE_NOTIFICATION=n("C",void 0,void 0),t.errorNotification=function(e){return n("E",void 0,e)},t.nextNotification=function(e){return n("N",e,void 0)},t.createNotification=n},4662:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var r=n(5),o=n(8014),i=n(3327),a=n(2706),s=n(3413),u=n(1018),l=n(9223),c=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i,a=this,s=(i=e)&&i instanceof r.Subscriber||function(e){return e&&u.isFunction(e.next)&&u.isFunction(e.error)&&u.isFunction(e.complete)}(i)&&o.isSubscription(i)?e:new r.SafeSubscriber(e,t,n);return l.errorContext(function(){var e=a,t=e.operator,n=e.source;s.add(t?t.call(s,n):n?a._subscribe(s):a._trySubscribe(s))}),s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=f(t))(function(t,o){var i=new r.SafeSubscriber({next:function(t){try{e(t)}catch(e){o(e),i.unsubscribe()}},error:o,complete:t});n.subscribe(i)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function f(e){var t;return null!==(t=null!=e?e:s.config.Promise)&&void 0!==t?t:Promise}t.Observable=c},1242:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaySubject=void 0;var i=n(2483),a=n(9568),s=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=a.dateTimestampProvider);var o=e.call(this)||this;return o._bufferSize=t,o._windowTime=n,o._timestampProvider=r,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,n),o}return o(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,o=n._buffer,i=n._infiniteTimeWindow,a=n._timestampProvider,s=n._windowTime;r||(o.push(t),!i&&o.push(a.now()+s)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),o=0;o<r.length&&!e.closed;o+=n?1:2)e.next(r[o]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,o=e._infiniteTimeWindow,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){for(var a=n.now(),s=0,u=1;u<r.length&&r[u]<=a;u+=2)s=u;s&&r.splice(0,s+1)}},t}(i.Subject);t.ReplaySubject=s},8986:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Scheduler=void 0;var r=n(9568),o=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=r.dateTimestampProvider.now,e}();t.Scheduler=o},2483:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousSubject=t.Subject=void 0;var a=n(4662),s=n(8014),u=n(9686),l=n(7479),c=n(9223),f=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return o(t,e),t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new u.ObjectUnsubscribedError},t.prototype.next=function(e){var t=this;c.errorContext(function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=i(t.currentObservers),a=o.next();!a.done;a=o.next())a.value.next(e)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}})},t.prototype.error=function(e){var t=this;c.errorContext(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}})},t.prototype.complete=function(){var e=this;c.errorContext(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,o=n.isStopped,i=n.observers;return r||o?s.EMPTY_SUBSCRIPTION:(this.currentObservers=null,i.push(e),new s.Subscription(function(){t.currentObservers=null,l.arrRemove(i,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new a.Observable;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(a.Observable);t.Subject=f;var d=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return o(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:s.EMPTY_SUBSCRIPTION},t}(f);t.AnonymousSubject=d},5:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_OBSERVER=t.SafeSubscriber=t.Subscriber=void 0;var i=n(1018),a=n(8014),s=n(3413),u=n(7315),l=n(1342),c=n(9052),f=n(9155),d=n(9223),h=function(e){function n(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,a.isSubscription(n)&&n.add(r)):r.destination=t.EMPTY_OBSERVER,r}return o(n,e),n.create=function(e,t,n){return new y(e,t,n)},n.prototype.next=function(e){this.isStopped?b(c.nextNotification(e),this):this._next(e)},n.prototype.error=function(e){this.isStopped?b(c.errorNotification(e),this):(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped?b(c.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(a.Subscription);t.Subscriber=h;var p=Function.prototype.bind;function v(e,t){return p.call(e,t)}var g=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){m(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){m(e)}else m(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){m(e)}},e}(),y=function(e){function t(t,n,r){var o,a,u=e.call(this)||this;return i.isFunction(t)||!t?o={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:u&&s.config.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return u.unsubscribe()},o={next:t.next&&v(t.next,a),error:t.error&&v(t.error,a),complete:t.complete&&v(t.complete,a)}):o=t,u.destination=new g(o),u}return o(t,e),t}(h);function m(e){s.config.useDeprecatedSynchronousErrorHandling?d.captureError(e):u.reportUnhandledError(e)}function b(e,t){var n=s.config.onStoppedNotification;n&&f.timeoutProvider.setTimeout(function(){return n(e,t)})}t.SafeSubscriber=y,t.EMPTY_OBSERVER={closed:!0,next:l.noop,error:function(e){throw e},complete:l.noop}},8014:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.isSubscription=t.EMPTY_SUBSCRIPTION=t.Subscription=void 0;var a=n(1018),s=n(5788),u=n(7479),l=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,u,l;if(!this.closed){this.closed=!0;var f=this._parentage;if(f)if(this._parentage=null,Array.isArray(f))try{for(var d=r(f),h=d.next();!h.done;h=d.next())h.value.remove(this)}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}else f.remove(this);var p=this.initialTeardown;if(a.isFunction(p))try{p()}catch(e){l=e instanceof s.UnsubscriptionError?e.errors:[e]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var g=r(v),y=g.next();!y.done;y=g.next()){var m=y.value;try{c(m)}catch(e){l=null!=l?l:[],e instanceof s.UnsubscriptionError?l=i(i([],o(l)),o(e.errors)):l.push(e)}}}catch(e){n={error:e}}finally{try{y&&!y.done&&(u=g.return)&&u.call(g)}finally{if(n)throw n.error}}}if(l)throw new s.UnsubscriptionError(l)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)c(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&u.arrRemove(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&u.arrRemove(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){a.isFunction(e)?e():e.unsubscribe()}t.Subscription=l,t.EMPTY_SUBSCRIPTION=l.EMPTY,t.isSubscription=function(e){return e instanceof l||e&&"closed"in e&&a.isFunction(e.remove)&&a.isFunction(e.add)&&a.isFunction(e.unsubscribe)}},3413:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9060:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.firstValueFrom=void 0;var r=n(2823),o=n(5);t.firstValueFrom=function(e,t){var n="object"==typeof t;return new Promise(function(i,a){var s=new o.SafeSubscriber({next:function(e){i(e),s.unsubscribe()},error:a,complete:function(){n?i(t.defaultValue):a(new r.EmptyError)}});e.subscribe(s)})}},6894:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.lastValueFrom=void 0;var r=n(2823);t.lastValueFrom=function(e,t){var n="object"==typeof t;return new Promise(function(o,i){var a,s=!1;e.subscribe({next:function(e){a=e,s=!0},error:i,complete:function(){s?o(a):n?o(t.defaultValue):i(new r.EmptyError)}})})}},8918:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectableObservable=void 0;var i=n(4662),a=n(8014),s=n(7561),u=n(3111),l=n(7843),c=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._subject=null,r._refCount=0,r._connection=null,l.hasLift(t)&&(r.lift=t.lift),r}return o(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new a.Subscription;var n=this.getSubject();t.add(this.source.subscribe(u.createOperatorSubscriber(n,void 0,function(){e._teardown(),n.complete()},function(t){e._teardown(),n.error(t)},function(){return e._teardown()}))),t.closed&&(this._connection=null,t=a.Subscription.EMPTY)}return t},t.prototype.refCount=function(){return s.refCount()(this)},t}(i.Observable);t.ConnectableObservable=c},2713:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bindCallback=void 0;var r=n(1439);t.bindCallback=function(e,t,n){return r.bindCallbackInternals(!1,e,t,n)}},1439:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.bindCallbackInternals=void 0;var i=n(8613),a=n(4662),s=n(8960),u=n(1251),l=n(5184),c=n(95);t.bindCallbackInternals=function e(t,n,f,d){if(f){if(!i.isScheduler(f))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e(t,n,d).apply(this,r).pipe(u.mapOneOrManyArgs(f))};d=f}return d?function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e(t,n).apply(this,r).pipe(s.subscribeOn(d),l.observeOn(d))}:function(){for(var e=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var u=new c.AsyncSubject,l=!0;return new a.Observable(function(a){var s=u.subscribe(a);if(l){l=!1;var c=!1,f=!1;n.apply(e,o(o([],r(i)),[function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=e.shift();if(null!=r)return void u.error(r)}u.next(1<e.length?e:e[0]),f=!0,c&&u.complete()}])),f&&u.complete(),c=!0}return s})}}},8561:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bindNodeCallback=void 0;var r=n(1439);t.bindNodeCallback=function(e,t,n){return r.bindCallbackInternals(!0,e,t,n)}},3247:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestInit=t.combineLatest=void 0;var r=n(4662),o=n(7360),i=n(4917),a=n(6640),s=n(1251),u=n(1107),l=n(6013),c=n(3111),f=n(7110);function d(e,t,n){return void 0===n&&(n=a.identity),function(r){h(t,function(){for(var o=e.length,a=new Array(o),s=o,u=o,l=function(o){h(t,function(){var l=i.from(e[o],t),f=!1;l.subscribe(c.createOperatorSubscriber(r,function(e){a[o]=e,f||(f=!0,u--),u||r.next(n(a.slice()))},function(){--s||r.complete()}))},r)},f=0;f<o;f++)l(f)},r)}}function h(e,t,n){e?f.executeSchedule(n,e,t):t()}t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=u.popScheduler(e),c=u.popResultSelector(e),f=o.argsArgArrayOrObject(e),h=f.args,p=f.keys;if(0===h.length)return i.from([],n);var v=new r.Observable(d(h,n,p?function(e){return l.createObject(p,e)}:a.identity));return c?v.pipe(s.mapOneOrManyArgs(c)):v},t.combineLatestInit=d},3865:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var r=n(8158),o=n(1107),i=n(4917);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.concatAll()(i.from(e,o.popScheduler(e)))}},7579:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.connectable=void 0;var r=n(2483),o=n(4662),i=n(9353),a={connector:function(){return new r.Subject},resetOnDisconnect:!0};t.connectable=function(e,t){void 0===t&&(t=a);var n=null,r=t.connector,s=t.resetOnDisconnect,u=void 0===s||s,l=r(),c=new o.Observable(function(e){return l.subscribe(e)});return c.connect=function(){return n&&!n.closed||(n=i.defer(function(){return e}).subscribe(l),u&&n.add(function(){return l=r()})),n},c}},9353:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defer=void 0;var r=n(4662),o=n(9445);t.defer=function(e){return new r.Observable(function(t){o.innerFrom(e()).subscribe(t)})}},3110:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrames=void 0;var r=n(4662),o=n(4746),i=n(9507);function a(e){return new r.Observable(function(t){var n=e||o.performanceTimestampProvider,r=n.now(),a=0,s=function(){t.closed||(a=i.animationFrameProvider.requestAnimationFrame(function(o){a=0;var i=n.now();t.next({timestamp:e?i:o,elapsed:i-r}),s()}))};return s(),function(){a&&i.animationFrameProvider.cancelAnimationFrame(a)}})}t.animationFrames=function(e){return e?a(e):s};var s=a()},8616:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.empty=t.EMPTY=void 0;var r=n(4662);t.EMPTY=new r.Observable(function(e){return e.complete()}),t.empty=function(e){return e?function(e){return new r.Observable(function(t){return e.schedule(function(){return t.complete()})})}(e):t.EMPTY}},9105:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.forkJoin=void 0;var r=n(4662),o=n(7360),i=n(9445),a=n(1107),s=n(3111),u=n(1251),l=n(6013);t.forkJoin=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a.popResultSelector(e),c=o.argsArgArrayOrObject(e),f=c.args,d=c.keys,h=new r.Observable(function(e){var t=f.length;if(t)for(var n=new Array(t),r=t,o=t,a=function(t){var a=!1;i.innerFrom(f[t]).subscribe(s.createOperatorSubscriber(e,function(e){a||(a=!0,o--),n[t]=e},function(){return r--},void 0,function(){r&&a||(o||e.next(d?l.createObject(d,n):n),e.complete())}))},u=0;u<t;u++)a(u);else e.complete()});return n?h.pipe(u.mapOneOrManyArgs(n)):h}},4917:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.from=void 0;var r=n(1656),o=n(9445);t.from=function(e,t){return t?r.scheduled(e,t):o.innerFrom(e)}},5337:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.fromEvent=void 0;var o=n(9445),i=n(4662),a=n(983),s=n(8046),u=n(1018),l=n(1251),c=["addListener","removeListener"],f=["addEventListener","removeEventListener"],d=["on","off"];function h(e,t){return function(n){return function(r){return e[n](t,r)}}}t.fromEvent=function e(t,n,p,v){if(u.isFunction(p)&&(v=p,p=void 0),v)return e(t,n,p).pipe(l.mapOneOrManyArgs(v));var g=r(function(e){return u.isFunction(e.addEventListener)&&u.isFunction(e.removeEventListener)}(t)?f.map(function(e){return function(r){return t[e](n,r,p)}}):function(e){return u.isFunction(e.addListener)&&u.isFunction(e.removeListener)}(t)?c.map(h(t,n)):function(e){return u.isFunction(e.on)&&u.isFunction(e.off)}(t)?d.map(h(t,n)):[],2),y=g[0],m=g[1];if(!y&&s.isArrayLike(t))return a.mergeMap(function(t){return e(t,n,p)})(o.innerFrom(t));if(!y)throw new TypeError("Invalid event target");return new i.Observable(function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return y(t),function(){return m(t)}})}},347:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromEventPattern=void 0;var r=n(4662),o=n(1018),i=n(1251);t.fromEventPattern=function e(t,n,a){return a?e(t,n).pipe(i.mapOneOrManyArgs(a)):new r.Observable(function(e){var r=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1===t.length?t[0]:t)},i=t(r);return o.isFunction(n)?function(){return n(r,i)}:void 0})}},6824:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromSubscribable=void 0;var r=n(4662);t.fromSubscribable=function(e){return new r.Observable(function(t){return e.subscribe(t)})}},7610:function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.generate=void 0;var o=n(6640),i=n(8613),a=n(9353),s=n(8808);t.generate=function(e,t,n,u,l){var c,f,d,h;function p(){var e;return r(this,function(r){switch(r.label){case 0:e=h,r.label=1;case 1:return t&&!t(e)?[3,4]:[4,d(e)];case 2:r.sent(),r.label=3;case 3:return e=n(e),[3,1];case 4:return[2]}})}return 1===arguments.length?(h=(c=e).initialState,t=c.condition,n=c.iterate,f=c.resultSelector,d=void 0===f?o.identity:f,l=c.scheduler):(h=e,!u||i.isScheduler(u)?(d=o.identity,l=u):d=u),a.defer(l?function(){return s.scheduleIterable(p(),l)}:p)}},4209:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.iif=void 0;var r=n(9353);t.iif=function(e,t,n){return r.defer(function(){return e()?t:n})}},9445:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof a?a(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,o,(t=e[n](t)).done,t.value)})}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.fromReadableStreamLike=t.fromAsyncIterable=t.fromIterable=t.fromPromise=t.fromArrayLike=t.fromInteropObservable=t.innerFrom=void 0;var s=n(8046),u=n(7629),l=n(4662),c=n(1116),f=n(1358),d=n(7614),h=n(6368),p=n(9137),v=n(1018),g=n(7315),y=n(3327);function m(e){return new l.Observable(function(t){var n=e[y.observable]();if(v.isFunction(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function b(e){return new l.Observable(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function _(e){return new l.Observable(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,g.reportUnhandledError)})}function w(e){return new l.Observable(function(t){var n,r;try{for(var o=a(e),i=o.next();!i.done;i=o.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function x(e){return new l.Observable(function(t){(function(e,t){var n,a,s,u;return r(this,void 0,void 0,function(){var r,l;return o(this,function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),n=i(e),o.label=1;case 1:return[4,n.next()];case 2:if((a=o.sent()).done)return[3,4];if(r=a.value,t.next(r),t.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=o.sent(),s={error:l},[3,11];case 6:return o.trys.push([6,,9,10]),a&&!a.done&&(u=n.return)?[4,u.call(n)]:[3,8];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function E(e){return x(p.readableStreamLikeToAsyncGenerator(e))}t.innerFrom=function(e){if(e instanceof l.Observable)return e;if(null!=e){if(c.isInteropObservable(e))return m(e);if(s.isArrayLike(e))return b(e);if(u.isPromise(e))return _(e);if(f.isAsyncIterable(e))return x(e);if(h.isIterable(e))return w(e);if(p.isReadableStreamLike(e))return E(e)}throw d.createInvalidObservableTypeError(e)},t.fromInteropObservable=m,t.fromArrayLike=b,t.fromPromise=_,t.fromIterable=w,t.fromAsyncIterable=x,t.fromReadableStreamLike=E},6472:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.interval=void 0;var r=n(7961),o=n(4092);t.interval=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=r.asyncScheduler),e<0&&(e=0),o.timer(e,e,t)}},2833:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var r=n(7302),o=n(9445),i=n(8616),a=n(1107),s=n(4917);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a.popScheduler(e),u=a.popNumber(e,1/0),l=e;return l.length?1===l.length?o.innerFrom(l[0]):r.mergeAll(u)(s.from(l,n)):i.EMPTY}},8655:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.never=t.NEVER=void 0;var r=n(4662),o=n(1342);t.NEVER=new r.Observable(o.noop),t.never=function(){return t.NEVER}},1004:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.of=void 0;var r=n(1107),o=n(4917);t.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.popScheduler(e);return o.from(e,n)}},6102:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.onErrorResumeNext=void 0;var r=n(4662),o=n(8535),i=n(3111),a=n(1342),s=n(9445);t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.argsOrArgArray(e);return new r.Observable(function(e){var t=0,r=function(){if(t<n.length){var o=void 0;try{o=s.innerFrom(n[t++])}catch(e){return void r()}var u=new i.OperatorSubscriber(e,void 0,a.noop,a.noop);o.subscribe(u),u.add(r)}else e.complete()};r()})}},7740:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pairs=void 0;var r=n(4917);t.pairs=function(e,t){return r.from(Object.entries(e),t)}},1699:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.partition=void 0;var r=n(245),o=n(783),i=n(9445);t.partition=function(e,t,n){return[o.filter(t,n)(i.innerFrom(e)),o.filter(r.not(t,n))(i.innerFrom(e))]}},5584:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.raceInit=t.race=void 0;var r=n(4662),o=n(9445),i=n(8535),a=n(3111);function s(e){return function(t){for(var n=[],r=function(r){n.push(o.innerFrom(e[r]).subscribe(a.createOperatorSubscriber(t,function(e){if(n){for(var o=0;o<n.length;o++)o!==r&&n[o].unsubscribe();n=null}t.next(e)})))},i=0;n&&!t.closed&&i<e.length;i++)r(i)}}t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=i.argsOrArgArray(e)).length?o.innerFrom(e[0]):new r.Observable(s(e))},t.raceInit=s},9376:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.range=void 0;var r=n(4662),o=n(8616);t.range=function(e,t,n){if(null==t&&(t=e,e=0),t<=0)return o.EMPTY;var i=t+e;return new r.Observable(n?function(t){var r=e;return n.schedule(function(){r<i?(t.next(r++),this.schedule()):t.complete()})}:function(t){for(var n=e;n<i&&!t.closed;)t.next(n++);t.complete()})}},1103:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throwError=void 0;var r=n(4662),o=n(1018);t.throwError=function(e,t){var n=o.isFunction(e)?e:function(){return e},i=function(e){return e.error(n())};return new r.Observable(t?function(e){return t.schedule(i,0,e)}:i)}},4092:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timer=void 0;var r=n(4662),o=n(7961),i=n(8613),a=n(1074);t.timer=function(e,t,n){void 0===e&&(e=0),void 0===n&&(n=o.async);var s=-1;return null!=t&&(i.isScheduler(t)?n=t:s=t),new r.Observable(function(t){var r=a.isValidDate(e)?+e-n.now():e;r<0&&(r=0);var o=0;return n.schedule(function(){t.closed||(t.next(o++),0<=s?this.schedule(void 0,s):t.complete())},r)})}},7853:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.using=void 0;var r=n(4662),o=n(9445),i=n(8616);t.using=function(e,t){return new r.Observable(function(n){var r=e(),a=t(r);return(a?o.innerFrom(a):i.EMPTY).subscribe(n),function(){r&&r.unsubscribe()}})}},7286:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var i=n(4662),a=n(9445),s=n(8535),u=n(8616),l=n(3111),c=n(1107);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=c.popResultSelector(e),f=s.argsOrArgArray(e);return f.length?new i.Observable(function(e){var t=f.map(function(){return[]}),i=f.map(function(){return!1});e.add(function(){t=i=null});for(var s=function(s){a.innerFrom(f[s]).subscribe(l.createOperatorSubscriber(e,function(a){if(t[s].push(a),t.every(function(e){return e.length})){var u=t.map(function(e){return e.shift()});e.next(n?n.apply(void 0,o([],r(u))):u),t.some(function(e,t){return!e.length&&i[t]})&&e.complete()}},function(){i[s]=!0,!t[s].length&&e.complete()}))},u=0;!e.closed&&u<f.length;u++)s(u);return function(){t=i=null}}):u.EMPTY}},3111:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.OperatorSubscriber=t.createOperatorSubscriber=void 0;var i=n(5);t.createOperatorSubscriber=function(e,t,n,r,o){return new a(e,t,n,r,o)};var a=function(e){function t(t,n,r,o,i,a){var s=e.call(this,t)||this;return s.onFinalize=i,s.shouldUnsubscribe=a,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return o(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(i.Subscriber);t.OperatorSubscriber=a},3146:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.audit=void 0;var r=n(7843),o=n(9445),i=n(3111);t.audit=function(e){return r.operate(function(t,n){var r=!1,a=null,s=null,u=!1,l=function(){if(null==s||s.unsubscribe(),s=null,r){r=!1;var e=a;a=null,n.next(e)}u&&n.complete()},c=function(){s=null,u&&n.complete()};t.subscribe(i.createOperatorSubscriber(n,function(t){r=!0,a=t,s||o.innerFrom(e(t)).subscribe(s=i.createOperatorSubscriber(n,l,c))},function(){u=!0,(!r||!s||s.closed)&&n.complete()}))})}},3231:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.auditTime=void 0;var r=n(7961),o=n(3146),i=n(4092);t.auditTime=function(e,t){return void 0===t&&(t=r.asyncScheduler),o.audit(function(){return i.timer(e,t)})}},8015:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.buffer=void 0;var r=n(7843),o=n(1342),i=n(3111),a=n(9445);t.buffer=function(e){return r.operate(function(t,n){var r=[];return t.subscribe(i.createOperatorSubscriber(n,function(e){return r.push(e)},function(){n.next(r),n.complete()})),a.innerFrom(e).subscribe(i.createOperatorSubscriber(n,function(){var e=r;r=[],n.next(e)},o.noop)),function(){r=null}})}},5572:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferCount=void 0;var o=n(7843),i=n(3111),a=n(7479);t.bufferCount=function(e,t){return void 0===t&&(t=null),t=null!=t?t:e,o.operate(function(n,o){var s=[],u=0;n.subscribe(i.createOperatorSubscriber(o,function(n){var i,l,c,f,d=null;u++%t==0&&s.push([]);try{for(var h=r(s),p=h.next();!p.done;p=h.next())(y=p.value).push(n),e<=y.length&&(d=null!=d?d:[]).push(y)}catch(e){i={error:e}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(i)throw i.error}}if(d)try{for(var v=r(d),g=v.next();!g.done;g=v.next()){var y=g.value;a.arrRemove(s,y),o.next(y)}}catch(e){c={error:e}}finally{try{g&&!g.done&&(f=v.return)&&f.call(v)}finally{if(c)throw c.error}}},function(){var e,t;try{for(var n=r(s),i=n.next();!i.done;i=n.next()){var a=i.value;o.next(a)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}o.complete()},void 0,function(){s=null}))})}},7210:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferTime=void 0;var o=n(8014),i=n(7843),a=n(3111),s=n(7479),u=n(7961),l=n(1107),c=n(7110);t.bufferTime=function(e){for(var t,n,f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var h=null!==(t=l.popScheduler(f))&&void 0!==t?t:u.asyncScheduler,p=null!==(n=f[0])&&void 0!==n?n:null,v=f[1]||1/0;return i.operate(function(t,n){var i=[],u=!1,l=function(e){var t=e.buffer;e.subs.unsubscribe(),s.arrRemove(i,e),n.next(t),u&&f()},f=function(){if(i){var t=new o.Subscription;n.add(t);var r={buffer:[],subs:t};i.push(r),c.executeSchedule(t,h,function(){return l(r)},e)}};null!==p&&p>=0?c.executeSchedule(n,h,f,p,!0):u=!0,f();var d=a.createOperatorSubscriber(n,function(e){var t,n,o=i.slice();try{for(var a=r(o),s=a.next();!s.done;s=a.next()){var u=s.value,c=u.buffer;c.push(e),v<=c.length&&l(u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},function(){for(;null==i?void 0:i.length;)n.next(i.shift().buffer);null==d||d.unsubscribe(),n.complete(),n.unsubscribe()},void 0,function(){return i=null});t.subscribe(d)})}},8995:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToggle=void 0;var o=n(8014),i=n(7843),a=n(9445),s=n(3111),u=n(1342),l=n(7479);t.bufferToggle=function(e,t){return i.operate(function(n,i){var c=[];a.innerFrom(e).subscribe(s.createOperatorSubscriber(i,function(e){var n=[];c.push(n);var r=new o.Subscription;r.add(a.innerFrom(t(e)).subscribe(s.createOperatorSubscriber(i,function(){l.arrRemove(c,n),i.next(n),r.unsubscribe()},u.noop)))},u.noop)),n.subscribe(s.createOperatorSubscriber(i,function(e){var t,n;try{for(var o=r(c),i=o.next();!i.done;i=o.next())i.value.push(e)}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},function(){for(;c.length>0;)i.next(c.shift());i.complete()}))})}},8831:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bufferWhen=void 0;var r=n(7843),o=n(1342),i=n(3111),a=n(9445);t.bufferWhen=function(e){return r.operate(function(t,n){var r=null,s=null,u=function(){null==s||s.unsubscribe();var t=r;r=[],t&&n.next(t),a.innerFrom(e()).subscribe(s=i.createOperatorSubscriber(n,u,o.noop))};u(),t.subscribe(i.createOperatorSubscriber(n,function(e){return null==r?void 0:r.push(e)},function(){r&&n.next(r),n.complete()},void 0,function(){return r=s=null}))})}},8118:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.catchError=void 0;var r=n(9445),o=n(3111),i=n(7843);t.catchError=function e(t){return i.operate(function(n,i){var a,s=null,u=!1;s=n.subscribe(o.createOperatorSubscriber(i,void 0,void 0,function(o){a=r.innerFrom(t(o,e(t)(n))),s?(s.unsubscribe(),s=null,a.subscribe(i)):u=!0})),u&&(s.unsubscribe(),s=null,a.subscribe(i))})}},6625:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.combineAll=void 0;var r=n(6728);t.combineAll=r.combineLatestAll},2551:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatest=void 0;var i=n(3247),a=n(7843),s=n(8535),u=n(1251),l=n(2706),c=n(1107);t.combineLatest=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var f=c.popResultSelector(t);return f?l.pipe(e.apply(void 0,o([],r(t))),u.mapOneOrManyArgs(f)):a.operate(function(e,n){i.combineLatestInit(o([e],r(s.argsOrArgArray(t))))(n)})}},6728:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestAll=void 0;var r=n(3247),o=n(3638);t.combineLatestAll=function(e){return o.joinAllInternals(r.combineLatest,e)}},8239:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestWith=void 0;var i=n(2551);t.combineLatestWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.combineLatest.apply(void 0,o([],r(e)))}},7601:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var i=n(7843),a=n(8158),s=n(1107),u=n(4917);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=s.popScheduler(e);return i.operate(function(t,i){a.concatAll()(u.from(o([t],r(e)),n)).subscribe(i)})}},8158:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concatAll=void 0;var r=n(7302);t.concatAll=function(){return r.mergeAll(1)}},9135:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concatMap=void 0;var r=n(983),o=n(1018);t.concatMap=function(e,t){return o.isFunction(t)?r.mergeMap(e,t,1):r.mergeMap(e,1)}},9938:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concatMapTo=void 0;var r=n(9135),o=n(1018);t.concatMapTo=function(e,t){return o.isFunction(t)?r.concatMap(function(){return e},t):r.concatMap(function(){return e})}},9669:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concatWith=void 0;var i=n(7601);t.concatWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.concat.apply(void 0,o([],r(e)))}},1483:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;var r=n(2483),o=n(9445),i=n(7843),a=n(6824),s={connector:function(){return new r.Subject}};t.connect=function(e,t){void 0===t&&(t=s);var n=t.connector;return i.operate(function(t,r){var i=n();o.innerFrom(e(a.fromSubscribable(i))).subscribe(r),r.add(t.subscribe(i))})}},1038:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.count=void 0;var r=n(9139);t.count=function(e){return r.reduce(function(t,n,r){return!e||e(n,r)?t+1:t},0)}},4461:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0;var r=n(7843),o=n(1342),i=n(3111),a=n(9445);t.debounce=function(e){return r.operate(function(t,n){var r=!1,s=null,u=null,l=function(){if(null==u||u.unsubscribe(),u=null,r){r=!1;var e=s;s=null,n.next(e)}};t.subscribe(i.createOperatorSubscriber(n,function(t){null==u||u.unsubscribe(),r=!0,s=t,u=i.createOperatorSubscriber(n,l,o.noop),a.innerFrom(e(t)).subscribe(u)},function(){l(),n.complete()},void 0,function(){s=u=null}))})}},8079:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.debounceTime=void 0;var r=n(7961),o=n(7843),i=n(3111);t.debounceTime=function(e,t){return void 0===t&&(t=r.asyncScheduler),o.operate(function(n,r){var o=null,a=null,s=null,u=function(){if(o){o.unsubscribe(),o=null;var e=a;a=null,r.next(e)}};function l(){var n=s+e,i=t.now();if(i<n)return o=this.schedule(void 0,n-i),void r.add(o);u()}n.subscribe(i.createOperatorSubscriber(r,function(n){a=n,s=t.now(),o||(o=t.schedule(l,e),r.add(o))},function(){u(),r.complete()},void 0,function(){a=o=null}))})}},378:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultIfEmpty=void 0;var r=n(7843),o=n(3111);t.defaultIfEmpty=function(e){return r.operate(function(t,n){var r=!1;t.subscribe(o.createOperatorSubscriber(n,function(e){r=!0,n.next(e)},function(){r||n.next(e),n.complete()}))})}},914:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0;var r=n(7961),o=n(8766),i=n(4092);t.delay=function(e,t){void 0===t&&(t=r.asyncScheduler);var n=i.timer(e,t);return o.delayWhen(function(){return n})}},8766:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delayWhen=void 0;var r=n(3865),o=n(846),i=n(490),a=n(3218),s=n(983),u=n(9445);t.delayWhen=function e(t,n){return n?function(a){return r.concat(n.pipe(o.take(1),i.ignoreElements()),a.pipe(e(t)))}:s.mergeMap(function(e,n){return u.innerFrom(t(e,n)).pipe(o.take(1),a.mapTo(e))})}},7441:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dematerialize=void 0;var r=n(7800),o=n(7843),i=n(3111);t.dematerialize=function(){return o.operate(function(e,t){e.subscribe(i.createOperatorSubscriber(t,function(e){return r.observeNotification(e,t)}))})}},5365:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.distinct=void 0;var r=n(7843),o=n(3111),i=n(1342),a=n(9445);t.distinct=function(e,t){return r.operate(function(n,r){var s=new Set;n.subscribe(o.createOperatorSubscriber(r,function(t){var n=e?e(t):t;s.has(n)||(s.add(n),r.next(t))})),t&&a.innerFrom(t).subscribe(o.createOperatorSubscriber(r,function(){return s.clear()},i.noop))})}},8937:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilChanged=void 0;var r=n(6640),o=n(7843),i=n(3111);function a(e,t){return e===t}t.distinctUntilChanged=function(e,t){return void 0===t&&(t=r.identity),e=null!=e?e:a,o.operate(function(n,r){var o,a=!0;n.subscribe(i.createOperatorSubscriber(r,function(n){var i=t(n);!a&&e(o,i)||(a=!1,o=i,r.next(n))}))})}},9612:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilKeyChanged=void 0;var r=n(8937);t.distinctUntilKeyChanged=function(e,t){return r.distinctUntilChanged(function(n,r){return t?t(n[e],r[e]):n[e]===r[e]})}},4520:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.elementAt=void 0;var r=n(7057),o=n(783),i=n(4869),a=n(378),s=n(846);t.elementAt=function(e,t){if(e<0)throw new r.ArgumentOutOfRangeError;var n=arguments.length>=2;return function(u){return u.pipe(o.filter(function(t,n){return n===e}),s.take(1),n?a.defaultIfEmpty(t):i.throwIfEmpty(function(){return new r.ArgumentOutOfRangeError}))}}},1776:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.endWith=void 0;var i=n(3865),a=n(1004);t.endWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return i.concat(t,a.of.apply(void 0,o([],r(e))))}}},5510:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.every=void 0;var r=n(7843),o=n(3111);t.every=function(e,t){return r.operate(function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,function(o){e.call(t,o,i++,n)||(r.next(!1),r.complete())},function(){r.next(!0),r.complete()}))})}},1551:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaust=void 0;var r=n(2752);t.exhaust=r.exhaustAll},2752:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustAll=void 0;var r=n(4753),o=n(6640);t.exhaustAll=function(){return r.exhaustMap(o.identity)}},4753:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustMap=void 0;var r=n(5471),o=n(9445),i=n(7843),a=n(3111);t.exhaustMap=function e(t,n){return n?function(i){return i.pipe(e(function(e,i){return o.innerFrom(t(e,i)).pipe(r.map(function(t,r){return n(e,t,i,r)}))}))}:i.operate(function(e,n){var r=0,i=null,s=!1;e.subscribe(a.createOperatorSubscriber(n,function(e){i||(i=a.createOperatorSubscriber(n,void 0,function(){i=null,s&&n.complete()}),o.innerFrom(t(e,r++)).subscribe(i))},function(){s=!0,!i&&n.complete()}))})}},7661:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.expand=void 0;var r=n(7843),o=n(1983);t.expand=function(e,t,n){return void 0===t&&(t=1/0),t=(t||0)<1?1/0:t,r.operate(function(r,i){return o.mergeInternals(r,i,e,t,void 0,!0,n)})}},783:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.filter=void 0;var r=n(7843),o=n(3111);t.filter=function(e,t){return r.operate(function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,function(n){return e.call(t,n,i++)&&r.next(n)}))})}},3555:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.finalize=void 0;var r=n(7843);t.finalize=function(e){return r.operate(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}},7714:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createFind=t.find=void 0;var r=n(7843),o=n(3111);function i(e,t,n){var r="index"===n;return function(n,i){var a=0;n.subscribe(o.createOperatorSubscriber(i,function(o){var s=a++;e.call(t,o,s,n)&&(i.next(r?s:o),i.complete())},function(){i.next(r?-1:void 0),i.complete()}))}}t.find=function(e,t){return r.operate(i(e,t,"value"))},t.createFind=i},9756:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.findIndex=void 0;var r=n(7843),o=n(7714);t.findIndex=function(e,t){return r.operate(o.createFind(e,t,"index"))}},8275:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.first=void 0;var r=n(2823),o=n(783),i=n(846),a=n(378),s=n(4869),u=n(6640);t.first=function(e,t){var n=arguments.length>=2;return function(l){return l.pipe(e?o.filter(function(t,n){return e(t,n,l)}):u.identity,i.take(1),n?a.defaultIfEmpty(t):s.throwIfEmpty(function(){return new r.EmptyError}))}}},6902:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.flatMap=void 0;var r=n(983);t.flatMap=r.mergeMap},7815:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.groupBy=void 0;var r=n(4662),o=n(9445),i=n(2483),a=n(7843),s=n(3111);t.groupBy=function(e,t,n,u){return a.operate(function(a,l){var c;t&&"function"!=typeof t?(n=t.duration,c=t.element,u=t.connector):c=t;var f=new Map,d=function(e){f.forEach(e),e(l)},h=function(e){return d(function(t){return t.error(e)})},p=0,v=!1,g=new s.OperatorSubscriber(l,function(t){try{var a=e(t),d=f.get(a);if(!d){f.set(a,d=u?u():new i.Subject);var y=(b=a,_=d,(w=new r.Observable(function(e){p++;var t=_.subscribe(e);return function(){t.unsubscribe(),0==--p&&v&&g.unsubscribe()}})).key=b,w);if(l.next(y),n){var m=s.createOperatorSubscriber(d,function(){d.complete(),null==m||m.unsubscribe()},void 0,void 0,function(){return f.delete(a)});g.add(o.innerFrom(n(y)).subscribe(m))}}d.next(c?c(t):t)}catch(e){h(e)}var b,_,w},function(){return d(function(e){return e.complete()})},h,function(){return f.clear()},function(){return v=!0,0===p});a.subscribe(g)})}},490:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ignoreElements=void 0;var r=n(7843),o=n(3111),i=n(1342);t.ignoreElements=function(){return r.operate(function(e,t){e.subscribe(o.createOperatorSubscriber(t,i.noop))})}},9356:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var r=n(7843),o=n(3111);t.isEmpty=function(){return r.operate(function(e,t){e.subscribe(o.createOperatorSubscriber(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})}},3638:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.joinAllInternals=void 0;var r=n(6640),o=n(1251),i=n(2706),a=n(983),s=n(2343);t.joinAllInternals=function(e,t){return i.pipe(s.toArray(),a.mergeMap(function(t){return e(t)}),t?o.mapOneOrManyArgs(t):r.identity)}},8669:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.last=void 0;var r=n(2823),o=n(783),i=n(8330),a=n(4869),s=n(378),u=n(6640);t.last=function(e,t){var n=arguments.length>=2;return function(l){return l.pipe(e?o.filter(function(t,n){return e(t,n,l)}):u.identity,i.takeLast(1),n?s.defaultIfEmpty(t):a.throwIfEmpty(function(){return new r.EmptyError}))}}},5471:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.map=void 0;var r=n(7843),o=n(3111);t.map=function(e,t){return r.operate(function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,function(n){r.next(e.call(t,n,i++))}))})}},3218:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mapTo=void 0;var r=n(5471);t.mapTo=function(e){return r.map(function(){return e})}},2360:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.materialize=void 0;var r=n(7800),o=n(7843),i=n(3111);t.materialize=function(){return o.operate(function(e,t){e.subscribe(i.createOperatorSubscriber(t,function(e){t.next(r.Notification.createNext(e))},function(){t.next(r.Notification.createComplete()),t.complete()},function(e){t.next(r.Notification.createError(e)),t.complete()}))})}},1415:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.max=void 0;var r=n(9139),o=n(1018);t.max=function(e){return r.reduce(o.isFunction(e)?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t})}},361:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var i=n(7843),a=n(8535),s=n(7302),u=n(1107),l=n(4917);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=u.popScheduler(e),c=u.popNumber(e,1/0);return e=a.argsOrArgArray(e),i.operate(function(t,i){s.mergeAll(c)(l.from(o([t],r(e)),n)).subscribe(i)})}},7302:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAll=void 0;var r=n(983),o=n(6640);t.mergeAll=function(e){return void 0===e&&(e=1/0),r.mergeMap(o.identity,e)}},1983:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeInternals=void 0;var r=n(9445),o=n(7110),i=n(3111);t.mergeInternals=function(e,t,n,a,s,u,l,c){var f=[],d=0,h=0,p=!1,v=function(){!p||f.length||d||t.complete()},g=function(e){return d<a?y(e):f.push(e)},y=function(e){u&&t.next(e),d++;var c=!1;r.innerFrom(n(e,h++)).subscribe(i.createOperatorSubscriber(t,function(e){null==s||s(e),u?g(e):t.next(e)},function(){c=!0},void 0,function(){if(c)try{d--;for(var e=function(){var e=f.shift();l?o.executeSchedule(t,l,function(){return y(e)}):y(e)};f.length&&d<a;)e();v()}catch(e){t.error(e)}}))};return e.subscribe(i.createOperatorSubscriber(t,g,function(){p=!0,v()})),function(){null==c||c()}}},983:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMap=void 0;var r=n(5471),o=n(9445),i=n(7843),a=n(1983),s=n(1018);t.mergeMap=function e(t,n,u){return void 0===u&&(u=1/0),s.isFunction(n)?e(function(e,i){return r.map(function(t,r){return n(e,t,i,r)})(o.innerFrom(t(e,i)))},u):("number"==typeof n&&(u=n),i.operate(function(e,n){return a.mergeInternals(e,n,t,u)}))}},6586:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMapTo=void 0;var r=n(983),o=n(1018);t.mergeMapTo=function(e,t,n){return void 0===n&&(n=1/0),o.isFunction(t)?r.mergeMap(function(){return e},t,n):("number"==typeof t&&(n=t),r.mergeMap(function(){return e},n))}},4408:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeScan=void 0;var r=n(7843),o=n(1983);t.mergeScan=function(e,t,n){return void 0===n&&(n=1/0),r.operate(function(r,i){var a=t;return o.mergeInternals(r,i,function(t,n){return e(a,t,n)},n,function(e){a=e},!1,void 0,function(){return a=null})})}},8253:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeWith=void 0;var i=n(361);t.mergeWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.merge.apply(void 0,o([],r(e)))}},2669:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.min=void 0;var r=n(9139),o=n(1018);t.min=function(e){return r.reduce(o.isFunction(e)?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t})}},9247:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.multicast=void 0;var r=n(8918),o=n(1018),i=n(1483);t.multicast=function(e,t){var n=o.isFunction(e)?e:function(){return e};return o.isFunction(t)?i.connect(t,{connector:n}):function(e){return new r.ConnectableObservable(e,n)}}},5184:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observeOn=void 0;var r=n(7110),o=n(7843),i=n(3111);t.observeOn=function(e,t){return void 0===t&&(t=0),o.operate(function(n,o){n.subscribe(i.createOperatorSubscriber(o,function(n){return r.executeSchedule(o,e,function(){return o.next(n)},t)},function(){return r.executeSchedule(o,e,function(){return o.complete()},t)},function(n){return r.executeSchedule(o,e,function(){return o.error(n)},t)}))})}},1226:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.onErrorResumeNext=t.onErrorResumeNextWith=void 0;var i=n(8535),a=n(6102);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i.argsOrArgArray(e);return function(e){return a.onErrorResumeNext.apply(void 0,o([e],r(n)))}}t.onErrorResumeNextWith=s,t.onErrorResumeNext=s},1518:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pairwise=void 0;var r=n(7843),o=n(3111);t.pairwise=function(){return r.operate(function(e,t){var n,r=!1;e.subscribe(o.createOperatorSubscriber(t,function(e){var o=n;n=e,r&&t.next([o,e]),r=!0}))})}},2171:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.partition=void 0;var r=n(245),o=n(783);t.partition=function(e,t){return function(n){return[o.filter(e,t)(n),o.filter(r.not(e,t))(n)]}}},4912:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pluck=void 0;var r=n(5471);t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return r.map(function(t){for(var r=t,o=0;o<n;o++){var i=null==r?void 0:r[e[o]];if(void 0===i)return;r=i}return r})}},766:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publish=void 0;var r=n(2483),o=n(9247),i=n(1483);t.publish=function(e){return e?function(t){return i.connect(e)(t)}:function(e){return o.multicast(new r.Subject)(e)}}},7220:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publishBehavior=void 0;var r=n(1637),o=n(8918);t.publishBehavior=function(e){return function(t){var n=new r.BehaviorSubject(e);return new o.ConnectableObservable(t,function(){return n})}}},6106:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publishLast=void 0;var r=n(95),o=n(8918);t.publishLast=function(){return function(e){var t=new r.AsyncSubject;return new o.ConnectableObservable(e,function(){return t})}}},8157:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publishReplay=void 0;var r=n(1242),o=n(9247),i=n(1018);t.publishReplay=function(e,t,n,a){n&&!i.isFunction(n)&&(a=n);var s=i.isFunction(n)?n:void 0;return function(n){return o.multicast(new r.ReplaySubject(e,t,a),s)(n)}}},4440:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.race=void 0;var i=n(8535),a=n(5600);t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.raceWith.apply(void 0,o([],r(i.argsOrArgArray(e))))}},5600:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.raceWith=void 0;var i=n(5584),a=n(7843),s=n(6640);t.raceWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?a.operate(function(t,n){i.raceInit(o([t],r(e)))(n)}):s.identity}},9139:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reduce=void 0;var r=n(6384),o=n(7843);t.reduce=function(e,t){return o.operate(r.scanInternals(e,t,arguments.length>=2,!1,!0))}},7561:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.refCount=void 0;var r=n(7843),o=n(3111);t.refCount=function(){return r.operate(function(e,t){var n=null;e._refCount++;var r=o.createOperatorSubscriber(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount)n=null;else{var r=e._connection,o=n;n=null,!r||o&&r!==o||r.unsubscribe(),t.unsubscribe()}});e.subscribe(r),r.closed||(n=e.connect())})}},8522:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.repeat=void 0;var r=n(8616),o=n(7843),i=n(3111),a=n(9445),s=n(4092);t.repeat=function(e){var t,n,u=1/0;return null!=e&&("object"==typeof e?(t=e.count,u=void 0===t?1/0:t,n=e.delay):u=e),u<=0?function(){return r.EMPTY}:o.operate(function(e,t){var r,o=0,l=function(){if(null==r||r.unsubscribe(),r=null,null!=n){var e="number"==typeof n?s.timer(n):a.innerFrom(n(o)),u=i.createOperatorSubscriber(t,function(){u.unsubscribe(),c()});e.subscribe(u)}else c()},c=function(){var n=!1;r=e.subscribe(i.createOperatorSubscriber(t,void 0,function(){++o<u?r?l():n=!0:t.complete()})),n&&l()};c()})}},6566:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.repeatWhen=void 0;var r=n(9445),o=n(2483),i=n(7843),a=n(3111);t.repeatWhen=function(e){return i.operate(function(t,n){var i,s,u=!1,l=!1,c=!1,f=function(){return c&&l&&(n.complete(),!0)},d=function(){c=!1,i=t.subscribe(a.createOperatorSubscriber(n,void 0,function(){c=!0,!f()&&(s||(s=new o.Subject,r.innerFrom(e(s)).subscribe(a.createOperatorSubscriber(n,function(){i?d():u=!0},function(){l=!0,f()}))),s).next()})),u&&(i.unsubscribe(),i=null,u=!1,d())};d()})}},7835:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.retry=void 0;var r=n(7843),o=n(3111),i=n(6640),a=n(4092),s=n(9445);t.retry=function(e){var t;void 0===e&&(e=1/0);var n=(t=e&&"object"==typeof e?e:{count:e}).count,u=void 0===n?1/0:n,l=t.delay,c=t.resetOnSuccess,f=void 0!==c&&c;return u<=0?i.identity:r.operate(function(e,t){var n,r=0,i=function(){var c=!1;n=e.subscribe(o.createOperatorSubscriber(t,function(e){f&&(r=0),t.next(e)},void 0,function(e){if(r++<u){var f=function(){n?(n.unsubscribe(),n=null,i()):c=!0};if(null!=l){var d="number"==typeof l?a.timer(l):s.innerFrom(l(e,r)),h=o.createOperatorSubscriber(t,function(){h.unsubscribe(),f()},function(){t.complete()});d.subscribe(h)}else f()}else t.error(e)})),c&&(n.unsubscribe(),n=null,i())};i()})}},9843:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.retryWhen=void 0;var r=n(9445),o=n(2483),i=n(7843),a=n(3111);t.retryWhen=function(e){return i.operate(function(t,n){var i,s,u=!1,l=function(){i=t.subscribe(a.createOperatorSubscriber(n,void 0,void 0,function(t){s||(s=new o.Subject,r.innerFrom(e(s)).subscribe(a.createOperatorSubscriber(n,function(){return i?l():u=!0}))),s&&s.next(t)})),u&&(i.unsubscribe(),i=null,u=!1,l())};l()})}},1731:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sample=void 0;var r=n(9445),o=n(7843),i=n(1342),a=n(3111);t.sample=function(e){return o.operate(function(t,n){var o=!1,s=null;t.subscribe(a.createOperatorSubscriber(n,function(e){o=!0,s=e})),r.innerFrom(e).subscribe(a.createOperatorSubscriber(n,function(){if(o){o=!1;var e=s;s=null,n.next(e)}},i.noop))})}},6086:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sampleTime=void 0;var r=n(7961),o=n(1731),i=n(6472);t.sampleTime=function(e,t){return void 0===t&&(t=r.asyncScheduler),o.sample(i.interval(e,t))}},8624:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scan=void 0;var r=n(7843),o=n(6384);t.scan=function(e,t){return r.operate(o.scanInternals(e,t,arguments.length>=2,!0))}},6384:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scanInternals=void 0;var r=n(3111);t.scanInternals=function(e,t,n,o,i){return function(a,s){var u=n,l=t,c=0;a.subscribe(r.createOperatorSubscriber(s,function(t){var n=c++;l=u?e(l,t,n):(u=!0,t),o&&s.next(l)},i&&function(){u&&s.next(l),s.complete()}))}}},582:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sequenceEqual=void 0;var r=n(7843),o=n(3111),i=n(9445);t.sequenceEqual=function(e,t){return void 0===t&&(t=function(e,t){return e===t}),r.operate(function(n,r){var a={buffer:[],complete:!1},s={buffer:[],complete:!1},u=function(e){r.next(e),r.complete()},l=function(e,n){var i=o.createOperatorSubscriber(r,function(r){var o=n.buffer,i=n.complete;0===o.length?i?u(!1):e.buffer.push(r):!t(r,o.shift())&&u(!1)},function(){e.complete=!0;var t=n.complete,r=n.buffer;t&&u(0===r.length),null==i||i.unsubscribe()});return i};n.subscribe(l(a,s)),i.innerFrom(e).subscribe(l(s,a))})}},8977:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.share=void 0;var i=n(9445),a=n(2483),s=n(5),u=n(7843);function l(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];if(!0!==t){if(!1!==t){var u=new s.SafeSubscriber({next:function(){u.unsubscribe(),e()}});return i.innerFrom(t.apply(void 0,o([],r(n)))).subscribe(u)}}else e()}t.share=function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new a.Subject}:t,r=e.resetOnError,o=void 0===r||r,c=e.resetOnComplete,f=void 0===c||c,d=e.resetOnRefCountZero,h=void 0===d||d;return function(e){var t,r,a,c=0,d=!1,p=!1,v=function(){null==r||r.unsubscribe(),r=void 0},g=function(){v(),t=a=void 0,d=p=!1},y=function(){var e=t;g(),null==e||e.unsubscribe()};return u.operate(function(e,u){c++,p||d||v();var m=a=null!=a?a:n();u.add(function(){0!=--c||p||d||(r=l(y,h))}),m.subscribe(u),!t&&c>0&&(t=new s.SafeSubscriber({next:function(e){return m.next(e)},error:function(e){p=!0,v(),r=l(g,o,e),m.error(e)},complete:function(){d=!0,v(),r=l(g,f),m.complete()}}),i.innerFrom(e).subscribe(t))})(e)}}},3133:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shareReplay=void 0;var r=n(1242),o=n(8977);t.shareReplay=function(e,t,n){var i,a,s,u,l=!1;return e&&"object"==typeof e?(i=e.bufferSize,u=void 0===i?1/0:i,a=e.windowTime,t=void 0===a?1/0:a,l=void 0!==(s=e.refCount)&&s,n=e.scheduler):u=null!=e?e:1/0,o.share({connector:function(){return new r.ReplaySubject(u,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}},3001:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.single=void 0;var r=n(2823),o=n(1505),i=n(1759),a=n(7843),s=n(3111);t.single=function(e){return a.operate(function(t,n){var a,u=!1,l=!1,c=0;t.subscribe(s.createOperatorSubscriber(n,function(r){l=!0,e&&!e(r,c++,t)||(u&&n.error(new o.SequenceError("Too many matching values")),u=!0,a=r)},function(){u?(n.next(a),n.complete()):n.error(l?new i.NotFoundError("No matching values"):new r.EmptyError)}))})}},3982:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skip=void 0;var r=n(783);t.skip=function(e){return r.filter(function(t,n){return e<=n})}},9098:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skipLast=void 0;var r=n(6640),o=n(7843),i=n(3111);t.skipLast=function(e){return e<=0?r.identity:o.operate(function(t,n){var r=new Array(e),o=0;return t.subscribe(i.createOperatorSubscriber(n,function(t){var i=o++;if(i<e)r[i]=t;else{var a=i%e,s=r[a];r[a]=t,n.next(s)}})),function(){r=null}})}},7372:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skipUntil=void 0;var r=n(7843),o=n(3111),i=n(9445),a=n(1342);t.skipUntil=function(e){return r.operate(function(t,n){var r=!1,s=o.createOperatorSubscriber(n,function(){null==s||s.unsubscribe(),r=!0},a.noop);i.innerFrom(e).subscribe(s),t.subscribe(o.createOperatorSubscriber(n,function(e){return r&&n.next(e)}))})}},4721:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skipWhile=void 0;var r=n(7843),o=n(3111);t.skipWhile=function(e){return r.operate(function(t,n){var r=!1,i=0;t.subscribe(o.createOperatorSubscriber(n,function(t){return(r||(r=!e(t,i++)))&&n.next(t)}))})}},269:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.startWith=void 0;var r=n(3865),o=n(1107),i=n(7843);t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.popScheduler(e);return i.operate(function(t,o){(n?r.concat(e,t,n):r.concat(e,t)).subscribe(o)})}},8960:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeOn=void 0;var r=n(7843);t.subscribeOn=function(e,t){return void 0===t&&(t=0),r.operate(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}},8774:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchAll=void 0;var r=n(3879),o=n(6640);t.switchAll=function(){return r.switchMap(o.identity)}},3879:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchMap=void 0;var r=n(9445),o=n(7843),i=n(3111);t.switchMap=function(e,t){return o.operate(function(n,o){var a=null,s=0,u=!1,l=function(){return u&&!a&&o.complete()};n.subscribe(i.createOperatorSubscriber(o,function(n){null==a||a.unsubscribe();var u=0,c=s++;r.innerFrom(e(n,c)).subscribe(a=i.createOperatorSubscriber(o,function(e){return o.next(t?t(n,e,c,u++):e)},function(){a=null,l()}))},function(){u=!0,l()}))})}},3274:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchMapTo=void 0;var r=n(3879),o=n(1018);t.switchMapTo=function(e,t){return o.isFunction(t)?r.switchMap(function(){return e},t):r.switchMap(function(){return e})}},8712:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchScan=void 0;var r=n(3879),o=n(7843);t.switchScan=function(e,t){return o.operate(function(n,o){var i=t;return r.switchMap(function(t,n){return e(i,t,n)},function(e,t){return i=t,t})(n).subscribe(o),function(){i=null}})}},846:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.take=void 0;var r=n(8616),o=n(7843),i=n(3111);t.take=function(e){return e<=0?function(){return r.EMPTY}:o.operate(function(t,n){var r=0;t.subscribe(i.createOperatorSubscriber(n,function(t){++r<=e&&(n.next(t),e<=r&&n.complete())}))})}},8330:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.takeLast=void 0;var o=n(8616),i=n(7843),a=n(3111);t.takeLast=function(e){return e<=0?function(){return o.EMPTY}:i.operate(function(t,n){var o=[];t.subscribe(a.createOperatorSubscriber(n,function(t){o.push(t),e<o.length&&o.shift()},function(){var e,t;try{for(var i=r(o),a=i.next();!a.done;a=i.next()){var s=a.value;n.next(s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}n.complete()},void 0,function(){o=null}))})}},4780:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.takeUntil=void 0;var r=n(7843),o=n(3111),i=n(9445),a=n(1342);t.takeUntil=function(e){return r.operate(function(t,n){i.innerFrom(e).subscribe(o.createOperatorSubscriber(n,function(){return n.complete()},a.noop)),!n.closed&&t.subscribe(n)})}},2129:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.takeWhile=void 0;var r=n(7843),o=n(3111);t.takeWhile=function(e,t){return void 0===t&&(t=!1),r.operate(function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,function(n){var o=e(n,i++);(o||t)&&r.next(n),!o&&r.complete()}))})}},3964:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tap=void 0;var r=n(1018),o=n(7843),i=n(3111),a=n(6640);t.tap=function(e,t,n){var s=r.isFunction(e)||t||n?{next:e,error:t,complete:n}:e;return s?o.operate(function(e,t){var n;null===(n=s.subscribe)||void 0===n||n.call(s);var r=!0;e.subscribe(i.createOperatorSubscriber(t,function(e){var n;null===(n=s.next)||void 0===n||n.call(s,e),t.next(e)},function(){var e;r=!1,null===(e=s.complete)||void 0===e||e.call(s),t.complete()},function(e){var n;r=!1,null===(n=s.error)||void 0===n||n.call(s,e),t.error(e)},function(){var e,t;r&&(null===(e=s.unsubscribe)||void 0===e||e.call(s)),null===(t=s.finalize)||void 0===t||t.call(s)}))}):a.identity}},8941:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=void 0;var r=n(7843),o=n(3111),i=n(9445);t.throttle=function(e,t){return r.operate(function(n,r){var a=null!=t?t:{},s=a.leading,u=void 0===s||s,l=a.trailing,c=void 0!==l&&l,f=!1,d=null,h=null,p=!1,v=function(){null==h||h.unsubscribe(),h=null,c&&(m(),p&&r.complete())},g=function(){h=null,p&&r.complete()},y=function(t){return h=i.innerFrom(e(t)).subscribe(o.createOperatorSubscriber(r,v,g))},m=function(){if(f){f=!1;var e=d;d=null,r.next(e),!p&&y(e)}};n.subscribe(o.createOperatorSubscriber(r,function(e){f=!0,d=e,(!h||h.closed)&&(u?m():y(e))},function(){p=!0,(!(c&&f&&h)||h.closed)&&r.complete()}))})}},7640:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throttleTime=void 0;var r=n(7961),o=n(8941),i=n(4092);t.throttleTime=function(e,t,n){void 0===t&&(t=r.asyncScheduler);var a=i.timer(e,t);return o.throttle(function(){return a},n)}},4869:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfEmpty=void 0;var r=n(2823),o=n(7843),i=n(3111);function a(){return new r.EmptyError}t.throwIfEmpty=function(e){return void 0===e&&(e=a),o.operate(function(t,n){var r=!1;t.subscribe(i.createOperatorSubscriber(n,function(e){r=!0,n.next(e)},function(){return r?n.complete():n.error(e())}))})}},489:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeInterval=t.timeInterval=void 0;var r=n(7961),o=n(7843),i=n(3111);t.timeInterval=function(e){return void 0===e&&(e=r.asyncScheduler),o.operate(function(t,n){var r=e.now();t.subscribe(i.createOperatorSubscriber(n,function(t){var o=e.now(),i=o-r;r=o,n.next(new a(t,i))}))})};var a=function(e,t){this.value=e,this.interval=t};t.TimeInterval=a},1554:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timeout=t.TimeoutError=void 0;var r=n(7961),o=n(1074),i=n(7843),a=n(9445),s=n(5568),u=n(3111),l=n(7110);function c(e){throw new t.TimeoutError(e)}t.TimeoutError=s.createErrorClass(function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}),t.timeout=function(e,t){var n=o.isValidDate(e)?{first:e}:"number"==typeof e?{each:e}:e,s=n.first,f=n.each,d=n.with,h=void 0===d?c:d,p=n.scheduler,v=void 0===p?null!=t?t:r.asyncScheduler:p,g=n.meta,y=void 0===g?null:g;if(null==s&&null==f)throw new TypeError("No timeout provided.");return i.operate(function(e,t){var n,r,o=null,i=0,c=function(e){r=l.executeSchedule(t,v,function(){try{n.unsubscribe(),a.innerFrom(h({meta:y,lastValue:o,seen:i})).subscribe(t)}catch(e){t.error(e)}},e)};n=e.subscribe(u.createOperatorSubscriber(t,function(e){null==r||r.unsubscribe(),i++,t.next(o=e),f>0&&c(f)},void 0,void 0,function(){(null==r?void 0:r.closed)||null==r||r.unsubscribe(),o=null})),!i&&c(null!=s?"number"==typeof s?s:+s-v.now():f)})}},4862:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutWith=void 0;var r=n(7961),o=n(1074),i=n(1554);t.timeoutWith=function(e,t,n){var a,s,u;if(n=null!=n?n:r.async,o.isValidDate(e)?a=e:"number"==typeof e&&(s=e),!t)throw new TypeError("No observable provided to switch to");if(u=function(){return t},null==a&&null==s)throw new TypeError("No timeout provided.");return i.timeout({first:a,each:s,scheduler:n,with:u})}},6505:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timestamp=void 0;var r=n(9568),o=n(5471);t.timestamp=function(e){return void 0===e&&(e=r.dateTimestampProvider),o.map(function(t){return{value:t,timestamp:e.now()}})}},2343:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toArray=void 0;var r=n(9139),o=n(7843),i=function(e,t){return e.push(t),e};t.toArray=function(){return o.operate(function(e,t){r.reduce(i,[])(e).subscribe(t)})}},5477:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.window=void 0;var r=n(2483),o=n(7843),i=n(3111),a=n(1342),s=n(9445);t.window=function(e){return o.operate(function(t,n){var o=new r.Subject;n.next(o.asObservable());var u=function(e){o.error(e),n.error(e)};return t.subscribe(i.createOperatorSubscriber(n,function(e){return null==o?void 0:o.next(e)},function(){o.complete(),n.complete()},u)),s.innerFrom(e).subscribe(i.createOperatorSubscriber(n,function(){o.complete(),n.next(o=new r.Subject)},a.noop,u)),function(){null==o||o.unsubscribe(),o=null}})}},6746:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowCount=void 0;var o=n(2483),i=n(7843),a=n(3111);t.windowCount=function(e,t){void 0===t&&(t=0);var n=t>0?t:e;return i.operate(function(t,i){var s=[new o.Subject],u=0;i.next(s[0].asObservable()),t.subscribe(a.createOperatorSubscriber(i,function(t){var a,l;try{for(var c=r(s),f=c.next();!f.done;f=c.next())f.value.next(t)}catch(e){a={error:e}}finally{try{f&&!f.done&&(l=c.return)&&l.call(c)}finally{if(a)throw a.error}}var d=u-e+1;if(d>=0&&d%n==0&&s.shift().complete(),++u%n==0){var h=new o.Subject;s.push(h),i.next(h.asObservable())}},function(){for(;s.length>0;)s.shift().complete();i.complete()},function(e){for(;s.length>0;)s.shift().error(e);i.error(e)},function(){s=null}))})}},8208:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.windowTime=void 0;var r=n(2483),o=n(7961),i=n(8014),a=n(7843),s=n(3111),u=n(7479),l=n(1107),c=n(7110);t.windowTime=function(e){for(var t,n,f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var h=null!==(t=l.popScheduler(f))&&void 0!==t?t:o.asyncScheduler,p=null!==(n=f[0])&&void 0!==n?n:null,v=f[1]||1/0;return a.operate(function(t,n){var o=[],a=!1,l=function(e){var t=e.window,n=e.subs;t.complete(),n.unsubscribe(),u.arrRemove(o,e),a&&f()},f=function(){if(o){var t=new i.Subscription;n.add(t);var a=new r.Subject,s={window:a,subs:t,seen:0};o.push(s),n.next(a.asObservable()),c.executeSchedule(t,h,function(){return l(s)},e)}};null!==p&&p>=0?c.executeSchedule(n,h,f,p,!0):a=!0,f();var d=function(e){return o.slice().forEach(e)},g=function(e){d(function(t){var n=t.window;return e(n)}),e(n),n.unsubscribe()};return t.subscribe(s.createOperatorSubscriber(n,function(e){d(function(t){t.window.next(e),v<=++t.seen&&l(t)})},function(){return g(function(e){return e.complete()})},function(e){return g(function(t){return t.error(e)})})),function(){o=null}})}},6637:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowToggle=void 0;var o=n(2483),i=n(8014),a=n(7843),s=n(9445),u=n(3111),l=n(1342),c=n(7479);t.windowToggle=function(e,t){return a.operate(function(n,a){var f=[],d=function(e){for(;0<f.length;)f.shift().error(e);a.error(e)};s.innerFrom(e).subscribe(u.createOperatorSubscriber(a,function(e){var n=new o.Subject;f.push(n);var r,h=new i.Subscription;try{r=s.innerFrom(t(e))}catch(e){return void d(e)}a.next(n.asObservable()),h.add(r.subscribe(u.createOperatorSubscriber(a,function(){c.arrRemove(f,n),n.complete(),h.unsubscribe()},l.noop,d)))},l.noop)),n.subscribe(u.createOperatorSubscriber(a,function(e){var t,n,o=f.slice();try{for(var i=r(o),a=i.next();!a.done;a=i.next())a.value.next(e)}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},function(){for(;0<f.length;)f.shift().complete();a.complete()},d,function(){for(;0<f.length;)f.shift().unsubscribe()}))})}},1141:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.windowWhen=void 0;var r=n(2483),o=n(7843),i=n(3111),a=n(9445);t.windowWhen=function(e){return o.operate(function(t,n){var o,s,u=function(e){o.error(e),n.error(e)},l=function(){var t;null==s||s.unsubscribe(),null==o||o.complete(),o=new r.Subject,n.next(o.asObservable());try{t=a.innerFrom(e())}catch(e){return void u(e)}t.subscribe(s=i.createOperatorSubscriber(n,l,l,u))};l(),t.subscribe(i.createOperatorSubscriber(n,function(e){return o.next(e)},function(){o.complete(),n.complete()},u,function(){null==s||s.unsubscribe(),o=null}))})}},5442:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.withLatestFrom=void 0;var i=n(7843),a=n(3111),s=n(9445),u=n(6640),l=n(1342),c=n(1107);t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=c.popResultSelector(e);return i.operate(function(t,i){for(var c=e.length,f=new Array(c),d=e.map(function(){return!1}),h=!1,p=function(t){s.innerFrom(e[t]).subscribe(a.createOperatorSubscriber(i,function(e){f[t]=e,h||d[t]||(d[t]=!0,(h=d.every(u.identity))&&(d=null))},l.noop))},v=0;v<c;v++)p(v);t.subscribe(a.createOperatorSubscriber(i,function(e){if(h){var t=o([e],r(f));i.next(n?n.apply(void 0,o([],r(t))):t)}}))})}},5918:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var i=n(7286),a=n(7843);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.operate(function(t,n){i.zip.apply(void 0,o([t],r(e))).subscribe(n)})}},187:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.zipAll=void 0;var r=n(7286),o=n(3638);t.zipAll=function(e){return o.joinAllInternals(r.zip,e)}},8538:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zipWith=void 0;var i=n(5918);t.zipWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.zip.apply(void 0,o([],r(e)))}},6985:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleArray=void 0;var r=n(4662);t.scheduleArray=function(e,t){return new r.Observable(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}},854:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleAsyncIterable=void 0;var r=n(4662),o=n(7110);t.scheduleAsyncIterable=function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.Observable(function(n){o.executeSchedule(n,t,function(){var r=e[Symbol.asyncIterator]();o.executeSchedule(n,t,function(){r.next().then(function(e){e.done?n.complete():n.next(e.value)})},0,!0)})})}},8808:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleIterable=void 0;var r=n(4662),o=n(1964),i=n(1018),a=n(7110);t.scheduleIterable=function(e,t){return new r.Observable(function(n){var r;return a.executeSchedule(n,t,function(){r=e[o.iterator](),a.executeSchedule(n,t,function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(e){return void n.error(e)}o?n.complete():n.next(t)},0,!0)}),function(){return i.isFunction(null==r?void 0:r.return)&&r.return()}})}},9567:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleObservable=void 0;var r=n(9445),o=n(5184),i=n(8960);t.scheduleObservable=function(e,t){return r.innerFrom(e).pipe(i.subscribeOn(t),o.observeOn(t))}},9589:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.schedulePromise=void 0;var r=n(9445),o=n(5184),i=n(8960);t.schedulePromise=function(e,t){return r.innerFrom(e).pipe(i.subscribeOn(t),o.observeOn(t))}},4953:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleReadableStreamLike=void 0;var r=n(854),o=n(9137);t.scheduleReadableStreamLike=function(e,t){return r.scheduleAsyncIterable(o.readableStreamLikeToAsyncGenerator(e),t)}},1656:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduled=void 0;var r=n(9567),o=n(9589),i=n(6985),a=n(8808),s=n(854),u=n(1116),l=n(7629),c=n(8046),f=n(6368),d=n(1358),h=n(7614),p=n(9137),v=n(4953);t.scheduled=function(e,t){if(null!=e){if(u.isInteropObservable(e))return r.scheduleObservable(e,t);if(c.isArrayLike(e))return i.scheduleArray(e,t);if(l.isPromise(e))return o.schedulePromise(e,t);if(d.isAsyncIterable(e))return s.scheduleAsyncIterable(e,t);if(f.isIterable(e))return a.scheduleIterable(e,t);if(p.isReadableStreamLike(e))return v.scheduleReadableStreamLike(e,t)}throw h.createInvalidObservableTypeError(e)}},4671:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;var i=function(e){function t(t,n){return e.call(this)||this}return o(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(8014).Subscription);t.Action=i},2628:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationFrameAction=void 0;var i=n(5267),a=n(9507),s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return o(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=a.animationFrameProvider.requestAnimationFrame(function(){return t.flush(void 0)})))},t.prototype.recycleAsyncId=function(t,n,r){var o;if(void 0===r&&(r=0),null!=r?r>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);var i=t.actions;null!=n&&(null===(o=i[i.length-1])||void 0===o?void 0:o.id)!==n&&(a.animationFrameProvider.cancelAnimationFrame(n),t._scheduled=void 0)},t}(i.AsyncAction);t.AnimationFrameAction=s},3229:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationFrameScheduler=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var n,r=this.actions;e=e||r.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,n){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw n}},t}(n(5648).AsyncScheduler);t.AnimationFrameScheduler=i},5006:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsapAction=void 0;var i=n(5267),a=n(6293),s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return o(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=a.immediateProvider.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,n,r){var o;if(void 0===r&&(r=0),null!=r?r>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);var i=t.actions;null!=n&&(null===(o=i[i.length-1])||void 0===o?void 0:o.id)!==n&&(a.immediateProvider.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))},t}(i.AsyncAction);t.AsapAction=s},827:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsapScheduler=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var n,r=this.actions;e=e||r.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,n){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw n}},t}(n(5648).AsyncScheduler);t.AsapScheduler=i},5267:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncAction=void 0;var i=n(4671),a=n(5649),s=n(7479),u=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return o(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),a.intervalProvider.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&a.intervalProvider.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,s.arrRemove(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(i.Action);t.AsyncAction=u},5648:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncScheduler=void 0;var i=n(8986),a=function(e){function t(t,n){void 0===n&&(n=i.Scheduler.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return o(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.Scheduler);t.AsyncScheduler=a},4212:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.QueueAction=void 0;var i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return o(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.flush(this),0)},t}(n(5267).AsyncAction);t.QueueAction=i},1293:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.QueueScheduler=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(n(5648).AsyncScheduler);t.QueueScheduler=i},182:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualAction=t.VirtualTimeScheduler=void 0;var i=n(5267),a=n(8014),s=function(e){function t(t,n){void 0===t&&(t=u),void 0===n&&(n=1/0);var r=e.call(this,t,function(){return r.frame})||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return o(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(n(5648).AsyncScheduler);t.VirtualTimeScheduler=s;var u=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=r,o.active=!0,o.index=t.index=r,o}return o(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),Number.isFinite(r)){if(!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(n,r)}return a.Subscription.EMPTY},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var o=e.actions;return o.push(this),o.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(i.AsyncAction);t.VirtualAction=u},3862:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrame=t.animationFrameScheduler=void 0;var r=n(2628),o=n(3229);t.animationFrameScheduler=new o.AnimationFrameScheduler(r.AnimationFrameAction),t.animationFrame=t.animationFrameScheduler},9507:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrameProvider=void 0;var i=n(8014);t.animationFrameProvider={schedule:function(e){var n=requestAnimationFrame,r=cancelAnimationFrame,o=t.animationFrameProvider.delegate;o&&(n=o.requestAnimationFrame,r=o.cancelAnimationFrame);var a=n(function(t){r=void 0,e(t)});return new i.Subscription(function(){return null==r?void 0:r(a)})},requestAnimationFrame:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.animationFrameProvider.delegate;return((null==i?void 0:i.requestAnimationFrame)||requestAnimationFrame).apply(void 0,o([],r(e)))},cancelAnimationFrame:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.animationFrameProvider.delegate;return((null==i?void 0:i.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,o([],r(e)))},delegate:void 0}},3692:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.asap=t.asapScheduler=void 0;var r=n(5006),o=n(827);t.asapScheduler=new o.AsapScheduler(r.AsapAction),t.asap=t.asapScheduler},7961:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.async=t.asyncScheduler=void 0;var r=n(5267),o=n(5648);t.asyncScheduler=new o.AsyncScheduler(r.AsyncAction),t.async=t.asyncScheduler},9568:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dateTimestampProvider=void 0,t.dateTimestampProvider={now:function(){return(t.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},6293:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.immediateProvider=void 0;var i=n(7245),a=i.Immediate.setImmediate,s=i.Immediate.clearImmediate;t.immediateProvider={setImmediate:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.immediateProvider.delegate;return((null==i?void 0:i.setImmediate)||a).apply(void 0,o([],r(e)))},clearImmediate:function(e){var n=t.immediateProvider.delegate;return((null==n?void 0:n.clearImmediate)||s)(e)},delegate:void 0}},5649:function(e,t){var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.intervalProvider=void 0,t.intervalProvider={setInterval:function(e,o){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=t.intervalProvider.delegate;return(null==s?void 0:s.setInterval)?s.setInterval.apply(s,r([e,o],n(i))):setInterval.apply(void 0,r([e,o],n(i)))},clearInterval:function(e){var n=t.intervalProvider.delegate;return((null==n?void 0:n.clearInterval)||clearInterval)(e)},delegate:void 0}},4746:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.performanceTimestampProvider=void 0,t.performanceTimestampProvider={now:function(){return(t.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},2886:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.queue=t.queueScheduler=void 0;var r=n(4212),o=n(1293);t.queueScheduler=new o.QueueScheduler(r.QueueAction),t.queue=t.queueScheduler},9155:function(e,t){var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutProvider=void 0,t.timeoutProvider={setTimeout:function(e,o){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=t.timeoutProvider.delegate;return(null==s?void 0:s.setTimeout)?s.setTimeout.apply(s,r([e,o],n(i))):setTimeout.apply(void 0,r([e,o],n(i)))},clearTimeout:function(e){var n=t.timeoutProvider.delegate;return((null==n?void 0:n.clearTimeout)||clearTimeout)(e)},delegate:void 0}},1964:(e,t)=>{function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(t,"__esModule",{value:!0}),t.iterator=t.getSymbolIterator=void 0,t.getSymbolIterator=n,t.iterator=n()},3327:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observable=void 0,t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},6038:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},7057:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ArgumentOutOfRangeError=void 0;var r=n(5568);t.ArgumentOutOfRangeError=r.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})},2823:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyError=void 0;var r=n(5568);t.EmptyError=r.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}})},7245:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TestTools=t.Immediate=void 0;var n,r=1,o={};function i(e){return e in o&&(delete o[e],!0)}t.Immediate={setImmediate:function(e){var t=r++;return o[t]=!0,n||(n=Promise.resolve()),n.then(function(){return i(t)&&e()}),t},clearImmediate:function(e){i(e)}},t.TestTools={pending:function(){return Object.keys(o).length}}},1759:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NotFoundError=void 0;var r=n(5568);t.NotFoundError=r.createErrorClass(function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}})},9686:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectUnsubscribedError=void 0;var r=n(5568);t.ObjectUnsubscribedError=r.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})},1505:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceError=void 0;var r=n(5568);t.SequenceError=r.createErrorClass(function(e){return function(t){e(this),this.name="SequenceError",this.message=t}})},5788:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnsubscriptionError=void 0;var r=n(5568);t.UnsubscriptionError=r.createErrorClass(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}})},1107:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.popNumber=t.popScheduler=t.popResultSelector=void 0;var r=n(1018),o=n(8613);function i(e){return e[e.length-1]}t.popResultSelector=function(e){return r.isFunction(i(e))?e.pop():void 0},t.popScheduler=function(e){return o.isScheduler(i(e))?e.pop():void 0},t.popNumber=function(e,t){return"number"==typeof i(e)?e.pop():t}},7360:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.argsArgArrayOrObject=void 0;var n=Array.isArray,r=Object.getPrototypeOf,o=Object.prototype,i=Object.keys;t.argsArgArrayOrObject=function(e){if(1===e.length){var t=e[0];if(n(t))return{args:t,keys:null};if((s=t)&&"object"==typeof s&&r(s)===o){var a=i(t);return{args:a.map(function(e){return t[e]}),keys:a}}}var s;return{args:e,keys:null}}},8535:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.argsOrArgArray=void 0;var n=Array.isArray;t.argsOrArgArray=function(e){return 1===e.length&&n(e[0])?e[0]:e}},7479:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.arrRemove=void 0,t.arrRemove=function(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}},5568:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createErrorClass=void 0,t.createErrorClass=function(e){var t=e(function(e){Error.call(e),e.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}},6013:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createObject=void 0,t.createObject=function(e,t){return e.reduce(function(e,n,r){return e[n]=t[r],e},{})}},9223:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.captureError=t.errorContext=void 0;var r=n(3413),o=null;t.errorContext=function(e){if(r.config.useDeprecatedSynchronousErrorHandling){var t=!o;if(t&&(o={errorThrown:!1,error:null}),e(),t){var n=o,i=n.errorThrown,a=n.error;if(o=null,i)throw a}}else e()},t.captureError=function(e){r.config.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=e)}},7110:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.executeSchedule=void 0,t.executeSchedule=function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}},6640:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.identity=void 0,t.identity=function(e){return e}},8046:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isArrayLike=void 0,t.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},1358:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=void 0;var r=n(1018);t.isAsyncIterable=function(e){return Symbol.asyncIterator&&r.isFunction(null==e?void 0:e[Symbol.asyncIterator])}},1074:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isValidDate=void 0,t.isValidDate=function(e){return e instanceof Date&&!isNaN(e)}},1018:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=void 0,t.isFunction=function(e){return"function"==typeof e}},1116:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isInteropObservable=void 0;var r=n(3327),o=n(1018);t.isInteropObservable=function(e){return o.isFunction(e[r.observable])}},6368:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isIterable=void 0;var r=n(1964),o=n(1018);t.isIterable=function(e){return o.isFunction(null==e?void 0:e[r.iterator])}},1751:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isObservable=void 0;var r=n(4662),o=n(1018);t.isObservable=function(e){return!!e&&(e instanceof r.Observable||o.isFunction(e.lift)&&o.isFunction(e.subscribe))}},7629:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isPromise=void 0;var r=n(1018);t.isPromise=function(e){return r.isFunction(null==e?void 0:e.then)}},9137:function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},o=this&&this.__await||function(e){return this instanceof o?(this.v=e,this):new o(e)},i=this&&this.__asyncGenerator||function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){a.push([e,t,n,r])>1||u(e,t)})})}function u(e,t){try{(n=i[e](t)).value instanceof o?Promise.resolve(n.value.v).then(l,c):f(a[0][2],n)}catch(e){f(a[0][3],e)}var n}function l(e){u("next",e)}function c(e){u("throw",e)}function f(e,t){e(t),a.shift(),a.length&&u(a[0][0],a[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.isReadableStreamLike=t.readableStreamLikeToAsyncGenerator=void 0;var a=n(1018);t.readableStreamLikeToAsyncGenerator=function(e){return i(this,arguments,function(){var t,n,i;return r(this,function(r){switch(r.label){case 0:t=e.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,o(t.read())];case 3:return n=r.sent(),i=n.value,n.done?[4,o(void 0)]:[3,5];case 4:return[2,r.sent()];case 5:return[4,o(i)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})},t.isReadableStreamLike=function(e){return a.isFunction(null==e?void 0:e.getReader)}},8613:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isScheduler=void 0;var r=n(1018);t.isScheduler=function(e){return e&&r.isFunction(e.schedule)}},7843:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.operate=t.hasLift=void 0;var r=n(1018);function o(e){return r.isFunction(null==e?void 0:e.lift)}t.hasLift=o,t.operate=function(e){return function(t){if(o(t))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw new TypeError("Unable to lift unknown Observable type")}}},1251:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mapOneOrManyArgs=void 0;var i=n(5471),a=Array.isArray;t.mapOneOrManyArgs=function(e){return i.map(function(t){return function(e,t){return a(t)?e.apply(void 0,o([],r(t))):e(t)}(e,t)})}},1342:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.noop=void 0,t.noop=function(){}},245:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.not=void 0,t.not=function(e,t){return function(n,r){return!e.call(t,n,r)}}},2706:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pipeFromArray=t.pipe=void 0;var r=n(6640);function o(e){return 0===e.length?r.identity:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)},t.pipeFromArray=o},7315:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reportUnhandledError=void 0;var r=n(3413),o=n(9155);t.reportUnhandledError=function(e){o.timeoutProvider.setTimeout(function(){var t=r.config.onUnhandledError;if(!t)throw e;t(e)})}},7614:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createInvalidObservableTypeError=void 0,t.createInvalidObservableTypeError=function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},9419:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAll=t.merge=t.max=t.materialize=t.mapTo=t.map=t.last=t.isEmpty=t.ignoreElements=t.groupBy=t.first=t.findIndex=t.find=t.finalize=t.filter=t.expand=t.exhaustMap=t.exhaustAll=t.exhaust=t.every=t.endWith=t.elementAt=t.distinctUntilKeyChanged=t.distinctUntilChanged=t.distinct=t.dematerialize=t.delayWhen=t.delay=t.defaultIfEmpty=t.debounceTime=t.debounce=t.count=t.connect=t.concatWith=t.concatMapTo=t.concatMap=t.concatAll=t.concat=t.combineLatestWith=t.combineLatest=t.combineLatestAll=t.combineAll=t.catchError=t.bufferWhen=t.bufferToggle=t.bufferTime=t.bufferCount=t.buffer=t.auditTime=t.audit=void 0,t.timeInterval=t.throwIfEmpty=t.throttleTime=t.throttle=t.tap=t.takeWhile=t.takeUntil=t.takeLast=t.take=t.switchScan=t.switchMapTo=t.switchMap=t.switchAll=t.subscribeOn=t.startWith=t.skipWhile=t.skipUntil=t.skipLast=t.skip=t.single=t.shareReplay=t.share=t.sequenceEqual=t.scan=t.sampleTime=t.sample=t.refCount=t.retryWhen=t.retry=t.repeatWhen=t.repeat=t.reduce=t.raceWith=t.race=t.publishReplay=t.publishLast=t.publishBehavior=t.publish=t.pluck=t.partition=t.pairwise=t.onErrorResumeNext=t.observeOn=t.multicast=t.min=t.mergeWith=t.mergeScan=t.mergeMapTo=t.mergeMap=t.flatMap=void 0,t.zipWith=t.zipAll=t.zip=t.withLatestFrom=t.windowWhen=t.windowToggle=t.windowTime=t.windowCount=t.window=t.toArray=t.timestamp=t.timeoutWith=t.timeout=void 0;var r=n(3146);Object.defineProperty(t,"audit",{enumerable:!0,get:function(){return r.audit}});var o=n(3231);Object.defineProperty(t,"auditTime",{enumerable:!0,get:function(){return o.auditTime}});var i=n(8015);Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return i.buffer}});var a=n(5572);Object.defineProperty(t,"bufferCount",{enumerable:!0,get:function(){return a.bufferCount}});var s=n(7210);Object.defineProperty(t,"bufferTime",{enumerable:!0,get:function(){return s.bufferTime}});var u=n(8995);Object.defineProperty(t,"bufferToggle",{enumerable:!0,get:function(){return u.bufferToggle}});var l=n(8831);Object.defineProperty(t,"bufferWhen",{enumerable:!0,get:function(){return l.bufferWhen}});var c=n(8118);Object.defineProperty(t,"catchError",{enumerable:!0,get:function(){return c.catchError}});var f=n(6625);Object.defineProperty(t,"combineAll",{enumerable:!0,get:function(){return f.combineAll}});var d=n(6728);Object.defineProperty(t,"combineLatestAll",{enumerable:!0,get:function(){return d.combineLatestAll}});var h=n(2551);Object.defineProperty(t,"combineLatest",{enumerable:!0,get:function(){return h.combineLatest}});var p=n(8239);Object.defineProperty(t,"combineLatestWith",{enumerable:!0,get:function(){return p.combineLatestWith}});var v=n(7601);Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return v.concat}});var g=n(8158);Object.defineProperty(t,"concatAll",{enumerable:!0,get:function(){return g.concatAll}});var y=n(9135);Object.defineProperty(t,"concatMap",{enumerable:!0,get:function(){return y.concatMap}});var m=n(9938);Object.defineProperty(t,"concatMapTo",{enumerable:!0,get:function(){return m.concatMapTo}});var b=n(9669);Object.defineProperty(t,"concatWith",{enumerable:!0,get:function(){return b.concatWith}});var _=n(1483);Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return _.connect}});var w=n(1038);Object.defineProperty(t,"count",{enumerable:!0,get:function(){return w.count}});var x=n(4461);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return x.debounce}});var E=n(8079);Object.defineProperty(t,"debounceTime",{enumerable:!0,get:function(){return E.debounceTime}});var O=n(378);Object.defineProperty(t,"defaultIfEmpty",{enumerable:!0,get:function(){return O.defaultIfEmpty}});var S=n(914);Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return S.delay}});var T=n(8766);Object.defineProperty(t,"delayWhen",{enumerable:!0,get:function(){return T.delayWhen}});var P=n(7441);Object.defineProperty(t,"dematerialize",{enumerable:!0,get:function(){return P.dematerialize}});var C=n(5365);Object.defineProperty(t,"distinct",{enumerable:!0,get:function(){return C.distinct}});var k=n(8937);Object.defineProperty(t,"distinctUntilChanged",{enumerable:!0,get:function(){return k.distinctUntilChanged}});var A=n(9612);Object.defineProperty(t,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return A.distinctUntilKeyChanged}});var N=n(4520);Object.defineProperty(t,"elementAt",{enumerable:!0,get:function(){return N.elementAt}});var j=n(1776);Object.defineProperty(t,"endWith",{enumerable:!0,get:function(){return j.endWith}});var R=n(5510);Object.defineProperty(t,"every",{enumerable:!0,get:function(){return R.every}});var I=n(1551);Object.defineProperty(t,"exhaust",{enumerable:!0,get:function(){return I.exhaust}});var M=n(2752);Object.defineProperty(t,"exhaustAll",{enumerable:!0,get:function(){return M.exhaustAll}});var D=n(4753);Object.defineProperty(t,"exhaustMap",{enumerable:!0,get:function(){return D.exhaustMap}});var L=n(7661);Object.defineProperty(t,"expand",{enumerable:!0,get:function(){return L.expand}});var B=n(783);Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return B.filter}});var F=n(3555);Object.defineProperty(t,"finalize",{enumerable:!0,get:function(){return F.finalize}});var U=n(7714);Object.defineProperty(t,"find",{enumerable:!0,get:function(){return U.find}});var z=n(9756);Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return z.findIndex}});var V=n(8275);Object.defineProperty(t,"first",{enumerable:!0,get:function(){return V.first}});var W=n(7815);Object.defineProperty(t,"groupBy",{enumerable:!0,get:function(){return W.groupBy}});var H=n(490);Object.defineProperty(t,"ignoreElements",{enumerable:!0,get:function(){return H.ignoreElements}});var G=n(9356);Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return G.isEmpty}});var q=n(8669);Object.defineProperty(t,"last",{enumerable:!0,get:function(){return q.last}});var Y=n(5471);Object.defineProperty(t,"map",{enumerable:!0,get:function(){return Y.map}});var X=n(3218);Object.defineProperty(t,"mapTo",{enumerable:!0,get:function(){return X.mapTo}});var K=n(2360);Object.defineProperty(t,"materialize",{enumerable:!0,get:function(){return K.materialize}});var $=n(1415);Object.defineProperty(t,"max",{enumerable:!0,get:function(){return $.max}});var Z=n(361);Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return Z.merge}});var Q=n(7302);Object.defineProperty(t,"mergeAll",{enumerable:!0,get:function(){return Q.mergeAll}});var J=n(6902);Object.defineProperty(t,"flatMap",{enumerable:!0,get:function(){return J.flatMap}});var ee=n(983);Object.defineProperty(t,"mergeMap",{enumerable:!0,get:function(){return ee.mergeMap}});var te=n(6586);Object.defineProperty(t,"mergeMapTo",{enumerable:!0,get:function(){return te.mergeMapTo}});var ne=n(4408);Object.defineProperty(t,"mergeScan",{enumerable:!0,get:function(){return ne.mergeScan}});var re=n(8253);Object.defineProperty(t,"mergeWith",{enumerable:!0,get:function(){return re.mergeWith}});var oe=n(2669);Object.defineProperty(t,"min",{enumerable:!0,get:function(){return oe.min}});var ie=n(9247);Object.defineProperty(t,"multicast",{enumerable:!0,get:function(){return ie.multicast}});var ae=n(5184);Object.defineProperty(t,"observeOn",{enumerable:!0,get:function(){return ae.observeOn}});var se=n(1226);Object.defineProperty(t,"onErrorResumeNext",{enumerable:!0,get:function(){return se.onErrorResumeNext}});var ue=n(1518);Object.defineProperty(t,"pairwise",{enumerable:!0,get:function(){return ue.pairwise}});var le=n(2171);Object.defineProperty(t,"partition",{enumerable:!0,get:function(){return le.partition}});var ce=n(4912);Object.defineProperty(t,"pluck",{enumerable:!0,get:function(){return ce.pluck}});var fe=n(766);Object.defineProperty(t,"publish",{enumerable:!0,get:function(){return fe.publish}});var de=n(7220);Object.defineProperty(t,"publishBehavior",{enumerable:!0,get:function(){return de.publishBehavior}});var he=n(6106);Object.defineProperty(t,"publishLast",{enumerable:!0,get:function(){return he.publishLast}});var pe=n(8157);Object.defineProperty(t,"publishReplay",{enumerable:!0,get:function(){return pe.publishReplay}});var ve=n(4440);Object.defineProperty(t,"race",{enumerable:!0,get:function(){return ve.race}});var ge=n(5600);Object.defineProperty(t,"raceWith",{enumerable:!0,get:function(){return ge.raceWith}});var ye=n(9139);Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return ye.reduce}});var me=n(8522);Object.defineProperty(t,"repeat",{enumerable:!0,get:function(){return me.repeat}});var be=n(6566);Object.defineProperty(t,"repeatWhen",{enumerable:!0,get:function(){return be.repeatWhen}});var _e=n(7835);Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return _e.retry}});var we=n(9843);Object.defineProperty(t,"retryWhen",{enumerable:!0,get:function(){return we.retryWhen}});var xe=n(7561);Object.defineProperty(t,"refCount",{enumerable:!0,get:function(){return xe.refCount}});var Ee=n(1731);Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return Ee.sample}});var Oe=n(6086);Object.defineProperty(t,"sampleTime",{enumerable:!0,get:function(){return Oe.sampleTime}});var Se=n(8624);Object.defineProperty(t,"scan",{enumerable:!0,get:function(){return Se.scan}});var Te=n(582);Object.defineProperty(t,"sequenceEqual",{enumerable:!0,get:function(){return Te.sequenceEqual}});var Pe=n(8977);Object.defineProperty(t,"share",{enumerable:!0,get:function(){return Pe.share}});var Ce=n(3133);Object.defineProperty(t,"shareReplay",{enumerable:!0,get:function(){return Ce.shareReplay}});var ke=n(3001);Object.defineProperty(t,"single",{enumerable:!0,get:function(){return ke.single}});var Ae=n(3982);Object.defineProperty(t,"skip",{enumerable:!0,get:function(){return Ae.skip}});var Ne=n(9098);Object.defineProperty(t,"skipLast",{enumerable:!0,get:function(){return Ne.skipLast}});var je=n(7372);Object.defineProperty(t,"skipUntil",{enumerable:!0,get:function(){return je.skipUntil}});var Re=n(4721);Object.defineProperty(t,"skipWhile",{enumerable:!0,get:function(){return Re.skipWhile}});var Ie=n(269);Object.defineProperty(t,"startWith",{enumerable:!0,get:function(){return Ie.startWith}});var Me=n(8960);Object.defineProperty(t,"subscribeOn",{enumerable:!0,get:function(){return Me.subscribeOn}});var De=n(8774);Object.defineProperty(t,"switchAll",{enumerable:!0,get:function(){return De.switchAll}});var Le=n(3879);Object.defineProperty(t,"switchMap",{enumerable:!0,get:function(){return Le.switchMap}});var Be=n(3274);Object.defineProperty(t,"switchMapTo",{enumerable:!0,get:function(){return Be.switchMapTo}});var Fe=n(8712);Object.defineProperty(t,"switchScan",{enumerable:!0,get:function(){return Fe.switchScan}});var Ue=n(846);Object.defineProperty(t,"take",{enumerable:!0,get:function(){return Ue.take}});var ze=n(8330);Object.defineProperty(t,"takeLast",{enumerable:!0,get:function(){return ze.takeLast}});var Ve=n(4780);Object.defineProperty(t,"takeUntil",{enumerable:!0,get:function(){return Ve.takeUntil}});var We=n(2129);Object.defineProperty(t,"takeWhile",{enumerable:!0,get:function(){return We.takeWhile}});var He=n(3964);Object.defineProperty(t,"tap",{enumerable:!0,get:function(){return He.tap}});var Ge=n(8941);Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return Ge.throttle}});var qe=n(7640);Object.defineProperty(t,"throttleTime",{enumerable:!0,get:function(){return qe.throttleTime}});var Ye=n(4869);Object.defineProperty(t,"throwIfEmpty",{enumerable:!0,get:function(){return Ye.throwIfEmpty}});var Xe=n(489);Object.defineProperty(t,"timeInterval",{enumerable:!0,get:function(){return Xe.timeInterval}});var Ke=n(1554);Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return Ke.timeout}});var $e=n(4862);Object.defineProperty(t,"timeoutWith",{enumerable:!0,get:function(){return $e.timeoutWith}});var Ze=n(6505);Object.defineProperty(t,"timestamp",{enumerable:!0,get:function(){return Ze.timestamp}});var Qe=n(2343);Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return Qe.toArray}});var Je=n(5477);Object.defineProperty(t,"window",{enumerable:!0,get:function(){return Je.window}});var et=n(6746);Object.defineProperty(t,"windowCount",{enumerable:!0,get:function(){return et.windowCount}});var tt=n(8208);Object.defineProperty(t,"windowTime",{enumerable:!0,get:function(){return tt.windowTime}});var nt=n(6637);Object.defineProperty(t,"windowToggle",{enumerable:!0,get:function(){return nt.windowToggle}});var rt=n(1141);Object.defineProperty(t,"windowWhen",{enumerable:!0,get:function(){return rt.windowWhen}});var ot=n(5442);Object.defineProperty(t,"withLatestFrom",{enumerable:!0,get:function(){return ot.withLatestFrom}});var it=n(5918);Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return it.zip}});var at=n(187);Object.defineProperty(t,"zipAll",{enumerable:!0,get:function(){return at.zipAll}});var st=n(8538);Object.defineProperty(t,"zipWith",{enumerable:!0,get:function(){return st.zipWith}})},5636:(e,t,n)=>{var r=n(1048),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a),a.prototype=Object.create(o.prototype),i(o,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},9975:(e,t,n)=>{var r=n(7101),o=Array.prototype.concat,i=Array.prototype.slice,a=e.exports=function(e){for(var t=[],n=0,a=e.length;n<a;n++){var s=e[n];r(s)?t=o.call(t,i.call(s)):t.push(s)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},7101:e=>{e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},8888:(e,t,n)=>{var r=n(5636).Buffer,o=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=a(t[r]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--r<n||-2===o?0:(o=a(t[r]))>=0?(o>0&&(e.lastNeed=o-2),o):--r<n||-2===o?0:(o=a(t[r]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}}},rm={};function om(e){var t=rm[e];if(void 0!==t)return t.exports;var n=rm[e]={id:e,loaded:!1,exports:{}};return nm[e].call(n.exports,n,n.exports,om),n.loaded=!0,n.exports}om.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return om.d(t,{a:t}),t},om.d=(e,t)=>{for(var n in t)om.o(t,n)&&!om.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},om.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(qm){if("object"==typeof window)return window}}(),om.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),om.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var im={};(()=>{om.d(im,{RL:()=>Do,wK:()=>Si,x_:()=>Ci,lv:()=>Pi,YQ:()=>Ti,BP:()=>xf,GZ:()=>kf,Vw:()=>ki,Ay:()=>Af,_G:()=>as,Wy:()=>vl,h4:()=>Rc});var t=om(5250);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:String(t)}var o=["onLayoutDone","onLayoutStep","onError","onLayoutComputing","onWebGLContextLost","onZoomTransitionDone","restart"],i=function(){function e(){var t,n,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,o=void 0,(n=r(n="callbacks"))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,this.callbacks=i}var t,n;return t=e,n=[{key:"onZoomTransitionDone",value:function(){this.isValidFunction(this.callbacks.onZoomTransitionDone)&&this.callbacks.onZoomTransitionDone()}},{key:"onLayoutDone",value:function(){this.isValidFunction(this.callbacks.onLayoutDone)&&this.callbacks.onLayoutDone()}},{key:"onLayoutStep",value:function(e){this.isValidFunction(this.callbacks.onLayoutStep)&&this.callbacks.onLayoutStep(e)}},{key:"onLayoutComputing",value:function(e){this.isValidFunction(this.callbacks.onLayoutComputing)&&this.callbacks.onLayoutComputing(e)}},{key:"onError",value:function(e){this.isValidFunction(this.callbacks.onError)&&this.callbacks.onError(e)}},{key:"onWebGLContextLost",value:function(e){this.isValidFunction(this.callbacks.onWebGLContextLost)&&this.callbacks.onWebGLContextLost(e)}},{key:"isValidFunction",value:function(e){return void 0!==e&&"function"==typeof e}}],n&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function s(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var u=function(){function e(e){void 0===e&&(e="Atom@"+Je()),this.name=e,this.isPendingUnobservation=!0,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=wt.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.reportObserved=function(){Wt(this)},e.prototype.reportChanged=function(){zt(),function(e){if(e.lowestObserverState!==wt.STALE){e.lowestObserverState=wt.STALE;for(var t=e.observers,n=t.length;n--;){var r=t[n];r.dependenciesState===wt.UP_TO_DATE&&(r.isTracing!==xt.NONE&&Ht(r,e),r.onBecomeStale()),r.dependenciesState=wt.STALE}}}(this),Vt()},e.prototype.toString=function(){return this.name},e}(),l=function(e){function t(t,n,r){void 0===t&&(t="Atom@"+Je()),void 0===n&&(n=it),void 0===r&&(r=it);var o=e.call(this,t)||this;return o.name=t,o.onBecomeObservedHandler=n,o.onBecomeUnobservedHandler=r,o.isPendingUnobservation=!1,o.isBeingTracked=!1,o}return s(t,e),t.prototype.reportObserved=function(){return zt(),e.prototype.reportObserved.call(this),this.isBeingTracked||(this.isBeingTracked=!0,this.onBecomeObservedHandler()),Vt(),!!Tt.trackingDerivation},t.prototype.onBecomeUnobserved=function(){this.isBeingTracked=!1,this.onBecomeUnobservedHandler()},t}(u),c=yt("Atom",u);function f(e){return e.interceptors&&e.interceptors.length>0}function d(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),ot(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function h(e,t){var n=en();try{var r=e.interceptors;if(r)for(var o=0,i=r.length;o<i&&(tt(!(t=r[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{tn(n)}}function p(e){return e.changeListeners&&e.changeListeners.length>0}function v(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),ot(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function g(e,t){var n=en(),r=e.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);tn(n)}}function y(){return!!Tt.spyListeners.length}function m(e){if(Tt.spyListeners.length)for(var t=Tt.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function b(e){m(ct({},e,{spyReportStart:!0}))}var _={spyReportEnd:!0};function w(e){m(e?ct({},e,_):_)}function x(e){return Tt.spyListeners.push(e),ot(function(){var t=Tt.spyListeners.indexOf(e);-1!==t&&Tt.spyListeners.splice(t,1)})}var E="__$$iterating";function O(e){tt(!0!==e[E],"Illegal state: cannot recycle array as iterator"),pt(e,E,!0);var t=-1;return pt(e,"next",function(){return{done:++t>=this.length,value:t<this.length?this[t]:void 0}}),e}function S(e,t){pt(e,"function"==typeof Symbol&&Symbol.iterator||"@@iterator",t)}var T,P,C=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),k=0,A=function(){};T=A,P=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf(T.prototype,P):void 0!==T.prototype.__proto__?T.prototype.__proto__=P:T.prototype=P,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(e){Object.defineProperty(A.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})});var N=function(){function e(e,t,n,r){this.array=n,this.owned=r,this.values=[],this.lastKnownLength=0,this.interceptors=null,this.changeListeners=null,this.atom=new u(e||"ObservableArray@"+Je()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer?e.map(this.dehancer):e},e.prototype.intercept=function(e){return d(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),v(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>k&&D(e+t+1)},e.prototype.spliceWithArray=function(e,t,n){var r=this;$t(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:null==t?0:Math.max(0,Math.min(t,o-e)),void 0===n&&(n=[]),f(this)){var i=h(this,{object:this.array,type:"splice",index:e,removedCount:t,added:n});if(!i)return Ze;t=i.removedCount,n=i.added}var a=(n=n.map(function(e){return r.enhancer(e,void 0)})).length-t;this.updateArrayLength(o,a);var s=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,s),this.dehanceValues(s)},e.prototype.spliceItemsIntoValues=function(e,t,n){if(n.length<1e4)return(r=this.values).splice.apply(r,[e,t].concat(n));var r,o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&y(),o=p(this),i=o||r?{object:this.array,type:"update",index:e,newValue:t,oldValue:n}:null;r&&b(i),this.atom.reportChanged(),o&&g(this,i),r&&w()},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&y(),o=p(this),i=o||r?{object:this.array,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;r&&b(i),this.atom.reportChanged(),o&&g(this,i),r&&w()},e}(),j=function(e){function t(t,n,r,o){void 0===r&&(r="ObservableArray@"+Je()),void 0===o&&(o=!1);var i=e.call(this)||this,a=new N(r,n,i,o);return pt(i,"$mobx",a),t&&t.length&&i.spliceWithArray(0,0,t),C&&Object.defineProperty(a.array,"0",R),i}return s(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map(function(e){return B(e)?e.peek():e}))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,n){void 0===n&&(n=0);var r=this.findIndex.apply(this,arguments);return-1===r?void 0:this.get(r)},t.prototype.findIndex=function(e,t,n){void 0===n&&(n=0);for(var r=this.peek(),o=r.length,i=n;i<o;i++)if(e.call(t,r[i],i,this))return i;return-1},t.prototype.splice=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,n)},t.prototype.spliceWithArray=function(e,t,n){return this.$mobx.spliceWithArray(e,t,n)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,e),n.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(0,0,e),n.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function n(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(n.call(this,e),n.call(this,t),e!==t){var r,o=this.$mobx.values;r=e<t?o.slice(0,e).concat(o.slice(e+1,t+1),[o[e]],o.slice(t+1)):o.slice(0,t).concat([o[e]],o.slice(t,e),o.slice(e+1)),this.replace(r)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var n=this.$mobx,r=n.values;if(e<r.length){$t(n.atom);var o=r[e];if(f(n)){var i=h(n,{type:"update",object:this,index:e,newValue:t});if(!i)return;t=i.newValue}(t=n.enhancer(t,o))!==o&&(r[e]=t,n.notifyArrayChildUpdate(e,t,o))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}},t}(A);S(j.prototype,function(){return O(this.slice())}),Object.defineProperty(j.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(e){var t=Array.prototype[e];tt("function"==typeof t,"Base function not defined on Array prototype: '"+e+"'"),ht(j.prototype,e,function(){return t.apply(this.peek(),arguments)})}),function(e,t){for(var n=0;n<t.length;n++)ht(e,t[n],e[t[n]])}(j.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var R=I(0);function I(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function M(e){Object.defineProperty(j.prototype,""+e,I(e))}function D(e){for(var t=k;t<e;t++)M(t);k=e}D(1e3);var L=yt("ObservableArrayAdministration",N);function B(e){return ut(e)&&L(e.$mobx)}var F={},U=function(e){function t(t,n,r,o){void 0===r&&(r="ObservableValue@"+Je()),void 0===o&&(o=!0);var i=e.call(this,r)||this;return i.enhancer=n,i.hasUnreportedChange=!1,i.dehancer=void 0,i.value=n(t,void 0,r),o&&y()&&m({type:"create",object:i,newValue:i.value}),i}return s(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==F){var n=y();n&&b({type:"update",object:this,newValue:e,oldValue:t}),this.setNewValue(e),n&&w()}},t.prototype.prepareNewValue=function(e){if($t(this),f(this)){var t=h(this,{object:this,type:"update",newValue:e});if(!t)return F;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.value!==e?e:F},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),p(this)&&g(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return d(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),v(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return _t(this.get())},t}(u);U.prototype[bt()]=U.prototype.valueOf;var z=yt("ObservableValue",U),V={m001:"It is not allowed to assign new values to @action fields",m002:"`runInAction` expects a function",m003:"`runInAction` expects a function without arguments",m004:"autorun expects a function",m005:"Warning: attempted to pass an action to autorun. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m006:"Warning: attempted to pass an action to autorunAsync. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m007:"reaction only accepts 2 or 3 arguments. If migrating from MobX 2, please provide an options object",m008:"wrapping reaction expression in `asReference` is no longer supported, use options object instead",m009:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'. It looks like it was used on a property.",m010:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'",m011:"First argument to `computed` should be an expression. If using computed as decorator, don't pass it arguments",m012:"computed takes one or two arguments if used as function",m013:"[mobx.expr] 'expr' should only be used inside other reactive functions.",m014:"extendObservable expected 2 or more arguments",m015:"extendObservable expects an object as first argument",m016:"extendObservable should not be used on maps, use map.merge instead",m017:"all arguments of extendObservable should be objects",m018:"extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540",m019:"[mobx.isObservable] isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.",m020:"modifiers can only be used for individual object properties",m021:"observable expects zero or one arguments",m022:"@observable can not be used on getters, use @computed instead",m024:"whyRun() can only be used if a derivation is active, or by passing an computed value / reaction explicitly. If you invoked whyRun from inside a computation; the computation is currently suspended but re-evaluating because somebody requested its value.",m025:"whyRun can only be used on reactions and computed values",m026:"`action` can only be invoked on functions",m028:"It is not allowed to set `useStrict` when a derivation is running",m029:"INTERNAL ERROR only onBecomeUnobserved shouldn't be called twice in a row",m030a:"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ",m030b:"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ",m031:"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: ",m032:"* This computation is suspended (not in use by any reaction) and won't run automatically.\n\tDidn't expect this computation to be suspended at this point?\n\t  1. Make sure this computation is used by a reaction (reaction, autorun, observer).\n\t  2. Check whether you are using this computation synchronously (in the same stack as they reaction that needs it).",m033:"`observe` doesn't support the fire immediately property for observable maps.",m034:"`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead",m035:"Cannot make the designated object observable; it is not extensible",m036:"It is not possible to get index atoms from arrays",m037:'Hi there! I\'m sorry you have just run into an exception.\nIf your debugger ends up here, know that some reaction (like the render() of an observer component, autorun or reaction)\nthrew an exception and that mobx caught it, to avoid that it brings the rest of your application down.\nThe original cause of the exception (the code that caused this reaction to run (again)), is still in the stack.\n\nHowever, more interesting is the actual stack trace of the error itself.\nHopefully the error is an instanceof Error, because in that case you can inspect the original stack of the error from where it was thrown.\nSee `error.stack` property, or press the very subtle "(...)" link you see near the console.error message that probably brought you here.\nThat stack is more interesting than the stack of this console.error itself.\n\nIf the exception you see is an exception you created yourself, make sure to use `throw new Error("Oops")` instead of `throw "Oops"`,\nbecause the javascript environment will only preserve the original stack trace in the first form.\n\nYou can also make sure the debugger pauses the next time this very same exception is thrown by enabling "Pause on caught exception".\n(Note that it might pause on many other, unrelated exception as well).\n\nIf that all doesn\'t help you out, feel free to open an issue https://github.com/mobxjs/mobx/issues!\n',m038:"Missing items in this list?\n    1. Check whether all used values are properly marked as observable (use isObservable to verify)\n    2. Make sure you didn't dereference values too early. MobX observes props, not primitives. E.g: use 'person.name' instead of 'name' in your computation.\n"};function W(e){return V[e]}function H(e,t){tt("function"==typeof t,W("m026")),tt("string"==typeof e&&e.length>0,"actions should have valid names, got: '"+e+"'");var n=function(){return G(e,t,this,arguments)};return n.originalFn=t,n.isMobxAction=!0,n}function G(e,t,n,r){var o=function(e,t,n,r){var o=y()&&!!e,i=0;if(o){i=Date.now();var a=r&&r.length||0,s=new Array(a);if(a>0)for(var u=0;u<a;u++)s[u]=r[u];b({type:"action",name:e,fn:t,object:n,arguments:s})}var l=en();return zt(),{prevDerivation:l,prevAllowStateChanges:Y(!0),notifySpy:o,startTime:i}}(e,t,n,r);try{return t.apply(n,r)}finally{!function(e){X(e.prevAllowStateChanges),Vt(),tn(e.prevDerivation),e.notifySpy&&w({time:Date.now()-e.startTime})}(o)}}function q(e){tt(null===Tt.trackingDerivation,W("m028")),Tt.strictMode=e,Tt.allowStateChanges=!e}function Y(e){var t=Tt.allowStateChanges;return Tt.allowStateChanges=e,t}function X(e){Tt.allowStateChanges=e}function K(e,t,n,r,o){function i(i,a,s,u,l){if(void 0===l&&(l=0),tt(o||Q(arguments),"This function is a decorator, but it wasn't invoked like a decorator"),s){dt(i,"__mobxLazyInitializers")||ht(i,"__mobxLazyInitializers",i.__mobxLazyInitializers&&i.__mobxLazyInitializers.slice()||[]);var c=s.value,f=s.initializer;return i.__mobxLazyInitializers.push(function(t){e(t,a,f?f.call(t):c,u,s)}),{enumerable:r,configurable:!0,get:function(){return!0!==this.__mobxDidRunLazyInitializers&&Z(this),t.call(this,a)},set:function(e){!0!==this.__mobxDidRunLazyInitializers&&Z(this),n.call(this,a,e)}}}var d={enumerable:r,configurable:!0,get:function(){return this.__mobxInitializedProps&&!0===this.__mobxInitializedProps[a]||$(this,a,void 0,e,u,s),t.call(this,a)},set:function(t){this.__mobxInitializedProps&&!0===this.__mobxInitializedProps[a]?n.call(this,a,t):$(this,a,t,e,u,s)}};return(arguments.length<3||5===arguments.length&&l<3)&&Object.defineProperty(i,a,d),d}return o?function(){if(Q(arguments))return i.apply(null,arguments);var e=arguments,t=arguments.length;return function(n,r,o){return i(n,r,o,e,t)}}:i}function $(e,t,n,r,o,i){dt(e,"__mobxInitializedProps")||ht(e,"__mobxInitializedProps",{}),e.__mobxInitializedProps[t]=!0,r(e,t,n,o,i)}function Z(e){!0!==e.__mobxDidRunLazyInitializers&&e.__mobxLazyInitializers&&(ht(e,"__mobxDidRunLazyInitializers",!0),e.__mobxDidRunLazyInitializers&&e.__mobxLazyInitializers.forEach(function(t){return t(e)}))}function Q(e){return(2===e.length||3===e.length)&&"string"==typeof e[1]}var J=K(function(e,t,n,r,o){var i=r&&1===r.length?r[0]:n.name||t||"<unnamed action>";ht(e,t,te(i,n))},function(e){return this[e]},function(){tt(!1,W("m001"))},!1,!0),ee=K(function(e,t,n){oe(e,t,n)},function(e){return this[e]},function(){tt(!1,W("m001"))},!1,!1),te=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?H(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?H(e,t):1===arguments.length&&"string"==typeof e?ne(e):ne(t).apply(null,arguments)};function ne(e){return function(t,n,r){if(r&&"function"==typeof r.value)return r.value=H(e,r.value),r.enumerable=!1,r.configurable=!0,r;if(void 0!==r&&void 0!==r.get)throw new Error("[mobx] action is not expected to be used with getters");return J(e).apply(this,arguments)}}function re(e){return"function"==typeof e&&!0===e.isMobxAction}function oe(e,t,n){var r=function(){return G(t,n,e,arguments)};r.isMobxAction=!0,ht(e,t,r)}te.bound=function(e,t,n){if("function"==typeof e){var r=H("<not yet bound action>",e);return r.autoBind=!0,r}return ee.apply(null,arguments)};var ie=Object.prototype.toString;function ae(e,t){return se(e,t)}function se(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&function(e,t,n,r){e=ue(e),t=ue(t);var o=ie.call(e);if(o!==ie.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t)}var i="[object Array]"===o;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!("function"==typeof a&&a instanceof a&&"function"==typeof s&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),i){if((u=e.length)!==t.length)return!1;for(;u--;)if(!se(e[u],t[u],n,r))return!1}else{var l,c=Object.keys(e);if(u=c.length,Object.keys(t).length!==u)return!1;for(;u--;)if(!le(t,l=c[u])||!se(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0}(e,t,n,r)}function ue(e){return B(e)?e.peek():$e(e)?e.entries():mt(e)?function(e){for(var t=[];;){var n=e.next();if(n.done)break;t.push(n.value)}return t}(e.entries()):e}function le(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ce(e,t){return e===t}var fe={identity:ce,structural:function(e,t){return ae(e,t)},default:function(e,t){return function(e,t){return"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(e,t)||ce(e,t)}};function de(e,t,n){var r,o,i;"string"==typeof e?(r=e,o=t,i=n):(r=e.name||"Autorun@"+Je(),o=e,i=t),tt("function"==typeof o,W("m004")),tt(!1===re(o),W("m005")),i&&(o=o.bind(i));var a=new an(r,function(){this.track(s)});function s(){o(a)}return a.schedule(),a.getDisposer()}function he(e,t,n){var r;arguments.length>3&&et(W("m007")),Ue(e)&&et(W("m008")),(r="object"==typeof n?n:{}).name=r.name||e.name||t.name||"Reaction@"+Je(),r.fireImmediately=!0===n||!0===r.fireImmediately,r.delay=r.delay||0,r.compareStructural=r.compareStructural||r.struct||!1,t=te(r.name,r.context?t.bind(r.context):t),r.context&&(e=e.bind(r.context));var o,i=!0,a=!1,s=r.equals?r.equals:r.compareStructural||r.struct?fe.structural:fe.default,u=new an(r.name,function(){i||r.delay<1?l():a||(a=!0,setTimeout(function(){a=!1,l()},r.delay))});function l(){if(!u.isDisposed){var n=!1;u.track(function(){var t=e(u);n=i||!s(o,t),o=t}),i&&r.fireImmediately&&t(o,u),i||!0!==n||t(o,u),i&&(i=!1)}}return u.schedule(),u.getDisposer()}var pe=function(){function e(e,t,n,r,o){this.derivation=e,this.scope=t,this.equals=n,this.dependenciesState=wt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=wt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+Je(),this.value=new qt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=xt.NONE,this.name=r||"ComputedValue@"+Je(),o&&(this.setter=H(r+"-setter",o))}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState===wt.UP_TO_DATE){e.lowestObserverState=wt.POSSIBLY_STALE;for(var t=e.observers,n=t.length;n--;){var r=t[n];r.dependenciesState===wt.UP_TO_DATE&&(r.dependenciesState=wt.POSSIBLY_STALE,r.isTracing!==xt.NONE&&Ht(r,e),r.onBecomeStale())}}}(this)},e.prototype.onBecomeUnobserved=function(){Qt(this),this.value=void 0},e.prototype.get=function(){tt(!this.isComputing,"Cycle detected in computation "+this.name,this.derivation),0===Tt.inBatch?(zt(),Xt(this)&&(this.isTracing!==xt.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context and doing a full recompute"),this.value=this.computeValue(!1)),Vt()):(Wt(this),Xt(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState!==wt.STALE){e.lowestObserverState=wt.STALE;for(var t=e.observers,n=t.length;n--;){var r=t[n];r.dependenciesState===wt.POSSIBLY_STALE?r.dependenciesState=wt.STALE:r.dependenciesState===wt.UP_TO_DATE&&(e.lowestObserverState=wt.UP_TO_DATE)}}}(this));var e=this.value;if(Yt(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(Yt(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){tt(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else tt(!1,"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},e.prototype.trackAndCompute=function(){y()&&m({object:this.scope,type:"compute",fn:this.derivation});var e=this.value,t=this.dependenciesState===wt.NOT_TRACKING,n=this.value=this.computeValue(!0);return t||Yt(e)||Yt(n)||!this.equals(e,n)},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,Tt.computationDepth++,e)t=Zt(this,this.derivation,this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new qt(e)}return Tt.computationDepth--,this.isComputing=!1,t},e.prototype.observe=function(e,t){var n=this,r=!0,o=void 0;return de(function(){var i=n.get();if(!r||t){var a=en();e({type:"update",object:n,newValue:i,oldValue:o}),tn(a)}r=!1,o=i})},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return _t(this.get())},e.prototype.whyRun=function(){var e=Boolean(Tt.trackingDerivation),t=at(this.isComputing?this.newObserving:this.observing).map(function(e){return e.name}),n=at(Lt(this).map(function(e){return e.name}));return"\nWhyRun? computation '"+this.name+"':\n * Running because: "+(e?"[active] the value of this computation is needed by a reaction":this.isComputing?"[get] The value of this computed was requested outside a reaction":"[idle] not running at the moment")+"\n"+(this.dependenciesState===wt.NOT_TRACKING?W("m032"):" * This computation will re-run if any of the following observables changes:\n    "+st(t)+"\n    "+(this.isComputing&&e?" (... or any observable accessed during the remainder of the current run)":"")+"\n    "+W("m038")+"\n\n  * If the outcome of this computation changes, the following observers will be re-run:\n    "+st(n)+"\n")},e}();pe.prototype[bt()]=pe.prototype.valueOf;var ve=yt("ComputedValue",pe),ge=function(){function e(e,t){this.target=e,this.name=t,this.values={},this.changeListeners=null,this.interceptors=null}return e.prototype.observe=function(e,t){return tt(!0!==t,"`observe` doesn't support the fire immediately property for observable objects."),v(this,e)},e.prototype.intercept=function(e){return d(this,e)},e}();function ye(e,t){if(Te(e)&&e.hasOwnProperty("$mobx"))return e.$mobx;tt(Object.isExtensible(e),W("m035")),lt(e)||(t=(e.constructor.name||"ObservableObject")+"@"+Je()),t||(t="ObservableObject@"+Je());var n=new ge(e,t);return pt(e,"$mobx",n),n}function me(e,t,n,r){if(e.values[t]&&!ve(e.values[t]))return tt("value"in n,"The property "+t+" in "+e.name+" is already observable, cannot redefine it as computed property"),void(e.target[t]=n.value);if("value"in n)if(Ue(n.value)){var o=n.value;be(e,t,o.initialValue,o.enhancer)}else re(n.value)&&!0===n.value.autoBind?oe(e.target,t,n.value.originalFn):ve(n.value)?function(e,t,n){var r=e.name+"."+t;n.name=r,n.scope||(n.scope=e.target),e.values[t]=n,Object.defineProperty(e.target,t,Ee(t))}(e,t,n.value):be(e,t,n.value,r);else _e(e,t,n.get,n.set,fe.default,!0)}function be(e,t,n,r){if(gt(e.target,t),f(e)){var o=h(e,{object:e.target,name:t,type:"add",newValue:n});if(!o)return;n=o.newValue}n=(e.values[t]=new U(n,r,e.name+"."+t,!1)).value,Object.defineProperty(e.target,t,function(e){return we[e]||(we[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.values[e].get()},set:function(t){Oe(this,e,t)}})}(t)),function(e,t,n,r){var o=p(e),i=y(),a=o||i?{type:"add",object:t,name:n,newValue:r}:null;i&&b(a),o&&g(e,a),i&&w()}(e,e.target,t,n)}function _e(e,t,n,r,o,i){i&&gt(e.target,t),e.values[t]=new pe(n,e.target,o,e.name+"."+t,r),i&&Object.defineProperty(e.target,t,Ee(t))}var we={},xe={};function Ee(e){return xe[e]||(xe[e]={configurable:!0,enumerable:!1,get:function(){return this.$mobx.values[e].get()},set:function(t){return this.$mobx.values[e].set(t)}})}function Oe(e,t,n){var r=e.$mobx,o=r.values[t];if(f(r)){if(!(s=h(r,{type:"update",object:e,name:t,newValue:n})))return;n=s.newValue}if((n=o.prepareNewValue(n))!==F){var i=p(r),a=y(),s=i||a?{type:"update",object:e,oldValue:o.value,name:t,newValue:n}:null;a&&b(s),o.setNewValue(n),i&&g(r,s),a&&w()}}var Se=yt("ObservableObjectAdministration",ge);function Te(e){return!!ut(e)&&(Z(e),Se(e.$mobx))}function Pe(e,t){if(null==e)return!1;if(void 0!==t){if(B(e)||$e(e))throw new Error(W("m019"));if(Te(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return Te(e)||!!e.$mobx||c(e)||dn(e)||ve(e)}function Ce(e){return tt(!!e,":("),K(function(t,n,r,o,i){gt(t,n),tt(!i||!i.get,W("m022")),be(ye(t,void 0),n,r,e)},function(e){var t=this.$mobx.values[e];if(void 0!==t)return t.get()},function(e,t){Oe(this,e,t)},!0,!1)}function ke(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Ne(e,Ve,t)}function Ae(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Ne(e,He,t)}function Ne(e,t,n){tt(arguments.length>=2,W("m014")),tt("object"==typeof e,W("m015")),tt(!$e(e),W("m016")),n.forEach(function(e){tt("object"==typeof e,W("m017")),tt(!Pe(e),W("m018"))});for(var r=ye(e),o={},i=n.length-1;i>=0;i--){var a=n[i];for(var s in a)if(!0!==o[s]&&dt(a,s)){if(o[s]=!0,e===a&&!vt(e,s))continue;me(r,s,Object.getOwnPropertyDescriptor(a,s),t)}}return e}var je=Ce(Ve),Re=Ce(We),Ie=Ce(He),Me=Ce(Ge),De=Ce(qe),Le={box:function(e,t){return arguments.length>2&&Fe("box"),new U(e,Ve,t)},shallowBox:function(e,t){return arguments.length>2&&Fe("shallowBox"),new U(e,He,t)},array:function(e,t){return arguments.length>2&&Fe("array"),new j(e,Ve,t)},shallowArray:function(e,t){return arguments.length>2&&Fe("shallowArray"),new j(e,He,t)},map:function(e,t){return arguments.length>2&&Fe("map"),new Ke(e,Ve,t)},shallowMap:function(e,t){return arguments.length>2&&Fe("shallowMap"),new Ke(e,He,t)},object:function(e,t){arguments.length>2&&Fe("object");var n={};return ye(n,t),ke(n,e),n},shallowObject:function(e,t){arguments.length>2&&Fe("shallowObject");var n={};return ye(n,t),Ae(n,e),n},ref:function(){return arguments.length<2?ze(He,arguments[0]):Ie.apply(null,arguments)},shallow:function(){return arguments.length<2?ze(We,arguments[0]):Re.apply(null,arguments)},deep:function(){return arguments.length<2?ze(Ve,arguments[0]):je.apply(null,arguments)},struct:function(){return arguments.length<2?ze(Ge,arguments[0]):Me.apply(null,arguments)}},Be=function(e){if(void 0===e&&(e=void 0),"string"==typeof arguments[1])return je.apply(null,arguments);if(tt(arguments.length<=1,W("m021")),tt(!Ue(e),W("m020")),Pe(e))return e;var t=Ve(e,0,void 0);return t!==e?t:Be.box(e)};function Fe(e){et("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}function Ue(e){return"object"==typeof e&&null!==e&&!0===e.isMobxModifierDescriptor}function ze(e,t){return tt(!Ue(t),"Modifiers cannot be nested"),{isMobxModifierDescriptor:!0,initialValue:t,enhancer:e}}function Ve(e,t,n){return Ue(e)&&et("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),Pe(e)?e:Array.isArray(e)?Be.array(e,n):lt(e)?Be.object(e,n):mt(e)?Be.map(e,n):e}function We(e,t,n){return Ue(e)&&et("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),null==e||Te(e)||B(e)||$e(e)?e:Array.isArray(e)?Be.shallowArray(e,n):lt(e)?Be.shallowObject(e,n):mt(e)?Be.shallowMap(e,n):et("The shallow modifier / decorator can only used in combination with arrays, objects and maps")}function He(e){return e}function Ge(e,t,n){if(ae(e,t))return t;if(Pe(e))return e;if(Array.isArray(e))return new j(e,Ge,n);if(mt(e))return new Ke(e,Ge,n);if(lt(e)){var r={};return ye(r,n),Ne(r,Ge,[e]),r}return e}function qe(e,t,n){return ae(e,t)?t:e}function Ye(e,t){void 0===t&&(t=void 0),zt();try{return e.apply(t)}finally{Vt()}}Object.keys(Le).forEach(function(e){return Be[e]=Le[e]}),Be.deep.struct=Be.struct,Be.ref.struct=function(){return arguments.length<2?ze(qe,arguments[0]):De.apply(null,arguments)};var Xe={},Ke=function(){function e(e,t,n){void 0===t&&(t=Ve),void 0===n&&(n="ObservableMap@"+Je()),this.enhancer=t,this.name=n,this.$mobx=Xe,this._data=Object.create(null),this._hasMap=Object.create(null),this._keys=new j(void 0,He,this.name+".keys()",!0),this.interceptors=null,this.changeListeners=null,this.dehancer=void 0,this.merge(e)}return e.prototype._has=function(e){return void 0!==this._data[e]},e.prototype.has=function(e){return!!this.isValidKey(e)&&(e=""+e,this._hasMap[e]?this._hasMap[e].get():this._updateHasMapEntry(e,!1).get())},e.prototype.set=function(e,t){this.assertValidKey(e),e=""+e;var n=this._has(e);if(f(this)){var r=h(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(this.assertValidKey(e),e=""+e,f(this)&&!(o=h(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=y(),r=p(this),o=r||n?{type:"delete",object:this,oldValue:this._data[e].value,name:e}:null;return n&&b(o),Ye(function(){t._keys.remove(e),t._updateHasMapEntry(e,!1),t._data[e].setNewValue(void 0),t._data[e]=void 0}),r&&g(this,o),n&&w(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap[e];return n?n.setNewValue(t):n=this._hasMap[e]=new U(t,He,this.name+"."+e+"?",!1),n},e.prototype._updateValue=function(e,t){var n=this._data[e];if((t=n.prepareNewValue(t))!==F){var r=y(),o=p(this),i=o||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;r&&b(i),n.setNewValue(t),o&&g(this,i),r&&w()}},e.prototype._addValue=function(e,t){var n=this;Ye(function(){var r=n._data[e]=new U(t,n.enhancer,n.name+"."+e,!1);t=r.value,n._updateHasMapEntry(e,!0),n._keys.push(e)});var r=y(),o=p(this),i=o||r?{type:"add",object:this,name:e,newValue:t}:null;r&&b(i),o&&g(this,i),r&&w()},e.prototype.get=function(e){return e=""+e,this.has(e)?this.dehanceValue(this._data[e].get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return O(this._keys.slice())},e.prototype.values=function(){return O(this._keys.map(this.get,this))},e.prototype.entries=function(){var e=this;return O(this._keys.map(function(t){return[t,e.get(t)]}))},e.prototype.forEach=function(e,t){var n=this;this.keys().forEach(function(r){return e.call(t,n.get(r),r,n)})},e.prototype.merge=function(e){var t=this;return $e(e)&&(e=e.toJS()),Ye(function(){lt(e)?Object.keys(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=e[0],r=e[1];return t.set(n,r)}):mt(e)?e.forEach(function(e,n){return t.set(n,e)}):null!=e&&et("Cannot initialize map from "+e)}),this},e.prototype.clear=function(){var e=this;Ye(function(){Jt(function(){e.keys().forEach(e.delete,e)})})},e.prototype.replace=function(e){var t=this;return Ye(function(){var n,r=lt(n=e)?Object.keys(n):Array.isArray(n)?n.map(function(e){return e[0]}):mt(n)?Array.from(n.keys()):$e(n)?n.keys():et("Cannot get keys from "+n);t.keys().filter(function(e){return-1===r.indexOf(e)}).forEach(function(e){return t.delete(e)}),t.merge(e)}),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.toJS=function(){var e=this,t={};return this.keys().forEach(function(n){return t[n]=e.get(n)}),t},e.prototype.toJSON=function(){return this.toJS()},e.prototype.isValidKey=function(e){return null!=e&&("string"==typeof e||"number"==typeof e||"boolean"==typeof e)},e.prototype.assertValidKey=function(e){if(!this.isValidKey(e))throw new Error("[mobx.map] Invalid key: '"+e+"', only strings, numbers and booleans are accepted as key in observable maps.")},e.prototype.toString=function(){var e=this;return this.name+"[{ "+this.keys().map(function(t){return t+": "+e.get(t)}).join(", ")+" }]"},e.prototype.observe=function(e,t){return tt(!0!==t,W("m033")),v(this,e)},e.prototype.intercept=function(e){return d(this,e)},e}();S(Ke.prototype,function(){return this.entries()});var $e=yt("ObservableMap",Ke),Ze=[];function Qe(){return"undefined"!=typeof window?window:om.g}function Je(){return++Tt.mobxGuid}function et(e,t){throw tt(!1,e,t),"X"}function tt(e,t,n){if(!e)throw new Error("[mobx] Invariant failed: "+t+(n?" in '"+n+"'":""))}Object.freeze(Ze);var nt=[];function rt(e){return-1===nt.indexOf(e)&&(nt.push(e),console.error("[mobx] Deprecated: "+e),!0)}function ot(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var it=function(){};function at(e){var t=[];return e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),t}function st(e,t,n){return void 0===t&&(t=100),void 0===n&&(n=" - "),e?e.slice(0,t).join(n)+(e.length>t?" (... and "+(e.length-t)+"more)":""):""}function ut(e){return null!==e&&"object"==typeof e}function lt(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function ct(){for(var e=arguments[0],t=1,n=arguments.length;t<n;t++){var r=arguments[t];for(var o in r)dt(r,o)&&(e[o]=r[o])}return e}var ft=Object.prototype.hasOwnProperty;function dt(e,t){return ft.call(e,t)}function ht(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function pt(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function vt(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||!1!==n.configurable&&!1!==n.writable}function gt(e,t){tt(vt(e,t),"Cannot make property '"+t+"' observable, it is not configurable and writable in the target object")}function yt(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return ut(e)&&!0===e[n]}}function mt(e){return void 0!==Qe().Map&&e instanceof Qe().Map}function bt(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function _t(e){return null===e?null:"object"==typeof e?""+e:e}var wt,xt,Et,Ot=["mobxGuid","resetId","spyListeners","strictMode","runId"],St=function(){this.version=5,this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.strictMode=!1,this.resetId=0,this.spyListeners=[],this.globalReactionErrorHandlers=[]},Tt=new St,Pt=!1,Ct=!1,kt=!1,At=Qe();function Nt(e,t){if("object"==typeof e&&null!==e){if(B(e))return tt(void 0===t,W("m036")),e.$mobx.atom;if($e(e)){var n=e;return void 0===t?Nt(n._keys):(tt(!!(r=n._data[t]||n._hasMap[t]),"the entry '"+t+"' does not exist in the observable map '"+Rt(e)+"'"),r)}var r;if(Z(e),t&&!e.$mobx&&e[t],Te(e))return t?(tt(!!(r=e.$mobx.values[t]),"no observable property '"+t+"' found on the observable object '"+Rt(e)+"'"),r):et("please specify a property");if(c(e)||ve(e)||dn(e))return e}else if("function"==typeof e&&dn(e.$mobx))return e.$mobx;return et("Cannot obtain atom from "+e)}function jt(e,t){return tt(e,"Expecting some object"),void 0!==t?jt(Nt(e,t)):c(e)||ve(e)||dn(e)||$e(e)?e:(Z(e),e.$mobx?e.$mobx:void tt(!1,"Cannot obtain administration from "+e))}function Rt(e,t){return(void 0!==t?Nt(e,t):Te(e)||$e(e)?jt(e):Nt(e)).name}function It(e,t){return Mt(Nt(e,t))}function Mt(e){var t={name:e.name};return e.observing&&e.observing.length>0&&(t.dependencies=at(e.observing).map(Mt)),t}function Dt(e){var t={name:e.name};return function(e){return e.observers&&e.observers.length>0}(e)&&(t.observers=Lt(e).map(Dt)),t}function Lt(e){return e.observers}function Bt(e,t){var n=e.observers.length;n&&(e.observersIndexes[t.__mapid]=n),e.observers[n]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Ft(e,t){if(1===e.observers.length)e.observers.length=0,Ut(e);else{var n=e.observers,r=e.observersIndexes,o=n.pop();if(o!==t){var i=r[t.__mapid]||0;i?r[o.__mapid]=i:delete r[o.__mapid],n[i]=o}delete r[t.__mapid]}}function Ut(e){e.isPendingUnobservation||(e.isPendingUnobservation=!0,Tt.pendingUnobservations.push(e))}function zt(){Tt.inBatch++}function Vt(){if(0==--Tt.inBatch){cn();for(var e=Tt.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.length&&n.onBecomeUnobserved()}Tt.pendingUnobservations=[]}}function Wt(e){var t=Tt.trackingDerivation;null!==t?t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e):0===e.observers.length&&Ut(e)}function Ht(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===xt.BREAK){var n=[];Gt(It(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof pe?e.derivation.toString():"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function Gt(e,t,n){t.length>=1e3?t.push("(and many more)"):(t.push(""+new Array(n).join("\t")+e.name),e.dependencies&&e.dependencies.forEach(function(e){return Gt(e,t,n+1)}))}At.__mobxInstanceCount?(At.__mobxInstanceCount++,setTimeout(function(){Pt||Ct||kt||(kt=!0,console.warn("[mobx] Warning: there are multiple mobx instances active. This might lead to unexpected results. See https://github.com/mobxjs/mobx/issues/1082 for details."))},1)):At.__mobxInstanceCount=1,(Et=wt||(wt={}))[Et.NOT_TRACKING=-1]="NOT_TRACKING",Et[Et.UP_TO_DATE=0]="UP_TO_DATE",Et[Et.POSSIBLY_STALE=1]="POSSIBLY_STALE",Et[Et.STALE=2]="STALE",function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(xt||(xt={}));var qt=function(e){this.cause=e};function Yt(e){return e instanceof qt}function Xt(e){switch(e.dependenciesState){case wt.UP_TO_DATE:return!1;case wt.NOT_TRACKING:case wt.STALE:return!0;case wt.POSSIBLY_STALE:for(var t=en(),n=e.observing,r=n.length,o=0;o<r;o++){var i=n[o];if(ve(i)){try{i.get()}catch(e){return tn(t),!0}if(e.dependenciesState===wt.STALE)return tn(t),!0}}return nn(e),tn(t),!1}}function Kt(){return null!==Tt.trackingDerivation}function $t(e){var t=e.observers.length>0;Tt.computationDepth>0&&t&&et(W("m031")+e.name),!Tt.allowStateChanges&&t&&et(W(Tt.strictMode?"m030a":"m030b")+e.name)}function Zt(e,t,n){nn(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Tt.runId;var r,o=Tt.trackingDerivation;Tt.trackingDerivation=e;try{r=t.call(n)}catch(e){r=new qt(e)}return Tt.trackingDerivation=o,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=wt.UP_TO_DATE,o=0,i=e.unboundDepsCount,a=0;a<i;a++)0===(s=n[a]).diffValue&&(s.diffValue=1,o!==a&&(n[o]=s),o++),s.dependenciesState>r&&(r=s.dependenciesState);for(n.length=o,e.newObserving=null,i=t.length;i--;)0===(s=t[i]).diffValue&&Ft(s,e),s.diffValue=0;for(;o--;){var s;1===(s=n[o]).diffValue&&(s.diffValue=0,Bt(s,e))}r!==wt.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),r}function Qt(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)Ft(t[n],e);e.dependenciesState=wt.NOT_TRACKING}function Jt(e){var t=en(),n=e();return tn(t),n}function en(){var e=Tt.trackingDerivation;return Tt.trackingDerivation=null,e}function tn(e){Tt.trackingDerivation=e}function nn(e){if(e.dependenciesState!==wt.UP_TO_DATE){e.dependenciesState=wt.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=wt.UP_TO_DATE}}function rn(e){return console.log(e),e}function on(e){switch(e.length){case 0:return Tt.trackingDerivation;case 1:return Nt(e[0]);case 2:return Nt(e[0],e[1])}}var an=function(){function e(e,t){void 0===e&&(e="Reaction@"+Je()),this.name=e,this.onInvalidate=t,this.observing=[],this.newObserving=[],this.dependenciesState=wt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+Je(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=xt.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Tt.pendingReactions.push(this),cn())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){this.isDisposed||(zt(),this._isScheduled=!1,Xt(this)&&(this._isTrackPending=!0,this.onInvalidate(),this._isTrackPending&&y()&&m({object:this,type:"scheduled-reaction"})),Vt())},e.prototype.track=function(e){zt();var t,n=y();n&&(t=Date.now(),b({object:this,type:"reaction",fn:e})),this._isRunning=!0;var r=Zt(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Qt(this),Yt(r)&&this.reportExceptionInDerivation(r.cause),n&&w({time:Date.now()-t}),Vt()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this,r=W("m037");console.error(n||r,e),y()&&m({type:"error",message:n,error:e,object:this}),Tt.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(zt(),Qt(this),Vt()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e.onError=sn,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.whyRun=function(){var e=at(this._isRunning?this.newObserving:this.observing).map(function(e){return e.name});return"\nWhyRun? reaction '"+this.name+"':\n * Status: ["+(this.isDisposed?"stopped":this._isRunning?"running":this.isScheduled()?"scheduled":"idle")+"]\n * This reaction will re-run if any of the following observables changes:\n    "+st(e)+"\n    "+(this._isRunning?" (... or any observable accessed during the remainder of the current run)":"")+"\n\t"+W("m038")+"\n"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=on(e);if(!r)return et("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");r.isTracing===xt.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?xt.BREAK:xt.LOG}(this,e)},e}();function sn(e){tt(this&&this.$mobx&&dn(this.$mobx),"Invalid `this`"),tt(!this.$mobx.errorHandler,"Only one onErrorHandler can be registered"),this.$mobx.errorHandler=e}var un=100,ln=function(e){return e()};function cn(){Tt.inBatch>0||Tt.isRunningReactions||ln(fn)}function fn(){Tt.isRunningReactions=!0;for(var e=Tt.pendingReactions,t=0;e.length>0;){++t===un&&(console.error("Reaction doesn't converge to a stable state after "+un+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}Tt.isRunningReactions=!1}var dn=yt("Reaction",an);function hn(e){return K(function(t,n,r,o,i){tt(void 0!==i,W("m009")),tt("function"==typeof i.get,W("m010")),_e(ye(t,""),n,i.get,i.set,e,!1)},function(e){var t=this.$mobx.values[e];if(void 0!==t)return t.get()},function(e,t){this.$mobx.values[e].set(t)},!1,!1)}var pn=hn(fe.default),vn=hn(fe.structural),gn=function(e,t,n){if("string"==typeof t)return pn.apply(null,arguments);tt("function"==typeof e,W("m011")),tt(arguments.length<3,W("m012"));var r="object"==typeof t?t:{};r.setter="function"==typeof t?t:r.setter;var o=r.equals?r.equals:r.compareStructural||r.struct?fe.structural:fe.default;return new pe(e,r.context,o,r.name||e.name||"",r.setter)};function yn(e,t,n){function r(r){return t&&n.push([e,r]),r}if(void 0===t&&(t=!0),void 0===n&&(n=[]),Pe(e)){if(t&&null===n&&(n=[]),t&&null!==e&&"object"==typeof e)for(var o=0,i=n.length;o<i;o++)if(n[o][0]===e)return n[o][1];if(B(e)){var a=r([]),s=e.map(function(e){return yn(e,t,n)});for(a.length=s.length,o=0,i=s.length;o<i;o++)a[o]=s[o];return a}if(Te(e)){for(var u in a=r({}),e)a[u]=yn(e[u],t,n);return a}if($e(e)){var l=r({});return e.forEach(function(e,r){return l[r]=yn(e,t,n)}),l}if(z(e))return yn(e.get(),t,n)}return e}gn.struct=vn,gn.equals=hn;var mn={allowStateChanges:function(e,t){var n,r=Y(e);try{n=t()}finally{X(r)}return n},deepEqual:ae,getAtom:Nt,getDebugName:Rt,getDependencyTree:It,getAdministration:jt,getGlobalState:function(){return Tt},getObserverTree:function(e,t){return Dt(Nt(e,t))},interceptReads:function(e,t,n){var r;if($e(e)||B(e)||z(e))r=jt(e);else{if(!Te(e))return et("Expected observable map, object or array as first array");if("string"!=typeof t)return et("InterceptReads can only be used with a specific property, not with an object in general");r=jt(e,t)}return void 0!==r.dehancer?et("An intercept reader was already established"):(r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0})},isComputingDerivation:Kt,isSpyEnabled:y,onReactionError:function(e){return Tt.globalReactionErrorHandlers.push(e),function(){var t=Tt.globalReactionErrorHandlers.indexOf(e);t>=0&&Tt.globalReactionErrorHandlers.splice(t,1)}},reserveArrayBuffer:D,resetGlobalState:function(){Tt.resetId++;var e=new St;for(var t in e)-1===Ot.indexOf(t)&&(Tt[t]=e[t]);Tt.allowStateChanges=!Tt.strictMode},isolateGlobalState:function(){Ct=!0,Qe().__mobxInstanceCount--},shareGlobalState:function(){rt("Using `shareGlobalState` is not recommended, use peer dependencies instead. See https://github.com/mobxjs/mobx/issues/1082 for details."),Pt=!0;var e=Qe(),t=Tt;if(e.__mobservableTrackingStack||e.__mobservableViewStack)throw new Error("[mobx] An incompatible version of mobservable is already loaded.");if(e.__mobxGlobal&&e.__mobxGlobal.version!==t.version)throw new Error("[mobx] An incompatible version of mobx is already loaded.");e.__mobxGlobal?Tt=e.__mobxGlobal:e.__mobxGlobal=t},spyReport:m,spyReportEnd:w,spyReportStart:b,setReactionScheduler:function(e){var t=ln;ln=function(n){return e(function(){return t(n)})}}},bn={Reaction:an,untracked:Jt,Atom:l,BaseAtom:u,useStrict:q,isStrictModeEnabled:function(){return Tt.strictMode},spy:x,comparer:fe,asReference:function(e){return rt("asReference is deprecated, use observable.ref instead"),Be.ref(e)},asFlat:function(e){return rt("asFlat is deprecated, use observable.shallow instead"),Be.shallow(e)},asStructure:function(e){return rt("asStructure is deprecated. Use observable.struct, computed.struct or reaction options instead."),Be.struct(e)},asMap:function(e){return rt("asMap is deprecated, use observable.map or observable.shallowMap instead"),Be.map(e||{})},isModifierDescriptor:Ue,isObservableObject:Te,isBoxedObservable:z,isObservableArray:B,ObservableMap:Ke,isObservableMap:$e,map:function(e){return rt("`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead"),Be.map(e)},transaction:Ye,observable:Be,computed:gn,isObservable:Pe,isComputed:function(e,t){if(null==e)return!1;if(void 0!==t){if(!1===Te(e))return!1;if(!e.$mobx.values[t])return!1;var n=Nt(e,t);return ve(n)}return ve(e)},extendObservable:ke,extendShallowObservable:Ae,observe:function(e,t,n,r){return"function"==typeof n?function(e,t,n,r){return jt(e,t).observe(n,r)}(e,t,n,r):function(e,t,n){return jt(e).observe(t,n)}(e,t,n)},intercept:function(e,t,n){return"function"==typeof n?function(e,t,n){return jt(e,t).intercept(n)}(e,t,n):function(e,t){return jt(e).intercept(t)}(e,t)},autorun:de,autorunAsync:function(e,t,n,r){var o,i,a,s;"string"==typeof e?(o=e,i=t,a=n,s=r):(o=e.name||"AutorunAsync@"+Je(),i=e,a=t,s=n),tt(!1===re(i),W("m006")),void 0===a&&(a=1),s&&(i=i.bind(s));var u=!1,l=new an(o,function(){u||(u=!0,setTimeout(function(){u=!1,l.isDisposed||l.track(c)},a))});function c(){i(l)}return l.schedule(),l.getDisposer()},when:function(e,t,n,r){var o,i,a,s;return"string"==typeof e?(o=e,i=t,a=n,s=r):(o="When@"+Je(),i=e,a=t,s=n),de(o,function(e){if(i.call(s)){e.dispose();var t=en();a.call(s),tn(t)}})},reaction:he,action:te,isAction:re,runInAction:function(e,t,n){var r="string"==typeof e?e:e.name||"<unnamed action>",o="function"==typeof e?e:t,i="function"==typeof e?t:n;return tt("function"==typeof o,W("m002")),tt(0===o.length,W("m003")),tt("string"==typeof r&&r.length>0,"actions should have valid names, got: '"+r+"'"),G(r,o,i,void 0)},expr:function(e,t){return Kt()||console.warn(W("m013")),gn(e,{context:t}).get()},toJS:yn,createTransformer:function(e,t){tt("function"==typeof e&&e.length<2,"createTransformer expects a function that accepts one argument");var n={},r=Tt.resetId,o=function(r){function o(t,n){var o=r.call(this,function(){return e(n)},void 0,fe.default,"Transformer-"+e.name+"-"+t,void 0)||this;return o.sourceIdentifier=t,o.sourceObject=n,o}return s(o,r),o.prototype.onBecomeUnobserved=function(){var e=this.value;r.prototype.onBecomeUnobserved.call(this),delete n[this.sourceIdentifier],t&&t(e,this.sourceObject)},o}(pe);return function(e){r!==Tt.resetId&&(n={},r=Tt.resetId);var t=function(e){if("string"==typeof e||"number"==typeof e)return e;if(null===e||"object"!=typeof e)throw new Error("[mobx] transform expected some kind of object or primitive value, got: "+e);var t=e.$transformId;return void 0===t&&ht(e,"$transformId",t=Je()),t}(e),i=n[t];return i?i.get():(i=n[t]=new o(t,e)).get()}},whyRun:function(e,t){return rt("`whyRun` is deprecated in favor of `trace`"),(e=on(arguments))?ve(e)||dn(e)?rn(e.whyRun()):et(W("m025")):rn(W("m024"))},isArrayLike:function(e){return Array.isArray(e)||B(e)},extras:mn},_n=!1,wn=function(e){var t=bn[e];Object.defineProperty(bn,e,{get:function(){return _n||(_n=!0,console.warn("Using default export (`import mobx from 'mobx'`) is deprecated and won\u2019t work in mobx@4.0.0\nUse `import * as mobx from 'mobx'` instead")),t}})};for(var xn in bn)wn(xn);"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:x,extras:mn});var En=om(1803),On=om.n(En),Sn={value:()=>{}};function Tn(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Pn(r)}function Pn(e){this._=e}function Cn(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function kn(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Sn,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Pn.prototype=Tn.prototype={constructor:Pn,on:function(e,t){var n,r,o=this._,i=(r=o,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),a=-1,s=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=i[a]).type)o[n]=kn(o[n],e.name,t);else if(null==t)for(n in o)o[n]=kn(o[n],e.name,null);return this}for(;++a<s;)if((n=(e=i[a]).type)&&(n=Cn(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Pn(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};const An=Tn;var Nn,jn,Rn=0,In=0,Mn=0,Dn=0,Ln=0,Bn=0,Fn="object"==typeof performance&&performance.now?performance:Date,Un="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function zn(){return Ln||(Un(Vn),Ln=Fn.now()+Bn)}function Vn(){Ln=0}function Wn(){this._call=this._time=this._next=null}function Hn(e,t,n){var r=new Wn;return r.restart(e,t,n),r}function Gn(){Ln=(Dn=Fn.now())+Bn,Rn=In=0;try{!function(){zn(),++Rn;for(var e,t=Nn;t;)(e=Ln-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Rn}()}finally{Rn=0,function(){for(var e,t,n=Nn,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Nn=t);jn=e,Yn(r)}(),Ln=0}}function qn(){var e=Fn.now(),t=e-Dn;t>1e3&&(Bn-=t,Dn=e)}function Yn(e){Rn||(In&&(In=clearTimeout(In)),e-Ln>24?(e<1/0&&(In=setTimeout(Gn,e-Fn.now()-Bn)),Mn&&(Mn=clearInterval(Mn))):(Mn||(Dn=Fn.now(),Mn=setInterval(qn,1e3)),Rn=1,Un(Gn)))}Wn.prototype=Hn.prototype={constructor:Wn,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?zn():+n)+(null==t?0:+t),this._next||jn===this||(jn?jn._next=this:Nn=this,jn=this),this._call=e,this._time=n,Yn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yn())}};const Xn=4294967296;function Kn(e){return e.x}function $n(e){return e.y}var Zn=Math.PI*(3-Math.sqrt(5));function Qn(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i,a,s,u,l,c,f,d,h=e._root,p={data:r},v=e._x0,g=e._y0,y=e._x1,m=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((l=t>=(i=(v+y)/2))?v=i:y=i,(c=n>=(a=(g+m)/2))?g=a:m=a,o=h,!(h=h[f=c<<1|l]))return o[f]=p,e;if(s=+e._x.call(null,h.data),u=+e._y.call(null,h.data),t===s&&n===u)return p.next=h,o?o[f]=p:e._root=p,e;do{o=o?o[f]=new Array(4):e._root=new Array(4),(l=t>=(i=(v+y)/2))?v=i:y=i,(c=n>=(a=(g+m)/2))?g=a:m=a}while((f=c<<1|l)==(d=(u>=a)<<1|s>=i));return o[d]=h,o[f]=p,e}function Jn(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function er(e){return e[0]}function tr(e){return e[1]}function nr(e,t,n){var r=new rr(null==t?er:t,null==n?tr:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function rr(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function or(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var ir=nr.prototype=rr.prototype;function ar(e){return function(){return e}}function sr(e){return 1e-6*(e()-.5)}function ur(){var e,t,n,r,o,i=ar(-30),a=1,s=1/0,u=.81;function l(n){var o,i=e.length,a=nr(e,Kn,$n).visitAfter(f);for(r=n,o=0;o<i;++o)t=e[o],a.visit(d)}function c(){if(e){var t,n,r=e.length;for(o=new Array(r),t=0;t<r;++t)n=e[t],o[n.index]=+i(n,t,e)}}function f(e){var t,n,r,i,a,s=0,u=0;if(e.length){for(r=i=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,u+=n,r+=n*t.x,i+=n*t.y);e.x=r/u,e.y=i/u}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=o[t.data.index]}while(t=t.next)}e.value=s}function d(e,i,l,c){if(!e.value)return!0;var f=e.x-t.x,d=e.y-t.y,h=c-i,p=f*f+d*d;if(h*h/u<p)return p<s&&(0===f&&(p+=(f=sr(n))*f),0===d&&(p+=(d=sr(n))*d),p<a&&(p=Math.sqrt(a*p)),t.vx+=f*e.value*r/p,t.vy+=d*e.value*r/p),!0;if(!(e.length||p>=s)){(e.data!==t||e.next)&&(0===f&&(p+=(f=sr(n))*f),0===d&&(p+=(d=sr(n))*d),p<a&&(p=Math.sqrt(a*p)));do{e.data!==t&&(h=o[e.data.index]*r/p,t.vx+=f*h,t.vy+=d*h)}while(e=e.next)}}return l.initialize=function(t,r){e=t,n=r,c()},l.strength=function(e){return arguments.length?(i="function"==typeof e?e:ar(+e),c(),l):i},l.distanceMin=function(e){return arguments.length?(a=e*e,l):Math.sqrt(a)},l.distanceMax=function(e){return arguments.length?(s=e*e,l):Math.sqrt(s)},l.theta=function(e){return arguments.length?(u=e*e,l):Math.sqrt(u)},l}function lr(e){return e.x+e.vx}function cr(e){return e.y+e.vy}function fr(e){return e.index}function dr(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}ir.copy=function(){var e,t,n=new rr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=or(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(4)}):r.target[o]=or(t));return n},ir.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Qn(this.cover(t,n),t,n,e)},ir.addAll=function(e){var t,n,r,o,i=e.length,a=new Array(i),s=new Array(i),u=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=r,s[n]=o,r<u&&(u=r),r>c&&(c=r),o<l&&(l=o),o>f&&(f=o));if(u>c||l>f)return this;for(this.cover(u,l).cover(c,f),n=0;n<i;++n)Qn(this,a[n],s[n],e[n]);return this},ir.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var a,s,u=o-n||1,l=this._root;n>e||e>=o||r>t||t>=i;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:o=n+u,i=r+u;break;case 1:n=o-u,i=r+u;break;case 2:o=n+u,r=i-u;break;case 3:n=o-u,r=i-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},ir.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},ir.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ir.find=function(e,t,n){var r,o,i,a,s,u,l,c=this._x0,f=this._y0,d=this._x1,h=this._y1,p=[],v=this._root;for(v&&p.push(new Jn(v,c,f,d,h)),null==n?n=1/0:(c=e-n,f=t-n,d=e+n,h=t+n,n*=n);u=p.pop();)if(!(!(v=u.node)||(o=u.x0)>d||(i=u.y0)>h||(a=u.x1)<c||(s=u.y1)<f))if(v.length){var g=(o+a)/2,y=(i+s)/2;p.push(new Jn(v[3],g,y,a,s),new Jn(v[2],o,y,g,s),new Jn(v[1],g,i,a,y),new Jn(v[0],o,i,g,y)),(l=(t>=y)<<1|e>=g)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var m=e-+this._x.call(null,v.data),b=t-+this._y.call(null,v.data),_=m*m+b*b;if(_<n){var w=Math.sqrt(n=_);c=e-w,f=t-w,d=e+w,h=t+w,r=v.data}}return r},ir.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,o,i,a,s,u,l,c,f,d,h=this._root,p=this._x0,v=this._y0,g=this._x1,y=this._y1;if(!h)return this;if(h.length)for(;;){if((l=i>=(s=(p+g)/2))?p=s:g=s,(c=a>=(u=(v+y)/2))?v=u:y=u,t=h,!(h=h[f=c<<1|l]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(o=h.next)&&delete h.next,r?(o?r.next=o:delete r.next,this):t?(o?t[f]=o:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=o,this)},ir.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},ir.root=function(){return this._root},ir.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},ir.visit=function(e){var t,n,r,o,i,a,s=[],u=this._root;for(u&&s.push(new Jn(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,o=t.y0,i=t.x1,a=t.y1)&&u.length){var l=(r+i)/2,c=(o+a)/2;(n=u[3])&&s.push(new Jn(n,l,c,i,a)),(n=u[2])&&s.push(new Jn(n,r,c,l,a)),(n=u[1])&&s.push(new Jn(n,l,o,i,c)),(n=u[0])&&s.push(new Jn(n,r,o,l,c))}return this},ir.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new Jn(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o=t.node;if(o.length){var i,a=t.x0,s=t.y0,u=t.x1,l=t.y1,c=(a+u)/2,f=(s+l)/2;(i=o[0])&&n.push(new Jn(i,a,s,c,f)),(i=o[1])&&n.push(new Jn(i,c,s,u,f)),(i=o[2])&&n.push(new Jn(i,a,f,c,l)),(i=o[3])&&n.push(new Jn(i,c,f,u,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},ir.x=function(e){return arguments.length?(this._x=e,this):this._x},ir.y=function(e){return arguments.length?(this._y=e,this):this._y};var hr=256,pr=4096,vr=25,gr="#FFDF81",yr="#818790",mr="#EDEDED",br="#CFD1D4",_r="#F5F6F6",wr="#8FE3E8",xr="#1A1B1D",Er={position:"absolute",top:0,bottom:0,left:0,right:0},Or=function(){return window.devicePixelRatio||1},Sr=["NVL_basic-wrapper","NVL_interactive-wrapper"];function Tr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Pr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cr=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mr,r=new Map;return e.forEach(function(e){var t=e.id,n=e.from,o=e.to,i=e.color,a=e.width,s=e.disabled,u=[n,o].sort(),l="".concat(u[0],".").concat(u[1]),c=r.get(l);c?c.bundledRels.push({id:t,color:null!=i?i:void 0,disabled:null!=s&&s,width:null!=a?a:1}):r.set(l,{bundledRels:[{id:t,color:null!=i?i:void 0,disabled:null!=s&&s,width:null!=a?a:1}],key:l,from:n,to:o,color:null!=i?i:void 0,disabled:null!=s&&s,width:0})}),r.forEach(function(e){var r=(0,t.uniqBy)(e.bundledRels,"disabled"),o=1===r.length&&!0===r[0].disabled,i=1===r.length&&!0!==r[0].disabled;if(o)e.color=n,e.width=1;else{var a=e.bundledRels.filter(function(e){return!0!==e.disabled}),s=(0,t.uniqBy)(a,"color");i?(e.color=s.length>1?void 0:e.bundledRels[0].color,e.bundledRels.forEach(function(t){e.width+=t.width})):(e.color=1===s.length?s[0].color:void 0,e.disabled=!1,e.bundledRels.forEach(function(t){e.width+=!0!==t.disabled?t.width:0}))}}),Array.from(r.values())},kr=function(){return void 0!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find(function(e){return"size"in e})};function Ar(e){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(e)}var Nr=function(e){var t,n;return"number"==typeof e.source||"number"==typeof e.target||"string"==typeof e.source||"string"==typeof e.target?45*devicePixelRatio:(null!==(t=e.source.size)&&void 0!==t?t:vr)+(null!==(n=e.target.size)&&void 0!==n?n:vr)+90*devicePixelRatio};function jr(e){return"object"===Ar(e)}var Rr=function(e){var t;return(null!==(t=e.size)&&void 0!==t?t:vr)+25*devicePixelRatio},Ir=function(){return-400*Math.pow(devicePixelRatio,2)},Mr=function(){return 2*Ir()};function Dr(e){return Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(e)}function Lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fr(e){var t=function(e){if("object"!=Dr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Dr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dr(t)?t:String(t)}var Ur="d3ForceLayout",zr=function(e){return e?yn(e):e},Vr=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t.state;this.state=r,this.d3Nodes={},this.d3RelList={},this.computing=!0,this.center={x:0,y:0},this.nodeRelCount=[];var o=this.state,i=o.nodes,a=o.rels;i.addChannel(Ur),a.addChannel(Ur),this.simulation=function(e){var t,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,a=.6,s=new Map,u=Hn(f),l=An("tick","end"),c=function(){let e=1;return()=>(e=(1664525*e+1013904223)%Xn)/Xn}();function f(){d(),l.call("tick",t),n<r&&(u.stop(),l.call("end",t))}function d(r){var u,l,c=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(i-n)*o,s.forEach(function(e){e(n)}),u=0;u<c;++u)null==(l=e[u]).fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var o=10*Math.sqrt(.5+n),i=n*Zn;t.x=o*Math.cos(i),t.y=o*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,c),t}return null==e&&(e=[]),h(),t={tick:d,restart:function(){return u.restart(f),t},stop:function(){return u.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),s.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(o=+e,t):+o},alphaTarget:function(e){return arguments.length?(i=+e,t):i},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(c=e,s.forEach(p),t):c},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,p(n)),t):s.get(e)},find:function(t,n,r){var o,i,a,s,u,l=0,c=e.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(a=(o=t-(s=e[l]).x)*o+(i=n-s.y)*i)<r&&(u=s,r=a);return u},on:function(e,n){return arguments.length>1?(l.on(e,n),t):l.on(e)}}}().velocityDecay(.4).force("charge",ur().strength(Ir)).force("centerX",function(e){var t,n,r,o=ar(.1);function i(e){for(var o,i=0,a=t.length;i<a;++i)(o=t[i]).vx+=(r[i]-o.x)*n[i]*e}function a(){if(t){var i,a=t.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=ar(null==e?0:+e)),i.initialize=function(e){t=e,a()},i.strength=function(e){return arguments.length?(o="function"==typeof e?e:ar(+e),a(),i):o},i.x=function(t){return arguments.length?(e="function"==typeof t?t:ar(+t),a(),i):e},i}(0).strength(.03)).force("centerY",function(e){var t,n,r,o=ar(.1);function i(e){for(var o,i=0,a=t.length;i<a;++i)(o=t[i]).vy+=(r[i]-o.y)*n[i]*e}function a(){if(t){var i,a=t.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=ar(null==e?0:+e)),i.initialize=function(e){t=e,a()},i.strength=function(e){return arguments.length?(o="function"==typeof e?e:ar(+e),a(),i):o},i.y=function(t){return arguments.length?(e="function"==typeof t?t:ar(+t),a(),i):e},i}(0).strength(.03)).alpha(1).alphaMin(.05).on("end",function(){n.simulationStopped=!0,n.shouldUpdate=!1,n.shouldReheatNodes=!1,n.shouldCountNodeRels=!1}).stop(),this.simulationStopped=!0,this.shouldUpdate=!0,this.shouldReheatNodes=!1,this.shouldCountNodeRels=!0,this.stateDisposers=[],this.stateDisposers.push(this.state.reaction(function(){return n.state.graphUpdates},function(){var e=i.channels[Ur];if(void 0!==i.version&&e){var t=Object.values(e.adds).length>0,r=Object.values(e.removes).length>0,o=Object.values(e.updates),s=kr(o);t||r||s?(n.shouldUpdate=!0,n.shouldReheatNodes=!0,n.shouldCountNodeRels=!0):n.shouldReheatNodes=!1}var u=a.channels[Ur];if(void 0!==a.version&&u){var l=Object.values(u.adds).length>0,c=Object.values(u.removes).length>0;(l||c)&&(n.shouldUpdate=!0,n.shouldReheatNodes=!0,n.shouldCountNodeRels=!0)}}))}var n,r;return n=e,r=[{key:"setOptions",value:function(e){}},{key:"updateNodes",value:function(e){var t=this;e.forEach(function(e){void 0===t.d3Nodes[e.id]&&(t.d3Nodes[e.id]={id:e.id}),null!=e&&e.pinned?(t.d3Nodes[e.id].fx=e.x,t.d3Nodes[e.id].fy=e.y):(t.d3Nodes[e.id].x=e.x,t.d3Nodes[e.id].y=e.y),t.d3Nodes[e.id].vy=0,t.d3Nodes[e.id].vx=0}),this.shouldUpdate=!0,this.simulation.tick().alpha(.2)}},{key:"update",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.shouldUpdate||n){var r=this.state,o=r.nodes,i=r.rels,a=o.channels[Ur],s=i.channels[Ur],u=Object.values(a.adds).length>0,l=Object.values(s.adds).length>0,c=Object.values(a.removes).length>0,f=Object.values(s.removes).length>0,d=Object.values(a.updates).length>0;if(u||l||c||f||d){var h=u&&0===Object.keys(this.d3Nodes).length,p=zr(a.removes);Object.keys(p).forEach(function(e){delete t.d3Nodes[e]});var v=zr(a.adds);if(Object.keys(v).forEach(function(e){t.d3Nodes[e]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=Fr(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},v[e])}),d&&Object.values(a.updates).forEach(function(e){!0===e.pinned?(t.d3Nodes[e.id].fx=t.d3Nodes[e.id].x,t.d3Nodes[e.id].fy=t.d3Nodes[e.id].y):!1===e.pinned&&(t.d3Nodes[e.id].fx=null,t.d3Nodes[e.id].fy=null),void 0!==e.size&&(t.d3Nodes[e.id].size=e.size)}),(l||f)&&(this.d3RelList=Cr(zr(i.items)).filter(function(e){return e.from!==e.to}).map(function(e,t){return{source:e.from,target:e.to,index:t}})),h){var g=Object.values(this.d3Nodes);!function(e,t,n){var r=e.filter(function(e){return void 0===e.x&&void 0===e.y});r.forEach(function(e,o){e.x=t.x+n*Math.sin(2*Math.PI*o/r.length),e.y=t.y+n*Math.cos(2*Math.PI*o/r.length)})}(g,this.center,(e=g.length,45*e/(2*Math.PI)))}this.layout(o.items,i.items,h)}o.clearChannel(Ur),i.clearChannel(Ur),this.shouldUpdate=!1,this.simulation.alpha()>this.simulation.alphaMin()&&(this.shouldUpdate=!0,this.simulationStopped&&(this.simulation.restart(),this.simulationStopped=!1))}}},{key:"layout",value:function(e,n,r){var o=this;if(!(0,t.isEmpty)(this.d3Nodes)){if(this.simulation.stop(),this.simulation.nodes(Object.values(this.d3Nodes)).force("collide",function(e){var t,n,r,o=1,i=1;function a(){for(var e,a,u,l,c,f,d,h=t.length,p=0;p<i;++p)for(a=nr(t,lr,cr).visitAfter(s),e=0;e<h;++e)u=t[e],f=n[u.index],d=f*f,l=u.x+u.vx,c=u.y+u.vy,a.visit(v);function v(e,t,n,i,a){var s=e.data,h=e.r,p=f+h;if(!s)return t>l+p||i<l-p||n>c+p||a<c-p;if(s.index>u.index){var v=l-s.x-s.vx,g=c-s.y-s.vy,y=v*v+g*g;y<p*p&&(0===v&&(y+=(v=sr(r))*v),0===g&&(y+=(g=sr(r))*g),y=(p-(y=Math.sqrt(y)))/y*o,u.vx+=(v*=y)*(p=(h*=h)/(d+h)),u.vy+=(g*=y)*p,s.vx-=v*(p=1-p),s.vy-=g*p)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function u(){if(t){var r,o,i=t.length;for(n=new Array(i),r=0;r<i;++r)o=t[r],n[o.index]=+e(o,r,t)}}return"function"!=typeof e&&(e=ar(null==e?1:+e)),a.initialize=function(e,n){t=e,r=n,u()},a.iterations=function(e){return arguments.length?(i=+e,a):i},a.strength=function(e){return arguments.length?(o=+e,a):o},a.radius=function(t){return arguments.length?(e="function"==typeof t?t:ar(+t),u(),a):e},a}().radius(Rr)),this.shouldCountNodeRels&&(this.nodeRelCount=this.countNodeRels()),this.simulation.force("link",function(e){var t,n,r,o,i,a,s=fr,u=function(e){return 1/Math.min(o[e.source.index],o[e.target.index])},l=ar(30),c=1;function f(r){for(var o=0,s=e.length;o<c;++o)for(var u,l,f,d,h,p,v,g=0;g<s;++g)l=(u=e[g]).source,d=(f=u.target).x+f.vx-l.x-l.vx||sr(a),h=f.y+f.vy-l.y-l.vy||sr(a),d*=p=((p=Math.sqrt(d*d+h*h))-n[g])/p*r*t[g],h*=p,f.vx-=d*(v=i[g]),f.vy-=h*v,l.vx+=d*(v=1-v),l.vy+=h*v}function d(){if(r){var a,u,l=r.length,c=e.length,f=new Map(r.map((e,t)=>[s(e,t,r),e]));for(a=0,o=new Array(l);a<c;++a)(u=e[a]).index=a,"object"!=typeof u.source&&(u.source=dr(f,u.source)),"object"!=typeof u.target&&(u.target=dr(f,u.target)),o[u.source.index]=(o[u.source.index]||0)+1,o[u.target.index]=(o[u.target.index]||0)+1;for(a=0,i=new Array(c);a<c;++a)u=e[a],i[a]=o[u.source.index]/(o[u.source.index]+o[u.target.index]);t=new Array(c),h(),n=new Array(c),p()}}function h(){if(r)for(var n=0,o=e.length;n<o;++n)t[n]=+u(e[n],n,e)}function p(){if(r)for(var t=0,o=e.length;t<o;++t)n[t]=+l(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,t){r=e,a=t,d()},f.links=function(t){return arguments.length?(e=t,d(),f):e},f.id=function(e){return arguments.length?(s=e,f):s},f.iterations=function(e){return arguments.length?(c=+e,f):c},f.strength=function(e){return arguments.length?(u="function"==typeof e?e:ar(+e),h(),f):u},f.distance=function(e){return arguments.length?(l="function"==typeof e?e:ar(+e),p(),f):l},f}(this.d3RelList).id(function(e){return e.id}).distance(Nr).strength(function(e){return function(e,t){if(!jr(e.source)||!jr(e.target))return 1;var n=1.2/(Math.min(t[e.source.index],t[e.target.index])+(Math.max(t[e.source.index],t[e.target.index])-1)/100);return Math.max(Math.min(n,1),.06)}(e,o.nodeRelCount)})),r){var i=0;this.simulation.force("charge",ur().strength(Mr));for(var a=performance.now();performance.now()-a<300&&i<200;)this.simulation.alpha(1),this.simulation.tick(1),i+=1;this.simulation.force("charge",ur().strength(Ir));for(var s=performance.now();performance.now()-s<100&&this.simulation.alpha()>=this.simulation.alphaMin();)this.simulation.tick(1);return this.computing=!1,void this.simulation.restart()}this.shouldReheatNodes?this.simulation.alpha(1).restart():this.simulation.restart()}}},{key:"getNodePositions",value:function(e){var t,n=[],r=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,t){if(e){if("string"==typeof e)return Lr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lr(e,t):void 0}}(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=this.d3Nodes[o.id];if(void 0!==i){var a={id:i.id,x:i.x,y:i.y};n.push(a)}}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return this.computing}},{key:"terminateUpdate",value:function(){this.simulation.alpha(this.simulation.alphaMin()).stop(),this.simulationStopped=!0}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(e){e()}),this.state.nodes.removeChannel(Ur),this.state.rels.removeChannel(Ur),this.simulation.stop()}},{key:"setAlpha",value:function(e){this.simulation.alpha(e),this.simulation.restart(),this.simulation.shouldUpdate=!0}},{key:"countNodeRels",value:function(){for(var e=new Map(Object.entries(this.d3Nodes)),t=Object.values(this.d3RelList),n=new Array(e.length),r=0;r<t.length;++r){var o=t[r];o.index=r,"object"!==Dr(o.source)&&(o.source=e.get(o.source)),"object"!==Dr(o.target)&&(o.target=e.get(o.target)),n[o.source.index]=(n[o.source.index]||0)+1,n[o.target.index]=(n[o.target.index]||0)+1}return n}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fr(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(),Wr=om(5880),Hr=om.n(Wr),Gr=Hr().getLogger("NVL");const qr=e;var Yr={CoseBilkentLayout:{standard:"createCoseBilkentLayoutWorker",fallback:"coseBilkentLayoutFallbackWorker"},HierarchicalLayout:{standard:"createHierarchicalLayoutWorker",fallback:"hierarchicalLayoutFallbackWorker"}},Xr=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Yr[e],o=r.standard,i=r.fallback;if(n)t=qr[i];else try{t=qr[o]()}catch(n){console.warn("Failed to initialise ".concat(e,' worker: "').concat(JSON.stringify(n),'". Falling back to syncronous code.')),t=qr[i]}if(void 0===t)throw"".concat(e," code could not be initialized.");return t.port.start(),t};function Kr(e){return Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kr(e)}function $r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(n),!0).forEach(function(t){eo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Qr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Jr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eo(e,t,n){return(t=to(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function to(e){var t=function(e){if("object"!=Kr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Kr(t)?t:String(t)}var no=function(e,t,n){return e+(t-e)*function(e){return e*e*(3-2*e)}(n)},ro=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),eo(this,"positions",void 0),eo(this,"oldPositions",void 0),eo(this,"startTime",void 0),eo(this,"t",void 0),eo(this,"currentT",void 0),eo(this,"state",void 0),eo(this,"shouldUpdateAnimator",void 0),eo(this,"parents",void 0),eo(this,"animationCompleteCallback",void 0),eo(this,"shouldUpdate",void 0);var n=t.state;this.positions={},this.oldPositions={},this.startTime=0,this.t=1,this.currentT=1,this.state=n,this.shouldUpdateAnimator=!1,this.parents={},this.animationCompleteCallback=t.animationCompleteCallback}var t,n;return t=e,n=[{key:"getPositionMapFromState",value:function(){var e,t=this.state.nodes,n=t.idToPosition,r={},o=Qr(t.items);try{for(o.s();!(e=o.n()).done;){var i=e.value,a=n[i.id];void 0!==a&&(r[i.id]={id:i.id,x:a.x,y:a.y})}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"updatePositionsFromState",value:function(){this.positions=Zr({},this.getPositionMapFromState())}},{key:"updateOldPositionFromState",value:function(){this.oldPositions=Zr({},this.getPositionMapFromState())}},{key:"startAnimation",value:function(){this.updateOldPositionFromState(),this.startTime=Date.now(),this.t=0,this.currentT=0,this.shouldUpdateAnimator=!0}},{key:"update",value:function(){var e=this.shouldUpdateAnimator,t=(Date.now()-this.startTime)/400;this.t=Math.min(t,1),this.currentT<1?this.shouldUpdateAnimator=!0:(this.shouldUpdateAnimator=!1,e&&!this.shouldUpdateAnimator&&void 0!==this.animationCompleteCallback&&this.animationCompleteCallback(),this.shouldUpdateAnimator||this.updatePositionsFromState())}},{key:"updateNodes",value:function(e){var t,n=Qr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;void 0!==r.x&&void 0!==r.y&&(this.positions[r.id]={id:r.id,x:r.x,y:r.y}),this.shouldUpdate=!0}}catch(e){n.e(e)}finally{n.f()}}},{key:"getNodePositions",value:function(e){var t,n=this.parents,r=this.state.nodes.idToPosition,o=function(e,t){for(var n={x:0,y:0},r=e.length,o=0,i=0;i<r;i++){var a=t[e[i].id];void 0===a||isNaN(a.x)||isNaN(a.y)||0===a.x||0===a.y||(n.x+=a.x,n.y+=a.y,o+=1)}return o>0?[n.x/o,n.y/o]:[0,0]}(e,r),i={x:o[0],y:o[1]},a=[],s=Qr(e);try{for(s.s();!(t=s.n()).done;){var u=t.value,l=this.positions[u.id],c=r[u.id],f={id:u.id};if(void 0!==l){for(var d,h,p,v=u.id,g=null!==(d=this.oldPositions[u.id])&&void 0!==d?d:Zr({},i);void 0===g&&void 0!==n[v];)v=n[v],g=this.oldPositions[v];g.x=null!==(h=g.x)&&void 0!==h?h:i.x,g.y=null!==(p=g.y)&&void 0!==p?p:i.y,f.x=no(g.x,l.x,this.t),f.y=no(g.y,l.y,this.t)}else void 0!==c&&(f.x=c.x||i.x,f.y=c.y||i.y);a.push(f)}}catch(e){s.e(e)}finally{s.f()}return this.currentT=this.t,a}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,to(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function oo(e){return oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(e)}function io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?io(Object(n),!0).forEach(function(t){yo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):io(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function so(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||lo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uo(e){return function(e){if(Array.isArray(e))return co(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(e,t){if(e){if("string"==typeof e)return co(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?co(e,t):void 0}}function co(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(fo=function(){return!!e})()}function ho(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function po(){return po="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vo(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},po.apply(this,arguments)}function vo(e){return vo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vo(e)}function go(e,t){return go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},go(e,t)}function yo(e,t,n){return(t=mo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mo(e){var t=function(e){if("object"!=oo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=oo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oo(t)?t:String(t)}var bo=function(e){return void 0!==e?yn(e):e},_o=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yo(ho(n=function(e,t,n){return t=vo(t),function(e,t){if(t&&("object"===oo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ho(e)}(e,fo()?Reflect.construct(t,n||[],vo(e).constructor):t.apply(e,n))}(this,t,[e])),"stateDisposers",void 0),yo(ho(n),"cytoCompleteCallback",void 0),yo(ho(n),"computing",void 0),yo(ho(n),"pendingLayoutData",void 0),yo(ho(n),"worker",void 0),yo(ho(n),"workersDisabled",void 0),n.stateDisposers=[],n.stateDisposers.push(n.state.reaction(function(){return n.state.graphUpdates},function(){void 0!==n.state.nodes.version&&(n.shouldUpdate=!0),void 0!==n.state.rels.version&&(n.shouldUpdate=!0)})),n.cytoCompleteCallback=e.cytoCompleteCallback,n.shouldUpdate=!0,n.computing=!1,n.workersDisabled=e.state.disableWebWorkers,n.setOptions(),n.worker=Xr("CoseBilkentLayout",n.workersDisabled),n.pendingLayoutData=null,n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&go(e,t)}(t,e),n=t,r=[{key:"setOptions",value:function(){this.shouldUpdate=!0}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(this.shouldUpdate||e){var o=bo(n),i=bo(r);(o.length>0||i.length>0)&&(this.updatePositionsFromState(),this.layout(o,i))}po(vo(t.prototype),"update",this).call(this),this.shouldUpdate=!1}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate||this.shouldUpdateAnimator}},{key:"getComputing",value:function(){return this.computing}},{key:"layout",value:function(e,t){var n=this;if(this.worker){if(e.length){var r=e.map(function(e){return{group:"nodes",data:{id:e.id}}}),o=t.map(function(e){return{group:"edges",data:{id:"rel".concat(e.id),source:e.from,target:e.to}}}),i={elements:[].concat(uo(r),uo(o)),spacingFactor:e.reduce(function(e,t){var n;return e+(null!==(n=t.size)&&void 0!==n?n:vr)},0)/e.length*4.5/50*Or()};this.computing?this.pendingLayoutData=i:(this.computing=!0,this.worker.port.onmessage=function(e){var t=e.data.positions;if(n.computing){for(var r=0,o=Object.entries(t);r<o.length;r++){var i=so(o[r],2),a=i[0],s=i[1];n.positions[a]=ao({id:a},s)}n.cytoCompleteCallback(),n.startAnimation()}n.computing=!1,n.shouldUpdate=!0},setTimeout(function(){n.computing&&n.worker.port.postMessage(i)},0))}}else Gr.info("Cose-Bilkent layout code not yet initialised.")}},{key:"terminateUpdate",value:function(){this.computing=!1}},{key:"destroy",value:function(){var e;this.stateDisposers.forEach(function(e){e()}),null===(e=this.worker)||void 0===e||e.port.close()}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mo(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(ro),wo="undefined"!=typeof Float32Array?Float32Array:Array;function xo(){var e=new wo(16);return wo!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var Eo=function(e,t,n,r,o,i,a){var s=1/(t-n),u=1/(r-o),l=1/(i-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(o+r)*u,e[14]=(a+i)*l,e[15]=1,e},Oo=om(9792),So=om.n(Oo);function To(e){return To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(e)}function Po(e,t,n){return(t=Co(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Co(e){var t=function(e){if("object"!=To(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=To(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==To(t)?t:String(t)}var ko=function(){function e(n,r,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Po(this,"shaderProgram",void 0),Po(this,"gl",void 0),Po(this,"curTexture",void 0),Po(this,"attributeInfo",void 0),Po(this,"uniformInfo",void 0);var a=n.createShader(n.FRAGMENT_SHADER);if(!n.isShader(a))throw new Error("Could not create shader object");var s=So()(o,i);n.shaderSource(a,s),n.compileShader(a),(0,t.isNil)(n.getShaderParameter(a,n.COMPILE_STATUS))&&Gr.info(n.getShaderInfoLog(a));var u=n.createShader(n.VERTEX_SHADER);if(!n.isShader(u))throw new Error("Could not create shader object");var l=So()(r,i);if(n.shaderSource(u,l),n.compileShader(u),(0,t.isNil)(n.getShaderParameter(u,n.COMPILE_STATUS))&&Gr.info(n.getShaderInfoLog(u)),this.shaderProgram=n.createProgram(),n.attachShader(this.shaderProgram,a),n.attachShader(this.shaderProgram,u),n.linkProgram(this.shaderProgram),(0,t.isNil)(n.getProgramParameter(this.shaderProgram,n.LINK_STATUS)))throw new Error("Could not initialise shader");this.gl=n,this.curTexture=0,this.scanUniforms(),this.scanAttributes()}var n,r;return n=e,r=[{key:"setUniform",value:function(e,t){var n=this.gl,r=this.uniformInfo[e];if(void 0===r)throw new Error("Shader.setUniform - Uniform ".concat(e," not found in shader"));switch(r.type){case n.INT:n.uniform1i(r.location,t);break;case n.INT_VEC2:n.uniform2iv(r.location,t);break;case n.INT_VEC3:n.uniform3iv(r.location,t);break;case n.INT_VEC4:n.uniform4iv(r.location,t);break;case n.SAMPLER_2D:n.activeTexture(n.TEXTURE0+r.texture),n.bindTexture(n.TEXTURE_2D,t),n.uniform1i(r.location,r.texture);break;case n.SAMPLER_CUBE:case n.FLOAT:n.uniform1f(r.location,t);break;case n.FLOAT_VEC2:n.uniform2fv(r.location,t);break;case n.FLOAT_VEC3:n.uniform3fv(r.location,t);break;case n.FLOAT_VEC4:n.uniform4fv(r.location,t);break;case n.FLOAT_MAT2:n.uniformMatrix2fv(r.location,!1,t);break;case n.FLOAT_MAT3:n.uniformMatrix3fv(r.location,!1,t);break;case n.FLOAT_MAT4:n.uniformMatrix4fv(r.location,!1,t)}}},{key:"setAttributePointer",value:function(e,t,n,r){var o=this.gl,i=this.attributeInfo[e],a=n*Float32Array.BYTES_PER_ELEMENT,s=r*Float32Array.BYTES_PER_ELEMENT;o.enableVertexAttribArray(i.position),o.vertexAttribPointer(i.position,t,o.FLOAT,!1,s,a)}},{key:"setAttributePointerFloat",value:function(e,t,n,r){var o=this.gl,i=this.attributeInfo[e];o.enableVertexAttribArray(i.position),o.vertexAttribPointer(i.position,t,o.FLOAT,!1,r,n)}},{key:"setAttributePointerUShort",value:function(e,t,n,r){var o=this.gl,i=this.attributeInfo[e];o.enableVertexAttribArray(i.position),o.vertexAttribPointer(i.position,t,o.UNSIGNED_SHORT,!1,r,n)}},{key:"setAttributePointerByteNorm",value:function(e,t,n,r){var o=this.gl,i=this.attributeInfo[e];o.enableVertexAttribArray(i.position),o.vertexAttribPointer(i.position,t,o.UNSIGNED_BYTE,!0,r,n)}},{key:"setAttributePointerByte",value:function(e,t,n,r){var o=this.gl,i=this.attributeInfo[e];o.enableVertexAttribArray(i.position),o.vertexAttribPointer(i.position,t,o.UNSIGNED_BYTE,!1,r,n)}},{key:"use",value:function(){this.gl.useProgram(this.shaderProgram)}},{key:"remove",value:function(){this.gl.deleteProgram(this.shaderProgram)}},{key:"scanAttributes",value:function(){var e=this.gl;this.attributeInfo={};for(var t,n,r=e.getProgramParameter(this.shaderProgram,e.ACTIVE_ATTRIBUTES),o=0;o<r;o++)t=e.getActiveAttrib(this.shaderProgram,o),n=e.getAttribLocation(this.shaderProgram,t.name),this.attributeInfo[t.name]={type:t.type,position:n}}},{key:"scanUniforms",value:function(){var e=this.gl;this.uniformInfo={};for(var t,n=e.getProgramParameter(this.shaderProgram,e.ACTIVE_UNIFORMS),r=0;r<n;r++){t=e.getActiveUniform(this.shaderProgram,r);var o=e.getUniformLocation(this.shaderProgram,t.name),i={type:t.type,location:o};t.type===e.SAMPLER_2D&&(i.texture=this.curTexture,this.curTexture+=1),this.uniformInfo[t.name]=i}}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Co(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function Ao(e){return Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao(e)}function No(e){var t=function(e){if("object"!=Ao(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ao(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ao(t)?t:String(t)}function jo(e){var t="function"==typeof Map?new Map:void 0;return jo=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(Ro())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&Io(o,n.prototype),o}(e,arguments,Mo(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Io(n,e)},jo(e)}function Ro(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ro=function(){return!!e})()}function Io(e,t){return Io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Io(e,t)}function Mo(e){return Mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mo(e)}var Do=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r=arguments,n=Mo(n=t),function(e,t){if(t&&("object"===Ao(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ro()?Reflect.construct(n,r||[],Mo(e).constructor):n.apply(e,r));var e,n,r}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Io(e,t)}(t,e),n=t,(r=[{key:"toString",value:function(){return this.message}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,No(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(jo(Error));const Lo="uniform mat4 u_projection;\n\nattribute vec2 a_position;\n//attribute float a_index;\n\n//varying highp float index;\n\nvoid main() {\n//  index = a_index;\n  gl_Position = u_projection * vec4(a_position, 0.0, 1.0);\n}";function Bo(e){return Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bo(e)}function Fo(e){var t=function(e){if("object"!=Bo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Bo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Bo(t)?t:String(t)}var Uo=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graph=this.constructGraphObjects(t,n),this.subGraphs=[],this.sunMap={}}var t,n;return t=e,n=[{key:"constructGraphObjects",value:function(e,t){var n=new Array(e.nodes.length),r=new Array(e.rels.length),o={},i=[];return e.nodes.forEach(function(e,t){n[t]=[],r[t]=[],i.push(e)}),e.rels.forEach(function(e){var i=t[e.from],a=t[e.to];void 0!==i&&void 0!==a&&(n[i].push(a),n[a].push(i),r[i].push(e.id),r[a].push(e.id),o[e.id]=e)}),this.relIdMap=r,{nodes:i,relationships:n,idToRel:o}}},{key:"coarsenTo",value:function(e){for(var t=this.graph,n=t.nodes.length,r=0;t.nodes.length>e&&t.relationships.some(function(e){return e.length>0});){var o=this.coarsen(t,0===r);if(0===r&&(this.nodeSortMap=o.nodeSortMap),this.subGraphs.push(o.sortedInput),0===(t=o.output).relationships.length||t.relationships.every(function(e){return 0===e.length})||n===t.nodes.length)break;n=t.nodes.length,r+=1}return this.subGraphs.push(t),t}},{key:"coarsenBy",value:function(e){for(var t=e,n=this.graph,r=n.nodes.length,o=t;t>0;){var i=this.coarsen(n,t===o);if(this.subGraphs.push(i.sortedInput),0===(n=i.output).relationships.length||n.relationships.every(function(e){return 0===e.length})||r===n.nodes.length)break;r=n.nodes.length,t-=1}return this.subGraphs.push(n),n}},{key:"coarsen",value:function(e,t){var n=this,r=e.nodes,o=e.relationships,i=r.map(function(e,t){return t}),a={},s={};r.forEach(function(e,t){a[t]=e,s[e.id]=t});for(var u=o.map(function(e){return e.slice()}),l={suns:{},planets:{},moons:{}},c=[],f=[],d=function(){var e=i[0];i.splice(i.indexOf(e),1),o[e].forEach(function(t){var n=i.indexOf(t);n>=0&&i.splice(n,1);var r=-1,o=u[t];o.forEach(function(t,n){var o=i.indexOf(t);o>=0?i.splice(o,1):t===e&&(r=n)}),o.splice(r,1)});var n={id:e};if(t)n.originalId=a[e].id;else{var r=a[e];n.finestIndex=r.finestIndex,n.originalId=r.originalId}c.push(n),l.suns[e]=n};i.length>0;)d();c.forEach(function(e,t){f[t]=[]}),c.forEach(function(e,n){var r={},i=[];o[e.id].forEach(function(o){if(o!==e.id&&!r[o]){var s={id:o,parent:e,sunId:n,moons:[]},u=a[o];s.size=function(){return s.moons.length+1},s.weight=u.weight||1,s.children=function(){return s.moons},t?s.originalId=u.id:(s.finestIndex=u.finestIndex,s.originalId=u.originalId),i.push(s),r[o]=!0}}),i.forEach(function(e){l.planets[e.id]=e}),e.planets=i,e.children=function(){return e.planets},e.weight=e.planets.reduce(function(e,t){return e+(t.weight||1)},0)+(a[e.id].weight||1),e.size=function(){return e.planets.reduce(function(e,t){return e+t.size()},0)+1}});var h=r.filter(function(e,t){return!c.find(function(e){return e.id===t})&&!l.planets[t]}),p=[];h.forEach(function(e){for(var n=s[e.id],r=u[n],o=null,i=-1,c=0;c<r.length;c++){var f=r[c];if(f!==n&&(o=l.planets[f])){i=c;break}}if(r.splice(i,1),o){var d={id:n,size:function(){return 0}};d.weight=a[n].weight||1,d.parent=o,d.sunId=o.sunId,t?d.originalId=e.id:(d.finestIndex=e.finestIndex,d.originalId=e.originalId),l.moons[n]=d,o.moons.push(d),o.weight+=d.weight,o.parent.weight+=d.weight;var h=u[o.id];h.splice(h.indexOf(n),1)}else p.push(e)}),u.forEach(function(e,t){if(!l.suns[t]){var n=l.planets[t]||l.moons[t];u[t].forEach(function(e){var t=l.planets[e];if(t||(t=l.moons[e]),n.sunId!==t.sunId){var r=f[n.sunId];r.includes(t.sunId)||r.push(t.sunId)}})}});var v=[],g=0,y={};c.forEach(function(e,o){var i=r[e.id];y[e.id]=g,e.previousIndex=o,e.id=g,g+=1,t&&(i.finestIndex=e.id,e.finestIndex=e.id),v.push(i),e.planets.forEach(function(o){var i=r[o.id];y[o.id]=g,o.id=g,g+=1,o.sunId=e.id,t&&(i.finestIndex=o.id),n.sunMap[o.originalId]=e.originalId,v.push(i),o.moons.forEach(function(o){var i=r[o.id];y[o.id]=g,o.id=g,g+=1,o.sunId=e.id,t&&(i.finestIndex=o.id),n.sunMap[o.originalId]=e.originalId,v.push(i)})})});var m=[],b=[];return o.forEach(function(e,r){var o=y[r];m[o]=e.map(function(e){return y[e]}),t&&(b[o]=e.map(function(e,t){return n.relIdMap[r][t]}))}),b&&b.length>0&&(this.relIdMap=b),{output:{nodes:c,relationships:f},sortedInput:{nodes:v,relationships:m},nodeSortMap:y}}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fo(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),zo=function(e,t,n){for(var r=2*Math.PI/n,o=[],i=0;i<n;i++){var a=r*i;o.push({x:e.x+t*Math.cos(a),y:e.y+t*Math.sin(a)})}return o};function Vo(e){return Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(e)}function Wo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ho(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Go(e,t,n){return(t=qo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qo(e){var t=function(e){if("object"!=Vo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Vo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Vo(t)?t:String(t)}var Yo="PhysLayout",Xo=new Float32Array(4),Ko=256,$o=function(e){for(var t={},n={},r=0;r<e.length;r++)t[e[r].id]=r,n[r]=e[r].id;return{nodeIdToIndex:t,nodeIndexToId:n}},Zo=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Go(this,"physVbo",void 0),Go(this,"physSmallVbo",void 0),Go(this,"physProjection",void 0),Go(this,"physSmallProjection",void 0),Go(this,"gl",void 0),Go(this,"useReadpixelWorkaround",void 0),Go(this,"averageNodeSize",void 0),Go(this,"shouldUpdate",void 0),Go(this,"iterationCount",void 0),Go(this,"lastSpeedValues",void 0),Go(this,"rollingAvgGraphSpeed",void 0),Go(this,"nodeVariation",void 0),Go(this,"nodeCenterPoint",void 0),Go(this,"peakIterationMultiplier",void 0),Go(this,"stateDisposers",void 0),Go(this,"state",void 0),Go(this,"dpr",void 0),Go(this,"intelWorkaround",void 0),Go(this,"simulationStopVelocitySquared",void 0),Go(this,"gravity",void 0),Go(this,"force",void 0),Go(this,"nodeIdToIndex",void 0),Go(this,"nodeIndexToId",void 0),Go(this,"numNodes",void 0),Go(this,"solarMerger",void 0),Go(this,"subGraphs",void 0),Go(this,"nodeSortMap",void 0),Go(this,"firstUpdate",void 0),Go(this,"curPhysData",void 0),Go(this,"apprxRepForceShader",void 0),Go(this,"levelsClusterTexture",void 0),Go(this,"levelsFinestIndexTexture",void 0),Go(this,"initalLevelTexture",void 0),Go(this,"levelsData",void 0),Go(this,"collisionDetectionMultiplier",void 0),Go(this,"physShader",void 0),Go(this,"physData",void 0),Go(this,"workaroundData",void 0),Go(this,"pinData",void 0),Go(this,"updateData",void 0),Go(this,"updateShader",void 0),Go(this,"workaroundShader",void 0),Go(this,"physPositions",void 0),Go(this,"springTexture",void 0),Go(this,"sizeTexture",void 0),Go(this,"offsetTexture",void 0),Go(this,"pinTexture",void 0),Go(this,"addedNodes",void 0),Go(this,"updateTexture",void 0),Go(this,"enableVerlet",void 0);var r=t.state,o=t.webGLContext;if(Gr.info("layout - webGLContext",Boolean(o)),void 0===t.webGLContext)throw new Error("PhysLayout missing options: webGLContext - webgl context");if(void 0===t.state)throw new Error("PhysLayout missing options: state - state object");var i=o;this.checkCompatibility(i),this.printGlStats(i),this.physVbo=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,this.physVbo);var a=new Float32Array([0,0,hr,0,0,hr,hr,hr]);i.bufferData(i.ARRAY_BUFFER,a,i.STATIC_DRAW),this.physSmallVbo=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,this.physSmallVbo);var s=new Float32Array([0,0,Ko,0,0,Ko,Ko,Ko]);i.bufferData(i.ARRAY_BUFFER,s,i.STATIC_DRAW),this.physProjection=xo(),Eo(this.physProjection,0,hr,hr,0,0,1e6),this.physSmallProjection=xo(),Eo(this.physSmallProjection,0,Ko,Ko,0,0,1e6),i.disable(i.DEPTH_TEST),this.gl=i,this.useReadpixelWorkaround&&this.setupReadpixelWorkaround(),this.setupUpdates(),this.averageNodeSize=vr,this.shouldUpdate=!0,this.iterationCount=0,this.lastSpeedValues=[],this.rollingAvgGraphSpeed=0,this.nodeVariation=0,this.nodeCenterPoint=[0,0],this.peakIterationMultiplier=160,this.setOptions(t,!0),this.definePhysicsArrays();var u=r.nodes,l=r.rels;u.addChannel(Yo),l.addChannel(Yo),this.stateDisposers=[],this.stateDisposers.push(r.reaction(function(){return r.graphUpdates},function(){var e=u.channels[Yo];if(void 0!==u.version&&e){var t=Object.values(e.adds).length>0,r=Object.values(e.removes).length>0,o=Object.values(e.updates),i=kr(o);(t||r||i)&&(n.shouldUpdate=!0,n.checkForUpdates())}var a=l.channels[Yo];if(void 0!==l.version&&a){var s=Object.values(a.adds).length>0,c=Object.values(a.removes).length>0;(s||c)&&(n.shouldUpdate=!0,n.checkForUpdates())}})),this.setData({nodes:u.items,rels:l.items}),this.state=r,this.dpr=window.devicePixelRatio||1}var t,n;return t=e,n=[{key:"setOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=e.intelWorkaround,r=e.simulationStopVelocity,o=e.gravity,i=e.enableVerlet,a=void 0!==i&&i;t&&(this.intelWorkaround=n,this.enableVerlet=a);var s=this.enableVerlet?.25:null!=r?r:100;this.simulationStopVelocitySquared=s*s,this.gravity=null!=o?o:100,this.force=0}}},{key:"setData",value:function(e){var t=$o(e.nodes),n=t.nodeIdToIndex,r=t.nodeIndexToId;return this.nodeIdToIndex=n,this.nodeIndexToId=r,this.numNodes=e.nodes.length,this.solarMerger=new Uo(e,n),this.solarMerger.coarsenTo(1),this.subGraphs=this.solarMerger.subGraphs,this.nodeSortMap=this.solarMerger.nodeSortMap,this.setupSprings(this.subGraphs[0]),this.setupSize(this.subGraphs[0]),this.setupPhysics(),this.firstUpdate=!0,this.curPhysData=0,this.shouldUpdate=!0,this.iterationCount=0,this.subGraphs[0]}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.gl;if(this.checkForUpdates(e),!this.shouldUpdate)return t.bindFramebuffer(t.FRAMEBUFFER,this.getPhysData(0).frameBuffer),t.readPixels(0,0,hr,hr,t.RGBA,t.FLOAT,this.physPositions),!1;t.disable(t.BLEND);for(var n=this.nodeVariation/(this.numNodes||1)>.3,r=this.getScaleNumber(this.iterationCount),o=this.subGraphs?this.subGraphs.length:0,i=this.getPhysData(0).texture,a=o-1;a>0;a--){var s=this.subGraphs[a].nodes.length,u=a===o-1;this.apprxRepForceShader.use(),this.apprxRepForceShader.setUniform("u_physData",i),this.apprxRepForceShader.setUniform("u_clusterData",this.levelsClusterTexture[a]),this.apprxRepForceShader.setUniform("u_finestIndexes",this.levelsFinestIndexTexture[a]),this.apprxRepForceShader.setUniform("u_prevForce",u?this.initalLevelTexture:this.levelsData[a+1].texture),this.apprxRepForceShader.setUniform("u_numNodes",s),this.apprxRepForceShader.setUniform("u_iterationMultiplier",r),this.apprxRepForceShader.setUniform("u_baseLength",this.getBaseLength(s)),this.apprxRepForceShader.setUniform("u_isTopLevel",u?1:0),t.bindBuffer(t.ARRAY_BUFFER,this.physSmallVbo),this.apprxRepForceShader.setAttributePointer("a_position",2,0,2),t.bindFramebuffer(t.FRAMEBUFFER,this.levelsData[a].frameBuffer),t.viewport(0,0,Ko,Ko),t.drawArrays(t.TRIANGLE_STRIP,0,4)}if(this.collisionDetectionMultiplier=0,this.collisionDetectionMultiplier=n?Math.min(this.iterationCount/Math.min(this.numNodes,300),1):1,this.force=o<=1?this.initalLevelTexture:this.levelsData[1].texture,this.physShader.use(),this.physShader.setUniform("u_prevForce",o<=1?this.initalLevelTexture:this.levelsData[1].texture),this.physShader.setUniform("u_connections",this.springTexture),this.physShader.setUniform("u_sizeTexture",this.sizeTexture),this.physShader.setUniform("u_connectionOffsets",this.offsetTexture),this.physShader.setUniform("u_physData",i),this.physShader.setUniform("u_pinnedNodes",this.pinTexture),this.physShader.setUniform("u_iterationMultiplier",r),this.physShader.setUniform("u_curIteration",this.iterationCount),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_clusterData",this.levelsClusterTexture[0]),this.physShader.setUniform("u_collisionMultiplier",this.collisionDetectionMultiplier),this.physShader.setUniform("u_baseLength",this.getBaseLength()),this.firstUpdate=!1,t.bindBuffer(t.ARRAY_BUFFER,this.physVbo),this.physShader.setAttributePointer("a_position",2,0,2),t.bindFramebuffer(t.FRAMEBUFFER,this.getPhysData(1).frameBuffer),t.viewport(0,0,hr,hr),t.drawArrays(t.TRIANGLE_STRIP,0,4),this.useReadpixelWorkaround?this.doReadpixelWorkaround():(t.bindFramebuffer(t.FRAMEBUFFER,this.getPhysData(0).frameBuffer),t.readPixels(0,0,hr,hr,t.RGBA,t.FLOAT,this.physPositions)),this.curPhysData=(this.curPhysData+1)%this.physData.length,this.iterationCount+=1,this.numNodes<2)this.shouldUpdate=!1,this.iterationCount=0;else if(this.iterationCount%5==0){var l=this.iterationCount<300,c=l?this.getMaxSpeedSquared():this.getMedianSpeedSquared(this.addedNodes);this.lastSpeedValues.push(c),this.rollingAvgGraphSpeed=this.lastSpeedValues.reduce(function(e,t){return e+t},0)/this.lastSpeedValues.length;var f=l&&c>=this.rollingAvgGraphSpeed,d=this.simulationStopVelocitySquared&&this.rollingAvgGraphSpeed<this.simulationStopVelocitySquared;this.lastSpeedValues.length>20&&this.lastSpeedValues.shift(),!f&&!0===d&&this.iterationCount>2&&this.terminateUpdate()}return this.shouldUpdate}},{key:"terminateUpdate",value:function(){Gr.info("Cooling down after ".concat(this.iterationCount," iterations at graph speed of ").concat(Math.sqrt(this.rollingAvgGraphSpeed))),this.shouldUpdate=!1,this.iterationCount=0,this.rollingAvgGraphSpeed=0,this.lastSpeedValues=[],this.addedNodes=null,this.nodeVariation=0}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"getNodePositions",value:function(e){var t=[];if(this.useReadpixelWorkaround){var n,r=Wo(e);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=this.nodeIdToIndex[o.id],a=o.id,s=void 0,u=void 0;void 0!==i&&(s=this.workaroundData[0].dataFloat[i],u=this.workaroundData[1].dataFloat[i]),t.push({id:a,x:s,y:u})}}catch(e){r.e(e)}finally{r.f()}}else{var l,c=Wo(e);try{for(c.s();!(l=c.n()).done;){var f=l.value,d=this.nodeIdToIndex[f.id],h=f.id,p=void 0,v=void 0;void 0!==d&&(p=this.physPositions[4*d+0],v=this.physPositions[4*d+1]),t.push({id:h,x:p,y:v})}}catch(e){c.e(e)}finally{c.f()}}return t}},{key:"reheat",value:function(e){this.setupSize(this.subGraphs[0]),this.shouldUpdate=!0,this.iterationCount=0,this.nodeVariation=e.nodes.length}},{key:"updateNodes",value:function(e){var t=this.gl,n=new Set;t.bindTexture(t.TEXTURE_2D,this.getPhysData().texture);var r,o=Wo(e);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=this.nodeIdToIndex[i.id];if(void 0!==i.x&&void 0!==i.y){Xo[0]=i.x,Xo[1]=i.y,Xo[2]=0,Xo[3]=0;var s=a%hr,u=(a-s)/hr;t.texSubImage2D(t.TEXTURE_2D,0,s,u,1,1,t.RGBA,t.FLOAT,Xo),this.useReadpixelWorkaround?(this.workaroundData[0].dataFloat[a]=i.x,this.workaroundData[1].dataFloat[a]=i.y):(this.physPositions[4*a+0]=i.x,this.physPositions[4*a+1]=i.y)}void 0!==i.pinned&&(this.pinData[a]=i.pinned?255:0),Object.keys(i).forEach(function(e){return n.add(e)})}}catch(e){o.e(e)}finally{o.f()}n.has("pinned")&&(t.bindTexture(t.TEXTURE_2D,this.pinTexture),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,hr,hr,0,t.ALPHA,t.UNSIGNED_BYTE,this.pinData)),(n.has("x")||n.has("y")||n.has("size"))&&(this.shouldUpdate=!0,this.iterationCount=0)}},{key:"addRemoveData",value:function(e,t){var n=this.gl;this.numNodes=e.nodes.length,this.physShader.use(),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_baseLength",this.getBaseLength());var r=$o(e.nodes).nodeIdToIndex,o=new Uo(e,r);o.coarsenTo(1);var i=o.subGraphs[0],a=this.subGraphs[0],s=function(e){return a.nodes.findIndex(function(t){return t.id===e})},u=Object.values(t.adds),l=Object.values(t.removes);this.addedNodes=u.length>0?{}:null,this.nodeVariation=u.length+l.length;for(var c,f=3*Math.sqrt(e.nodes.length),d={x:0,y:0},h=i.nodes.length,p=new Uint8Array(65536),v=0;v<h;v++){var g=0,y=0,m=i.nodes[v];if(c=m.id,Boolean(t.adds[c])){if(this.addedNodes[v]=m.id,g=m.position?m.position.x:void 0,y=m.position?m.position.y:void 0,void 0===g||void 0===y){var b=o.sunMap,_=void 0;for(_=b[m.id];void 0!==_;_=b[_]){var w=s(_);if(-1!==w){var x=this.getNodePosition(w);g=x.x+10*(Math.random()-.5),y=x.y+10*(Math.random()-.5);break}}void 0===_&&(g=this.nodeCenterPoint[0]+f*(Math.random()-.5),y=this.nodeCenterPoint[1]+f*(Math.random()-.5))}this.updateData[2*v]=g,this.updateData[2*v+1]=y,p[v]=m.pinned?255:0}else{var E=s(m.id),O=this.getNodePosition(E);g=O.x,y=O.y,this.updateData[2*v]=E,this.updateData[2*v+1]=999999,p[v]=this.pinData[E]}d.x+=g||0,d.y+=y||0}this.nodeCenterPoint=h?[d.x/h,d.y/h]:[0,0],this.pinData=p,this.subGraphs=o.subGraphs,this.nodeSortMap=o.nodeSortMap,this.setupSprings(this.subGraphs[0]),this.setupSize(this.subGraphs[0]);var S=$o(this.subGraphs[0].nodes),T=S.nodeIdToIndex,P=S.nodeIndexToId;return this.nodeIdToIndex=T,this.nodeIndexToId=P,n.bindTexture(n.TEXTURE_2D,this.updateTexture),n.texImage2D(n.TEXTURE_2D,0,n.ALPHA,hr,hr,0,n.ALPHA,n.FLOAT,this.updateData),Gr.info("Setting gravity center to ",this.nodeCenterPoint),this.physShader.setUniform("u_gravityCenter",this.nodeCenterPoint),this.updateShader.use(),this.updateShader.setUniform("u_numNodesNew",i.nodes.length),this.updateShader.setUniform("u_physData",this.getPhysData(0).texture),this.updateShader.setUniform("u_updateData",this.updateTexture),n.disable(n.BLEND),n.bindBuffer(n.ARRAY_BUFFER,this.physVbo),this.updateShader.setAttributePointer("a_position",2,0,2),n.bindFramebuffer(n.FRAMEBUFFER,this.getPhysData(1).frameBuffer),n.viewport(0,0,hr,hr),n.drawArrays(n.TRIANGLE_STRIP,0,4),this.curPhysData=(this.curPhysData+1)%this.physData.length,this.useReadpixelWorkaround?this.doReadpixelWorkaround():(n.bindFramebuffer(n.FRAMEBUFFER,this.getPhysData().frameBuffer),n.readPixels(0,0,hr,hr,n.RGBA,n.FLOAT,this.physPositions)),(u.length>0||l.length>0)&&(n.bindTexture(n.TEXTURE_2D,this.pinTexture),n.texImage2D(n.TEXTURE_2D,0,n.ALPHA,hr,hr,0,n.ALPHA,n.UNSIGNED_BYTE,this.pinData)),this.shouldUpdate=!0,this.iterationCount=0,this.setupPhysicsForCoarse(),this.subGraphs[0]}},{key:"destroy",value:function(){var e=this;this.gl.deleteBuffer(this.physVbo),this.gl.deleteBuffer(this.physSmallVbo),this.physData.forEach(function(t){e.gl.deleteFramebuffer(t.frameBuffer),e.gl.deleteTexture(t.texture)}),this.levelsData.forEach(function(t){e.gl.deleteFramebuffer(t.frameBuffer),e.gl.deleteTexture(t.texture)}),this.levelsClusterTexture.forEach(function(t){e.gl.deleteTexture(t)}),this.levelsFinestIndexTexture.forEach(function(t){e.gl.deleteTexture(t)}),this.gl.deleteTexture(this.initalLevelTexture),this.gl.deleteTexture(this.sizeTexture),this.gl.deleteTexture(this.offsetTexture),this.gl.deleteTexture(this.springTexture),this.gl.deleteTexture(this.pinTexture),this.gl.deleteTexture(this.updateTexture),void 0!==this.apprxRepForceShader&&this.apprxRepForceShader.remove(),void 0!==this.updateShader&&this.updateShader.remove(),void 0!==this.physShader&&this.physShader.remove(),this.physPositions=null,this.gl=null,this.stateDisposers.forEach(function(e){e()}),this.state.nodes.removeChannel(Yo),this.state.rels.removeChannel(Yo)}},{key:"dumpTexture",value:function(e,t,n){var r=this.gl;Gr.info("--- Dumping texture ",n),r.bindFramebuffer(r.FRAMEBUFFER,e),r.readPixels(0,0,hr,hr,r.RGBA,r.FLOAT,this.physPositions);for(var o=0;o<t;o++)Gr.info(o,": ",this.physPositions[4*o+0],this.physPositions[4*o+1],this.physPositions[4*o+2],this.physPositions[4*o+3])}},{key:"getScaleNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t,n){return n+Math.pow(10,6)*Math.pow(e-120,-1.7)};return 0===e?0:e<300?200+-1/Math.pow(10,5)*3*Math.pow(Math.abs(e-200+12),3):t(e,200,10)}},{key:"getBaseLength",value:function(e){if(void 0===e||e===this.numNodes)return 100*this.dpr;var t=Math.pow(this.averageNodeSize/2,2)*Math.PI,n=this.numNodes/e*t;return(100+Math.sqrt(n/Math.PI)/2/e)*this.dpr}},{key:"checkForUpdates",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state,n=t.nodes,r=t.rels,o={nodes:n.items,rels:r.items},i=Object.values(n.channels[Yo].adds).length>0,a=Object.values(r.channels[Yo].adds).length>0,s=Object.values(n.channels[Yo].removes).length>0,u=Object.values(r.channels[Yo].removes).length>0,l=Object.values(n.channels[Yo].updates);(i||a||s||u)&&this.addRemoveData(o,{adds:n.channels[Yo].adds,removes:n.channels[Yo].removes}),e?(this.updateNodes(o.nodes),this.reheat(o)):l.length>0&&(this.updateNodes(l),kr(l)&&this.reheat(o)),n.clearChannel(Yo),r.clearChannel(Yo)}},{key:"getNodePosition",value:function(e){return this.useReadpixelWorkaround?{x:this.workaroundData[0].dataFloat[e],y:this.workaroundData[1].dataFloat[e]}:{x:this.physPositions[4*e+0],y:this.physPositions[4*e+1]}}},{key:"getMaxSpeedSquared",value:function(){var e=0;if(this.useReadpixelWorkaround)for(var t=0;t<this.numNodes;t++){var n=this.workaroundData[2].dataFloat[t],r=this.workaroundData[3].dataFloat[t],o=n*n+r*r;o>e&&(e=o)}else for(var i=0;i<this.numNodes;i++){var a=this.physPositions[4*i+2],s=this.physPositions[4*i+3],u=a*a+s*s;u>e&&(e=u)}return e}},{key:"getMedianSpeedSquared",value:function(e){var t=[];if(this.useReadpixelWorkaround)for(var n=0;n<this.numNodes;n++){var r=this.workaroundData[2].dataFloat[n],o=this.workaroundData[3].dataFloat[n],i=r*r+o*o;t[n]=i}else for(var a=0;a<this.numNodes;a++)if(!e||e[a]){var s=this.physPositions[4*a+2],u=this.physPositions[4*a+3],l=s*s+u*u;t.push(l)}return t.sort(function(e,t){return e-t}),t[Math.floor(t.length/2)]}},{key:"getPhysData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.physData[(this.curPhysData+e)%this.physData.length]}},{key:"newTexture",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.FLOAT,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.RGBA,i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,o,n,n,0,o,r,t),i}},{key:"newFramebuffer",value:function(e,t){var n=e.createFramebuffer();return e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),n}},{key:"checkCompatibility",value:function(e){function t(e){throw new Do(e)}e||t("Could not initialize WebGL"),0===e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)&&t("Vertex shader texture access not available"),e.getExtension("OES_texture_float")||t("OES_texture_float extension not available"),e.getExtension("WEBGL_color_buffer_float")||(Gr.info("gl.readPixels doesnt work for float texture, activating workaround"),this.useReadpixelWorkaround=!0);var n=e.getParameter(e.MAX_TEXTURE_SIZE),r=Math.max(hr,pr);if(n<r&&t("Need larger WebGL texture support. Avaliable: ".concat(n," needed: ").concat(r)),!this.useReadpixelWorkaround){var o=new Float32Array(4),i=this.newTexture(e,o,1),a=this.newFramebuffer(e,i);e.bindFramebuffer(e.FRAMEBUFFER,a),e.readPixels(0,0,1,1,e.RGBA,e.FLOAT,o),e.getError()!==e.NO_ERROR&&(Gr.info("gl.readPixels doesnt work for float texture, activating workaround"),this.useReadpixelWorkaround=!0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(a),e.deleteTexture(i)}}},{key:"printGlStats",value:function(e){var t="?",n="?";if(e.getParameter(e.RENDERER))n=e.getParameter(e.RENDERER),t=e.getParameter(e.VENDOR);else{var r=e.getExtension("WEBGL_debug_renderer_info");r&&(t=e.getParameter(r.UNMASKED_VENDOR_WEBGL),n=e.getParameter(r.UNMASKED_RENDERER_WEBGL))}Gr.trace("Vendor: ".concat(t)),Gr.trace("Renderer: ".concat(n));var o=e.getParameter(e.ALIASED_LINE_WIDTH_RANGE);Gr.trace("Line width range: ".concat(o));var i=e.getSupportedExtensions();Gr.trace("Extentions:"),i.length>0&&i.forEach(function(e){return Gr.trace(e)})}},{key:"adjustToGlSize",value:function(e){return e*this.dpr*2.5}},{key:"setupSize",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},t=new Float32Array(65536),n=e.nodes,r=n.length,o=0,i=0;i<r;i++){var a,s=parseInt(null!==(a=n[i].size)&&void 0!==a?a:vr,10);t[i]=this.adjustToGlSize(s),o+=s}this.averageNodeSize=r?o/r:vr;var u=this.gl;void 0===this.sizeTexture&&(this.sizeTexture=u.createTexture()),u.bindTexture(u.TEXTURE_2D,this.sizeTexture),u.texImage2D(u.TEXTURE_2D,0,u.ALPHA,hr,hr,0,u.ALPHA,u.FLOAT,t),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE)}},{key:"setupSprings",value:function(e){var t,n,r=this.gl,o=e.relationships,i=new Float32Array(16777216),a=new Float32Array(65536),s=0;for(t=0;t<e.nodes.length;t++)for(a[t]=s,i[s]=o[t].length,s+=1,n=0;n<o[t].length;n++)i[s]=o[t][n],s+=1;for(n=s;n<i.length;n++)i[n]=1;for(n=t;n<a.length;n++)a[n]=0;void 0===this.offsetTexture&&(this.offsetTexture=r.createTexture()),r.bindTexture(r.TEXTURE_2D,this.offsetTexture),r.texImage2D(r.TEXTURE_2D,0,r.ALPHA,hr,hr,0,r.ALPHA,r.FLOAT,a),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),void 0===this.springTexture&&(this.springTexture=r.createTexture()),r.bindTexture(r.TEXTURE_2D,this.springTexture),r.texImage2D(r.TEXTURE_2D,0,r.ALPHA,pr,pr,0,r.ALPHA,r.FLOAT,i),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE)}},{key:"setupPhysics",value:function(){this.setupPhysicsForCoarse(),this.setupPhysicsForNodes(),this.physPositions=new Float32Array(262144),this.setupPinData()}},{key:"setupPhysicsForNodes",value:function(){var e=this.gl,t=this.subGraphs.length,n=this.subGraphs[0].nodes,r=3*Math.sqrt(n.length),o=new Float32Array(262144),i=new Float32Array(262144);this.numNodes=n.length;for(var a=0;a<262144;a++)o[a]=0,i[a]=0;for(var s=function(e,t,n,r){r[4*e+0]=t,r[4*e+1]=n,r[4*e+2]=0,r[4*e+3]=0},u=t-1;u>=0;u--){var l=u===t-1?[]:this.subGraphs[u+1].nodes;0===l.length?this.subGraphs[u].nodes.forEach(function(e,t){var n=e.placement?e.placement.x:r*(Math.random()-.5),i=e.placement?e.placement.y:r*(Math.random()-.5);s(void 0===e.finestIndex?t:e.finestIndex,n,i,o)}):l.forEach(function(e){var t=e.finestIndex,n=o[4*e.finestIndex],r=o[4*e.finestIndex+1],i=zo({x:n,y:r},10,e.planets.length+1);t+=1,e.planets.forEach(function(e,n){var r=i[n];s(t+=1,r.x,r.y,o);var a=zo({x:r.x,y:r.y},10,e.moons.length+1);e.moons.forEach(function(e,n){var r=a[n];s(t+=1,r.x,r.y,o)})})})}this.physData=[];for(var c=0;c<2;c++){var f=this.newTexture(e,0===c?o:i,hr),d=this.newFramebuffer(e,f);this.physData.push({texture:f,frameBuffer:d})}var h=this.enableVerlet?"precision mediump float;\n\nuniform sampler2D u_physData;\nuniform sampler2D u_connections;\nuniform sampler2D u_connectionOffsets;\nuniform sampler2D u_pinnedNodes;\nuniform sampler2D u_sizeTexture;\nuniform float u_baseLength;\nuniform float u_curIteration;\nuniform float u_iterationMultiplier;\nuniform vec2 u_gravityCenter;\nuniform float u_numNodes;\nuniform float u_gravity;\n\nuniform sampler2D u_clusterData;\nuniform sampler2D u_prevForce;\nuniform float u_collisionMultiplier;\n\n\nfloat DAMP = 0.6;\nfloat COOL = 0.99998;\nfloat TEMP = max(0.02, pow(COOL, u_curIteration));\nfloat TIMESTEP = 1.0 / 30.0;\nfloat VELOCITYDECAY = 0.6;\nfloat accLimitLow = 500000.0;\nfloat accLimitHigh = 750000.0;\nfloat accLimitPosHigh = 10000000.0;\n\nconst float denseNodeThreshold = 1000.0;\nconst float MIN_DISTANCE = 0.00000001;\nconst float MAX_DISTANCE = 1000000000.0;\nconst float MAX_ACCELERATION = 50000.0;\n\nvec4 getTextureData(sampler2D texture, float index, float base) {\n  float x = mod(index, base);\n  float y = (index - x) / base;\n  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);\n}\n\nbool isNan(float val) {\n  return (val < 0.0 || 0.0 < val || val == 0.0) ? false : true;\n}\n\nconst float BIG_NUMBER = 999999999999999999.0;\nbool isInf(float val) {\n  return val > BIG_NUMBER || val < -BIG_NUMBER;\n}\n\nvec2 getDelta(vec2 v1, vec2 v2) {\n  vec2 delta = v1 - v2;\n  float dist = length(delta);\n  if (dist < MIN_DISTANCE || isNan(dist)) {\n    return vec2(MIN_DISTANCE, MIN_DISTANCE);\n  }\n  if (dist > MAX_DISTANCE) {\n    vec2 normDelta = delta / dist;\n    return normDelta * MAX_DISTANCE;\n  }\n  return delta;\n}\n\nvec4 getOtherNodePosition(float i) {\n  return getTextureData(u_physData, i, 256.0);\n}\n\nfloat getCombinedNodeSize(float i, float nodeSize) {\n  float otherNodeSize = getTextureData(u_sizeTexture, i, 256.0).a;\n  return nodeSize + otherNodeSize;\n}\n\nvec2 getSpringForce(float curConnection, float numConnections, float springFScale, vec4 myPosition, float i) {\n  float curSpring = getTextureData(u_connections, curConnection + i, 4096.0).a;\n\n  vec4 otherPosition = getTextureData(u_physData, curSpring, 256.0);\n  float otherDataPosition = getTextureData(u_connectionOffsets, curSpring, 256.0).a;\n  float avgDegree;\n#if INTEL_WORKAROUND\n    avgDegree = max(numConnections, 4.0);\n#else\n    float otherNumConnections = getTextureData(u_connections, otherDataPosition, 4096.0).a;\n    avgDegree = max((otherNumConnections + numConnections * 3.0) / 4.0, 4.0);\n#endif\n\n  vec2 delta = getDelta(myPosition.xy, otherPosition.xy);\n  float dist = length(delta);\n\n  float F = (dist * dist * springFScale) / (u_baseLength * avgDegree);\n  if (u_collisionMultiplier > 0.0) {\n    F *= u_collisionMultiplier;\n  }\n  return (-delta / dist) * F;\n}\n\nvec2 getCollisionForce(float combinedNodeSize, float dist, float fScale, vec2 delta) {\n  float collisionForce = (combinedNodeSize - dist) / (dist);\n  if (u_collisionMultiplier > 0.0) {\n    collisionForce *= u_collisionMultiplier;\n  }\n  return (delta * collisionForce * fScale * combinedNodeSize) / (combinedNodeSize + 1.0);\n}\n\nvec2 getRepulsionForce(float dist, float fScale, vec2 delta) {\n  float F = (u_baseLength * u_baseLength * fScale) / (dist);\n  return (delta / dist) * F * 0.05;\n}\n\nvoid main(void) {\n  float textureSide = 256.0; //#TEXTURE_SIDE#;\n  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * textureSide;\n\n  if (index >= u_numNodes) {\n    discard;\n  }\n\n  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);\n\n  float clusterIndex = clusterData.x;\n  float clusterStartIndex = clusterData.y;\n  float clusterSize = clusterData.z;\n  float clusterWeight = clusterData.w;\n\n  vec4 myPosition = getTextureData(u_physData, index, 256.0);\n  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);\n\n  vec2 acceleration = previousForce.xy;\n\n  float isPinned = getTextureData(u_pinnedNodes, index, 256.0).a;\n  float nodeSize = getTextureData(u_sizeTexture, index, 256.0).a;\n\n  if (isPinned > 0.5) {\n    gl_FragColor = vec4(myPosition.xy, 0.0, 0.0);\n    return;\n  }\n\n  float curConnection = getTextureData(u_connectionOffsets, index, 256.0).a;\n  float numConnections = getTextureData(u_connections, curConnection, 4096.0).a;\n\n  float fScale = 1.0 + sqrt(u_iterationMultiplier);\n  float springFScale = fScale;\n\n  if (numConnections > denseNodeThreshold) {\n    springFScale = sqrt(fScale);\n  }\n\n  float numOfRels = 0.0;\n\n  // Springs\n  for (float i = 1.0; i <= 256.0 * 256.0; i++) {\n    if (numOfRels >= numConnections) {\n      break;\n    }\n    acceleration += getSpringForce(curConnection, numConnections, springFScale, myPosition, i);\n    numOfRels += 1.0;\n  }\n\n  // Repulsion && collision detection\n  if (u_collisionMultiplier > 0.0) {\n    float number_of_collisions = 0.0;\n    for (float i = 0.0; i < 256.0 * 256.0; i++) {\n      if (i >= u_numNodes) {\n        break;\n      }\n\n      if (i == index) {\n        continue;\n      }\n\n      vec4 otherPosition = getOtherNodePosition(i);\n      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);\n      float dist = length(delta);\n      float combinedNodeSize = getCombinedNodeSize(i, nodeSize) * 2.0;\n\n      if (dist < combinedNodeSize && number_of_collisions < 40.0) {\n        number_of_collisions++;\n        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);\n      }\n\n      if (i >= clusterStartIndex && i < clusterStartIndex + clusterSize) {\n        acceleration += getRepulsionForce(dist, fScale, delta);\n      }\n    }\n  } else {\n    for (float i = 0.0; i < 256.0 * 256.0; i++) {\n      if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {\n        break;\n      }\n\n      if (i < clusterStartIndex || i == index) {\n        continue;\n      }\n\n      vec4 otherPosition = getOtherNodePosition(i);\n      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);\n      float dist = length(delta);\n      float combinedNodeSize = getCombinedNodeSize(i, nodeSize);\n\n      if (dist < combinedNodeSize) {\n        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);\n      }\n\n      acceleration += getRepulsionForce(dist, fScale, delta);\n    }\n  }\n\n  // Gravity\n  vec2 delta = getDelta(u_gravityCenter, myPosition.xy);\n  float dist = length(delta);\n\n  vec2 grav = (delta / dist) * u_gravity * fScale;\n  acceleration += grav * smoothstep(0.0, 500.0, dist);\n\n  float accMagnitude = length(acceleration);\n  acceleration *= min(MAX_ACCELERATION, accMagnitude) / accMagnitude;\n\n  float iterationFrictionThreshold = 1000.0;\n\n  if (u_curIteration > iterationFrictionThreshold) {\n    float friction = 1.0 + pow((u_curIteration - iterationFrictionThreshold), 2.0) / 100.0;\n    acceleration *= 1.0 / friction;\n  }\n\n  if (u_curIteration == 0.0) {\n    gl_FragColor = vec4(myPosition.xy, myPosition.zw);\n  } else {\n    vec2 prevVelocity = myPosition.zw;\n    vec2 currentPos = myPosition.xy;\n    vec2 prevPos = currentPos - prevVelocity;\n\n    vec2 newPos = currentPos + TEMP * ( DAMP * (prevVelocity) + acceleration * TIMESTEP * TIMESTEP);\n    vec2 newVelocity = newPos - currentPos;\n    gl_FragColor = vec4(newPos, newVelocity);\n  }\n}":"precision mediump float;\n\nuniform sampler2D u_physData;\nuniform sampler2D u_connections;\nuniform sampler2D u_connectionOffsets;\nuniform sampler2D u_pinnedNodes;\nuniform sampler2D u_sizeTexture;\nuniform float u_baseLength;\nuniform float u_curIteration;\nuniform float u_iterationMultiplier;\nuniform vec2 u_gravityCenter;\nuniform float u_numNodes;\nuniform float u_gravity;\n\nuniform sampler2D u_clusterData;\nuniform sampler2D u_prevForce;\nuniform float u_collisionMultiplier;\n\nfloat TIMESTEP = 1.0 / 30.0;\nfloat VELOCITYDECAY = 0.6;\nfloat accLimitLow = 500000.0;\nfloat accLimitHigh = 750000.0;\nfloat accLimitPosHigh = 10000000.0;\n\nconst float denseNodeThreshold = 1000.0;\nconst float MIN_DISTANCE = 0.00000001;\nconst float MAX_DISTANCE = 1000000000.0;\nconst float MAX_ACCELERATION = 500000.0;\n\nvec4 getTextureData(sampler2D texture, float index, float base) {\n  float x = mod(index, base);\n  float y = (index - x) / base;\n  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);\n}\n\nbool isNan(float val) {\n  return (val < 0.0 || 0.0 < val || val == 0.0) ? false : true;\n}\n\nconst float BIG_NUMBER = 999999999999999999.0;\nbool isInf(float val) {\n  return val > BIG_NUMBER || val < -BIG_NUMBER;\n}\n\nvec2 getDelta(vec2 v1, vec2 v2) {\n  vec2 delta = v1 - v2;\n  float dist = length(delta);\n  if (dist < MIN_DISTANCE || isNan(dist)) {\n    return vec2(MIN_DISTANCE, MIN_DISTANCE);\n  }\n  if (dist > MAX_DISTANCE) {\n    vec2 normDelta = delta / dist;\n    return normDelta * MAX_DISTANCE;\n  }\n  return delta;\n}\n\nvec4 getOtherNodePosition(float i) {\n  return getTextureData(u_physData, i, 256.0);\n}\n\nfloat getCombinedNodeSize(float i, float nodeSize) {\n  float otherNodeSize = getTextureData(u_sizeTexture, i, 256.0).a;\n  return nodeSize + otherNodeSize;\n}\n\nvec2 getSpringForce(float curConnection,  float numConnections, float springFScale, vec4 myPosition, float i) {\n  float curSpring = getTextureData(u_connections, curConnection + i, 4096.0).a;\n\n  vec4 otherPosition = getTextureData(u_physData, curSpring, 256.0);\n  float otherDataPosition = getTextureData(u_connectionOffsets, curSpring, 256.0).a;\n  float avgDegree;\n#if INTEL_WORKAROUND\n    avgDegree = max(numConnections, 4.0);\n#else\n    float otherNumConnections = getTextureData(u_connections, otherDataPosition, 4096.0).a;\n    avgDegree = max((otherNumConnections + numConnections * 3.0) / 4.0, 4.0);\n#endif\n\n  vec2 delta = getDelta(myPosition.xy, otherPosition.xy);\n  float dist = length(delta);\n\n  float F = (dist * dist * springFScale) / (u_baseLength * avgDegree);\n  if (u_collisionMultiplier > 0.0) {\n    F *= u_collisionMultiplier;\n  }\n  return (-delta / dist) * F;\n}\n\nvec2 getCollisionForce(float combinedNodeSize, float dist, float fScale, vec2 delta) {\n  float collisionForce = ((combinedNodeSize - dist) / dist);\n  if (u_collisionMultiplier > 0.0) {\n    collisionForce *= u_collisionMultiplier;\n  }\n  return (delta * collisionForce * fScale * combinedNodeSize) / (combinedNodeSize + 1.0);\n}\n\nvec2 getRepulsionForce(float dist, float fScale, vec2 delta) {\n  float F = (u_baseLength * u_baseLength * (fScale / 1.5)) / dist;\n  return (delta / dist) * F * 0.05;\n}\n\nvoid main(void) {\n  float textureSide = 256.0; //#TEXTURE_SIDE#;\n  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * textureSide;\n\n  if (index >= u_numNodes) {\n    discard;\n  }\n\n  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);\n\n  float clusterIndex = clusterData.x;\n  float clusterStartIndex = clusterData.y;\n  float clusterSize = clusterData.z;\n  float clusterWeight = clusterData.w;\n\n  vec4 myPosition = getTextureData(u_physData, index, 256.0);\n  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);\n\n  vec2 acceleration = previousForce.xy;\n\n  float isPinned = getTextureData(u_pinnedNodes, index, 256.0).a;\n  float nodeSize = getTextureData(u_sizeTexture, index, 256.0).a;\n\n  if (isPinned > 0.5) {\n    gl_FragColor = vec4(myPosition.xy, 0.0, 0.0);\n    return;\n  }\n\n  float curConnection = getTextureData(u_connectionOffsets, index, 256.0).a;\n  float numConnections = getTextureData(u_connections, curConnection, 4096.0).a;\n\n  float fScale = 1.0 + sqrt(u_iterationMultiplier);\n  float springFScale = fScale;\n\n  if (numConnections > denseNodeThreshold) {\n    springFScale = sqrt(fScale);\n  }\n\n  float numOfRels = 0.0;\n\n  // Springs\n  for (float i = 1.0; i <= 256.0 * 256.0; i++) {\n    if (numOfRels >= numConnections) {\n      break;\n    }\n    acceleration += getSpringForce(curConnection, numConnections, springFScale, myPosition, i);\n    numOfRels += 1.0;\n  }\n\n  // Repulsion && collision detection\n  if (u_collisionMultiplier > 0.0) {\n    float number_of_collisions = 0.0;\n    for (float i = 0.0; i < 256.0 * 256.0; i++) {\n      if (i >= u_numNodes) {\n        break;\n      }\n\n      if (i == index) {\n        continue;\n      }\n\n      vec4 otherPosition = getOtherNodePosition(i);\n      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);\n      float dist = length(delta);\n      float combinedNodeSize = getCombinedNodeSize(i, nodeSize) * 2.0;\n\n      if (dist < combinedNodeSize && number_of_collisions < 40.0) {\n        number_of_collisions++;\n        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);\n      }\n\n      if (i >= clusterStartIndex && i < clusterStartIndex + clusterSize) {\n        acceleration += getRepulsionForce(dist, fScale, delta);\n      }\n    }\n  } else {\n    for (float i = 0.0; i < 256.0 * 256.0; i++) {\n      if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {\n        break;\n      }\n\n      if (i < clusterStartIndex || i == index) {\n        continue;\n      }\n\n      vec4 otherPosition = getOtherNodePosition(i);\n      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);\n      float dist = length(delta);\n      float combinedNodeSize = getCombinedNodeSize(i, nodeSize);\n\n      if (dist < combinedNodeSize) {\n        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);\n      }\n\n      acceleration += getRepulsionForce(dist, fScale, delta);\n    }\n  }\n\n  // Gravity\n  vec2 delta = getDelta(u_gravityCenter, myPosition.xy);\n  float dist = length(delta);\n\n  vec2 grav = (delta / dist) * u_gravity * fScale;\n  acceleration += grav * smoothstep(0.0, 500.0, dist);\n\n  float accMagnitude = length(acceleration);\n  acceleration *= min(MAX_ACCELERATION, accMagnitude) / accMagnitude;\n\n  float iterationFrictionThreshold = 1000.0;\n\n  if (u_curIteration > iterationFrictionThreshold) {\n    float friction = 1.0 + pow((u_curIteration - iterationFrictionThreshold), 2.0) / 100.0;\n    acceleration *= 1.0 / friction;\n  }\n\n  if (u_curIteration == 0.0) {\n    gl_FragColor = vec4(myPosition.xy, acceleration * TIMESTEP * 0.5);\n  } else {\n    myPosition.zw = myPosition.zw * VELOCITYDECAY;\n    gl_FragColor = vec4(myPosition.xy + myPosition.zw * TIMESTEP, myPosition.zw + acceleration * TIMESTEP);\n  }\n}";this.physShader=new ko(e,Lo,h,{INTEL_WORKAROUND:this.intelWorkaround?1:0}),this.physShader.use(),this.physShader.setUniform("u_projection",this.physProjection),this.physShader.setUniform("u_baseLength",this.getBaseLength()),this.physShader.setUniform("u_connections",this.springTexture),this.physShader.setUniform("u_sizeTexture",this.sizeTexture),this.physShader.setUniform("u_connectionOffsets",this.offsetTexture),this.physShader.setUniform("u_pinnedNodes",this.pinTexture),this.physShader.setUniform("u_gravityCenter",this.nodeCenterPoint),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_gravity",this.gravity)}},{key:"setupPhysicsForCoarse",value:function(){var e=this,t=this.gl;this.levelsData=[],this.levelsClusterTexture=[],this.levelsFinestIndexTexture=[];var n,r,o=this.subGraphs.length,i=function(e,t,r,o,i){n[4*e+0]=t,n[4*e+1]=r,n[4*e+2]=i.size(),n[4*e+3]=o||1};if(1===o){n=new Float32Array(262144);var a=this.subGraphs[0].nodes;a.forEach(function(e,t){i(t,0,0,e.weight,{size:function(){return a.length}})}),this.levelsClusterTexture[0]=this.newTexture(t,n,Ko)}else for(var s=function(){var o=e.subGraphs[u].nodes,a=u===e.subGraphs.length-1?[]:e.subGraphs[u+1].nodes;n=new Float32Array(262144),r=new Float32Array(65536);var s=0;if(a.length>0){var l=a.slice();l.sort(function(e,t){return e.previousIndex-t.previousIndex}),l.forEach(function(e,t){var n=s,u=a.indexOf(e);i(s,u,n,o[e.id].weight,e),r[s]=o[s].finestIndex,s+=1,e.planets.forEach(function(t){i(s,u,n,t.weight,e),r[s]=o[s].finestIndex,s+=1,t.moons.forEach(function(t){i(s,u,n,t.weight,e),r[s]=o[s].finestIndex,s+=1})})})}else o.forEach(function(e,t){i(t,0,0,e.weight,{size:function(){return o.length}}),r[t]=o[t].finestIndex});var c=e.newTexture(t,null,Ko),f=e.newFramebuffer(t,c);e.levelsData[u]={texture:c,frameBuffer:f},e.levelsClusterTexture[u]=e.newTexture(t,n,Ko),e.levelsFinestIndexTexture[u]=e.newTexture(t,r,hr,t.FLOAT,t.ALPHA)},u=this.subGraphs.length-1;u>=0;u--)s();for(var l=new Float32Array(262144),c=0;c<l.length;c++)l[c]=0;this.initalLevelTexture=this.newTexture(t,l,Ko);var f=this.enableVerlet?"precision mediump float;\nuniform sampler2D u_physData;\nuniform sampler2D u_clusterData;\nuniform sampler2D u_finestIndexes;\nuniform sampler2D u_prevForce;\n\nuniform float u_baseLength;\nuniform float u_numNodes;\nuniform float u_iterationMultiplier;\nuniform float u_isTopLevel;\n\nfloat PI = 3.1415926535897932384626433832795;\nfloat TIMESTEP = 1.0 / 30.0;\nfloat VELOCITYDECAY = 1.0;\n\nvec4 getTextureData(sampler2D texture, float index, float base) {\n  float x = mod(index, base);\n  float y = (index - x) / base;\n  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);\n}\n\nfloat getSquaredLogClusterWeight(float value) {\n  return pow(log(value), 2.0);\n}\n\nvoid main(void) {\n  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * 256.0;\n\n  if (index >= u_numNodes) {\n    discard;\n  }\n\n  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);\n\n  float clusterIndex = clusterData.x;\n  float clusterStartIndex = clusterData.y;\n  float clusterSize = clusterData.z;\n  float clusterArea = pow(clusterSize + u_baseLength * 2.0, 2.0);\n\n  float finestIndex = getTextureData(u_finestIndexes, index, 256.0).a;\n  vec4 myPosition = getTextureData(u_physData, finestIndex, 256.0);\n  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);\n  float fScale = 1.0 + sqrt(u_iterationMultiplier);\n\n  vec2 acceleration = previousForce.xy;\n\n  // Repulsion & Collision Detection\n  for (float i = 0.0; i < 256.0 * 256.0; i++) {\n    if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {\n      break;\n    }\n    if (i < clusterStartIndex || i == index) {\n      continue;\n    }\n\n    vec4 otherClusterData = getTextureData(u_clusterData, i, 256.0);\n    float otherClusterWeight = getSquaredLogClusterWeight(otherClusterData.w);\n\n    float otherFinestIndex = getTextureData(u_finestIndexes, i, 256.0).a;\n    vec4 otherPosition = getTextureData(u_physData, otherFinestIndex, 256.0);\n\n    vec2 delta = myPosition.xy - otherPosition.xy;\n    float dist = max(length(delta), 0.0000001);\n    float maxDist = 25.0;\n    float repulsionForceScale = 0.1;\n\n    float F = (clusterArea * fScale) / (dist * dist);\n\n    if (u_isTopLevel == 1.0) {\n      repulsionForceScale = 0.2;\n    }\n\n    acceleration += ((delta / sqrt(dist)) * F) * repulsionForceScale * otherClusterWeight;\n\n    if (dist < maxDist) {\n      float collide = (maxDist - dist) / (dist * dist);\n      acceleration += delta * collide * fScale * maxDist / (maxDist + 1.0);\n    }\n  }\n\n  gl_FragColor = vec4(acceleration, vec2(finestIndex, 0));\n}":"precision mediump float;\nuniform sampler2D u_physData;\nuniform sampler2D u_clusterData;\nuniform sampler2D u_finestIndexes;\nuniform sampler2D u_prevForce;\n\nuniform float u_baseLength;\nuniform float u_numNodes;\nuniform float u_iterationMultiplier;\nuniform float u_isTopLevel;\n\nfloat TIMESTEP = 1.0 / 30.0;\nfloat VELOCITYDECAY = 0.6;\n\nvec4 getTextureData(sampler2D texture, float index, float base) {\n  float x = mod(index, base);\n  float y = (index - x) / base;\n  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);\n}\n\nfloat getLogClusterWeight(float value) {\n  return value / max(log(value), 1.0);\n}\n\nvoid main(void) {\n  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * 256.0;\n\n  if (index >= u_numNodes) {\n    discard;\n  }\n\n  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);\n\n  float clusterIndex = clusterData.x;\n  float clusterStartIndex = clusterData.y;\n  float clusterSize = clusterData.z;\n\n  float finestIndex = getTextureData(u_finestIndexes, index, 256.0).a;\n  vec4 myPosition = getTextureData(u_physData, finestIndex, 256.0);\n  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);\n  float fScale = 1.0 + sqrt(u_iterationMultiplier);\n\n  vec2 acceleration = previousForce.xy;\n\n  // Repulsion & Collision Detection\n  for (float i = 0.0; i < 256.0 * 256.0; i++) {\n    if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {\n      break;\n    }\n    if (i < clusterStartIndex || i == index) {\n      continue;\n    }\n\n    vec4 otherClusterData = getTextureData(u_clusterData, i, 256.0);\n    float otherClusterWeight = getLogClusterWeight(otherClusterData.w);\n\n    float otherFinestIndex = getTextureData(u_finestIndexes, i, 256.0).a;\n    vec4 otherPosition = getTextureData(u_physData, otherFinestIndex, 256.0);\n\n    vec2 delta = myPosition.xy - otherPosition.xy;\n    float dist = max(length(delta), 0.0000001);\n    float maxDist = 25.0;\n    float repulsionForceScale = 0.1;\n\n    float F = ((u_baseLength * u_baseLength) * (fScale / 1.5)) / dist;\n\n    if (u_isTopLevel == 1.0) {\n      repulsionForceScale = 0.3;\n    }\n\n    acceleration += ((delta / dist) * F) * repulsionForceScale * otherClusterWeight;\n\n    if (dist < maxDist) {\n      float collide = (maxDist - dist) / dist;\n      acceleration += delta * collide * fScale * maxDist / (maxDist + 1.0);\n    }\n  }\n\n  gl_FragColor = vec4(acceleration, vec2(finestIndex, 0));\n}";this.apprxRepForceShader=new ko(t,Lo,f),this.apprxRepForceShader.use(),this.apprxRepForceShader.setUniform("u_projection",this.physSmallProjection)}},{key:"setupPinData",value:function(){var e=this.gl;this.pinTexture=e.createTexture(),this.pinData=new Uint8Array(65536);for(var t=0;t<65536;t++)this.pinData[t]=0;e.bindTexture(e.TEXTURE_2D,this.pinTexture),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,hr,hr,0,e.ALPHA,e.UNSIGNED_BYTE,this.pinData),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}},{key:"setupUpdates",value:function(){var e=this.gl;this.updateData=new Float32Array(65536),this.updateTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.updateTexture),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,hr,hr,0,e.ALPHA,e.FLOAT,this.updateData),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),this.updateShader=new ko(e,Lo,"precision mediump float;\n\nuniform sampler2D u_physData;\nuniform sampler2D u_updateData;\nuniform float u_numNodesNew;\n\nconst float INDEX_FLAG = 999999.0;\n\nvec4 getTextureData(sampler2D texture, float index, float base) {\n  float x = mod(index, base);\n  float y = (index - x) / base;\n  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);\n}\n\nvoid main(void) {\n  float textureSide = 256.0; //#TEXTURE_SIDE#;\n  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5)*textureSide;\n\n  if (index >= u_numNodesNew) {\n    discard;\n  }\n\n  float firstValue = getTextureData(u_updateData, index * 2.0, 256.0).a;\n  float secondValue = getTextureData(u_updateData, index * 2.0 + 1.0, 256.0).a;\n\n  if (secondValue == INDEX_FLAG) {\n    vec4 myPosition = getTextureData(u_physData, firstValue, 256.0);\n    gl_FragColor = myPosition;\n  } else {\n    gl_FragColor = vec4(firstValue, secondValue, 0.0, 0.0);\n  }\n}\n"),this.updateShader.use(),this.updateShader.setUniform("u_projection",this.physProjection)}},{key:"setupReadpixelWorkaround",value:function(){var e=this.gl;this.workaroundShader=new ko(e,Lo,"precision lowp float;\n\nuniform sampler2D u_physData;\nuniform float u_index;\n\nfloat shift_right (float v, float amt) { \n    v = floor(v) + 0.5; \n    return floor(v / exp2(amt)); \n}\n\nfloat shift_left (float v, float amt) { \n    return floor(v * exp2(amt) + 0.5); \n}\n\nfloat mask_last (float v, float bits) { \n    return mod(v, shift_left(1.0, bits)); \n}\n\nfloat extract_bits (float num, float from, float to) { \n    from = floor(from + 0.5); to = floor(to + 0.5); \n    return mask_last(shift_right(num, from), to - from); \n}\n\n// From https://stackoverflow.com/questions/17981163/webgl-read-pixels-from-floating-point-render-target\nvec4 encode_float (float val) { \n    if (val == 0.0) return vec4(0, 0, 0, 0); \n    float sign = val > 0.0 ? 0.0 : 1.0; \n    val = abs(val); \n    float exponent = floor(log2(val)); \n    float biased_exponent = exponent + 127.0; \n    float fraction = ((val / exp2(exponent)) - 1.0) * 8388608.0; \n    float t = biased_exponent / 2.0; \n    float last_bit_of_biased_exponent = fract(t) * 2.0; \n    float remaining_bits_of_biased_exponent = floor(t); \n    float byte4 = extract_bits(fraction, 0.0, 8.0) / 255.0; \n    float byte3 = extract_bits(fraction, 8.0, 16.0) / 255.0; \n    float byte2 = (last_bit_of_biased_exponent * 128.0 + extract_bits(fraction, 16.0, 23.0)) / 255.0; \n    float byte1 = (sign * 128.0 + remaining_bits_of_biased_exponent) / 255.0; \n    return vec4(byte4, byte3, byte2, byte1); \n}\n\nvoid main(void) {\n  vec4 texData = texture2D(u_physData, gl_FragCoord.xy / 255.0);\n  float data;\n  if (u_index == 0.0) {\n    data = texData.x;\n  } else if (u_index == 1.0) {\n    data = texData.y;\n  } else if (u_index == 2.0) {\n    data = texData.z;\n  } else if (u_index == 3.0) {\n    data = texData.w;\n  }\n\n  gl_FragColor = encode_float(data);\n}\n"),this.workaroundShader.use(),this.workaroundShader.setUniform("u_projection",this.physProjection),this.workaroundData=[];for(var t=0;t<4;t++){var n=new Uint8Array(262144),r=this.newTexture(e,null,hr,e.UNSIGNED_BYTE),o=this.newFramebuffer(e,r);this.workaroundData.push({dataByte:n,dataFloat:new Float32Array(n.buffer),texture:r,frameBuffer:o})}}},{key:"doReadpixelWorkaround",value:function(){for(var e=this.gl,t=0;t<4;t++){var n=this.workaroundData[t];e.bindFramebuffer(e.FRAMEBUFFER,n.frameBuffer),e.viewport(0,0,hr,hr),this.workaroundShader.use(),this.workaroundShader.setUniform("u_index",t),this.workaroundShader.setUniform("u_physData",this.getPhysData(0).texture),e.bindBuffer(e.ARRAY_BUFFER,this.physVbo),this.workaroundShader.setAttributePointer("a_position",2,0,2),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.readPixels(0,0,hr,hr,e.RGBA,e.UNSIGNED_BYTE,n.dataByte)}}},{key:"definePhysicsArrays",value:function(){this.physData=[],this.levelsData=[],this.levelsClusterTexture=[],this.levelsFinestIndexTexture=[]}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qo(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Qo(e){return Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qo(e)}function Jo(e){return function(e){if(Array.isArray(e))return ei(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ei(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ti(e,t,n){return(t=ni(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ni(e){var t=function(e){if("object"!=Qo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Qo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qo(t)?t:String(t)}var ri="ForceCytoLayout",oi="forceDirected",ii="coseBilkent",ai=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ti(this,"physLayout",void 0),ti(this,"coseBilkentLayout",void 0),ti(this,"state",void 0),ti(this,"currentLayoutType",void 0),ti(this,"enableCytoscape",void 0),ti(this,"currentLayout",void 0);var r=t.state,o=t.enableCytoscape;this.enableCytoscape=null==o||o,this.physLayout=new Zo(t),this.coseBilkentLayout=new _o({state:r,cytoCompleteCallback:function(){for(n.physLayout.update(!0),n.copyLayoutPositions(n.state.nodes.items,n.coseBilkentLayout,n.physLayout);n.physLayout.update(!1););n.copyLayoutPositions(n.state.nodes.items,n.physLayout,n.coseBilkentLayout)},animationCompleteCallback:function(){n.currentLayoutType===ii&&setTimeout(function(){return n.setLayout(oi)},50)}}),this.currentLayout=this.physLayout,this.currentLayoutType=oi;var i=r.nodes,a=r.rels;i.addChannel(ri),a.addChannel(ri),this.state=r}var t,n;return t=e,n=[{key:"setOptions",value:function(e){void 0!==e&&(this.currentLayout.setOptions(e),this.enableCytoscape=e.enableCytoscape)}},{key:"getLayout",value:function(e){return e===ii?this.coseBilkentLayout:this.physLayout}},{key:"setLayout",value:function(e){if(e!==this.currentLayoutType){Gr.info("Switching to layout: ".concat(e," in ForceCyto"));var t=this.getLayout(e);this.currentLayout=t,this.currentLayoutType=e}}},{key:"copyLayoutPositions",value:function(e,t,n){var r=t.getNodePositions(e);n.updateNodes(r)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state,n=t.nodes,r=t.rels,o=n.channels[ri],i=r.channels[ri],a=Object.values(o.adds).length,s=Object.values(i.adds).length,u=Object.values(o.adds).map(function(e){return e.id}),l=Object.values(i.adds).map(function(e){return e.id}),c=new Set(Object.keys(o.adds)),f=new Set(Object.keys(i.adds));if(n.clearChannel(ri),r.clearChannel(ri),this.currentLayoutType===oi&&this.enableCytoscape&&n.items.length<=100&&a<100&&a>0&&s>0){var d=n.items.map(function(e){return e.id}),h=new Set([].concat(Jo(d),Jo(u))),p=r.items.map(function(e){return e.id}),v=new Set([].concat(Jo(p),Jo(l)));if(h.size<=100&&v.size<=300){var g=function(e,t,n,r){var o,i=new Set(e),a=Tr(new Set(t));try{for(a.s();!(o=a.n()).done;){var s=o.value,u=r.idToItem[s];if(u){var l=u.from,c=u.to;i.add(l),i.add(c)}}}catch(e){a.e(e)}finally{a.f()}var f,d=function(e){var t,n={},r={},o=Tr(e);try{for(o.s();!(t=o.n()).done;){for(var i=t.value,a=i.from,s=i.to,u="".concat(a,"-").concat(s),l="".concat(s,"-").concat(a),c=0,f=[u,l];c<f.length;c++){var d=f[c];void 0!==r[d]?r[d].push(i):r[d]=[i]}n[a]||(n[a]=new Set),n[s]||(n[s]=new Set),n[a].add(s),n[s].add(a)}}catch(e){o.e(e)}finally{o.f()}return{adjNodesMap:n,relMap:r}}(r.items),h=d.adjNodesMap,p=d.relMap,v={},g={},y=function(e){var t=[];for(v[e]||t.push(e);t.length>0;){var r=t.shift();if(v[r]=n.idToItem[r],void 0!==h[r]){var o,i=Tr(h[r]);try{for(i.s();!(o=i.n()).done;){var a=o.value;if(!v[a]){t.push(a);var s=p["".concat(r,"-").concat(a)];if(s){var u,l=Tr(s);try{for(l.s();!(u=l.n()).done;){var c=u.value;g[c.id]||(g[c.id]=c)}}catch(e){l.e(e)}finally{l.f()}}}}}catch(e){i.e(e)}finally{i.f()}}}},m=Tr(i);try{for(m.s();!(f=m.n()).done;)y(f.value)}catch(e){m.e(e)}finally{m.f()}return{connectedNodes:v,connectedRels:g}}(c,f,n,r),y=g.connectedNodes,m=g.connectedRels,b=Object.values(y),_=Object.values(m),w=b.length,x=_.length;w===c.size&&x===f.size&&(f.size>0||c.size>0)?(this.setLayout(ii),this.coseBilkentLayout.update(!0,n.items,r.items)):x>0&&f.size/x>.25&&(this.setLayout(ii),this.coseBilkentLayout.update(!0,b,_))}}this.physLayout.update(e),this.coseBilkentLayout.update(e)}},{key:"getShouldUpdate",value:function(){return this.currentLayout.getShouldUpdate()}},{key:"getComputing",value:function(){return this.currentLayout.getComputing()}},{key:"updateNodes",value:function(e){this.setLayout(oi),this.physLayout.updateNodes(e)}},{key:"getNodePositions",value:function(e){return this.currentLayout.getNodePositions(e)}},{key:"terminateUpdate",value:function(){this.physLayout.terminateUpdate(),this.coseBilkentLayout.terminateUpdate()}},{key:"destroy",value:function(){this.physLayout.destroy(),this.coseBilkentLayout.destroy()}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ni(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function si(e){return si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},si(e)}function ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(n),!0).forEach(function(t){di(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ci(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return fi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fi(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function di(e,t,n){return(t=hi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hi(e){var t=function(e){if("object"!=si(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=si(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==si(t)?t:String(t)}var pi="FreeLayout",vi=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),di(this,"state",void 0),di(this,"positions",void 0),di(this,"shouldUpdate",void 0),di(this,"stateDisposers",void 0);var r=t.state;this.state=r,this.positions={},this.stateDisposers=[],this.stateDisposers.push(this.state.reaction(function(){return n.state.graphUpdates},function(){void 0!==n.state.nodes.version&&(n.shouldUpdate=!0),void 0!==n.state.rels.version&&(n.shouldUpdate=!0)}));var o=this.state,i=o.nodes,a=o.rels;i.addChannel(pi),a.addChannel(pi),this.shouldUpdate=!0,this.setOptions(),this.layout(i.items,i.idToItem,i.idToPosition)}var n,r;return n=e,r=[{key:"setOptions",value:function(){}},{key:"updateNodes",value:function(e){var t,n=ci(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;void 0!==r.x&&void 0!==r.y&&(this.positions[r.id]={x:r.x,y:r.y}),this.shouldUpdate=!0}}catch(e){n.e(e)}finally{n.f()}}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.shouldUpdate||e){var t=this.state,n=t.nodes,r=t.rels,o=Object.values(n.channels[pi].adds).length>0,i=Object.values(r.channels[pi].adds).length>0,a=Object.values(n.channels[pi].removes).length>0,s=Object.values(r.channels[pi].removes).length>0;(o||i||a||s)&&this.layout(n.items,n.idToItem,n.idToPosition),n.clearChannel(pi),r.clearChannel(pi)}this.shouldUpdate=!1}},{key:"layout",value:function(e,n,r){var o,i=void 0!==(o=e)?yn(o):o;if(!(0,t.isEmpty)(i)){for(var a={},s=0;s<i.length;++s){var u,l=i[s].id,c=null!==(u=r[l])&&void 0!==u?u:{},f=c.x,d=void 0===f?0:f,h=c.y,p=void 0===h?0:h;a[l]={id:l,x:d,y:p}}this.positions=a,this.shouldUpdate=!1}}},{key:"setNodePositions",value:function(e){this.positions=e}},{key:"getNodePositions",value:function(e){var t,n=[],r=ci(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=this.positions[o.id],a=li({id:o.id},i);n.push(a)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"terminateUpdate",value:function(){}},{key:"destroy",value:function(){this.state.nodes.removeChannel(pi),this.state.rels.removeChannel(pi)}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hi(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function gi(e){return gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gi(e)}function yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yi(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=wi(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wi(e){var t=function(e){if("object"!=gi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=gi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gi(t)?t:String(t)}var xi="GridLayout",Ei=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t.state;this.state=r,this.positions={},this.stateDisposers=[],this.stateDisposers.push(this.state.reaction(function(){return n.state.graphUpdates},function(){void 0!==n.state.nodes.version&&(n.shouldUpdate=!0),void 0!==n.state.rels.version&&(n.shouldUpdate=!0)}));var o=this.state,i=o.nodes,a=o.rels;i.addChannel(xi),a.addChannel(xi),this.shouldUpdate=!0,this.setOptions(t),this.layout(i.items,i.idToItem,i.idToPosition,a.items)}var n,r;return n=e,r=[{key:"setOptions",value:function(e){}},{key:"updateNodes",value:function(e){var t,n=bi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;void 0!==r.x&&void 0!==r.y&&(this.positions[r.id]={x:r.x,y:r.y}),this.shouldUpdate=!0}}catch(e){n.e(e)}finally{n.f()}}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.shouldUpdate||e){var t=this.state,n=t.nodes,r=t.rels,o=Object.values(n.channels[xi].adds).length>0,i=Object.values(r.channels[xi].adds).length>0,a=Object.values(n.channels[xi].removes).length>0,s=Object.values(r.channels[xi].removes).length>0;(o||i||a||s)&&(this.layout(n.items,n.idToItem,n.idToPosition,r.items),n.idToPosition=this.positions),n.clearChannel(xi),r.clearChannel(xi)}this.shouldUpdate=!1}},{key:"layout",value:function(e,n,r,o){var i,a=(i=e)?yn(i):i;if(!(0,t.isEmpty)(a)){for(var s=a.length,u=Math.ceil(Math.sqrt(s)),l=new Array(s),c=0,f=0;f<u;++f){for(var d=0;d<u&&(l[c]={y:0+150*f,x:0+150*d},(c+=1)!==s);++d);if(c===s)break}for(var h=a.sort(),p={},v=0;v<s;++v){var g=h[v],y=l[v];g.x===y.x&&g.y===y.y||(p[g.id]=mi({id:g.id},y))}this.positions=p,this.shouldUpdate=!1}}},{key:"getNodePositions",value:function(e){var t,n=[],r=bi(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=this.positions[o.id],a=mi({id:o.id},i);n.push(a)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"terminateUpdate",value:function(){this.shouldUpdate=!1}},{key:"destroy",value:function(){this.state.nodes.removeChannel(xi),this.state.rels.removeChannel(xi)}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wi(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(),Oi=new Set(["direction","packing"]),Si="forceDirected",Ti="hierarchical",Pi="grid",Ci="free",ki="d3Force",Ai="webgl",Ni="canvas";function ji(e){return ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ji(e)}function Ri(e,t,n){return t=function(e){var t=function(e){if("object"!=ji(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ji(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ji(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ii="down",Mi=Ri(Ri(Ri(Ri({},"up","BT"),Ii,"TB"),"left","RL"),"right","LR"),Di="bin",Li=[Di,"stack"],Bi=["html"],Fi=["html"],Ui=["captionHtml"];function zi(e){return zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zi(e)}function Vi(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Wi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Wi=function(){return!!e})()}function Hi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gi(){return Gi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qi(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Gi.apply(this,arguments)}function qi(e){return qi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qi(e)}function Yi(e,t){return Yi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yi(e,t)}function Xi(e,t,n){return(t=Ki(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ki(e){var t=function(e){if("object"!=zi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=zi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==zi(t)?t:String(t)}var $i="HierarchicalLayout",Zi=function(e){return void 0!==e?yn(e):e},Qi=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xi(Hi(n=function(e,t,n){return t=qi(t),function(e,t){if(t&&("object"===zi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hi(e)}(e,Wi()?Reflect.construct(t,n||[],qi(e).constructor):t.apply(e,n))}(this,t,[e])),"direction",void 0),Xi(Hi(n),"packing",void 0),Xi(Hi(n),"stateDisposers",void 0),Xi(Hi(n),"oldComputing",void 0),Xi(Hi(n),"computing",void 0),Xi(Hi(n),"pendingLayoutData",void 0),Xi(Hi(n),"worker",void 0),Xi(Hi(n),"directionChanged",void 0),Xi(Hi(n),"packingChanged",void 0),Xi(Hi(n),"workersDisabled",void 0),n.direction=Ii,n.packing=Di;var r=n.state,o=r.nodes,i=r.rels;return o.addChannel($i),i.addChannel($i),n.stateDisposers=[n.state.reaction(function(){return n.state.graphUpdates},function(){if(void 0!==o.version){var e=o.channels[$i],t=Object.values(e.adds).length>0,r=Object.values(e.removes).length>0,a=Object.values(e.updates),s=kr(a);n.shouldUpdate=n.shouldUpdate||t||r||s}if(void 0!==i.version){var u=i.channels[$i],l=Object.values(u.adds).length>0,c=Object.values(u.removes).length>0;n.shouldUpdate=n.shouldUpdate||l||c}})],n.shouldUpdate=!0,n.oldComputing=!1,n.computing=!1,n.workersDisabled=e.state.disableWebWorkers,n.setOptions(e),n.worker=Xr("HierarchicalLayout",n.workersDisabled),n.pendingLayoutData=null,n.layout(o.items,o.idToItem,o.idToPosition,i.items),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yi(e,t)}(t,e),n=t,r=[{key:"setOptions",value:function(e){if(void 0!==e&&function(e){return Object.keys(e).every(function(e){return Oi.has(e)})}(e)){var t=e.direction,n=void 0===t?Ii:t,r=e.packing,o=void 0===r?Di:r;Object.keys(Mi).includes(n)&&(this.directionChanged=this.direction&&this.direction!==n,this.direction=n),Li.includes(o)&&(this.packingChanged=this.packing&&this.packing!==o,this.packing=o),this.shouldUpdate=this.shouldUpdate||this.directionChanged||this.packingChanged}}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.shouldUpdate||e){var n=this.state,r=n.nodes,o=n.rels,i=this.directionChanged,a=this.packingChanged,s=Object.values(r.channels[$i].adds).length>0,u=Object.values(o.channels[$i].adds).length>0,l=Object.values(r.channels[$i].removes).length>0,c=Object.values(o.channels[$i].removes).length>0,f=Object.values(r.channels[$i].updates),d=kr(f);(e||s||u||l||c||i||a||d)&&this.layout(r.items,r.idToItem,r.idToPosition,o.items),r.clearChannel($i),o.clearChannel($i),this.directionChanged=!1,this.packingChanged=!1}Gi(qi(t.prototype),"update",this).call(this),this.shouldUpdate=!1,this.oldComputing=this.computing}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate||this.shouldUpdateAnimator}},{key:"getComputing",value:function(){return this.computing}},{key:"layout",value:function(e,t,n,r){var o=this;if(this.worker){var i=Zi(e).map(function(e){return e.html,Vi(e,Bi)}),a=Zi(t),s={};Object.keys(a).forEach(function(e){var t=a[e],n=(t.html,Vi(t,Fi));s[e]=n});var u=Zi(r).map(function(e){return e.captionHtml,Vi(e,Ui)}),l=Zi(n),c=this.direction,f=this.packing,d=window.devicePixelRatio,h={nodes:i,nodeIds:s,idToPosition:l,rels:u,direction:c,packing:f,pixelRatio:d,forcedDelay:0};this.computing?this.pendingLayoutData=h:(this.worker.port.onmessage=function(e){var t=e.data,n=t.positions,r=t.parents,i=t.waypoints;o.computing&&(o.positions=n),o.parents=r,o.state.setWaypoints(i),null!==o.pendingLayoutData?(o.worker.port.postMessage(o.pendingLayoutData),o.pendingLayoutData=null):o.computing=!1,o.shouldUpdate=!0,o.startAnimation()},this.computing=!0,this.worker.port.postMessage(h))}else Gr.info("Hierarchical layout code not yet initialised.")}},{key:"terminateUpdate",value:function(){var e,t;this.computing=!1,this.shouldUpdate=!1,null===(e=this.state.nodes)||void 0===e||e.clearChannel($i),null===(t=this.state.rels)||void 0===t||t.clearChannel($i)}},{key:"destroy",value:function(){var e;this.stateDisposers.forEach(function(e){e()}),this.state.nodes.removeChannel($i),this.state.rels.removeChannel($i),null===(e=this.worker)||void 0===e||e.port.close()}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ki(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(ro);function Ji(e){return Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ji(e)}function ea(e,t,n){return(t=ta(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ta(e){var t=function(e){if("object"!=Ji(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ji(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ji(t)?t:String(t)}var na=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ea(this,"elementId",void 0),ea(this,"currentValue",void 0),ea(this,"startValue",void 0),ea(this,"currentTime",void 0),ea(this,"duration",void 0),ea(this,"status",void 0),ea(this,"endValue",void 0),ea(this,"startTime",void 0),ea(this,"endTime",void 0),ea(this,"hasNextAnimation",void 0),this.elementId=t,this.startValue=n,this.status=0,this.currentValue=n,this.duration=0}var t,n;return t=e,(n=[{key:"setDuration",value:function(e){this.duration=e,this.setEndTime(this.startTime+this.duration)}},{key:"getStatus",value:function(){return this.status}},{key:"advance",value:function(){if(1!==this.status)return!1;this.currentTime=(new Date).getTime();var e,t=this.endTime-this.startTime;return(e=t>0?(this.currentTime-this.startTime)/t:1)>=1?(this.currentValue=this.endValue,this.status=2):(this.currentValue=this.startValue+e*(this.endValue-this.startValue),this.hasNextAnimation=!0),this.hasNextAnimation}},{key:"setEndValue",value:function(e){this.endValue!==e&&(e-this.currentValue!=0?(this.currentTime=(new Date).getTime(),this.status=1,this.startValue=this.currentValue,this.endValue=e,this.startTime=this.currentTime,this.setEndTime(this.startTime+this.duration)):this.endValue=e)}},{key:"setEndTime",value:function(e){this.endTime=Math.max(e,this.startTime)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ta(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ra(e){return ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ra(e)}function oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(n),!0).forEach(function(t){aa(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aa(e,t,n){return(t=sa(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sa(e){var t=function(e){if("object"!=ra(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ra(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ra(t)?t:String(t)}var ua=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),aa(this,"animations",void 0),aa(this,"durations",void 0),aa(this,"defaultDuration",void 0),aa(this,"hasNextAnimation",void 0),aa(this,"ignoreAnimationsFlag",void 0),this.animations=new Map,this.durations=[],this.durations[0]=0,this.durations[1]=0,this.defaultDuration=150,this.hasNextAnimation=!1,this.ignoreAnimationsFlag=!1}var t,n;return t=e,n=[{key:"advance",value:function(){var e=this;return this.hasNextAnimation=!1,this.animations.forEach(function(t){Object.values(t).forEach(function(t){t.advance()&&(e.hasNextAnimation=!0)})}),this.hasNextAnimation}},{key:"ignoreAnimations",value:function(e){this.ignoreAnimationsFlag=e}},{key:"setOptions",value:function(e){void 0!==e.fadeDuration&&(this.durations[0]=e.fadeDuration),void 0!==e.sizeDuration&&(this.durations[1]=e.sizeDuration)}},{key:"needsToRun",value:function(){return this.hasNextAnimation}},{key:"getValueForAnimationName",value:function(e,t,n){var r,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(this.ignoreAnimationsFlag)return n;var a=null!==(r=this.getById(e))&&void 0!==r?r:{};if(void 0===a[t]){var s=1===i?this.createSizeAnimation(0,e,t):this.createFadeAnimation(0,e,t);s.setEndValue(n),o=s.currentValue}else{var u=a[t];if(u.currentValue===n)return n;u.setEndValue(n),o=u.currentValue}return this.hasNextAnimation=!0,o}},{key:"createAnimation",value:function(e,t,n){var r,o=new na(t,e),i=null!==(r=this.animations.get(t))&&void 0!==r?r:{};return this.animations.set(t,ia(ia({},i),{},aa({},n,o))),o}},{key:"getById",value:function(e){return this.animations.get(e)}},{key:"createFadeAnimation",value:function(e,t,n){var r,o=this.createAnimation(e,t,n);return o.setDuration(null!==(r=this.durations[0])&&void 0!==r?r:this.defaultDuration),o}},{key:"createSizeAnimation",value:function(e,t,n){var r,o=this.createAnimation(e,t,n);return o.setDuration(null!==(r=this.durations[1])&&void 0!==r?r:this.defaultDuration),o}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sa(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function la(e){return la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},la(e)}function ca(e){var t=function(e){if("object"!=la(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=la(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==la(t)?t:String(t)}var fa=64,da=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r=void 0,(n=ca(n="cache"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.cache={}}var t,n;return t=e,n=[{key:"getImage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getOrCreateEntry(e),r=t?"inverted":"image",o=n[r];return void 0===o&&(o=this.loadImage(e),n[r]=o),this.drawIfNeeded(o,t),o.canvas}},{key:"getOrCreateEntry",value:function(e){return void 0===this.cache[e]&&(this.cache[e]={}),this.cache[e]}},{key:"invertCanvas",value:function(e){for(var t=e.getImageData(0,0,fa,fa),n=t.data,r=0;r<4096;r++){var o=4*r;n[o]^=255,n[o+1]^=255,n[o+2]^=255}e.putImageData(t,0,0)}},{key:"loadImage",value:function(e){var t=document.createElement("canvas");t.width=fa,t.height=fa;var n=new Image;return n.src=e,n.crossOrigin="anonymous",{canvas:t,image:n,drawn:!1}}},{key:"drawIfNeeded",value:function(e,t){var n=e.image,r=e.canvas;if(!e.drawn&&n.complete){var o=r.getContext("2d");try{o.drawImage(n,0,0,fa,fa)}catch(e){Gr.error("Failed to draw image",n.src,e),o.beginPath(),o.strokeStyle="black",o.rect(0,0,fa,fa),o.moveTo(0,0),o.lineTo(fa,fa),o.moveTo(0,fa),o.lineTo(fa,0),o.stroke(),o.closePath()}t&&this.invertCanvas(o),e.drawn=!0}}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ca(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const ha=da;function pa(e){return pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pa(e)}function va(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ga(e,t,n){return(t=ya(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ya(e){var t=function(e){if("object"!=pa(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=pa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pa(t)?t:String(t)}var ma=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ga(this,"key",void 0),ga(this,"rels",void 0),ga(this,"waypointPath",void 0),ga(this,"selfReferring",void 0),ga(this,"fromId",void 0),ga(this,"toId",void 0),ga(this,"angles",void 0),ga(this,"labelInfo",void 0),this.key=t,this.rels=[],this.selfReferring=n===r,this.fromId=n,this.toId=r,this.labelInfo={},this.angles=[]}var n,r;return n=e,r=[{key:"insert",value:function(e){this.rels.push({rel:e})}},{key:"setLabelInfo",value:function(e,t){this.labelInfo[e]=t}},{key:"remove",value:function(e){var t=e.id,n=this.rels,r=n.findIndex(function(e){return e.rel.id===t});if(-1!==r&&(n.splice(r,1),0===r&&n.length>0)){var o=n[0].rel,i=o.from,a=o.to;this.fromId=i,this.toId=a}}},{key:"size",value:function(){return this.rels.length}},{key:"maxFontSize",value:function(){return Math.max.apply(Math,function(e){if(Array.isArray(e))return va(e)}(e=this.rels.map(function(e){var n=e.rel;return(0,t.isNumber)(n.captionSize)?n.captionSize:1}))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return va(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?va(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var e}},{key:"relIsOppositeDirection",value:function(e){var t=e.from,n=e.to,r=this.fromId,o=this.toId;return t!==r&&n!==o||t===o&&n===r}},{key:"indexOf",value:function(e){var t=e.id;return this.rels.findIndex(function(e){return e.rel.id===t})}},{key:"getRel",value:function(e){var t=this.rels;return e<0||e>=t.length?null:t[e].rel}},{key:"setWaypoints",value:function(e){this.waypointPath=e}},{key:"setAngles",value:function(e){this.angles=e}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ya(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(),ba=yr,_a=2*Math.PI/50,wa=.1*Math.PI;function xa(e){return xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(e)}function Ea(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Oa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oa(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sa(e,t,n){return(t=Ta(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ta(e){var t=function(e){if("object"!=xa(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=xa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xa(t)?t:String(t)}var Pa=function(e){var t=[];if(0===e.length)t.push({size:2*Math.PI,start:0});else{for(var n=e.length-1;n>=0;n--){var r=void 0,o=void 0;0===n?(o=e[e.length-1],r=e[n]-e[e.length-1]+2*Math.PI):(o=e[n-1],r=e[n]-e[n-1]),t.push({size:r,start:o})}t.sort(function(e,t){return t.size-e.size})}return t},Ca=function(e,t){for(;t>e.length||e[0].size>2*e[t-1].size;)e.push({size:e[0].size/2,start:e[0].start}),e.push({size:e[0].size/2,start:e[0].start+e[0].size/2}),e.shift(),e.sort(function(e,t){return t.size-e.size});return e},ka=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Sa(this,"bundles",void 0),Sa(this,"nodeToBundles",void 0),this.bundles={},this.nodeToBundles={};var r=t.reduce(function(e,t){return e[t.id]=t,e},{});this.updateData(r,{},n)}var t,n;return t=e,n=[{key:"getBundle",value:function(e){var t=this.bundles,n=this.nodeToBundles,r=this.generatePairId(e.from,e.to),o=t[r];return void 0===o&&(o=new ma(r,e.from,e.to),t[r]=o,void 0===n[e.from]&&(n[e.from]=[]),void 0===n[e.to]&&(n[e.to]=[]),n[e.from].push(o),n[e.to].push(o)),o}},{key:"updateData",value:function(e,t,n){for(var r=this.bundles,o=this.nodeToBundles,i=function(e,t){var n=o[t].findIndex(function(t){return t===e});-1!==n&&o[t].splice(n,1),0===o[t].length&&delete o[t]},a=Object.values(e),s=Object.values(t),u=0,l=a;u<l.length;u++){var c=l[u];this.getBundle(c).insert(c)}for(var f=0,d=s;f<d.length;f++){var h=d[f],p=this.getBundle(h);p.remove(h),0===p.size()&&(delete r[p.key],i(p,h.from),i(p,h.to))}for(var v=0,g=Object.keys(r);v<g.length;v++){var y=r[g[v]];y.setWaypoints(n["".concat(y.fromId,"-").concat(y.toId)])}}},{key:"updatePositions",value:function(e){for(var t=this.nodeToBundles,n=0,r=Object.keys(e);n<r.length;n++){var o,i=r[n],a=null!==(o=t[i])&&void 0!==o?o:[];if(0!==a.length){var s=a.find(function(e){return e.selfReferring}),u=a.filter(function(e){return!e.selfReferring});if(void 0!==s){var l,c=[],f=Ea(u);try{for(f.s();!(l=f.n()).done;){var d=l.value,h=e[d.fromId],p=e[d.toId];if(void 0!==h&&void 0!==p)for(var v=_a*d.size(),g=h.id===i?Math.atan2(p.y-h.y,p.x-h.x):Math.atan2(h.y-p.y,h.x-p.x),y=0;y<d.size();y++)c.push(g+v/2-y*_a);else{var m=void 0===h?d.fromId:d.toId;Gr.warn("Arrowbundler: Node with id ".concat(m," is not in position map"))}}}catch(e){f.e(e)}finally{f.f()}var b=c.map(function(e){return(e+2*Math.PI)%(2*Math.PI)}).sort(),_=Pa(b);Ca(_,s.size());var w=_.map(function(e){return e.start+e.size/2}).slice(0,s.size());s.setAngles(w)}}}}},{key:"generatePairId",value:function(e,t){return[e.toString(),t.toString()].sort(function(e,t){return e.localeCompare(t)}).join("-")}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ta(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Aa(e){return Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(e)}function Na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ja(e,t,n){return(t=Ra(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ra(e){var t=function(e){if("object"!=Aa(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Aa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Aa(t)?t:String(t)}var Ia=function(e,n){return(0,t.isFinite)(e.x)&&(0,t.isFinite)(e.y)&&(0,t.isFinite)(n.x)&&(0,t.isFinite)(n.y)},Ma=function(e,t){if(void 0===e||void 0===t||!Ia(e,t))return!1;var n=t.x-e.x,r=t.y-e.y,o=Or();return n*n+r*r<100*o*o},Da=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ja(this,"p1",void 0),ja(this,"p2",void 0),ja(this,"unit",void 0),ja(this,"norm",void 0),ja(this,"length",void 0),ja(this,"vector",void 0),this.p1=t,this.p2=n,this.vector=this.getVector(),this.length=this.getLength(),this.unit=this.getUnitVector(),this.norm=this.getUnitNormalVector()}var t,n;return t=e,n=[{key:"getVector",value:function(){return{x:this.p2.x-this.p1.x,y:this.p2.y-this.p1.y}}},{key:"getLength",value:function(){var e=this.vector,t=e.x,n=e.y;return Math.sqrt(t*t+n*n)}},{key:"getUnitVector",value:function(){var e=this.vector,t=this.length;return{x:e.x/t,y:e.y/t}}},{key:"getUnitNormalVector",value:function(){return{x:this.unit.y,y:-this.unit.x}}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ra(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),La=function(e,n,r){var o={x:n.x-e.x,y:n.y-e.y},i=function(e,n){var r=(e.x*n.x+e.y*n.y)/(n.x*n.x+n.y*n.y);return(0,t.clamp)(r,0,1)}({x:r.x-e.x,y:r.y-e.y},o),a=e.x+i*o.x,s=e.y+i*o.y,u=a-r.x,l=s-r.y;return Math.sqrt(u*u+l*l)},Ba=function(e,t,n,r){if(t.x===n.x&&t.y===n.y)return t;var o=t.y-e.y,i=e.x-t.x,a=o*e.x+i*e.y,s=r.y-n.y,u=n.x-r.x,l=s*n.x+u*n.y,c=o*u-s*i;return 0===c?null:{x:(u*a-i*l)/c,y:(o*l-s*a)/c}},Fa=function(e,t,n,r){var o,i,a,s=1e9,u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Na(Object(n),!0).forEach(function(t){ja(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Na(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),l={x:0,y:0};for(i=1;i<10;i++)a=.1*i,l.x=Math.pow(1-a,2)*e.x+2*a*(1-a)*n.x+Math.pow(a,2)*t.x,l.y=Math.pow(1-a,2)*e.y+2*a*(1-a)*n.y+Math.pow(a,2)*t.y,i>0&&(s=(o=La(u,l,r))<s?o:s),u.x=l.x,u.y=l.y;return s},Ua=om(3269),za=om.n(Ua);function Va(e){return Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Va(e)}function Wa(e){return function(e){if(Array.isArray(e))return Ya(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ha(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],o=function(e){var t=function(e){if("object"!=Va(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Va(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Va(t)?t:String(t)}(o),o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ha(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qa(e,t){if(e){if("string"==typeof e)return Ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ya(e,t):void 0}}function Ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xa="\u2026",Ka=function(e){return!(!e||!isNaN(Number(e))||e.toLowerCase()===e.toUpperCase())&&e===e.toUpperCase()},$a=function(e){var t=e[e.length-1],n=e[e.length-2];return!(!t||!isNaN(Number(t))||t.toLowerCase()===t.toUpperCase())&&!(!n||!isNaN(Number(n))||n.toLowerCase()===n.toUpperCase())&&Ka(t)&&!Ka(n)},Za=function(e,t,n,r){for(var o,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=[],s=[],u=0,l=0,c=!1,f=!1,d=0;d<r;d++)a[d]=n(d,r);for(var h,p=function(){o=e.slice(u,v);var n,d,h=t(o),p=a[l];if(h>p||(d=e[v-1],"\n\r\v".includes(d))){if(!(l<r-1)){if(i)return{v:[]};for(var g=v;h>p;){for(g-=1;n=e[g-1]," \t\n\r\v".includes(n);)g-=1;if(!(g-u>1)){o="",f=!0,c=!1;break}o=e.slice(u,g),h=t(o),f=!0,c=!1}return s[l]={text:o,hasEllipsisChar:f,hasHyphenChar:c},{v:s}}c=!1,f=!1;var y=function(e){var t=e.length,n=Math.min(t-1,3);if(1===t)return{hyphen:!1,cnt:0};for(var r=0;r<n;r++){var o=e[e.length-(r+1)];if(" "===o||o.toLowerCase()===o.toUpperCase())return{hyphen:!1,cnt:r+1};var i=e.slice(0,e.length-r);if($a(i))return{hyphen:!1,cnt:r+1}}return{hyphen:!0,cnt:1}}(o),m=v-y.cnt;if(y.hyphen)for(o=e.slice(u,m),h=t(o),c=!0;h>p;){if(!(m-u>1)){o=e[u],m=u+1,h=t(o),c=!1;break}m-=1,o=e.slice(u,m),h=t(o),c=!0}else o=(o=e.slice(u,m)).trim();s[l]={text:o,hasEllipsisChar:f,hasHyphenChar:c},u=m,l+=1}},v=1;v<=e.length;v++)if(h=p())return h.v;return o=e.slice(u,e.length),s[l]={text:o,hasEllipsisChar:f,hasHyphenChar:!1},s},Qa=function(e,t,n,r,o,i,a,s){e.font="bold ".concat(r,"px ").concat(n).replace(/"/g,"");for(var u=function(t){var n;return null===(n=e.measureText(t))||void 0===n?void 0:n.width},l=i?(a<4?["",""]:[""]).length:0,c=function(e,t){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"top",o=.98*n,i=.89*n,a=.95*n;return 1===t?o:2===t?a:3===t&&"top"===r?0===e||2===e?i:o:4===t&&"top"===r?0===e||3===e?.78*n:a:5===t&&"top"===r?0===e||4===e?.65*n:1===e||3===e?i:a:o}(e+l,t+l,o)},f=1,d=[],h=function(){if(0===(d=function(e,t,n,r){var o,i=e.split(/\s/g).filter(function(e){return e.length>0}),a=[],s=null,u=function(e){return t(e)>n(a.length,r)},l=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=qa(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(i);try{for(l.s();!(o=l.n()).done;){var c=o.value,f=s?"".concat(s," ").concat(c):c;if(t(f)<n(a.length,r))s=f;else{if(null!==s){var d=u(s);a.push({text:s,overflowed:d})}if(s=c,a.length>r)return[]}}}catch(e){l.e(e)}finally{l.f()}if(s){var h=u(s);a.push({text:s,overflowed:h})}return a.length<=r?a:[]}(t,u,c,f)).length)d=Za(t,u,c,f,a>f);else if(d.some(function(e){return e.overflowed})){var e=f;d=d.reduce(function(t,n){var r=a-t.length;if(0===r){var o=t[t.length-1];return o.text.endsWith(Xa)||(u(o.text)+u(Xa)>c(t.length,e)?(t[t.length-1].text=o.text.slice(0,-2),t[t.length-1].hasEllipsisChar=!0):(t[t.length-1].text=o.text,t[t.length-1].hasEllipsisChar=!0)),t}if(n.overflowed){var i=Za(n.text,u,c,r);t=t.concat(i)}else t.push({text:n.text,hasEllipsisChar:!1,hasHyphenChar:!1});return t},[])}else d=d.map(function(e){return Ga(Ga({},e),{},{hasEllipsisChar:!1,hasHyphenChar:!1})});f+=1};0===d.length;)h();return Array.from(d)},Ja=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t,n){var r=t.value;if(r){var o="".concat(n>0&&e.length?", ":"").concat(r);return[].concat(Wa(e),[Ga(Ga({},t),{},{value:o,chars:o.split("").map(function(r,o){var i,a;return 0!==n&&e.length?o<2?null:Wa(null!==(i=t.styles)&&void 0!==i?i:[]):Wa(null!==(a=t.styles)&&void 0!==a?a:[])})})])}return[]},[]);return{stylesPerChar:e.reduce(function(e,t){return[].concat(Wa(e),Wa(t.chars))},[]),fullCaption:e.map(function(e){return e.value}).join("")}};function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ts=[[.04,1],[100,2]],ns=[[.8,1.1],[3,1.6],[8,2.5]],rs=[[ns[0][0],1],[100,1.25]],os=function(e,t){if(e.includes("rgba"))return e;if(e.includes("rgb")){var n=e.substr(e.indexOf("(")+1).replace(")","").split(",");return"rgba(".concat(n[0],",").concat(n[1],",").concat(n[2],",").concat(t,")")}var r=za().get.rgb(e);return null===r?e:"rgba(".concat(r[0],",").concat(r[1],",").concat(r[2],",").concat(t,")")},is=function(e,t,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=r.headPosition,s=r.headAngle,u=r.headHeight,l=r.headChinHeight,c=r.headWidth,f=Math.cos(s),d=Math.sin(s),h=function(e,t){return{x:a.x+e*f-t*d,y:a.y+e*d+t*f}},p=[h(l-u,0),h(-u,c/2),h(0,0),h(-u,-c/2)],v={lineWidth:e.lineWidth,strokeStyle:e.strokeStyle,fillStyle:e.fillStyle};e.lineWidth=t,e.strokeStyle=n,e.fillStyle=n,function(e,t,n,r){if(e.beginPath(),t.length>0){var o=t[0];e.moveTo(o.x,o.y)}for(var i=1;i<t.length;i++){var a=t[i];e.lineTo(a.x,a.y)}e.closePath(),n&&e.fill(),r&&e.stroke()}(e,p,o,i),e.lineWidth=v.lineWidth,e.strokeStyle=v.strokeStyle,e.fillStyle=v.fillStyle},as=function(e,t,n,r,o){var i=r;o.forEach(function(r){var o=r.width,a=r.color,s=i+o;e.beginPath(),e.fillStyle=a,e.arc(t,n,s,0,2*Math.PI,!1),e.arc(t,n,i,2*Math.PI,0,!0),e.fill(),e.closePath(),i=s})},ss=function(e,t,n,r){e.beginPath(),e.arc(t,n,r,0,2*Math.PI,!1),e.closePath()},us=function(e,t,n,r,o){e.beginPath(),e.fillStyle=r,ss(e,t,n,o),e.fill(),e.closePath()};function ls(e,t){var n=t.find(function(t){return e<t[0]}),r=t[t.length-1][1];return void 0!==n?n[1]:r}var cs=function(e,t,n,r,o,i,a,s,u,l){var c=r,f=0,d=0,h="".concat(o,"px ").concat(i),p="normal ".concat(h);t.forEach(function(t){var r;e.font=p;var o,i=-(null===(r=e.measureText(t.text))||void 0===r?void 0:r.width)/2,v=t.text?function(e){if(Array.isArray(e))return es(e)}(o=t.text)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return es(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?es(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():[];t.hasHyphenChar||t.hasEllipsisChar||v.push(" "),v.forEach(function(r){var o,a=e.measureText(r).width,v=null!==(o=n[d])&&void 0!==o?o:[],g=v.includes("bold"),y=v.includes("italic");e.font=g&&y?"italic 600 ".concat(h):y?"italic 400 ".concat(h):g?"bold ".concat(h):p,v.includes("underline")&&e.fillRect(s+i+f,u+c+.2,a,.2),t.hasEllipsisChar?e.fillText(r,s+i+f-l/2,u+c):e.fillText(r,s+i+f,u+c),f+=a,d+=1}),e.font=p,t.hasHyphenChar&&e.fillText("\u2010",s+i+f,u+c),t.hasEllipsisChar&&e.fillText(Xa,s+i+f-l/2,u+c),f=0,c+=a})},fs=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},ds=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},hs=function(e,t){return{x:e.x*t,y:e.y*t}},ps=function(e,t){return function(e){return Math.sqrt(e.x*e.x+e.y*e.y)}(ds(e,t))},vs=function(e,t){return{x:Math.cos(e)*t,y:Math.sin(e)*t}};function gs(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ys(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ys(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function ys(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ms=2*Math.PI,bs=Math.PI/2,_s=function(e,t,n,r,o,i){var a={x:(e.x+t.x)/2,y:(e.y+t.y)/2},s={x:e.x,y:e.y},u={x:t.x,y:t.y},l=new Da(u,s),c=function(e,t){var n=0;return e&&(n+=e),t&&(n-=t),n}(r,n);a.x+=c/2*l.unit.x,a.y+=c/2*l.unit.y;var f=i.size()/2-i.indexOf(o);return a.x+=f*l.unit.x,a.y+=f*l.unit.y,a},ws=function(e){var t=Or(),n=e.size,r=e.selected;return((null!=n?n:vr)+4+(!0===r?4:0))*t},xs=function(e,t){var n=Or();e.shadowColor=t.color,e.shadowBlur=t.width*n,e.shadowOffsetX=0,e.shadowOffsetY=0},Es=function(e){e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0},Os=function(e,t,n,r,o){var i,a,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.norm.x,r=e.norm.y;return t?{x:-n,y:-r}:e.norm},l=Or(),c=t.indexOf(e),f=(t.size()-1)/2,d=c>f,h=Math.abs(c-f),p=o?17*t.maxFontSize():8,v=(t.size()-1)*p*l,g=function(e,t,n,r,o,i,a){var s,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=Or(),c=e.size(),f=c>1,d=e.relIsOppositeDirection(i),h=d?n:t,p=d?t:n,v=e.waypointPath,g=null==v?void 0:v.points,y=null==v?void 0:v.from,m=null==v?void 0:v.to,b=Ma(h,y)&&Ma(p,m)||Ma(p,y)&&Ma(h,m),_=b?g[1]:null,w=b?g[g.length-2]:null,x=ws(h),E=ws(p),O=function(e,t){return Math.atan2(e.y-t.y,e.x-t.x)},S=Math.max(Math.PI,ms/(c/2)),T=f?r*S*(a?1:-1)/(null!==(s=h.size)&&void 0!==s?s:vr):0,P=O(b?_:p,h),C=b?O(p,w):P,k=function(e,t,n,r){return{x:e.x+Math.cos(t)*n*(r?-1:1),y:e.y+Math.sin(t)*n*(r?-1:1)}},A=function(e,t){return k(h,P+e,t,!1)},N=function(e,t){return k(p,C-e,t,!0)},j=function(e,t){return{x:e.x+(t.x-e.x)/2,y:e.y+(t.y-e.y)/2}},R=function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))*l},I=A(T,x),M=N(T,E),D=f?A(0,x):null,L=f?N(0,E):null,B=200*l,F=[];if(b){var U=R(I,_)<B;if(f&&!U){var z=j(D,_);F.push(new Da(I,z)),F.push(new Da(z,_))}else F.push(new Da(I,_));for(var V=2;V<g.length-1;V++)F.push(new Da(g[V-1],g[V]));var W=R(M,w)<B;if(f&&!W){var H=j(L,w);F.push(new Da(w,H)),F.push(new Da(H,M))}else F.push(new Da(w,M))}else{var G=f?R(D,L):0;if(f&&G>2*(30*l+Math.min(x,E)))if(u){var q=_s(h,p,x,E,i,e);F.push(new Da(I,q)),F.push(new Da(q,M))}else{var Y=r*o,X=30+x,K=Math.sqrt(X*X+Y*Y),$=30+E,Z=Math.sqrt($*$+Y*Y),Q=A(0,K),J=N(0,Z);F.push(new Da(I,Q)),F.push(new Da(Q,J)),F.push(new Da(J,M))}else if(G>(x+E)/2){var ee=_s(h,p,x,E,i,e);F.push(new Da(I,ee)),F.push(new Da(ee,M))}else F.push(new Da(I,M))}return F}(t,n,r,h,p,e,d,s),y=[],m=g[0],b=u(m,d);y.push({x:m.p1.x+b.x,y:m.p1.y+b.y});for(var _=1;_<g.length;_++)if(1===t.size())y.push(g[_-1].p2);else{var w=g[_-1],x=g[_],E=u(w,d),O=u(x,d),S=fs(w.p1,hs(E,v/2)),T=fs(w.p2,hs(E,v/2)),P=fs(x.p1,hs(O,v/2)),C=fs(x.p2,hs(O,v/2)),k=null;a=O,(i=E).x*a.x+i.y*a.y<.99&&(k=Ba(S,T,P,C));var A=null!==k?ds(k,w.p2):hs(E,v/2);y.push(fs(w.p2,hs(A,h/f)))}var N=g[g.length-1],j=u(N,d);return y.push({x:N.p2.x+j.x,y:N.p2.y+j.y}),t.relIsOppositeDirection(e)?y.reverse():y},Ss=function(e,t,n,r,o,i,a,s){var u,l=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=Or(),f=o.selected,d=o.captions,h=void 0===d?[]:d,p=o.caption,v=void 0===p?"":p,g=o.width,y=o.disabled,m=o.captionAlign,b=void 0===m?"top":m,_=o.captionSize,w=void 0===_?1:_,x=h.length>0?null===(u=Ja(h))||void 0===u?void 0:u.fullCaption:v;if(void 0!==x){var E=6*w*c,O=!0===f?"bold":"normal",S=x;e.fillStyle=!0===y?a.fontColor:s,e.font="".concat(O," ").concat(E,"px ").concat('"Open Sans", sans-serif');var T=function(t){return e.measureText(t).width},P=(null!=g?g:1)*(!0===f?1.5:1),C=T(S);if(C>r){var k=Za(S,T,function(){return r},1,!1)[0];S=!0===k.hasEllipsisChar?"".concat(k.text,"..."):S,C=r}var A=Math.cos(n),N=Math.sin(n),j={x:t.x,y:t.y},R=j.x,I=j.y,M=n;l&&(M=n-bs,R+=2*E*A,I+=2*E*N,M-=bs);var D=(1+w)*c,L="bottom"===b?E/2+P+D:-(P+D);e.translate(R,I),e.rotate(M),e.fillText(S,-C/2,L),e.rotate(-M),e.translate(-R,-I);var B=2*L*Math.sin(n),F=2*L*Math.cos(n),U={position:{x:t.x-B,y:t.y+F},rotation:l?n-Math.PI:n,width:r/c,height:(E+D)/c};i.setLabelInfo(o.id,U)}},Ts=function(e,t,n,r,o){if(e.beginPath(),e.moveTo(t[0].x,t[0].y),o&&t.length>2){for(var i=1;i<t.length-2;){var a=(t[i].x+t[i+1].x)/2,s=(t[i].y+t[i+1].y)/2;e.quadraticCurveTo(t[i].x,t[i].y,a,s),i+=1}e.quadraticCurveTo(t[i].x,t[i].y,t[i+1].x,t[i+1].y)}else for(var u=1;u<t.length;u++)e.lineTo(t[u].x,t[u].y);e.lineWidth=n,e.strokeStyle=r,e.lineCap="round",e.stroke()},Ps=function(e){return e.rings[0].width*Or()*1.5},Cs=function(e){return 6*e*Or()},ks=function(e,t,n){var r,o;return{widthAlign:t/2*(null!==(r=e[0])&&void 0!==r?r:0),heightAlign:n/2*(null!==(o=e[1])&&void 0!==o?o:0)}},As=function(e,t,n){var r,o,i=n.indexOf(e),a=null!==(r=n.angles[i])&&void 0!==r?r:0,s=a-wa/2,u=a+wa/2,l=null!==(o=e.width)&&void 0!==o?o:1,c=Or(),f=ws(t),d={x:t.x+Math.cos(s)*(f+l/2),y:t.y+Math.sin(s)*(f+l/2)},h={x:t.x+Math.cos(u)*(f+l/2),y:t.y+Math.sin(u)*(f+l/2)},p={x:t.x+Math.cos(a)*(f+35*c),y:t.y+Math.sin(a)*(f+35*c)};return{startAngle:s,endAngle:u,startPoint:d,endPoint:h,apexPoint:p,control1Point:{x:p.x+25*Math.cos(a-bs)*c/2,y:p.y+25*Math.sin(a-bs)*c/2},control2Point:{x:p.x+25*Math.cos(a+bs)*c/2,y:p.y+25*Math.sin(a+bs)*c/2}}},Ns=function(e,t,n,r,o,i){e.beginPath(),e.moveTo(t.x,t.y),e.quadraticCurveTo(o.x,o.y,r.x,r.y),e.quadraticCurveTo(i.x,i.y,n.x,n.y),e.stroke()},js=function(e,t,n,r,o,i,a,s,u,l){var c=!(arguments.length>10&&void 0!==arguments[10])||arguments[10];Ia(n,r)&&(n.id===r.id?function(e,t,n,r,o,i,a,s){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:ba,l=t.overlayIcon,c=t.selected,f=t.width,d=t.hovered,h=t.disabled,p=t.color,v=As(t,n,r),g=v.startPoint,y=v.endPoint,m=v.apexPoint,b=v.control1Point,_=v.control2Point,w=a.rings,x=a.shadow,E=Or(),O=w[0].color,S=w[1].color,T=w[0].width*E,P=w[1].width*E,C=40*E,k=(null!=f?f:1)*E,A=k>1?k/2:1,N=9*A,j=2*A,R=7*A,I=!0===c,M=!0===h,D=void 0!==l,L=Math.atan2(y.y-_.y,y.x-_.x),B=I?T*Math.sqrt(1+2*N/R*(2*N/R)):0,F={x:y.x-Math.cos(L)*(.5*N-j+B),y:y.y-Math.sin(L)*(.5*N-j+B)},U={headPosition:{x:y.x+Math.cos(L)*(.5*N-j-B),y:y.y+Math.sin(L)*(.5*N-j-B)},headAngle:L,headHeight:N,headChinHeight:j,headWidth:R};if(e.save(),e.lineCap="round",I&&(xs(e,x),e.lineWidth=k+P,e.strokeStyle=S,Ns(e,g,F,m,b,_),is(e,P,S,U,!1,!0),Es(e),e.lineWidth=k+T,e.strokeStyle=O,Ns(e,g,F,m,b,_),is(e,T,O,U,!1,!0)),e.lineWidth=k,!0===d&&!I&&!M){var z=x.color;xs(e,x),e.strokeStyle=z,e.fillStyle=z,Ns(e,g,F,m,b,_),is(e,k,z,U),Es(e)}var V=M?s.color:null!=p?p:u;if(e.fillStyle=V,e.strokeStyle=V,Ns(e,g,F,m,b,_),is(e,k,V,U),i||D){var W,H=r.indexOf(t),G=null!==(W=r.angles[H])&&void 0!==W?W:0,q=m.x-Math.cos(L)*(B/4),Y=m.y-Math.sin(L)*(B/4),X=(G+bs)%ms,K=(G+ms)%ms<Math.PI;if(i&&Ss(e,{x:q,y:Y},X,C,t,r,s,u,K),D){var $=l.position,Z=void 0===$?[0,0]:$,Q=l.url,J=l.size,ee=Cs(void 0===J?1:J),te=ks(Z,C,ee),ne=te.widthAlign,re=te.heightAlign+(I?Ps(a):0)*(Z[1]<0?-1:1);e.save(),e.translate(q,Y),K?(e.rotate(X-Math.PI),e.translate(2*-ne,2*-re)):e.rotate(X);var oe=ee/2,ie=-oe+ne,ae=-oe+re;e.drawImage(o.getImage(Q),ie,ae,ee,ee),e.restore()}}e.restore()}(e,t,n,o,i,a,s,u,l):function(e,t,n,r,o,i,a,s,u,l){var c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:ba,f=t.overlayIcon,d=t.color,h=t.disabled,p=t.selected,v=t.width,g=t.hovered,y=t.captionAlign,m=!0===p,b=!0===h,_=void 0!==f,w=u.rings,x=u.shadow,E=Os(t,o,n,r,a,s),O=Or(),S=function(e){var t,n=!0===e.selected?1.5:1;return(null!==(t=e.width)&&void 0!==t?t:1)*n*Or()}(t),T=b?l.color:null!=d?d:c,P=w[0].width*O,C=w[1].width*O,k=O*(v>1?v/2:1),A=9*k,N=2*k,j=7*k,R=ps(E[E.length-2],E[E.length-1]),I=2*A,M=m?P*Math.sqrt(1+I/j*(I/j)):0,D=2-M,L=Math.floor(E.length/2);E.length>2&&m&&R<A+M-N&&(D+=R,M-=R/2+N,E.pop(),L=Math.floor(E.length/2));var B,F,U=E[E.length-2],z=E[E.length-1],V=(B=U,F=z,Math.atan2(F.y-B.y,F.x-B.x)),W=A/2+M,H=Math.cos(V),G=Math.sin(V);E[E.length-1]={x:z.x-H*W,y:z.y-G*W};var q,Y={headPosition:{x:z.x+H*D,y:z.y+G*D},headAngle:V,headHeight:A,headChinHeight:N,headWidth:j},X=gs(E);try{for(X.s();!(q=X.n()).done;){var K=q.value;K.x=Math.round(K.x),K.y=Math.round(K.y)}}catch(e){X.e(e)}finally{X.f()}if(e.save(),m){var $=w[0].color,Z=w[1].color,Q=Math.atan2(E[1].y-E[0].y,E[1].x-E[0].x),J=vs(Q,Ps(u));E[0]=fs(E[0],J),xs(e,x),Ts(e,E,S+C,Z,s),is(e,C,Z,Y,!1,!0),Es(e),Ts(e,E,S+P,$,s),is(e,P,$,Y,!1,!0)}if(!0===g&&!m&&!b){var ee=x.color;xs(e,x),Ts(e,E,S,ee,s),is(e,S,ee,Y),Es(e)}if(Ts(e,E,S,T,s),is(e,S,T,Y),a||_){var te,ne,re,oe,ie,ae=n.x>r.x,se=E[L];1==(1&E.length)?(te=E[ae?L+1:L-1],ne=E[ae?L-1:L+1],s?(re=(se.x+(te.x+ne.x)/2)/2,oe=(se.y+(te.y+ne.y)/2)/2,ie=ae?Math.atan2(n.y-r.y,n.x-r.x):Math.atan2(r.y-n.y,r.x-n.x)):(ps(se,te)>ps(se,ne)?ne=se:te=se,re=(te.x+ne.x)/2,oe=(te.y+ne.y)/2,ie=Math.atan2(ne.y-te.y,ne.x-te.x))):(te=E[ae?L:L-1],ne=E[ae?L-1:L],re=(te.x+ne.x)/2,oe=(te.y+ne.y)/2,ie=Math.atan2(ne.y-te.y,ne.x-te.x));var ue=m?vs(ie+bs,Ps(u)):{x:0,y:0},le=ps(te,ne);if(a){var ce="bottom"===y?1:-1,fe={x:re+ue.x*ce,y:oe+ue.y*ce};Ss(e,fe,ie,le,t,o,l,c)}if(_){var de=f.position,he=void 0===de?[0,0]:de,pe=f.url,ve=f.size,ge=Cs(void 0===ve?1:ve),ye=ks(he,le,ge),me=ye.widthAlign,be=ye.heightAlign,_e=he[1]<0?-1:1,we=ue.x*_e,xe=ue.y*_e,Ee=ge/2;e.translate(re,oe),e.rotate(ie);var Oe=-Ee+we+me,Se=-Ee+xe+be;e.drawImage(i.getImage(pe),Oe,Se,ge,ge),e.rotate(-ie),e.translate(-re,-oe)}}e.restore()}(e,t,n,r,o,i,a,c,s,u,l))},Rs=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return Ia(n,r)?n.id===r.id?function(e,t,n){for(var r=As(e,t,n),o={left:1/0,top:1/0,right:-1/0,bottom:-1/0},i=["startPoint","endPoint","apexPoint","control1Point","control2Point"],a=0;a<i.length;a++){var s=r[i[a]],u=s.x,l=s.y;u<o.left&&(o.left=u),u>o.right&&(o.right=u),l<o.top&&(o.top=l),l>o.bottom&&(o.bottom=l)}return o}(e,n,t):function(e,t,n,r,o,i){var a,s={left:1/0,top:1/0,right:-1/0,bottom:-1/0},u=gs(Os(e,t,n,r,o,i));try{for(u.s();!(a=u.n()).done;){var l=a.value,c=l.x,f=l.y;c<s.left&&(s.left=c),c>s.right&&(s.right=c),f<s.top&&(s.top=f),f>s.bottom&&(s.bottom=f)}}catch(e){u.e(e)}finally{u.f()}return s}(e,t,n,r,o,i):null};function Is(e){return Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(e)}var Ms=/^\s+/,Ds=/\s+$/;function Ls(e,t){if(t=t||{},(e=e||"")instanceof Ls)return e;if(!(this instanceof Ls))return new Ls(e,t);var n=function(e){var t,n,r,o={r:0,g:0,b:0},i=1,a=null,s=null,u=null,l=!1,c=!1;return"string"==typeof e&&(e=function(e){e=e.replace(Ms,"").replace(Ds,"").toLowerCase();var t,n=!1;if(eu[e])e=eu[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=hu.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=hu.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=hu.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=hu.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=hu.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=hu.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=hu.hex8.exec(e))?{r:iu(t[1]),g:iu(t[2]),b:iu(t[3]),a:lu(t[4]),format:n?"name":"hex8"}:(t=hu.hex6.exec(e))?{r:iu(t[1]),g:iu(t[2]),b:iu(t[3]),format:n?"name":"hex"}:(t=hu.hex4.exec(e))?{r:iu(t[1]+""+t[1]),g:iu(t[2]+""+t[2]),b:iu(t[3]+""+t[3]),a:lu(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=hu.hex3.exec(e))&&{r:iu(t[1]+""+t[1]),g:iu(t[2]+""+t[2]),b:iu(t[3]+""+t[3]),format:n?"name":"hex"}}(e)),"object"==Is(e)&&(pu(e.r)&&pu(e.g)&&pu(e.b)?(t=e.r,n=e.g,r=e.b,o={r:255*ru(t,255),g:255*ru(n,255),b:255*ru(r,255)},l=!0,c="%"===String(e.r).substr(-1)?"prgb":"rgb"):pu(e.h)&&pu(e.s)&&pu(e.v)?(a=su(e.s),s=su(e.v),o=function(e,t,n){e=6*ru(e,360),t=ru(t,100),n=ru(n,100);var r=Math.floor(e),o=e-r,i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),u=r%6;return{r:255*[n,a,i,i,s,n][u],g:255*[s,n,n,a,i,i][u],b:255*[i,i,s,n,n,a][u]}}(e.h,a,s),l=!0,c="hsv"):pu(e.h)&&pu(e.s)&&pu(e.l)&&(a=su(e.s),u=su(e.l),o=function(e,t,n){var r,o,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=ru(e,360),t=ru(t,100),n=ru(n,100),0===t)r=o=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=a(u,s,e+1/3),o=a(u,s,e),i=a(u,s,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,a,u),l=!0,c="hsl"),e.hasOwnProperty("a")&&(i=e.a)),i=nu(i),{ok:l,format:e.format||c,r:Math.min(255,Math.max(o.r,0)),g:Math.min(255,Math.max(o.g,0)),b:Math.min(255,Math.max(o.b,0)),a:i}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function Bs(e,t,n){e=ru(e,255),t=ru(t,255),n=ru(n,255);var r,o,i=Math.max(e,t,n),a=Math.min(e,t,n),s=(i+a)/2;if(i==a)r=o=0;else{var u=i-a;switch(o=s>.5?u/(2-i-a):u/(i+a),i){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:o,l:s}}function Fs(e,t,n){e=ru(e,255),t=ru(t,255),n=ru(n,255);var r,o,i=Math.max(e,t,n),a=Math.min(e,t,n),s=i,u=i-a;if(o=0===i?0:u/i,i==a)r=0;else{switch(i){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:o,v:s}}function Us(e,t,n,r){var o=[au(Math.round(e).toString(16)),au(Math.round(t).toString(16)),au(Math.round(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function zs(e,t,n,r){return[au(uu(r)),au(Math.round(e).toString(16)),au(Math.round(t).toString(16)),au(Math.round(n).toString(16))].join("")}function Vs(e,t){t=0===t?0:t||10;var n=Ls(e).toHsl();return n.s-=t/100,n.s=ou(n.s),Ls(n)}function Ws(e,t){t=0===t?0:t||10;var n=Ls(e).toHsl();return n.s+=t/100,n.s=ou(n.s),Ls(n)}function Hs(e){return Ls(e).desaturate(100)}function Gs(e,t){t=0===t?0:t||10;var n=Ls(e).toHsl();return n.l+=t/100,n.l=ou(n.l),Ls(n)}function qs(e,t){t=0===t?0:t||10;var n=Ls(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),Ls(n)}function Ys(e,t){t=0===t?0:t||10;var n=Ls(e).toHsl();return n.l-=t/100,n.l=ou(n.l),Ls(n)}function Xs(e,t){var n=Ls(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,Ls(n)}function Ks(e){var t=Ls(e).toHsl();return t.h=(t.h+180)%360,Ls(t)}function $s(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Ls(e).toHsl(),r=[Ls(e)],o=360/t,i=1;i<t;i++)r.push(Ls({h:(n.h+i*o)%360,s:n.s,l:n.l}));return r}function Zs(e){var t=Ls(e).toHsl(),n=t.h;return[Ls(e),Ls({h:(n+72)%360,s:t.s,l:t.l}),Ls({h:(n+216)%360,s:t.s,l:t.l})]}function Qs(e,t,n){t=t||6,n=n||30;var r=Ls(e).toHsl(),o=360/n,i=[Ls(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(Ls(r));return i}function Js(e,t){t=t||6;for(var n=Ls(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;t--;)a.push(Ls({h:r,s:o,v:i})),i=(i+s)%1;return a}Ls.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=nu(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Fs(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Fs(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=Bs(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Bs(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return Us(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,o){var i=[au(Math.round(e).toString(16)),au(Math.round(t).toString(16)),au(Math.round(n).toString(16)),au(uu(r))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*ru(this._r,255))+"%",g:Math.round(100*ru(this._g,255))+"%",b:Math.round(100*ru(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*ru(this._r,255))+"%, "+Math.round(100*ru(this._g,255))+"%, "+Math.round(100*ru(this._b,255))+"%)":"rgba("+Math.round(100*ru(this._r,255))+"%, "+Math.round(100*ru(this._g,255))+"%, "+Math.round(100*ru(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(tu[Us(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+zs(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=Ls(e);n="#"+zs(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return Ls(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(Gs,arguments)},brighten:function(){return this._applyModification(qs,arguments)},darken:function(){return this._applyModification(Ys,arguments)},desaturate:function(){return this._applyModification(Vs,arguments)},saturate:function(){return this._applyModification(Ws,arguments)},greyscale:function(){return this._applyModification(Hs,arguments)},spin:function(){return this._applyModification(Xs,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(Qs,arguments)},complement:function(){return this._applyCombination(Ks,arguments)},monochromatic:function(){return this._applyCombination(Js,arguments)},splitcomplement:function(){return this._applyCombination(Zs,arguments)},triad:function(){return this._applyCombination($s,[3])},tetrad:function(){return this._applyCombination($s,[4])}},Ls.fromRatio=function(e,t){if("object"==Is(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:su(e[r]));e=n}return Ls(e,t)},Ls.equals=function(e,t){return!(!e||!t)&&Ls(e).toRgbString()==Ls(t).toRgbString()},Ls.random=function(){return Ls.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},Ls.mix=function(e,t,n){n=0===n?0:n||50;var r=Ls(e).toRgb(),o=Ls(t).toRgb(),i=n/100;return Ls({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},Ls.readability=function(e,t){var n=Ls(e),r=Ls(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},Ls.isReadable=function(e,t,n){var r,o,i,a,s,u=Ls.readability(e,t);switch(o=!1,"AA"!==(a=((i=(i=n)||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==a&&(a="AA"),"small"!==(s=(i.size||"small").toLowerCase())&&"large"!==s&&(s="small"),(r={level:a,size:s}).level+r.size){case"AAsmall":case"AAAlarge":o=u>=4.5;break;case"AAlarge":o=u>=3;break;case"AAAsmall":o=u>=7}return o},Ls.mostReadable=function(e,t,n){var r,o,i,a,s=null,u=0;o=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var l=0;l<t.length;l++)(r=Ls.readability(e,t[l]))>u&&(u=r,s=Ls(t[l]));return Ls.isReadable(e,s,{level:i,size:a})||!o?s:(n.includeFallbackColors=!1,Ls.mostReadable(e,["#fff","#000"],n))};var eu=Ls.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},tu=Ls.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(eu);function nu(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function ru(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function ou(e){return Math.min(1,Math.max(0,e))}function iu(e){return parseInt(e,16)}function au(e){return 1==e.length?"0"+e:""+e}function su(e){return e<=1&&(e=100*e+"%"),e}function uu(e){return Math.round(255*parseFloat(e)).toString(16)}function lu(e){return iu(e)/255}var cu,fu,du,hu=(fu="[\\s|\\(]+("+(cu="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+cu+")[,|\\s]+("+cu+")\\s*\\)?",du="[\\s|\\(]+("+cu+")[,|\\s]+("+cu+")[,|\\s]+("+cu+")[,|\\s]+("+cu+")\\s*\\)?",{CSS_UNIT:new RegExp(cu),rgb:new RegExp("rgb"+fu),rgba:new RegExp("rgba"+du),hsl:new RegExp("hsl"+fu),hsla:new RegExp("hsla"+du),hsv:new RegExp("hsv"+fu),hsva:new RegExp("hsva"+du),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function pu(e){return!!hu.CSS_UNIT.exec(e)}var vu=function(e){return Ls.mostReadable(e,[xr,"#FFFFFF"]).toString()},gu=function(e){return za().get.rgb(e)},yu=function(e){var t=new ArrayBuffer(4),n=new Uint32Array(t),r=new Uint8Array(t),o=gu(e);return r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=255*o[3],n[0]},mu=function(e){return[(t=gu(e))[0]/255,t[1]/255,t[2]/255];var t};function bu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _u=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.size,a=void 0===i?vr:i;return{top:o-a,left:n-a,right:n+a,bottom:o+a}},wu=function(e,t,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:gr,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,l=t.x,c=void 0===l?0:l,f=t.y,d=void 0===f?0:f,h=t.size,p=void 0===h?vr:h,v=t.caption,g=void 0===v?"":v,y=t.captions,m=void 0===y?[]:y,b=t.captionAlign,_=void 0===b?"center":b,w=t.captionSize,x=void 0===w?1:w,E=t.disabled,O=t.activated,S=t.selected,T=t.hovered,P=t.id,C=t.icon,k=t.overlayIcon,A=Or(),N=function(e,t,n){var r=e.selected?n.selected.rings:n.default.rings;if(!r.length){var o=t.getById(e.id);return void 0!==o&&Object.entries(o).forEach(function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=t[0],r=t[1];n.startsWith("ring-")&&r.setEndValue(0)}),[{width:0,color:""}]}return r.map(function(n,r){var o=n.widthFactor,i=n.color,a=(e.size||vr)*o*Or();return{width:t.getValueForAnimationName(e.id,"ring-".concat(r),a),color:i}})}(t,r,o),j=N.reduce(function(e,t){return e+t.width},0),R=p*A,I=2*R,M=function(e,t){if(!e||!t)return{nodeInfoLevel:0,fontInfoLevel:1.25,iconInfoLevel:1};var n=Or(),r=1600*n*(1200*n),o=Math.pow(e,2)*Math.PI*Math.pow(t,2)/(r/100);return{nodeInfoLevel:ls(o,ts),fontInfoLevel:ls(o,ns),iconInfoLevel:ls(o,rs)}}(R,u),D=M.nodeInfoLevel,L=M.fontInfoLevel,B=M.iconInfoLevel,F=t.color||a,U=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr)/({1:3.5,2:2.75,3:2}[arguments.length>2&&void 0!==arguments[2]?arguments[2]:1]+(arguments.length>3&&void 0!==arguments[3]&&arguments[3]?1:0))/e}(L,R,x,Boolean(C)),z=vu(F),V=R;if(j>0&&(V=R+j),E)F=i.color,z=i.fontColor;else{var W;if(O){var H=Date.now()%1e3/1e3,G=H<.7?H/.7:0,q=os(F,.4-.4*G);us(e,c,d,q,R+.88*R*G)}var Y=null!==(W=o.selected.shadow)&&void 0!==W?W:{width:0,opacity:0,color:""},X=Y.width*A,K=Y.opacity,$=Y.color,Z=S||T?X:0,Q=r.getValueForAnimationName(P,"shadowWidth",Z);Q>0&&function(e,t,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=o+i,u=e.createRadialGradient(t,n,o,t,n,s);u.addColorStop(0,"transparent"),u.addColorStop(.01,os(r,.5*a)),u.addColorStop(.05,os(r,.5*a)),u.addColorStop(.5,os(r,.12*a)),u.addColorStop(.75,os(r,.03*a)),u.addColorStop(1,os(r,0)),e.fillStyle=u,ss(e,t,n,s),e.fill()}(e,c,d,$,V,Q,K)}us(e,c,d,F,R),j>0&&as(e,c,d,R,N);var J=Boolean(g.length),ee=Boolean(m.length),te=Boolean(C);if(C){var ne=D<2||!(J||ee),re=D>0?1:0,oe=ne?1*R:.75*R;oe/=B;var ie=ne?.5*oe:oe*(1===B?"center"===_?1.3:"bottom"===_||ne?1.1:0:"center"===_?1.35:"bottom"===_||ne?1.1:0),ae=oe/2;oe=r.getValueForAnimationName(P,"iconSize",oe),ae=r.getValueForAnimationName(P,"iconXPos",ae),ie=r.getValueForAnimationName(P,"iconYPos",ie);var se=e.globalAlpha,ue=E?.1:re;e.globalAlpha=r.getValueForAnimationName(P,"iconOpacity",ue);var le="#ffffff"===z,ce=n.getImage(C,le);e.drawImage(ce,c-ae,d-ie,Math.floor(oe),Math.floor(oe)),e.globalAlpha=se}if(void 0!==k){var fe,de,he,pe,ve,ge=I*(null!==(fe=k.size)&&void 0!==fe?fe:1),ye=ge/2-R*(null!==(de=null===(he=k.position)||void 0===he?void 0:he[1])&&void 0!==de?de:0),me=ge/2-R*(null!==(pe=null===(ve=k.position)||void 0===ve?void 0:ve[0])&&void 0!==pe?pe:0),be=e.globalAlpha,_e=E?.1:1;e.globalAlpha=r.getValueForAnimationName(P,"iconOpacity",_e);var we=n.getImage(k.url);e.drawImage(we,c-me,d-ye,ge,ge),e.globalAlpha=be}if(J||ee){var xe=D<2?0:1,Ee=r.getValueForAnimationName(P,"textOpacity",xe,0);if(Ee>0){var Oe,Se,Te='"Open Sans", sans-serif',Pe=2;L===(null===(Oe=ns[1])||void 0===Oe?void 0:Oe[1])?Pe=3:L===(null===(Se=ns[2])||void 0===Se?void 0:Se[1])&&(Pe=4);var Ce="center"===_?.7*I:2*Math.sqrt(Math.pow(I/2,2)-Math.pow(I/3,2));if(e.fillStyle=os(z,Ee),ee){var ke,Ae=Ja(m),Ne=Ae.stylesPerChar,je=Ae.fullCaption,Re=Qa(e,je,Te,U,Ce,te,Pe,null==t||t.captionAlign),Ie=-(Re.length-2)*U/2;ke=_&&"center"!==_?"bottom"===_?Ie+R/Math.PI:Ie-R/Math.PI:Ie,cs(e,Re,Ne,ke,U,Te,U,c,d,s)}else if(J){var Me=Qa(e,g,Te,U,Ce,te,Pe,null==t||t.captionAlign),De=-(Me.length-2)*U/2,Le=g.split("").map(function(e){return[]});cs(e,Me,Le,De,U,Te,U,c,d,s)}}}};function xu(e){return xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(e)}function Eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eu(Object(n),!0).forEach(function(t){Pu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Su(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Tu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tu(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Tu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pu(e,t,n){return(t=Cu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cu(e){var t=function(e){if("object"!=xu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=xu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xu(t)?t:String(t)}var ku="canvasRenderer",Au=function(){function e(t,n,r){var o=this,i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).relationshipThreshold,a=void 0===i?0:i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Pu(this,"arrowBundler",void 0),Pu(this,"activeNodes",void 0),Pu(this,"canvas",void 0),Pu(this,"context",void 0),Pu(this,"state",void 0),Pu(this,"stateDisposers",void 0),Pu(this,"relationshipThreshold",void 0),Pu(this,"animationHandler",void 0),Pu(this,"imageCache",void 0),Pu(this,"needsRun",void 0),Pu(this,"nodeVersion",void 0),Pu(this,"relVersion",void 0),Pu(this,"waypointVersion",void 0),Pu(this,"ellipsisWidth",void 0),null!==n&&(this.activeNodes=new Set,this.canvas=t,this.context=n,this.state=r,this.stateDisposers=[],this.stateDisposers.push(r.autorun(function(){void 0!==r.zoom&&(o.needsRun=!0),void 0!==r.panX&&(o.needsRun=!0),void 0!==r.panY&&(o.needsRun=!0),void 0!==r.nodes.version&&(o.needsRun=!0),void 0!==r.rels.version&&(o.needsRun=!0),r.waypoints.counter>0&&(o.needsRun=!0),void 0!==r.layout&&(o.needsRun=!0)})),r.nodes.addChannel(ku),r.rels.addChannel(ku),this.relationshipThreshold=a,this.nodeVersion=r.nodes.version,this.relVersion=r.rels.version,this.waypointVersion=r.waypoints.counter,this.animationHandler=new ua,this.animationHandler.setOptions({fadeDuration:150,sizeDuration:150}),this.arrowBundler=new ka(r.rels.items,r.waypoints.data),this.imageCache=new ha,this.needsRun=!0,this.ellipsisWidth=n.measureText(Xa).width)}var t,n;return t=e,n=[{key:"needsToRun",value:function(){return this.needsRun||this.animationHandler.needsToRun()||this.activeNodes.size>0}},{key:"processUpdates",value:function(){var e=this.state,t=!1,n=e.nodes.channels[ku],r=e.rels.channels[ku],o=n.adds,i=n.removes,a=r.adds,s=r.removes;this.nodeVersion<e.nodes.version&&(Object.keys(o).length>0||Object.keys(i).length,this.handleChannelUpdate(n,e.nodes,!0),this.nodeVersion=e.nodes.version,e.nodes.clearChannel(ku)),this.relVersion<e.rels.version&&(t=Object.keys(a).length>0||Object.keys(s).length>0,e.rels.clearChannel(ku),this.relVersion=e.rels.version),(t||this.waypointVersion<e.waypoints.counter)&&(this.arrowBundler.updateData(a,s,e.waypoints.data),this.waypointVersion=e.waypoints.counter)}},{key:"render",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this.state,i=this.animationHandler,a=this.arrowBundler,s=o.zoom,u=o.layout,l=o.nodes.idToPosition,c=null!==(t=r.canvas)&&void 0!==t?t:this.canvas,f=null!==(n=r.context)&&void 0!==n?n:this.context,d=Or(),h=c.clientWidth*d,p=c.clientHeight*d;f.save(),void 0!==r.backgroundColor?(f.fillStyle=r.backgroundColor,f.fillRect(0,0,h,p)):f.clearRect(0,0,h,p),this.zoomAndPan(f,c),i.ignoreAnimations(Boolean(r.ignoreAnimations)),!0!==r.ignoreAnimations&&i.advance(),a.updatePositions(l);var v=this.getRelationshipsToRender(r.showCaptions,h,p);this.renderRelationships(v,f,u!==Ti);var g=this.getNodesToRender(e,h,p);this.renderNodes(g,f,s),f.restore(),this.needsRun=!1}},{key:"getRelationshipsToRender",value:function(e,t,n){var r,o=[],i=[],a=[],s=this.arrowBundler,u=this.state,l=this.relationshipThreshold,c=u.layout,f=u.zoom,d=u.rels,h=u.nodes,p=h.idToItem,v=h.idToPosition,g=Su(d.items);try{for(g.s();!(r=g.n()).done;){var y=r.value,m=s.getBundle(y),b=Ou(Ou({},p[y.from]),v[y.from]),_=Ou(Ou({},p[y.to]),v[y.to]),w=e||f>l||void 0!==y.captionHtml,x=Rs(y,m,b,_,w,c!==Ti);if(null!==x){var E,O,S,T,P,C,k=this.isBoundingBoxOffScreen(x,t,n),A=ps({x:null!==(E=b.x)&&void 0!==E?E:0,y:null!==(O=b.y)&&void 0!==O?O:0},{x:null!==(S=_.x)&&void 0!==S?S:0,y:null!==(T=_.y)&&void 0!==T?T:0}),N=((null!==(P=b.size)&&void 0!==P?P:vr)+(null!==(C=_.size)&&void 0!==C?C:vr))*devicePixelRatio,j=b.id!==_.id&&N>A;k||j||(!0===y.disabled?i.push(Ou(Ou({},y),{},{fromNode:b,toNode:_,showLabel:w})):!0===y.selected?o.push(Ou(Ou({},y),{},{fromNode:b,toNode:_,showLabel:w})):a.push(Ou(Ou({},y),{},{fromNode:b,toNode:_,showLabel:w})))}}}catch(e){g.e(e)}finally{g.f()}return[].concat(i,a,o)}},{key:"getNodesToRender",value:function(e,t,n){var r,o=[],i=[],a=[],s=this.state.nodes.idToItem,u=Su(e);try{for(u.s();!(r=u.n()).done;){var l,c,f=r.value,d=_u(f);this.isBoundingBoxOffScreen(d,t,n)||(!0===(null===(l=s[f.id])||void 0===l?void 0:l.disabled)?o.push(Ou({},f)):!0===(null===(c=s[f.id])||void 0===c?void 0:c.selected)?i.push(Ou({},f)):a.push(Ou({},f)))}}catch(e){u.e(e)}finally{u.f()}return[].concat(o,a,i)}},{key:"renderNodes",value:function(e,t,n){var r,o=this.imageCache,i=this.animationHandler,a=this.state,s=this.ellipsisWidth,u=a.nodes.idToItem,l=a.nodeBorderStyles,c=a.disabledItemStyles,f=a.defaultNodeColor,d=Su(e);try{for(d.s();!(r=d.n()).done;){var h=r.value;wu(t,Ou(Ou({},u[h.id]),h),o,i,l,c,f,s,n)}}catch(e){d.e(e)}finally{d.f()}}},{key:"renderRelationships",value:function(e,t,n){var r,o=this.state.relationshipBorderStyles.selected,i=this.arrowBundler,a=this.imageCache,s=this.state,u=s.disabledItemStyles,l=s.defaultRelationshipColor,c=Su(e);try{for(c.s();!(r=c.n()).done;){var f=r.value,d=i.getBundle(f),h=f.fromNode,p=f.toNode,v=f.showLabel;js(t,f,h,p,d,a,v,o,u,l,n)}}catch(e){c.e(e)}finally{c.f()}}},{key:"getNodesAt",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],o=this.state.nodes,i=o.items,a=o.idToPosition,s=Or(),u=Su(i);try{var l=function(){var o=t.value,i=o.id,u=o.size,l=void 0===u?vr:u,c=a[i],f=c.x,d=c.y,h=Math.sqrt(Math.pow(e.x-f,2)+Math.pow(e.y-d,2));if(h<=(l+n)*s){var p=r.findIndex(function(e){return e.distance>h});r.splice(-1!==p?p:r.length,0,{data:o,targetCoordinates:{x:f,y:d},pointerCoordinates:e,distanceVector:{x:e.x-f,y:e.y-d},insideNode:h<=l*s,distance:h})}};for(u.s();!(t=u.n()).done;)l()}catch(e){u.e(e)}finally{u.f()}return r}},{key:"getRelsAt",value:function(e){var t,n=[],r=this.state,o=this.arrowBundler,i=this.relationshipThreshold,a=r.zoom,s=r.rels.items,u=r.nodes.idToPosition,l=r.layout,c=a>i,f=Su(s);try{var d=function(){var r=t.value,i=o.getBundle(r),a=u[r.from],s=u[r.to];if(void 0!==a&&void 0!==s&&-1!==i.indexOf(r)){var f=function(e,t,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!Ia(n,r))return 1/0;var s=n===r?function(e,t,n,r){var o=As(t,n,r),i=o.startPoint,a=o.endPoint,s=o.apexPoint,u=o.control1Point,l=o.control2Point,c=Fa(i,s,u,e),f=Fa(s,a,l,e);return Math.min(c,f)}(e,t,n,o):function(e,t,n,r,o,i,a){var s=Os(t,n,r,o,i,a),u=1/0;if(a&&3===s.length)u=Fa(s[0],s[2],s[1],e);else for(var l=1;l<s.length;l++){var c=s[l-1],f=s[l],d=La(c,f,e);u=d<u?d:u}return u}(e,t,o,n,r,i,a);return s}(e,r,a,s,i,c,l!==Ti);if(f<10){var d=n.findIndex(function(e){return e.distance>f});n.splice(-1!==d?d:n.length,0,{data:r,fromTargetCoordinates:a,toTargetCoordinates:s,pointerCoordinates:e,distance:f})}}};for(f.s();!(t=f.n()).done;)d()}catch(e){f.e(e)}finally{f.f()}return n}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(e){e()}),this.state.nodes.removeChannel(ku),this.state.rels.removeChannel(ku)}},{key:"isBoundingBoxOffScreen",value:function(e,t,n){var r=this.state,o=r.zoom,i=t/o,a=n/o,s=r.panX-i/2,u=r.panY-a/2,l=e.right<s,c=e.bottom<u,f=e.left>s+i,d=e.top>u+a;return l||f||c||d}},{key:"handleChannelUpdate",value:function(e,t,n){for(var r=Object.keys(e.adds),o=0;o<r.length;o++){var i=r[o];e.adds[i].activated&&this.activeNodes.add(i)}for(var a=Object.keys(e.removes),s=0;s<a.length;s++){var u=a[s];this.activeNodes.delete(u)}if(n)for(var l=Object.keys(e.updates),c=0;c<l.length;c++){var f=l[c];t.idToItem[f].activated?this.activeNodes.add(f):this.activeNodes.delete(f)}}},{key:"zoomAndPan",value:function(e,t){var n=t.width,r=t.height,o=this.state,i=o.zoom,a=o.panX,s=o.panY;e.translate(-n/2*i,-r/2*i),e.translate(-a*i,-s*i),e.scale(i,i),e.translate(n/2/i,r/2/i),e.translate(n/2,r/2)}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cu(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Nu=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=function(e,n){if((0,t.isNil)(e)||(0,t.isNil)(n))return{offsetX:0,offsetY:0};var r=n.getBoundingClientRect(),o=window.devicePixelRatio||1;return{offsetX:o*(e.clientX-r.left-.5*r.width),offsetY:o*(e.clientY-r.top-.5*r.height)}}(e,n);return{x:o+a.offsetX/r,y:i+a.offsetY/r}};function ju(e){return ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(e)}function Ru(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lu(r.key),r)}}function Mu(e,t,n){return t&&Iu(e.prototype,t),n&&Iu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Du(e,t,n){return(t=Lu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lu(e){var t=function(e){if("object"!=ju(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ju(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ju(t)?t:String(t)}var Bu="WebGLRenderer",Fu=function(){function e(t){var n=this;if(Ru(this,e),Du(this,"mainSceneRenderer",void 0),Du(this,"minimapRenderer",void 0),Du(this,"needsRun",void 0),Du(this,"minimapMouseDown",void 0),Du(this,"stateDisposers",void 0),Du(this,"state",void 0),void 0===t.state)throw new Error("Renderer missing options: state - state object");var r=t.state,o=t.mainSceneRenderer,i=t.minimapRenderer,a=r.nodes,s=r.rels;this.mainSceneRenderer=o,this.minimapRenderer=i,this.needsRun=!1,this.minimapMouseDown=!1,this.stateDisposers=[],this.stateDisposers.push(r.autorun(function(){n.updateMainViewport(r.zoom,r.panX,r.panY)})),this.stateDisposers.push(r.autorun(function(){n.updateMinimapViewport(r.minimapZoom,r.minimapPanX,r.minimapPanY)})),this.stateDisposers.push(r.autorun(function(){void 0!==r.nodes.version&&(n.needsRun=!0),void 0!==r.rels.version&&(n.needsRun=!0)})),a.addChannel(Bu),s.addChannel(Bu),this.state=r,this.setupMinimapInteractions()}return Mu(e,[{key:"needsToRun",value:function(){return this.needsRun||Object.keys(this.mainSceneRenderer.activeNodes).length>0}},{key:"renderMainScene",value:function(e){var t=this.state,n=t.nodes,r=t.rels;this.checkForUpdates(n,r),this.mainSceneRenderer.render(e,n,r),this.needsRun=!1}},{key:"renderMinimap",value:function(e){var t=this.state,n=t.nodes,r=t.rels;this.checkForUpdates(n,r),this.minimapRenderer.render(e,n,r),this.minimapRenderer.renderViewbox(),this.needsRun=!1}},{key:"checkForUpdates",value:function(e,t){var n=Object.values(e.channels[Bu].adds).length>0,r=Object.values(t.channels[Bu].adds).length>0,o=Object.values(e.channels[Bu].removes).length>0,i=Object.values(t.channels[Bu].removes).length>0,a=Object.values(e.channels[Bu].updates),s=Object.values(t.channels[Bu].updates);n||r||o||i?(this.mainSceneRenderer.setData({nodes:e.items,rels:t.items}),this.minimapRenderer.setData({nodes:e.items,rels:t.items})):(a.length>0&&(this.mainSceneRenderer.updateNodes(a),this.minimapRenderer.updateNodes(a)),s.length>0&&(this.mainSceneRenderer.updateRelationships(t.items),this.minimapRenderer.updateRelationships(t.items))),e.clearChannel(Bu),t.clearChannel(Bu)}},{key:"onResize",value:function(){var e=this.state,t=e.zoom,n=e.panX,r=e.panY,o=e.minimapZoom,i=e.minimapPanX,a=e.minimapPanY;this.updateMainViewport(t,n,r),this.updateMinimapViewport(o,i,a)}},{key:"updateMainViewport",value:function(e,t,n){this.mainSceneRenderer.updateViewport(e,t,n);var r=this.mainSceneRenderer.canvas.clientWidth,o=this.mainSceneRenderer.canvas.clientHeight;this.minimapRenderer.updateViewportBox(e,t,n,r,o),this.needsRun=!0}},{key:"updateMinimapViewport",value:function(e,t,n){this.minimapRenderer.updateViewport(e,t,n),this.needsRun=!0}},{key:"handleMinimapDrag",value:function(e){var t=this.state,n=this.minimapRenderer,r=Nu(e,n.canvas,t.minimapZoom,t.minimapPanX,t.minimapPanY),o=r.x,i=r.y;t.setPan(o,i)}},{key:"handleMinimapWheel",value:function(e){var n=this.state,r=this.mainSceneRenderer;n.setZoom(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,t.isNil)(e)||isNaN(e.deltaY)?n:n-e.deltaY/500*Math.min(1,n)}(e,n.zoom),r.canvas),e.preventDefault()}},{key:"setupMinimapInteractions",value:function(){var e=this,t=this.minimapRenderer.canvas;t.addEventListener("mousedown",function(t){e.handleMinimapDrag(t),e.minimapMouseDown=!0}),t.addEventListener("mousemove",function(t){e.minimapMouseDown&&e.handleMinimapDrag(t)}),t.addEventListener("mouseup",function(){e.minimapMouseDown=!1}),t.addEventListener("mouseleave",function(){e.minimapMouseDown=!1}),t.addEventListener("wheel",function(t){e.handleMinimapWheel(t)})}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(e){e()}),this.state.nodes.removeChannel(Bu),this.state.rels.removeChannel(Bu),this.mainSceneRenderer.destroy(),this.minimapRenderer.destroy()}}]),e}(),Uu=function(){function e(){Ru(this,e),Du(this,"mainSceneRenderer",void 0),Du(this,"minimapRenderer",void 0),Du(this,"needsRun",void 0),Du(this,"minimapMouseDown",void 0),Du(this,"stateDisposers",void 0),Du(this,"state",void 0)}return Mu(e,[{key:"renderMainScene",value:function(e){}},{key:"renderMinimap",value:function(e){}},{key:"checkForUpdates",value:function(e,t){}},{key:"onResize",value:function(){}},{key:"updateMainViewport",value:function(e,t,n){}},{key:"updateMinimapViewport",value:function(e,t,n){}},{key:"handleMinimapDrag",value:function(e){}},{key:"handleMinimapWheel",value:function(e){}},{key:"setupMinimapInteractions",value:function(){}},{key:"destroy",value:function(){}},{key:"needsToRun",value:function(){return!1}}]),e}();function zu(e){return zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(e)}function Vu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Wu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wu(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Wu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hu(e,t,n){return(t=Gu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gu(e){var t=function(e){if("object"!=zu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=zu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==zu(t)?t:String(t)}var qu,Yu=24,Xu=function(){function e(t,n,r,o){var i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Hu(this,"nodeShader",void 0),Hu(this,"nodeAnimShader",void 0),Hu(this,"relShader",void 0),Hu(this,"relDataBuffer",void 0),Hu(this,"viewportBoxShader",void 0),Hu(this,"defaultRelColor",void 0),Hu(this,"defaultNodeColor",void 0),Hu(this,"disableRelColor",void 0),Hu(this,"disableNodeColor",void 0),Hu(this,"gl",void 0),Hu(this,"activeNodes",void 0),Hu(this,"canvas",void 0),Hu(this,"projection",void 0),Hu(this,"idToIndex",void 0),Hu(this,"posBuffer",void 0),Hu(this,"numRels",void 0),Hu(this,"numNodes",void 0),Hu(this,"nodeDataByte",void 0),Hu(this,"relIdToIndex",void 0),Hu(this,"relData",void 0),Hu(this,"viewportBoxBuffer",void 0),Hu(this,"relBuffer",void 0),Hu(this,"nodeBuffer",void 0),Hu(this,"posTexture",void 0),void 0===(null!==(i=t.getExtension("OES_texture_float"))&&void 0!==i?i:void 0))throw new Error("Renderer needs floating point texture support");this.nodeShader=new ko(t,"uniform mat4 u_projection;\nuniform sampler2D u_positions;\nuniform mediump float u_zoom;\nuniform mediump float u_glAdjust;\nuniform lowp vec3 u_nodeBorderColor;\nuniform lowp vec3 u_selectedBorderColor;\nuniform lowp vec3 u_selectedInnerBorderColor;\nuniform lowp vec3 u_shadowColor;\nuniform lowp float u_drawDefaultBorder;\n\nattribute float a_size;\nattribute lowp vec2 a_index;\nattribute lowp vec4 a_color;\nattribute lowp float a_selected;\nattribute lowp float a_hovered;\n\nvarying lowp float window;\nvarying lowp vec4 color;\nvarying lowp float selected;\nvarying lowp float hovered;\nvarying lowp float varNodeSize;\nvarying lowp vec3 nodeBorderColor;\nvarying lowp vec3 selectedBorderColor;\nvarying lowp vec3 selectedInnerBorderColor;\nvarying lowp vec3 shadowColor;\nvarying lowp float drawDefaultBorder;\n\nlowp float MinNodeSize = 5.0;\n\nvoid main(void) {\n  vec4 data = texture2D(u_positions, a_index);\n  gl_Position = u_projection * vec4(data.xy, 0.0, 1.0);\n\n  lowp float nodeSize = a_size * u_zoom * u_glAdjust;\n  if (nodeSize < MinNodeSize) {\n   gl_PointSize = MinNodeSize;\n   varNodeSize = MinNodeSize;\n  } else {\n    gl_PointSize = nodeSize;\n    varNodeSize = nodeSize;\n  }\n\n  color = a_color;\n  selected = a_selected;\n  hovered = a_hovered;\n  nodeBorderColor = u_nodeBorderColor;\n  selectedBorderColor = u_selectedBorderColor;\n  selectedInnerBorderColor = u_selectedInnerBorderColor;\n  shadowColor = u_shadowColor;\n  drawDefaultBorder = u_drawDefaultBorder;\n}","uniform mediump float u_zoom;\nuniform mediump float u_glAdjust;\n\nvarying lowp vec4 color;\nvarying lowp float drawDefaultBorder;\nvarying lowp vec3 nodeBorderColor;\nvarying lowp vec3 selectedBorderColor;\nvarying lowp vec3 selectedInnerBorderColor;\nvarying lowp vec3 shadowColor;\nvarying lowp float selected;\nvarying lowp float hovered;\nvarying lowp float varNodeSize;\n\nmediump float circleSize = 0.40;\nmediump float defaultBoderSize = 0.42;\nmediump float innerSelectedRingSize = 0.43;\nmediump float outerSelectedRingSize = 0.47;\nmediump float shadowSize = 0.51;\n\nlowp float getShadowAlpha(lowp float size, lowp float dist) {\n  return (1.0 - smoothstep(size, shadowSize, dist)) * 0.25;\n}\n\nlowp float getCircleAlpha(lowp float ringSize, lowp float nodeSize, lowp float dist) {\n  return color.w - smoothstep(ringSize - nodeSize, ringSize, dist);\n}\n\nvoid main() {\n  lowp float dist = distance(gl_PointCoord, vec2(0.5));\n\n  if (dist > 0.51) {\n    discard;\n  }\n  else {\n    lowp float nodeSize = 1.0 / varNodeSize;\n    lowp float nodeAlpha = getCircleAlpha(circleSize, nodeSize, dist);\n    lowp float borderAlpha = getCircleAlpha(defaultBoderSize, nodeSize, dist);\n    lowp float ringAlpha = getCircleAlpha(innerSelectedRingSize, nodeSize, dist);\n    lowp vec3 finalColor = color.xyz;\n    lowp float finalAlpha = nodeAlpha;\n\n    if (selected > 0.0) {\n      lowp float shadowAlpha = getShadowAlpha(outerSelectedRingSize, dist);\n      lowp float ringAlpha2 = getCircleAlpha(outerSelectedRingSize, nodeSize, dist);\n\n      if (drawDefaultBorder > 0.0) {\n        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);\n        finalColor = mix(selectedInnerBorderColor, finalColor, borderAlpha);\n        finalColor = mix(selectedBorderColor, finalColor, ringAlpha);\n        finalColor = mix(shadowColor, finalColor, ringAlpha2);\n        finalAlpha = max(shadowAlpha, max(nodeAlpha, max(borderAlpha, ringAlpha2)));\n      } else {\n        finalColor = mix(selectedInnerBorderColor, finalColor, nodeAlpha);\n        finalColor = mix(selectedBorderColor, finalColor, ringAlpha);\n        finalColor = mix(shadowColor, finalColor, ringAlpha2);\n        finalAlpha = max(shadowAlpha, max(nodeAlpha, max(ringAlpha, ringAlpha2)));\n      }\n    } else if (hovered > 0.0) {\n      if (drawDefaultBorder > 0.0) {\n        lowp float shadowAlpha = getShadowAlpha(defaultBoderSize, dist);\n  \n        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);\n        finalColor = mix(shadowColor, finalColor, borderAlpha);\n        finalAlpha = max(shadowAlpha, max(nodeAlpha, ringAlpha));\n      } else {\n        lowp float shadowAlpha = getShadowAlpha(circleSize, dist);\n\n        finalColor = mix(shadowColor, finalColor, nodeAlpha);\n        finalAlpha = max(shadowAlpha, nodeAlpha);\n      }\n    } else {\n      if (drawDefaultBorder > 0.0) {\n        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);\n        finalAlpha = borderAlpha;\n      }\n    }\n    gl_FragColor = vec4(finalColor, 1.0) * finalAlpha;\n  }\n}\n"),this.nodeAnimShader=new ko(t,"uniform mat4 u_projection;\nuniform sampler2D u_positions;\nuniform lowp float u_animPos;\nuniform mediump float u_zoom;\nuniform mediump float u_glAdjust;\n\nattribute float a_size;\nattribute lowp vec2 a_index;\nattribute lowp vec4 a_color;\nattribute lowp float a_active;\n\nvarying lowp float varNodeSize;\nvarying lowp vec4 color;\n\nvoid main(void) {\n  vec4 data = texture2D(u_positions, a_index);\n\n  gl_Position = u_projection * vec4(data.xy, 0.0, 1.0);\n\n  float nodeSize = a_size * u_zoom * u_glAdjust;\n  nodeSize = nodeSize * (0.4 / 0.5); // Remove extra space added for shadow and selection ring\n\n  gl_PointSize = a_active > 0.5\n    ? nodeSize + 0.88 * nodeSize * u_animPos\n    : 0.0;\n\n  color = a_color;\n  varNodeSize = a_size;\n}","uniform mediump float u_zoom;\nuniform lowp float u_animPos;\nuniform mediump float u_glAdjust;\n\nvarying lowp vec4 color;\nvarying lowp float varNodeSize;\nmediump float circleSize = 0.50;\n\nvoid main(void) {\n\n  lowp float dist = distance(gl_PointCoord, vec2(0.5));\n\n  if (dist > 0.51) {\n    discard;\n  }\n  else {\n    lowp float alpha = 1.0 - smoothstep(circleSize - (1.0 / (varNodeSize * 2.0 * u_zoom * u_glAdjust)), circleSize, dist);\n    lowp float pulseAlpha = 0.9 - 0.9 * u_animPos;\n    gl_FragColor = vec4(color.xyz, 1.0) * alpha * pulseAlpha;\n  }\n}\n"),this.relShader=new ko(t,"uniform mat4 u_projection;\nuniform sampler2D u_positions;\nuniform mediump float u_glAdjust;\n\nattribute vec2 a_from;\nattribute vec2 a_to;\nattribute lowp vec4 a_color;\nattribute lowp float a_triside;\nattribute float a_width;\n\nvarying lowp vec4 color;\n\nvoid main(void) {\n  vec4 from = texture2D(u_positions, a_from);\n  vec4 to = texture2D(u_positions, a_to);\n  vec2 direction = normalize(to.xy - from.xy);\n  direction = vec2(-direction.y, direction.x);\n\n  float width = a_width * u_glAdjust * 0.5;\n\n  if (a_triside == 0.0) {\n    from.y += (width / 2.0) * direction.y;\n    from.x += (width / 2.0) * direction.x;\n  } else {\n    from.y -= (width / 2.0) * direction.y;\n    from.x -= (width / 2.0) * direction.x;\n  }\n\n  color = a_color;\n  gl_Position = u_projection * vec4(from.xy, 0.0, 1.0);\n}\n","varying lowp vec4 color;\n\nvoid main(void) {\n  gl_FragColor = vec4(color.xyz, 1.0) * color.w;\n}\n"),this.viewportBoxShader=new ko(t,"\nattribute vec2 coordinates;\nuniform mat4 u_projection;\nuniform lowp vec4 u_minimapViewportBoxColor;\n\nvarying lowp vec4 minimapViewportBoxColor;\n\nvoid main(void) {\n  gl_Position = u_projection * vec4(coordinates, 0.0, 1.0);\n  minimapViewportBoxColor = u_minimapViewportBoxColor;\n}\n","\nvarying lowp vec4 minimapViewportBoxColor;\n\nvoid main(void) {\n gl_FragColor = minimapViewportBoxColor;\n}\n"),this.setShaderUniforms(o),t.clearColor(0,0,0,0),t.disable(t.DEPTH_TEST),this.defaultRelColor=o.defaultRelationshipColor,this.defaultNodeColor=o.defaultNodeColor,this.disableRelColor=o.disabledItemStyles.color,this.disableNodeColor=o.disabledItemStyles.color,t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),this.gl=t,this.activeNodes={},this.canvas=t.canvas,this.projection=xo(),this.setData({nodes:n.items,rels:r.items}),this.createPositionTexture(),this.setupViewportRendering(o.minimapViewportBoxColor)}var n,r;return n=e,r=[{key:"setShaderUniforms",value:function(e){var n,r,o,i,a,s=e.nodeBorderStyles,u=null;(null===(n=s.default)||void 0===n?void 0:n.rings.length)>0&&(u=null===(a=s.default.rings[0])||void 0===a?void 0:a.color);var l,c,f=null,d=null,h=null!==(r=null===(o=s.selected)||void 0===o?void 0:o.rings)&&void 0!==r?r:[],p=h.length;p>1&&(d=null===(l=h[p-2])||void 0===l?void 0:l.color,f=null===(c=h[p-1])||void 0===c?void 0:c.color);var v=null;null!==(i=s.selected)&&void 0!==i&&i.shadow&&(v=s.selected.shadow.color),this.nodeShader.use(),(0,t.isNil)(u)?this.nodeShader.setUniform("u_drawDefaultBorder",0):(this.nodeShader.setUniform("u_nodeBorderColor",mu(u)),this.nodeShader.setUniform("u_drawDefaultBorder",1));var g=mu(f),y=mu(d),m=mu(v);this.nodeShader.setUniform("u_selectedBorderColor",g),this.nodeShader.setUniform("u_selectedInnerBorderColor",y),this.nodeShader.setUniform("u_shadowColor",m)}},{key:"setData",value:function(e){var t=Cr(e.rels,this.disableRelColor);this.setupNodeRendering(e.nodes),this.setupRelationshipRendering(t)}},{key:"render",value:function(e,t,n){var r,o=this.gl,i=this.idToIndex,a=Vu(e);try{for(a.s();!(r=a.n()).done;){var s=r.value,u=i[s.id];this.posBuffer[4*u+0]=s.x,this.posBuffer[4*u+1]=s.y}}catch(e){a.e(e)}finally{a.f()}o.bindTexture(o.TEXTURE_2D,this.posTexture),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,hr,hr,0,o.RGBA,o.FLOAT,this.posBuffer),o.enable(o.BLEND),o.bindFramebuffer(o.FRAMEBUFFER,null),o.clear(o.COLOR_BUFFER_BIT),o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),this.renderAnimations(this.posTexture),this.numRels>0&&(this.relShader.use(),this.relShader.setUniform("u_positions",this.posTexture),o.bindBuffer(o.ARRAY_BUFFER,this.relBuffer),this.relShader.setAttributePointerByteNorm("a_color",4,0,16),this.relShader.setAttributePointerByteNorm("a_from",2,4,16),this.relShader.setAttributePointerByteNorm("a_to",2,6,16),this.relShader.setAttributePointerByteNorm("a_triside",1,8,16),this.relShader.setAttributePointerFloat("a_width",1,12,16),o.drawArrays(o.TRIANGLES,0,6*this.numRels)),this.numNodes>0&&(this.nodeShader.use(),this.nodeShader.setUniform("u_positions",this.posTexture),o.bindBuffer(o.ARRAY_BUFFER,this.nodeBuffer),this.nodeShader.setAttributePointerByteNorm("a_color",4,0,12),this.nodeShader.setAttributePointerByteNorm("a_selected",1,4,12),this.nodeShader.setAttributePointerByteNorm("a_index",2,5,12),this.nodeShader.setAttributePointerByte("a_size",4,8,12),this.nodeShader.setAttributePointerByteNorm("a_hovered",1,9,12),o.drawArrays(o.POINTS,0,this.numNodes))}},{key:"renderViewbox",value:function(){var e=this.gl,t=this.projection,n=this.viewportBoxBuffer;this.viewportBoxShader.use(),this.viewportBoxShader.setUniform("u_projection",t),e.bindBuffer(e.ARRAY_BUFFER,n),this.viewportBoxShader.setAttributePointerFloat("coordinates",2,0,0),e.drawArrays(e.LINES,0,8)}},{key:"updateNodes",value:function(e){var n,r=this.gl,o=this.idToIndex,i=this.disableNodeColor,a=this.nodeBuffer,s=this.nodeDataByte,u=!1,l=Vu(e);try{for(l.s();!(n=l.n()).done;){var c=n.value,f=o[c.id];if(!(0,t.isNil)(c.color)||!0===c.disabled){var d=gu(!0===c.disabled?i:c.color);this.nodeDataByte[3*f*4+0]=d[0],this.nodeDataByte[3*f*4+1]=d[1],this.nodeDataByte[3*f*4+2]=d[2],this.nodeDataByte[3*f*4+3]=255*d[3],u=!0}if(void 0!==c.selected){var h=c.selected;this.nodeDataByte[3*f*4+4]=h?255:0,u=!0}if(void 0!==c.activated&&(this.nodeDataByte[3*f*4+7]=c.activated?255:0,u=!0,c.activated?this.activeNodes[c.id]=!0:delete this.activeNodes[c.id]),void 0!==c.hovered){var p=!0!==c.disabled&&c.hovered;this.nodeDataByte[3*f*4+9]=p?255:0,u=!0}if(void 0!==c.size){var v=c.size;this.nodeDataByte[3*f*4+8]=v||vr,u=!0}}}catch(e){l.e(e)}finally{l.f()}u&&(r.bindBuffer(r.ARRAY_BUFFER,a),r.bufferData(r.ARRAY_BUFFER,s,r.DYNAMIC_DRAW))}},{key:"updateRelationships",value:function(e){var n,r=Cr(e,this.disableRelColor),o=this.gl,i=!1,a=Vu(r);try{for(a.s();!(n=a.n()).done;){var s=n.value,u=s.key,l=s.width,c=s.color,f=s.disabled,d=this.relIdToIndex[u],h=(0,t.isNil)(c)?this.defaultRelColor:c,p=yu(f?this.disableRelColor:h);this.relData.positionsAndColors[d*Yu+0]=p,this.relData.positionsAndColors[d*Yu+4]=p,this.relData.positionsAndColors[d*Yu+8]=p,this.relData.positionsAndColors[d*Yu+12]=p,this.relData.positionsAndColors[d*Yu+16]=p,this.relData.positionsAndColors[d*Yu+20]=p,i=!0,void 0!==l&&(this.relData.widths[d*Yu+3]=l,this.relData.widths[d*Yu+7]=l,this.relData.widths[d*Yu+11]=l,this.relData.widths[d*Yu+15]=l,this.relData.widths[d*Yu+19]=l,this.relData.widths[d*Yu+23]=l,i=!0)}}catch(e){a.e(e)}finally{a.f()}i&&(o.bindBuffer(o.ARRAY_BUFFER,this.relBuffer),o.bufferData(o.ARRAY_BUFFER,this.relDataBuffer,o.DYNAMIC_DRAW))}},{key:"createPositionTexture",value:function(){var e=this.gl,t=e.createTexture(),n=new Float32Array(262144);e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,hr,hr,0,e.RGBA,e.FLOAT,n),this.posTexture=t,this.posBuffer=n}},{key:"updateViewportBox",value:function(e,t,n,r,o){var i=this.gl,a=Or(),s=r*a,u=o*a,l=(.5*s+t*e)/e,c=(.5*u+n*e)/e,f=(.5*-s+t*e)/e,d=(.5*-u+n*e)/e,h=[l,c,f,c,f,c,f,d,f,d,l,d,l,d,l,c];i.bindBuffer(i.ARRAY_BUFFER,this.viewportBoxBuffer),i.bufferData(i.ARRAY_BUFFER,new Float32Array(h),i.DYNAMIC_DRAW)}},{key:"updateViewport",value:function(e,t,n){var r=this.gl,o=1/e,i=t-r.drawingBufferWidth*o*.5,a=n-r.drawingBufferHeight*o*.5,s=r.drawingBufferWidth*o,u=r.drawingBufferHeight*o,l=xo(),c=2.6315789473684212*Or();Eo(l,i,i+s,a+u,a,0,1e6),this.nodeShader.use(),this.nodeShader.setUniform("u_zoom",e),this.nodeShader.setUniform("u_glAdjust",c),this.nodeShader.setUniform("u_projection",l),this.nodeAnimShader.use(),this.nodeAnimShader.setUniform("u_zoom",e),this.nodeAnimShader.setUniform("u_glAdjust",c),this.nodeAnimShader.setUniform("u_projection",l),this.relShader.use(),this.relShader.setUniform("u_glAdjust",c),this.relShader.setUniform("u_projection",l),this.projection=l}},{key:"setupViewportRendering",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xr;this.viewportBoxBuffer=this.gl.createBuffer(),this.viewportBoxShader.use(),this.viewportBoxShader.setUniform("u_minimapViewportBoxColor",[(e=gu(t))[0]/255,e[1]/255,e[2]/255,e[3]])}},{key:"setupNodeRendering",value:function(e){var n=this.gl,r=new ArrayBuffer(8),o=new Uint32Array(r),i=new Uint8Array(r);void 0===this.nodeBuffer&&(this.nodeBuffer=n.createBuffer()),this.numNodes=e.length;var a=new ArrayBuffer(3*e.length*8),s=new Uint32Array(a),u={};this.activeNodes={};for(var l=0;l<e.length;l++){var c=e[l],f=c.selected,d=c.hovered,h=c.color,p=c.activated,v=c.size,g=c.id,y=c.disabled,m=yu((0,t.isNil)(h)?this.defaultNodeColor:h);s[3*l+0]=y?yu(this.disableNodeColor):m,i[0]=f?255:0,i[1]=l%hr,i[2]=Math.floor(l/hr),i[3]=p?255:0,i[4]=!y&&d?255:0,p&&(this.activeNodes[g]=!0),s[3*l+1]=o[0],s[3*l+2]=null!=v?v:vr,s[3*l+3]=o[1],u[g]=l}n.bindBuffer(n.ARRAY_BUFFER,this.nodeBuffer),n.bufferData(n.ARRAY_BUFFER,s,n.DYNAMIC_DRAW),this.numNodes=e.length,this.nodeDataByte=new Uint8Array(a),this.idToIndex=u}},{key:"setupRelationshipRendering",value:function(e){var n=this,r=this.gl,o=new ArrayBuffer(4),i=new Uint32Array(o),a=new Uint8Array(o),s={};void 0===this.relBuffer&&(this.relBuffer=r.createBuffer());for(var u=new ArrayBuffer(e.length*Yu*4),l=new Uint32Array(u),c=new Float32Array(u),f=function(r){var o=e[r],u=o.from,f=o.to,d=o.color,h=o.width,p=void 0===h?1:h,v=o.key,g=o.disabled,y=n.idToIndex[u],m=n.idToIndex[f],b=y%hr,_=Math.floor(y/hr),w=m%hr,x=Math.floor(m/hr),E=[b,_,w,x],O=[w,x,b,_],S=(0,t.isNil)(d)?n.defaultRelColor:d,T=yu(g?n.disableRelColor:S);s[v]=r;var P=0,C=function(e,t,n,o){l[r*Yu+P]=e,P+=1;for(var s=0;s<t.length;s++)a[s]=t[s];l[r*Yu+P]=i[0],P+=1,a[0]=n,l[r*Yu+P]=i[0],c[r*Yu+(P+=1)]=o,P+=1};C(T,E,255,p),C(T,O,0,p),C(T,E,0,p),C(T,O,0,p),C(T,E,0,p),C(T,O,255,p)},d=0;d<e.length;d++)f(d);r.bindBuffer(r.ARRAY_BUFFER,this.relBuffer),r.bufferData(r.ARRAY_BUFFER,u,r.DYNAMIC_DRAW),this.numRels=e.length,this.relDataBuffer=u,this.relData={positionsAndColors:l,widths:c},this.relIdToIndex=s}},{key:"renderAnimations",value:function(e){var t=this.gl,n=this.nodeBuffer,r=this.numNodes,o=Date.now()%1e3/1e3,i=o<.7?o/.7:0;this.nodeAnimShader.use(),this.nodeAnimShader.setUniform("u_positions",e),this.nodeAnimShader.setUniform("u_animPos",i),t.bindBuffer(t.ARRAY_BUFFER,n),this.nodeAnimShader.setAttributePointerByteNorm("a_color",4,0,12),this.nodeAnimShader.setAttributePointerByteNorm("a_active",1,7,12),this.nodeAnimShader.setAttributePointerByteNorm("a_index",2,5,12),this.nodeAnimShader.setAttributePointerByte("a_size",4,8,12),t.drawArrays(t.POINTS,0,r)}},{key:"destroy",value:function(){this.gl.deleteBuffer(this.nodeBuffer),this.gl.deleteBuffer(this.relBuffer),this.nodeShader.remove(),this.nodeAnimShader.remove(),this.relShader.remove()}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gu(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(),Ku=function(e,t,n){var r=Or();e.width=t*r,e.height=n*r,e.style.width="".concat(t,"px"),e.style.height="".concat(n,"px")},$u=function(e){Gr.warn("Error: WebGL context lost - visualization will stop working!",e),void 0!==qu&&qu(e)},Zu=function(e){var t=e.parentElement.getBoundingClientRect(),n=t.width,r=t.height;Ku(e,n,r)},Qu=function(e,t){var n=document.createElement("canvas");return document.body.appendChild(n),Ku(n,e,t),n},Ju=function(e,t){var n=document.createElement("canvas");return Object.assign(n.style,Er),void 0!==e&&(e.appendChild(n),Zu(n)),function(e,t){qu=t,e.addEventListener("webglcontextlost",$u)}(n,t),n},el=function(e){e.width=0,e.height=0,e.remove()},tl=function(e){return e.getContext("2d")},nl=function(e){var t={antialias:!0},n=e.getContext("webgl",t);return null===n&&(n=e.getContext("experimental-webgl",t)),function(e){return e instanceof WebGLRenderingContext}(n)?n:null},rl=function(e){e.canvas.removeEventListener("webglcontextlost",$u);var t=e.getExtension("WEBGL_lose_context");null==t||t.loseContext()};function ol(e){return function(e){if(Array.isArray(e))return sl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||al(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function il(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=al(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function al(e,t){if(e){if("string"==typeof e)return sl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sl(e,t):void 0}}function sl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ul=vr*Or();function ll(e){return ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(e)}function cl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cl(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],o=function(e){var t=function(e){if("object"!=ll(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ll(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ll(t)?t:String(t)}(o),o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var dl=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},r=0;r<e.length;r++)n.minX>e[r].x&&(n.minX=e[r].x),n.minY>e[r].y&&(n.minY=e[r].y),n.maxX<e[r].x&&(n.maxX=e[r].x),n.maxY<e[r].y&&(n.maxY=e[r].y);var o=(n.minX+n.maxX)/2,i=(n.minY+n.maxY)/2,a=2*t,s=Or()*a;return{centerX:o,centerY:i,nodesWidth:n.maxX-n.minX+a+s,nodesHeight:n.maxY-n.minY+a+s}},hl=function(e,t,n,r){var o=1/0,i=1/0;return e>1&&(o=n/e),t>1&&(i=r/t),{zoomX:o,zoomY:i}},pl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,o=Math.min(e,t);return Math.min(r,Math.max(n,o))},vl=function(e,t,n){var r=dl(e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:50),o=r.nodesWidth,i=r.nodesHeight,a=t*Or(),s=n*Or(),u=hl(o,i,a,s),l=u.zoomX,c=u.zoomY;return pl(l,c)},gl=function(e,t,n,r){return Math.max(Math.min(t,n),Math.min(e,r))},yl=function(e,t,n,r,o,i){var a=t;return function(e,t,n){return e<t&&e<n}(o,i,t)&&e.length>1?(a=function(e,t){var n=function(e){var t=new Array(4).fill(e[0]);return e.forEach(function(e){t[0]=e.x<t[0].x?t[0]:fl({},e),t[1]=e.y<t[1].y?t[1]:fl({},e),t[2]=e.x<t[2].x?fl({},e):t[2],t[3]=e.y<t[3].y?fl({},e):t[3]}),t}(e),r=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0,n=0,r=0;r<e.length;r++)for(var o=r+1;o<e.length;o++)t=Math.hypot(Math.abs(e[r].x-e[o].x),Math.abs(e[r].y-e[o].y)),n=Math.max(n,t);return n}(n),o=50*Or(),i=t.height<=t.width?t.height-50-o:t.width-50-o;return r>i?.9*i/r:.9*r/i}(e,r),gl(o,i,Math.min(t,a),n)):gl(o,i,t,n)};function ml(e){return ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(e)}function bl(e){var t=function(e){if("object"!=ml(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ml(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ml(t)?t:String(t)}var _l=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r=void 0,(n=bl(n="callbacks"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.callbacks={}}var t,n;return t=e,n=[{key:"register",value:function(e,t){this.isCallbackRegistered(e)||(this.callbacks[e]=[]),this.callbacks[e].push(t)}},{key:"isCallbackRegistered",value:function(e){return void 0!==this.callbacks[e]}},{key:"callIfRegistered",value:function(){var e,t=arguments,n=Array.prototype.slice.call(arguments)[0];e=n,o.includes(e)&&this.isCallbackRegistered(n)&&this.callbacks[n].slice(0).forEach(function(e){return e.apply(null,Array.prototype.slice.call(t,1))})}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bl(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),wl=om(481),xl=om.n(wl);function El(e){return El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(e)}function Ol(e,t,n){return(t=Sl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sl(e){var t=function(e){if("object"!=El(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=El(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==El(t)?t:String(t)}var Tl=5e-5,Pl=function(){function e(t){var n,r=this,o=t.state,i=t.getNodePositions,a=t.canvas;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ol(this,"xCtrl",void 0),Ol(this,"yCtrl",void 0),Ol(this,"zoomCtrl",void 0),Ol(this,"getNodePositions",void 0),Ol(this,"firstUpdate",void 0),Ol(this,"state",void 0),Ol(this,"canvas",void 0),Ol(this,"stateDisposers",void 0),this.state=o,this.getNodePositions=i,this.canvas=a,this.xCtrl=new(xl())(.35,Tl,.05,1),this.yCtrl=new(xl())(.35,Tl,.05,1),this.zoomCtrl=new(xl())(.3,1e-5,.01,1),this.stateDisposers=[],this.stateDisposers.push(o.autorun(function(){null===o.fitNodeIds&&(r.xCtrl.reset(),r.yCtrl.reset(),r.zoomCtrl.reset())})),this.stateDisposers.push(o.autorun(function(){n!==o.fitNodeIds&&(n=o.fitNodeIds,r.firstUpdate=!0)})),this.stateDisposers.push(o.autorun(function(){o.resetZoom&&(r.firstUpdate=!0)}))}var t,n;return t=e,n=[{key:"needsToRun",value:function(){var e=this.state,t=e.fitNodeIds,n=e.resetZoom;return t.length>0||n}},{key:"update",value:function(e,t){var n=this.state,r=n.fitNodeIds,o=n.resetZoom;r.length>0?this.fitNodes(r,e,t):o&&this.reset(e,t)}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(e){return e()})}},{key:"recalculateTarget",value:function(e,t,n,r){for(var o=this.xCtrl,i=this.yCtrl,a=this.zoomCtrl,s=this.state,u=[],l=0;l<e.length;l++)u.push({id:e[l]});var c=s.zoom,f=s.panX,d=s.panY,h=s.maxNodeRadius,p=s.nodes,v=s.defaultZoomLevel,g=this.getNodePositions(u);p.updatePositions(g);var y=dl(g,h),m=y.centerX,b=y.centerY,_=y.nodesWidth,w=y.nodesHeight;if(isNaN(m)||isNaN(b))return Gr.info("fit() function couldn't calculate center point, not updating viewport"),!1;var x=t.noPan,E=t.outOnly,O=t.minZoom,S=t.maxZoom;o.setTarget(x?f:m),i.setTarget(x?d:b);var T=hl(_,w,n,r),P=T.zoomX,C=T.zoomY;if(P===1/0&&C===1/0)a.setTarget(v);else{var k=pl(P,C,O,S);E&&c<k?a.setTarget(c):a.setTarget(k)}return!0}},{key:"allNodesAreVisible",value:function(e,t,n){var r=hl(t,n,this.canvas.width,this.canvas.height),o=r.zoomX,i=r.zoomY;return e<o&&e<i}},{key:"reset",value:function(e,t){var n=this.xCtrl,r=this.yCtrl,o=this.zoomCtrl,i=this.state,a=this.firstUpdate,s=this.canvas,u=i.zoom,l=i.panX,c=i.panY,f=i.nodes,d=i.maxNodeRadius,h=i.defaultZoomLevel;if(a||e){o.setTarget(h);var p=dl(Object.values(f.idToPosition),d),v=p.centerX,g=p.centerY,y=p.nodesWidth,m=p.nodesHeight;this.allNodesAreVisible(u,y,m)?(n.setTarget(v),r.setTarget(g)):(n.setTarget(l),r.setTarget(c)),this.firstUpdate=!1}var b=u+o.update(u),_=l+n.update(l),w=c+r.update(c);i.updateZoomToFit(b,_,w,s),Math.abs(o.target-b)<.01&&(i.updateZoomToFit(h,_,w,s),i.clearReset(),void 0!==t&&t())}},{key:"fitNodes",value:function(e,t,n){var r=this.state,o=this.firstUpdate,i=this.canvas,a=this.xCtrl,s=this.yCtrl,u=this.zoomCtrl,l=r.zoomOptions,c=void 0===l?{}:l,f=r.zoom,d=r.panX,h=r.panY,p=!0;if(o||t){var v=i.width,g=i.height;p=this.recalculateTarget(e,c,v,g),this.firstUpdate=!1}if(p){if(!c.animated)return r.setZoomPan(u.target,a.target,s.target,i),void r.clearFit();var y=d+a.update(d),m=h+s.update(h),b=f+u.update(f);r.updateZoomToFit(b,y,m,i);var _=Math.max(5,10/u.target),w=Math.min(.01,.01*u.target);!t&&Math.abs(u.target-b)<w&&Math.abs(a.target-y)<_&&Math.abs(s.target-m)<_&&(r.setZoom(u.target,i),r.clearFit(),void 0!==n&&n())}}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sl(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Cl(e){return Cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(e)}function kl(){kl=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new A(r||[]);return o(a,"_invoke",{value:T(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",g={};function y(){}function m(){}function b(){}var _={};l(_,a,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(N([])));x&&x!==n&&r.call(x,a)&&(_=x);var E=b.prototype=y.prototype=Object.create(_);function O(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function S(e,t){function n(o,i,a,s){var u=f(e[o],e,i);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==Cl(c)&&r.call(c,"__await")?t.resolve(c.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(c).then(function(e){l.value=e,a(l)},function(e){return n("throw",e,a,s)})}s(u.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t(function(t,o){n(e,r,t,o)})}return i=i?i.then(o,o):o()}})}function T(t,n,r){var o=d;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=P(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?v:h,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=v,r.method="throw",r.arg=l.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Cl(t)+" is not iterable")}return m.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},O(S.prototype),l(S.prototype,s,function(){return this}),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},O(E),l(E,u,"Generator"),l(E,a,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Al(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function Nl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jl(Object(n),!0).forEach(function(t){Il(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Il(e,t,n){return(t=Ml(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ml(e){var t=function(e){if("object"!=Cl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Cl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Cl(t)?t:String(t)}var Dl="NvlController",Ll={filename:"visualisation.png",backgroundColor:"rgba(0,0,0,0)"},Bl="onError",Fl="onLayoutDone",Ul="onLayoutStep",zl={},Vl=function(){var e;return null!==(e=zl[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default"])&&void 0!==e?e:Object.values(zl).pop()},Wl=function(){function e(t,n){var r,o,i,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Il(this,"destroyed",void 0),Il(this,"state",void 0),Il(this,"callbacks",void 0),Il(this,"instanceId",void 0),Il(this,"glController",void 0),Il(this,"webGLContext",void 0),Il(this,"webGLMinimapContext",void 0),Il(this,"htmlOverlay",void 0),Il(this,"hasResized",void 0),Il(this,"hierarchicalLayout",void 0),Il(this,"gridLayout",void 0),Il(this,"freeLayout",void 0),Il(this,"d3ForceLayout",void 0),Il(this,"forceLayout",void 0),Il(this,"canvasRenderer",void 0),Il(this,"glCanvas",void 0),Il(this,"canvasRect",void 0),Il(this,"glMinimapCanvas",void 0),Il(this,"c2dCanvas",void 0),Il(this,"isInRenderSwitchAnimation",void 0),Il(this,"justSwitchedRenderer",void 0),Il(this,"justSwitchedLayout",void 0),Il(this,"layoutUpdating",void 0),Il(this,"layoutComputing",void 0),Il(this,"isRenderingDisabled",void 0),Il(this,"setRenderSwitchAnimation",void 0),Il(this,"stateDisposers",void 0),Il(this,"zoomTransitionHandler",void 0),Il(this,"currentLayout",void 0),Il(this,"layoutTimeLimit",void 0),Il(this,"pixelRatio",void 0),Il(this,"removeResizeListener",void 0),Il(this,"removeMinimapResizeListener",void 0),Il(this,"pendingZoomOperation",void 0),Il(this,"layoutRunner",void 0),Il(this,"animationRequestId",void 0),Il(this,"layoutDoneCallback",void 0),Il(this,"layoutComputingCallback",void 0),Il(this,"currentLayoutType",void 0),Il(this,"descriptionElement",void 0),this.destroyed=!1;var s=n.frame,u=n.minimapContainer,l=void 0===u?document.createElement("span"):u,c=n.layoutOptions,f=n.layout,d=n.instanceId,h=void 0===d?"default":d,p=n.disableAria,v=void 0!==p&&p,g=t.nodes,y=t.rels,m=t.webGLVisible,b=t.disableWebGL;this.state=t,this.callbacks=new _l,this.instanceId=h;var _=s;_.setAttribute("instanceId",h),_.setAttribute("data-testid","nvl-parent"),null!==(r=_.style.height)&&void 0!==r&&r.length||Object.assign(_.style,{height:"100%"}),null!==(o=_.style.outline)&&void 0!==o&&o.length||Object.assign(_.style,{outline:"none"}),this.descriptionElement=v?document.createElement("div"):function(e,t){var n;e.setAttribute("role","img"),e.setAttribute("aria-label","Graph visualization");var r="nvl-".concat(t,"-description"),o=null!==(n=document.getElementById(r))&&void 0!==n?n:document.createElement("div");return o.innerHTML="",o.id="nvl-".concat(t,"-description"),o.setAttribute("role","status"),o.setAttribute("aria-live","polite"),o.setAttribute("aria-atomic","false"),o.style.display="none",e.appendChild(o),e.setAttribute("aria-describedby",o.id),o}(_,h);var w=Ju(_,this.onWebGLContextLost.bind(this)),x=Ju(l,this.onWebGLContextLost.bind(this));if(w.setAttribute("data-testid","nvl-gl-canvas"),b)this.glController=new Uu;else{var E=nl(w),O=nl(x);this.glController=new Fu({mainSceneRenderer:new Xu(E,g,y,this.state),minimapRenderer:new Xu(O,g,y,this.state),state:t}),this.webGLContext=E,this.webGLMinimapContext=O}var S=Ju(_,this.onWebGLContextLost.bind(this));S.setAttribute("data-testid","nvl-c2d-canvas");var T=S.getContext("2d"),P=document.createElement("div");Object.assign(P.style,Rl(Rl({},Er),{},{overflow:"hidden"})),_.appendChild(P),this.htmlOverlay=P,this.hasResized=!0,this.hierarchicalLayout=new Qi(Rl(Rl({},c),{},{state:this.state})),this.gridLayout=new Ei({state:this.state}),this.freeLayout=new vi({state:this.state}),this.d3ForceLayout=new Vr({state:this.state}),this.forceLayout=b?this.d3ForceLayout:new ai(Rl(Rl({},c),{},{webGLContext:this.webGLContext,state:this.state})),this.state.setLayout(f),this.state.setLayoutOptions(c);var C=new Au(S,T,t,n);this.canvasRenderer=C,this.glCanvas=w,this.canvasRect=w.getBoundingClientRect(),this.glMinimapCanvas=x,this.c2dCanvas=S,this.glCanvas.style.opacity=m?"1":"0",this.c2dCanvas.style.opacity=m?"0":"1",this.isInRenderSwitchAnimation=!1,this.justSwitchedRenderer=!1,this.justSwitchedLayout=!1,this.hasResized=!1,this.layoutUpdating=!1,this.layoutComputing=!1,this.isRenderingDisabled=!1,g.addChannel(Dl),y.addChannel(Dl),this.setRenderSwitchAnimation=function(){a.isInRenderSwitchAnimation=!1},this.stateDisposers=[],this.stateDisposers.push(t.autorun(function(){a.callIfRegistered("zoom",t.zoom)})),this.stateDisposers.push(t.autorun(function(){a.callIfRegistered("pan",{panX:t.panX,panY:t.panY})})),this.stateDisposers.push(t.autorun(function(){a.setLayout(t.layout)})),this.stateDisposers.push(t.autorun(function(){a.setLayoutOptions(t.layoutOptions)})),v||this.stateDisposers.push(t.autorun(function(){!function(e,t){var n=e.nodes,r=e.rels,o=e.layout,i=n.items.length,a=r.items.length;if(0!==i||0!==a){var s="".concat(i," node").concat(1!==i?"s":""),u="".concat(a," relationship").concat(1!==a?"s":""),l="displayed using a ".concat(null!=o?o:"forceDirected"," layout");t.innerHTML="A graph visualization with ".concat(s," and ").concat(u,", ").concat(l,".")}else t.innerHTML="An empty graph visualization."}(t,a.descriptionElement)})),this.stateDisposers.push(t.autorun(function(){var e=t.webGLVisible?"1":"0";e!==a.glCanvas.style.opacity&&(a.justSwitchedRenderer=!0,a.glCanvas.style.opacity=e,a.c2dCanvas.style.opacity=t.webGLVisible?"0":"1")})),this.startMainLoop(),this.zoomTransitionHandler=new Pl({state:t,getNodePositions:function(e){return a.currentLayout.getNodePositions(e)},canvas:w}),this.layoutTimeLimit=null!==(i=n.layoutTimeLimit)&&void 0!==i?i:16,this.pixelRatio=Or(),this.removeResizeListener=On()(_,function(){Zu(w),Zu(S),a.canvasRect=w.getBoundingClientRect(),a.hasResized=!0}),this.removeMinimapResizeListener=On()(l,function(){Zu(x)}),zl[h]=this,window.__Nvl_dumpNodes=function(e){var t;return null===(t=Vl(e))||void 0===t?void 0:t.dumpNodes()},window.__Nvl_dumpRelationships=function(e){var t;return null===(t=Vl(e))||void 0===t?void 0:t.dumpRelationships()},window.__Nvl_registerDoneCallback=function(e,t){var n;return null===(n=Vl(t))||void 0===n?void 0:n.on(Fl,e)},window.__Nvl_getNodesOnScreen=function(e){var t;return null===(t=Vl(e))||void 0===t?void 0:t.getNodesOnScreen()},window.__Nvl_getZoomLevel=function(e){var t;return null===(t=Vl(e))||void 0===t?void 0:t.getScale()},this.pendingZoomOperation=null}var t,n,r,o;return t=e,n=[{key:"onWebGLContextLost",value:function(e){this.callIfRegistered("onWebGLContextLost",e)}},{key:"updateMinimapZoom",value:function(){var e=this.state,t=e.nodes,n=e.maxNodeRadius,r=e.maxMinimapZoom,o=e.minMinimapZoom,i=dl(Object.values(t.idToPosition),n),a=i.centerX,s=i.centerY,u=i.nodesWidth,l=i.nodesHeight,c=hl(u,l,this.glMinimapCanvas.width,this.glMinimapCanvas.height),f=c.zoomX,d=c.zoomY,h=pl(f,d,o,r);this.state.updateMinimapZoomToFit(h,a,s)}},{key:"startMainLoop",value:function(){var e=this,t=this.state,n=t.nodes,r=t.rels;this.currentLayout.update();var o=this.currentLayout.getNodePositions(n.items);n.updatePositions(o),this.isRenderingDisabled||(this.glController.renderMainScene(o),this.glController.renderMinimap(o),this.canvasRenderer.processUpdates(),this.canvasRenderer.render(o)),this.layoutRunner=setInterval(function(){try{!function(){var t=e.currentLayout.getShouldUpdate(),n=t||e.justSwitchedLayout,r=n&&!e.layoutUpdating&&!e.justSwitchedLayout;if(n)for(var o=window.performance.now(),i=r?0:50,a=0;a<i;a++){e.currentLayout.update(e.justSwitchedLayout),e.justSwitchedLayout=!1;var s=window.performance.now();if(!t||s-o>e.layoutTimeLimit)break}}()}catch(t){if(!e.callbacks.isCallbackRegistered(Bl))throw t;e.callIfRegistered(Bl,t)}},13),this.animationRequestId=window.requestAnimationFrame(function t(){try{!function(t){if(e.destroyed)Gr.info("STEP IN A DESTROYED STRIP");else{var o=Or();if(o!==e.pixelRatio)return e.pixelRatio=o,void e.callIfRegistered("restart");var i=e.currentLayout.getShouldUpdate(),a=i||e.justSwitchedLayout,s=e.currentLayout.getComputing(),u=e.zoomTransitionHandler.needsToRun(),l=a&&!e.layoutUpdating&&!e.justSwitchedLayout,c=e.layoutComputing&&!s,f=e.state.webGLVisible&&e.glController.needsToRun(),d=!e.state.webGLVisible&&e.canvasRenderer.needsToRun(),h=e.isInRenderSwitchAnimation||e.justSwitchedRenderer,p=e.hasResized,v=null!==e.pendingZoomOperation,g=e.glController.minimapMouseDown;if(n.clearChannel(Dl),r.clearChannel(Dl),u||a||c||h||f||d||g||p||v){!v||l||e.currentLayout.getComputing()||(e.pendingZoomOperation(),e.pendingZoomOperation=null);var y=i||s||c;e.zoomTransitionHandler.update(y,function(){return e.callIfRegistered("onZoomTransitionDone")}),p&&e.glController.onResize();var m=e.currentLayout.getNodePositions(n.items);if(n.updatePositions(m),e.callbacks.isCallbackRegistered(Ul)&&e.callIfRegistered(Ul,e.dumpNodes()),e.updateMinimapZoom(),e.glController.renderMinimap(m),!e.isRenderingDisabled){if((e.state.webGLVisible||h)&&e.glController.renderMainScene(m),!e.state.webGLVisible||h){e.canvasRenderer.processUpdates(),e.canvasRenderer.render(m);for(var b=0;b<r.items.length;b++){var _=r.items[b].id,w=e.canvasRenderer.arrowBundler.getBundle(r.items[b]),x=r.idToHtmlOverlay[_],E=w.labelInfo[_];if(x&&E){var O=E.rotation,S=E.position,T=E.width,P=E.height,C=e.mapCanvasSpaceToRelativePosition(S.x,S.y),k=C.x,A=C.y,N=T>5&&!e.state.webGLVisible;Object.assign(x.style,{top:"".concat(A,"px"),left:"".concat(k,"px"),width:"".concat(T,"px"),height:"".concat(P,"px"),display:N?"block":"none",transform:"translate(-50%, -50%) scale(".concat(Number(e.state.zoom),") rotate(").concat(O,"rad")})}}}for(var j=0;j<n.items.length;j++){var R=n.items[j],I=R.id,M=R.size,D=n.idToHtmlOverlay[I];if(D){var L=e.state.nodes.idToPosition[I],B=e.mapCanvasSpaceToRelativePosition(L.x,L.y),F=B.x,U=B.y,z="".concat(2*(null!=M?M:vr),"px");Object.assign(D.style,{top:"".concat(U,"px"),left:"".concat(F,"px"),width:z,height:z,transform:"translate(-50%, -50%) scale(".concat(Number(e.state.zoom),")")})}}}}var V=!a&&e.layoutUpdating,W=s!==e.layoutComputing;e.layoutComputing=s,e.layoutUpdating=a,V&&e.callIfRegistered(Fl),W&&e.callIfRegistered("onLayoutComputing",s),e.justSwitchedRenderer=!1,e.hasResized=!1,void 0!==t&&t()}}(function(){e.animationRequestId=window.requestAnimationFrame(t)})}catch(t){if(!e.callbacks.isCallbackRegistered(Bl))throw t;e.callIfRegistered(Bl,t)}})}},{key:"updateHtmlOverlay",value:function(){this.state.nodes.updateHtmlOverlay(this.htmlOverlay),this.state.rels.updateHtmlOverlay(this.htmlOverlay)}},{key:"dumpNodes",value:function(){var e,t=this.state.nodes.items,n=this.state.nodes.idToPosition,r=[],o=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,t){if(e){if("string"==typeof e)return Nl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nl(e,t):void 0}}(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(t);try{for(o.s();!(e=o.n()).done;){var i=e.value,a=n[i.id],s=this.mapCanvasSpaceToRelativePosition(a.x,a.y);r.push(Rl(Rl({},i),{},{x:s.x,y:s.y}))}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"dumpRelationships",value:function(){return yn(this.state.rels.items)}},{key:"mapCanvasSpaceToRelativePosition",value:function(e,t){var n=this.canvasRect,r=window.devicePixelRatio||1,o=(e-this.state.panX)*this.state.zoom/r,i=(t-this.state.panY)*this.state.zoom/r;return{x:o+.5*n.width,y:i+.5*n.height}}},{key:"mapRelativePositionToCanvasSpace",value:function(e,t){var n=this.glCanvas.getBoundingClientRect(),r=window.devicePixelRatio||1,o=r*(e-.5*n.width),i=r*(t-.5*n.height);return{x:this.state.panX+o/this.state.zoom,y:this.state.panY+i/this.state.zoom}}},{key:"getNodePositions",value:function(){return Object.values(yn(this.state.nodes.idToPosition))}},{key:"setNodePositions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.state.nodes.updatePositions(e),this.currentLayout.updateNodes(e),t||this.currentLayout.terminateUpdate(),this.hasResized=!0,0===this.getNodesOnScreen().nodes.length&&this.state.setPan(0,0),this.state.clearFit()}},{key:"isLayoutMoving",value:function(){return this.layoutUpdating}},{key:"getNodesOnScreen",value:function(){var e=this.glCanvas.getBoundingClientRect(),t=this.mapRelativePositionToCanvasSpace(0,0),n=t.x,r=t.y,o=this.mapRelativePositionToCanvasSpace(e.width,e.height);return function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:["node"],a=o.nodes,s=o.rels,u=Math.min(e,n),l=Math.max(e,n),c=Math.min(t,r),f=Math.max(t,r),d=[],h=[];if(i.includes("node"))for(var p=0,v=Object.values(a.idToPosition);p<v.length;p++){var g=v[p],y=g.x,m=g.y;void 0!==y&&void 0!==m&&y>u&&y<l&&m>c&&m<f&&d.push(g)}if(i.includes("relationship")){var b,_=il(s.items);try{for(_.s();!(b=_.n()).done;){var w=b.value,x=w.from,E=w.to,O=a.idToPosition[x],S=a.idToPosition[E];if(void 0!==O.x&&void 0!==O.y&&void 0!==S.x&&void 0!==S.y){var T=O.x>u&&O.x<l&&O.y>c&&O.y<f,P=S.x>u&&S.x<l&&S.y>c&&S.y<f;T&&P&&h.push(w)}}}catch(e){_.e(e)}finally{_.f()}}return{nodes:d,rels:h}}(n,r,o.x,o.y,this.state,["node"])}},{key:"registerDoneCallback",value:function(e){this.layoutDoneCallback=e}},{key:"registerComputingCallback",value:function(e){this.layoutComputingCallback=e}},{key:"getPosition",value:function(e){return this.currentLayout.getNodePositions([{id:e}])[0]}},{key:"getScale",value:function(){return this.state.zoom}},{key:"getPan",value:function(){return{x:this.state.panX,y:this.state.panY}}},{key:"setZoomLevel",value:function(e){var t=this;this.pendingZoomOperation=function(){return t.state.setZoom(e,t.glCanvas)}}},{key:"setPanCoordinates",value:function(e,t){this.state.setPan(e,t)}},{key:"setZoomAndPan",value:function(e,t,n){var r=this;this.pendingZoomOperation=function(){return r.state.setZoomPan(e,t,n,r.glCanvas)}}},{key:"fit",value:function(e,t){var n=this;this.pendingZoomOperation=function(){return n.state.fitNodes(e,t)}}},{key:"resetZoom",value:function(){var e=this;this.pendingZoomOperation=function(){return e.state.setZoomReset()}}},{key:"setRenderer",value:function(e){this.state.setRenderer(e)}},{key:"on",value:function(e,t){this.callbacks.register(e,t)}},{key:"isDestroyed",value:function(){return this.destroyed}},{key:"destroy",value:function(){var e;this.destroyed||(this.animationRequestId&&window.cancelAnimationFrame(this.animationRequestId),void 0!==this.layoutRunner&&window.clearInterval(this.layoutRunner),this.glController.destroy(),this.glCanvas.removeEventListener("transitionend",this.setRenderSwitchAnimation),void 0!==this.webGLContext&&rl(this.webGLContext),void 0!==this.webGLMinimapContext&&rl(this.webGLMinimapContext),el(this.glCanvas),el(this.glMinimapCanvas),this.canvasRenderer.destroy(),el(this.c2dCanvas),this.removeResizeListener(),this.removeMinimapResizeListener(),this.forceLayout.destroy(),this.hierarchicalLayout.destroy(),this.gridLayout.destroy(),this.freeLayout.destroy(),this.htmlOverlay.remove(),this.descriptionElement.remove(),this.zoomTransitionHandler.destroy(),this.stateDisposers.forEach(function(e){e()}),e=this.instanceId,delete zl[e],this.destroyed=!0)}},{key:"callIfRegistered",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.callbacks.callIfRegistered.apply(this.callbacks,arguments)}},{key:"getCanvasRelsAt",value:function(e){return this.canvasRenderer.getRelsAt(e)}},{key:"getCanvasNodesAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.canvasRenderer.getNodesAt(e,t)}},{key:"getLayout",value:function(e){return e===Ti?this.hierarchicalLayout:e===Si?this.forceLayout:e===Pi?this.gridLayout:e===Ci?this.freeLayout:e===ki?this.d3ForceLayout:this.forceLayout}},{key:"setLayout",value:function(e){Gr.info("Switching to layout: ".concat(e));var t=this.currentLayoutType,n=this.getLayout(e);"free"===e&&n.setNodePositions(this.state.nodes.idToPosition),this.currentLayout=n,this.currentLayoutType=e,t&&t!==this.currentLayoutType&&(this.justSwitchedLayout=!0)}},{key:"setLayoutOptions",value:function(e){this.getLayout(this.state.layout).setOptions(e)}},{key:"createDownloadLink",value:function(e,t){var n=document.createElement("a");n.style.display="none",n.setAttribute("download",e);var r=t.toDataURL("image/png").replace(/^data:image\/png/,"data:application/octet-stream");return n.setAttribute("href",r),n}},{key:"saveToFile",value:function(e){var t=Rl(Rl({},Ll),e),n=t.filename,r=t.backgroundColor,o=this.state.nodes.items;this.currentLayout.update(this.justSwitchedLayout),this.justSwitchedLayout=!1;var i=this.currentLayout.getNodePositions(o);this.state.nodes.updatePositions(i);var a=Qu(this.c2dCanvas.width,this.c2dCanvas.height),s=tl(a);this.canvasRenderer.processUpdates(),this.canvasRenderer.render(i,{canvas:a,context:s,backgroundColor:r,ignoreAnimations:!0}),this.createDownloadLink(n,a).click(),el(a),a=null,s=null}},{key:"prepareLargeFileForDownload",value:function(e){var t=this,n=Rl(Rl({},Ll),e),r=this.state.nodes.items,o=n.filename,i=n.backgroundColor,a=this.currentLayout.getNodePositions(r),s=dl(a,100),u=s.nodesWidth,l=s.nodesHeight,c=s.centerX,f=s.centerY,d=Math.max(Math.min(u+100,15e3),5e3),h=Math.max(Math.min(l+100,15e3),5e3);return this.isRenderingDisabled=!0,new Promise(function(e,n){try{t.setPanCoordinates(c,f);var r=Math.max(d/u-.02,t.state.minZoom),s=Math.max(h/l-.02,t.state.minZoom);t.setZoomLevel(Math.min(r,s))}catch(e){return Gr.error("An error occurred while downloading the file"),void n(e)}setTimeout(function(){try{t.currentLayout.update(t.justSwitchedLayout),t.justSwitchedLayout=!1,t.state.nodes.updatePositions(a);var r=Qu(d,h),s=tl(r);t.canvasRenderer.processUpdates(),t.canvasRenderer.render(a,{canvas:r,context:s,backgroundColor:i,ignoreAnimations:!0,showCaptions:!0}),t.createDownloadLink(o,r).click(),el(r),r=null,s=null,e(!0)}catch(e){n(e)}},500)})}},{key:"saveFullGraphToLargeFile",value:(r=kl().mark(function e(t){var n,r,o,i;return kl().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rl(Rl({},Ll),t),r=this.state.zoom,o=this.state.panX,i=this.state.panY,e.prev=4,e.next=7,this.prepareLargeFileForDownload(n);case 7:e.next=17;break;case 9:if(e.prev=9,e.t0=e.catch(4),Gr.error("An error occurred while downloading the image"),!this.callbacks.isCallbackRegistered(Bl)){e.next=16;break}this.callIfRegistered(Bl,e.t0),e.next=17;break;case 16:throw e.t0;case 17:return e.prev=17,this.isRenderingDisabled=!1,this.setZoomLevel(r),this.setPanCoordinates(o,i),e.finish(17);case 22:case"end":return e.stop()}},e,this,[[4,9,17,22]])}),o=function(){var e=this,t=arguments;return new Promise(function(n,o){var i=r.apply(e,t);function a(e){Al(i,n,o,a,s,"next",e)}function s(e){Al(i,n,o,a,s,"throw",e)}a(void 0)})},function(e){return o.apply(this,arguments)})}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ml(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Hl(e){return Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(e)}function Gl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ql(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xl(r.key),r)}}function Yl(e,t,n){return t&&ql(e.prototype,t),n&&ql(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xl(e){var t=function(e){if("object"!=Hl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Hl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Hl(t)?t:String(t)}var Kl=function(){function e(t,n){if(Gl(this,e),!t)throw new Error("Tried to create a node with no data");this.data=t,this.parent=n,this.children=[]}return Yl(e,[{key:"addChild",value:function(e){this.children.push(e)}},{key:"isRoot",value:function(){return null===this.parent}},{key:"print",value:function(){var e=this.data.name;this.isRoot()||(e="".concat(e,"\t\t").concat(function(e){for(var t=(Math.round(1e3*e)/1e3).toFixed(3);t.length<6;)t=" ".concat(t);return t}(this.data._timeSpent())," ms"),this.parent.isRoot()||(e="".concat(e,"\t").concat(this._percentageOfParentSpent(),"%")));var t=this.noOfChildren()>0;for(var n in t?(e="".concat(e,"\t Children: ").concat(this.noOfChildren()),console.groupCollapsed(e)):console.log(e),this.children)this.children[n].print();t&&console.groupEnd()}},{key:"noOfChildren",value:function(){return this.children.length}},{key:"_percentageOfParentSpent",value:function(){return Math.round(this.data._timeSpent()/this.parent.data._timeSpent()*100)}}]),e}(),$l=function(){function e(t){Gl(this,e),this.name=t,this.startTime=performance.now(),this.endTime=null}return Yl(e,[{key:"close",value:function(){this.endTime=performance.now()}},{key:"_timeSpent",value:function(){if(null===this.startTime||null===this.endTime)throw new Error("You have an error in your performance measurements that makes the whole tree unreliable. You probably forgot to call performanceTestEnd on ".concat(this.name));return this.endTime-this.startTime}}]),e}(),Zl=function(){function e(){Gl(this,e),this.root=new Kl(new $l("Performance Tree"),null),this.current=this.root}return Yl(e,[{key:"clear",value:function(){this.root.children=[],this.current=this.root}},{key:"add",value:function(e){if(this.current){var t=new Kl(e,this.current);this.current.addChild(t),this.current=t}else{if(this.root)throw new Error("Performance tree is screwed up");this.root=new Kl(e,null),this.current=this.root}}},{key:"close",value:function(){if(this.current.isRoot())throw new Error("Tried to close performance tree root. You probably have one too many Performance.endTest() in your code.");this.current.data.close(),this.current=this.current.parent}},{key:"getCurrentData",value:function(){return this.current.data}},{key:"print",value:function(){this.root.noOfChildren()>0&&this.root.print()}}]),e}(),Ql=function(){function e(){Gl(this,e),window.performance?(this.disabled=!1,this.tree=new Zl):(this.disabled=!0,this.tree=null)}return Yl(e,[{key:"startTest",value:function(e){if(!this.disabled){var t,n=e||(t="at"===(t=(new Error).stack.split("\n")[3].trim()).split(" ")[0]?t.split(" ")[1]:t.split("@")[0]),r=new $l(n);this.tree.add(r)}}},{key:"endTest",value:function(){this.disabled||this.tree.close()}},{key:"reset",value:function(){this.disabled||this.tree.clear()}},{key:"print",value:function(){this.disabled||this.tree.print()}}]),e}();function Jl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ec(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tc(e){this.channels[e]={adds:{},updates:{},removes:{}}}function nc(e){delete this.channels[e]}function rc(e){this.channels[e].adds={},this.channels[e].updates={},this.channels[e].removes={}}var oc=function(e){return"html"in e?e.html:"captionHtml"in e?e.captionHtml:void 0};function ic(e,n){var r,o=!1,i=Jl(e);try{for(i.s();!(r=i.n()).done;){var a=r.value,s=a.id;if(void 0===this.idToItem[s]){if(a=(0,t.cloneDeep)(a),this.items.push(a),this.idToItem[s]=a,this.idToPosition[s]={id:s,x:0,y:0},"x"in a&&"y"in a){var u=a,l=u.x,c=u.y;isNaN(l)||isNaN(c)||(this.idToPosition[s].x=l,this.idToPosition[s].y=c)}var f=oc(a);if(f instanceof HTMLElement){var d=document.createElement("div");Object.assign(d.style,{position:"absolute"}),d.appendChild(f),this.idToHtmlOverlay[s]=d}for(var h=Object.values(this.channels),p=0,v=h;p<v.length;p++){var g=v[p];void 0===g.removes[s]?g.adds[s]=a:(delete g.removes[s],g.updates[s]=a)}o=!0}}}catch(e){i.e(e)}finally{i.f()}o&&(this.version+=1,void 0!==n&&(n.added=!0))}function ac(e,t){var n,r=!1,o=Jl(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=i.id,s=this.idToItem[a];if(void 0!==s){Object.assign(s,i);var u=oc(i);if(u instanceof HTMLElement){var l;null===(l=this.idToHtmlOverlay[a])||void 0===l||l.remove(),delete this.idToHtmlOverlay[a];var c=document.createElement("div");Object.assign(c.style,{position:"absolute"}),c.appendChild(u),this.idToHtmlOverlay[a]=c}for(var f=Object.values(this.channels),d=0,h=f;d<h.length;d++){var p=h[d];if(void 0===p.adds[a]){var v=p.updates[a];void 0===v&&(v={id:a},p.updates[a]=v),Object.assign(v,i)}}void 0!==t&&(t.updated=!0)}r=!0}}catch(e){o.e(e)}finally{o.f()}r&&(this.version+=1)}function sc(e,t){var n,r=!1,o=Jl(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=this.idToItem[i];if(void 0!==a){var s;r=!0,delete this.idToItem[a.id],delete this.idToPosition[a.id],null===(s=this.idToHtmlOverlay[a.id])||void 0===s||s.remove(),delete this.idToHtmlOverlay[a.id],this.items.splice(this.items.indexOf(a),1);for(var u=Object.values(this.channels),l=0,c=u;l<c.length;l++){var f=c[l];void 0!==f.adds[i]?delete f.adds[i]:(delete f.updates[i],f.removes[i]=a)}}}}catch(e){o.e(e)}finally{o.f()}r&&(void 0!==t&&(t.removed=!0),this.version+=1)}function uc(e){var t,n=Jl(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(void 0!==this.idToPosition[r.id]){var o=this.idToPosition[r.id];Object.assign(o,r)}else this.idToPosition[r.id]={id:r.id,x:r.x,y:r.y,pinned:r.pinned}}}catch(e){n.e(e)}finally{n.f()}}function lc(e){for(var t in this.idToHtmlOverlay){var n=this.idToHtmlOverlay[t];e.appendChild(n)}}var cc=function(){return{idToItem:Be.shallow({}),items:Be.shallow([]),channels:Be.shallow({}),idToPosition:Be.shallow({}),idToHtmlOverlay:Be.shallow({}),version:0,addChannel:te(tc),removeChannel:te(nc),clearChannel:te(rc),add:te(ic),update:te(ac),remove:te(sc),updatePositions:te(uc),updateHtmlOverlay:te(lc)}},fc={selected:{rings:[{widthFactor:.05,color:_r},{widthFactor:.1,color:wr}],shadow:{width:10,opacity:1,color:br}},default:{rings:[]}},dc={selected:{rings:[{color:_r,width:2},{color:wr,width:4}],shadow:{width:18,opacity:1,color:br}},default:{rings:[]}},hc=.75,pc={noPan:!1,outOnly:!1,animated:!0};function vc(e){return vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(e)}function gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yc(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],o=function(e){var t=function(e){if("object"!=vc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=vc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==vc(t)?t:String(t)}(o),o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var bc=function(e,n,r){(0,t.isNil)(e)||(function(e){return"string"==typeof e&&null!==gu(e)}(e)?n(e):Hr().warn("Invalid color string for ".concat(r,":"),e))};function _c(e){return _c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(e)}function wc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wc(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],o=function(e){var t=function(e){if("object"!=_c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_c(t)?t:String(t)}(o),o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ec=function(e){var n=e.minZoom,r=e.maxZoom,o=e.allowDynamicMinZoom,i=void 0===o||o,a=e.layout,s=e.layoutOptions,u=e.styling,l=void 0===u?{}:u,c=e.panX,f=void 0===c?0:c,d=e.panY,h=void 0===d?0:d,p=e.initialZoom,v=e.renderer,g=void 0===v?!0===e.useWebGL?Ai:Ni:v,y=e.disableWebGL,m=void 0!==y&&y,b=e.disableWebWorkers,_=void 0!==b&&b,w=e.disableTelemetry,x=void 0!==w&&w;q(!0),mn.isolateGlobalState();var E=(0,t.isNil)(n)?.075:n,O=(0,t.isNil)(r)?10:r,S=function(e,t){var n=t.legacyNodeDefaultBorderColor,r=t.legacySelectedBorderColor,o=t.legacyDisabledItemColor,i=t.legacyDisabledItemFontColor,a=e.nodeDefaultBorderColor,s=void 0===a?n:a,u=e.selectedBorderColor,l=void 0===u?r:u,c=e.disabledItemColor,f=void 0===c?o:c,d=e.disabledItemFontColor,h=void 0===d?i:d,p=e.selectedInnerBorderColor,v=e.dropShadowColor,g=e.defaultNodeColor,y=e.defaultRelationshipColor,m=e.minimapViewportBoxColor,b=mc({},fc.default),_=mc({},fc.selected),w=mc({},dc.selected),x={color:mr,fontColor:"#DDDDDD"},E=yr,O=gr;return bc(p,function(e){_.rings[0].color=e,w.rings[0].color=e},"selectedInnerBorderColor"),bc(l,function(e){_.rings[1].color=e,w.rings[1].color=e},"selectedBorderColor"),bc(s,function(e){var t;b.rings=[{color:e,widthFactor:.05}],_.rings=[{color:e,widthFactor:.05}].concat(function(e){if(Array.isArray(e))return gc(e)}(t=_.rings)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return gc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gc(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},"nodeDefaultBorderColor"),bc(v,function(e){_.shadow.color=e,w.shadow.color=e},"dropShadowColor"),bc(f,function(e){x.color=e},"disabledItemColor"),bc(h,function(e){x.fontColor=e},"disabledItemFontColor"),bc(g,function(e){O=e},"defaultNodeColor"),bc(y,function(e){E=e},"defaultRelationshipColor"),{nodeBorderStyles:{default:b,selected:_},relationshipBorderStyles:{default:dc.default,selected:w},disabledItemStyles:x,defaultNodeColor:O,defaultRelationshipColor:E,minimapViewportBoxColor:m||xr}}(l,{legacyNodeDefaultBorderColor:e.nodeDefaultBorderColor,legacySelectedBorderColor:e.selectedBorderColor,legacyDisabledItemColor:e.disabledItemColor,legacyDisabledItemFontColor:e.disabledItemFontColor}),T=S.nodeBorderStyles,P=S.relationshipBorderStyles,C=S.disabledItemStyles,k=S.defaultNodeColor,A=S.defaultRelationshipColor,N=S.minimapViewportBoxColor,j=Be({zoom:p||hc,minimapZoom:hc,defaultZoomLevel:hc,panX:f,panY:h,minimapPanX:0,minimapPanY:0,fitNodeIds:[],resetZoom:!1,zoomOptions:pc,forceWebGL:!1,renderer:g,disableWebGL:m,disableWebWorkers:_,disableTelemetry:x,fitMovement:0,layout:a,layoutOptions:s,maxDistance:0,maxNodeRadius:50,nodeBorderStyles:T,relationshipBorderStyles:P,disabledItemStyles:C,defaultNodeColor:k,defaultRelationshipColor:A,minimapViewportBoxColor:N,get minZoom(){return E},get maxZoom(){return O},get minMinimapZoom(){return 0},get maxMinimapZoom(){return.2},get webGLVisible(){var e=this.fitMovement>50;return this.renderer===Ai||e},nodes:cc(),rels:cc(),graphUpdates:0,waypoints:{data:Be.shallow({}),counter:0},setGraphUpdated:te(function(){this.graphUpdates+=1}),setRenderer:te(function(e){te(function(){this.graphUpdates+=1}),this.renderer=e}),setWaypoints:te(function(e){this.waypoints.data=e,this.waypoints.counter+=1}),setZoomPan:te(function(e,t,n,r){if(i){var o=Object.values(this.nodes.idToPosition),a=yl(o,E,O,r,e,this.zoom);a!==this.zoom&&(this.zoom=a,e===a&&(this.panX=t,this.panY=n))}else{var s=gl(e,this.zoom,E,O);s!==this.zoom&&(this.zoom=s,this.panX=t,this.panY=n)}this.fitNodeIds=[],this.resetZoom=!1,this.forceWebGL=!1}),setZoom:te(function(e,t){if(i){var n=Object.values(this.nodes.idToPosition);this.zoom=yl(n,E,O,t,e,this.zoom)}else this.zoom=gl(e,this.zoom,E,O);this.fitNodeIds=[],this.fitMovement=0,this.resetZoom=!1,this.forceWebGL=!1}),setPan:te(function(e,t){this.panX=e,this.panY=t,this.fitNodeIds=[],this.resetZoom=!1,this.forceWebGL=!1}),setLayout:te(function(e){this.layout=e}),setLayoutOptions:te(function(e){this.layoutOptions=e}),fitNodes:te(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fitNodeIds=(0,t.intersection)(e,(0,t.map)(this.nodes.items,"id")),this.zoomOptions=xc(xc({},pc),n)}),setZoomReset:te(function(){this.resetZoom=!0}),clearFit:te(function(){this.fitNodeIds=[],this.forceWebGL=!1,this.fitMovement=0,this.zoomOptions=pc}),clearReset:te(function(){this.resetZoom=!1,this.fitMovement=0}),updateZoomToFit:te(function(e,t,n,r){var o;if(this.fitMovement=Math.abs(e-this.zoom)+Math.abs(t-this.panX)+Math.abs(n-this.panY),i){var a=Object.values(this.nodes.idToPosition);o=yl(a,E,O,r,e,this.zoom)}else o=gl(e,this.zoom,E,O);this.zoom=o,this.panX=t,this.panY=n}),updateMinimapZoomToFit:te(function(e,t,n){this.minimapZoom=e,this.minimapPanX=t,this.minimapPanY=n}),autorun:de,reaction:he});return j},Oc=function(e){return Boolean(e)&&"string"==typeof e.id&&e.id.length>0},Sc=om(1187);function Tc(e){return Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(e)}function Pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Cc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pc(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],o=function(e){var t=function(e){if("object"!=Tc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Tc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Tc(t)?t:String(t)}(o),o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kc(e){return function(e){if(Array.isArray(e))return Ac(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ac(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nc=function(e){return{id:e.elementId}},jc=function(e){return{id:e.elementId,from:e.startNodeElementId,to:e.endNodeElementId}},Rc=Sc.resultTransformers.mappedResultTransformer({map:function(e){return Object.values(e.toObject())},collect:function(e){var t={nodes:[],relationships:[]},n=new Map;return function(e){for(var t=kc(e),n=[];t.length;){var r=t.pop();Array.isArray(r)?t.push.apply(t,kc(r)):n.push(r)}return n}(e).forEach(function(e){(0,Sc.isNode)(e)?(t.nodes.push(Nc(e)),n.set(e.elementId,e)):(0,Sc.isPath)(e)?e.segments.forEach(function(e){t.nodes.push(Nc(e.start)),t.nodes.push(Nc(e.end)),t.relationships.push(jc(e.relationship)),n.set(e.start.elementId,e.start),n.set(e.end.elementId,e.end),n.set(e.relationship.elementId,e.relationship)}):(0,Sc.isRelationship)(e)&&(t.relationships.push(jc(e)),n.set(e.elementId,e))}),Cc(Cc({},t),{},{recordObjectMap:n})}});const Ic=(e=>{var t={};return om.d(t,e),t})({AnalyticsBrowser:()=>tm});var Mc,Dc=new Uint8Array(16);function Lc(){if(!Mc&&!(Mc="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Mc(Dc)}const Bc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Fc=[],Uc=0;Uc<256;++Uc)Fc.push((Uc+256).toString(16).substr(1));var zc,Vc,Wc=0,Hc=0;const Gc=function(e,t,n){var r=t&&n||0,o=t||new Array(16),i=(e=e||{}).node||zc,a=void 0!==e.clockseq?e.clockseq:Vc;if(null==i||null==a){var s=e.random||(e.rng||Lc)();null==i&&(i=zc=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=Vc=16383&(s[6]<<8|s[7]))}var u=void 0!==e.msecs?e.msecs:Date.now(),l=void 0!==e.nsecs?e.nsecs:Hc+1,c=u-Wc+(l-Hc)/1e4;if(c<0&&void 0===e.clockseq&&(a=a+1&16383),(c<0||u>Wc)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Wc=u,Hc=l,Vc=a;var f=(1e4*(268435455&(u+=122192928e5))+l)%4294967296;o[r++]=f>>>24&255,o[r++]=f>>>16&255,o[r++]=f>>>8&255,o[r++]=255&f;var d=u/4294967296*1e4&268435455;o[r++]=d>>>8&255,o[r++]=255&d,o[r++]=d>>>24&15|16,o[r++]=d>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var h=0;h<6;++h)o[r+h]=i[h];return t||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Fc[e[t+0]]+Fc[e[t+1]]+Fc[e[t+2]]+Fc[e[t+3]]+"-"+Fc[e[t+4]]+Fc[e[t+5]]+"-"+Fc[e[t+6]]+Fc[e[t+7]]+"-"+Fc[e[t+8]]+Fc[e[t+9]]+"-"+Fc[e[t+10]]+Fc[e[t+11]]+Fc[e[t+12]]+Fc[e[t+13]]+Fc[e[t+14]]+Fc[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&Bc.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n}(o)};function qc(e){return qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(e)}function Yc(){Yc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new A(r||[]);return o(a,"_invoke",{value:T(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",g={};function y(){}function m(){}function b(){}var _={};l(_,a,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(N([])));x&&x!==n&&r.call(x,a)&&(_=x);var E=b.prototype=y.prototype=Object.create(_);function O(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function S(e,t){function n(o,i,a,s){var u=f(e[o],e,i);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==qc(c)&&r.call(c,"__await")?t.resolve(c.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(c).then(function(e){l.value=e,a(l)},function(e){return n("throw",e,a,s)})}s(u.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t(function(t,o){n(e,r,t,o)})}return i=i?i.then(o,o):o()}})}function T(t,n,r){var o=d;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=P(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?v:h,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=v,r.method="throw",r.arg=l.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(qc(t)+" is not iterable")}return m.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},O(S.prototype),l(S.prototype,s,function(){return this}),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},O(E),l(E,u,"Generator"),l(E,a,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Xc(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function Kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$c(r.key),r)}}function $c(e){var t=function(e){if("object"!=qc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=qc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qc(t)?t:String(t)}var Zc=window.localStorage,Qc="neo4j.nvl.sTid",Jc=!1,ef=function(){function e(){var t,n,r;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),t=this,r=void 0,(n=$c(n="analytics"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r;var o=new Ic.AnalyticsBrowser;this.analytics=o}var t,n,r,o;return r=e,o=[{key:"init",value:function(e){this.analytics.load({writeKey:e}),this.analytics.addSourceMiddleware(function(e){var t=e.payload,n=e.next,r=t.obj.context.page;void 0!==r&&(r.url="",r.title="",r.search="",r.referrer="",r.path=""),n(t)})}},{key:"trackEvent",value:(t=Yc().mark(function e(t){var n;return Yc().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ready();case 2:n="".concat(t.eventPrefix?t.eventPrefix:"NVL_core","-").concat(t.event),this.analytics.track(n,t.properties).catch(function(e){Gr.warn("TRACKING: Event tracking is failed. err: ".concat(e))});case 4:case"end":return e.stop()}},e,this)}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){Xc(i,r,o,a,s,"next",e)}function s(e){Xc(i,r,o,a,s,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)})},{key:"identify",value:function(){if(!Jc){var e=this.getSegmentTrackingId();this.analytics.identify(e).catch(function(e){Gr.debug("TRACKING: Identifying user for Segment tracking failed. err: ".concat(e))}),Jc=!0}}},{key:"loadSavedSegmentId",value:function(){try{var e=Zc.getItem(Qc);return"string"==typeof e?e:null}catch(e){return Gr.debug("TRACKING: Retrieving tracking Id failed. err: ".concat(e)),null}}},{key:"getSegmentTrackingId",value:function(){var e=this.loadSavedSegmentId(),t=null!=e?e:Gc();return this.saveTrackingId(t),t}},{key:"saveTrackingId",value:function(e){Zc.setItem(Qc,e)}},{key:"ready",value:function(){return this.analytics.ready().catch(function(e){Gr.debug("TRACKING: segment track instance not ready. err: ".concat(e))})}}],o&&Kc(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}();function tf(e){return tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(e)}function nf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||of(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rf(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=of(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function of(e,t){if(e){if("string"==typeof e)return af(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?af(e,t):void 0}}function af(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sf(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=lf(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lf(e){var t=function(e){if("object"!=tf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=tf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==tf(t)?t:String(t)}function cf(e,t,n){ff(e,t),t.set(e,n)}function ff(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function df(e,t){return e.get(pf(e,t))}function hf(e,t,n){return e.set(pf(e,t),n),n}function pf(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var vf=new WeakMap,gf=new WeakMap,yf=new WeakMap,mf=new WeakMap,bf=new WeakMap,_f=new WeakMap,wf=new WeakSet,xf=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ff(this,n=wf),n.add(this),cf(this,vf,void 0),cf(this,gf,void 0),cf(this,yf,void 0),cf(this,mf,void 0),cf(this,bf,void 0),cf(this,_f,void 0),!0!==a.disableTelemetry&&(hf(_f,this,new ef),df(_f,this).init("4SGwdwzuDm5WkFvQtz7D6ATQlo14yjmW"),df(_f,this).identify()),pf(wf,this,Of).call(this,a),hf(vf,this,new i(s)),hf(gf,this,new Ql),hf(bf,this,a),df(bf,this).frame=t,this.checkWebGLCompatibility(),pf(wf,this,Ef).call(this,r,o,a)}var n,r;return n=e,r=[{key:"restart",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getNodePositions(),r=df(yf,this),o=r.zoom,i=r.layout,a=r.layoutOptions,s=r.nodes,u=r.rels;df(mf,this).destroy(),Object.assign(df(bf,this),e),pf(wf,this,Ef).call(this,s.items,u.items,df(bf,this)),this.setZoom(o),this.setLayout(i),this.setLayoutOptions(a),this.addAndUpdateElementsInGraph(s.items,u.items),t&&this.setNodePositions(n)}},{key:"addAndUpdateElementsInGraph",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];pf(wf,this,Pf).call(this,e),pf(wf,this,Cf).call(this,t,e);var n={added:!1,updated:!1};df(yf,this).nodes.update(e,uf({},n)),df(yf,this).rels.update(t,uf({},n)),df(yf,this).nodes.add(e,uf({},n)),df(yf,this).rels.add(t,uf({},n)),df(yf,this).setGraphUpdated(),df(mf,this).updateHtmlOverlay()}},{key:"getSelectedNodes",value:function(){var e=this;return df(yf,this).nodes.items.filter(function(e){return e.selected}).map(function(t){return uf(uf({},t),df(yf,e).nodes.idToPosition[t.id])})}},{key:"getSelectedRelationships",value:function(){return df(yf,this).rels.items.filter(function(e){return e.selected})}},{key:"updateElementsInGraph",value:function(e,t){var n={added:!1,updated:!1};pf(wf,this,Pf).call(this,e),pf(wf,this,Cf).call(this,t,e),df(yf,this).nodes.update(e,uf({},n)),df(yf,this).rels.update(t,uf({},n)),df(mf,this).updateHtmlOverlay()}},{key:"addElementsToGraph",value:function(e,t){pf(wf,this,Pf).call(this,e),pf(wf,this,Cf).call(this,t,e);var n={added:!1,updated:!1};df(yf,this).nodes.add(e,uf({},n)),df(yf,this).rels.add(t,uf({},n)),df(mf,this).updateHtmlOverlay()}},{key:"removeNodesWithIds",value:function(e){if(Array.isArray(e)&&!(0,t.isEmpty)(e)){var n,r={},o=rf(e);try{for(o.s();!(n=o.n()).done;)r[n.value]=!0}catch(e){o.e(e)}finally{o.f()}var i,a=[],s=rf(df(yf,this).rels.items);try{for(s.s();!(i=s.n()).done;){var u=i.value;!0!==r[u.from]&&!0!==r[u.to]||a.push(u.id)}}catch(e){s.e(e)}finally{s.f()}a.length>0&&pf(wf,this,Tf).call(this,a),pf(wf,this,Sf).call(this,e),df(yf,this).setGraphUpdated(),df(mf,this).updateHtmlOverlay()}}},{key:"removeRelationshipsWithIds",value:function(e){Array.isArray(e)&&!(0,t.isEmpty)(e)&&(pf(wf,this,Tf).call(this,e),df(yf,this).setGraphUpdated(),df(mf,this).updateHtmlOverlay())}},{key:"getNodes",value:function(){return df(mf,this).dumpNodes()}},{key:"getRelationships",value:function(){return df(mf,this).dumpRelationships()}},{key:"getNodeById",value:function(e){return df(yf,this).nodes.idToItem[e]}},{key:"getRelationshipById",value:function(e){return df(yf,this).rels.idToItem[e]}},{key:"getPositionById",value:function(e){return df(yf,this).nodes.idToPosition[e]}},{key:"getCurrentOptions",value:function(){return df(bf,this)}},{key:"destroy",value:function(){df(mf,this).destroy()}},{key:"deselectAll",value:function(){this.updateElementsInGraph(df(yf,this).nodes.items.map(function(e){return uf(uf({},e),{},{selected:!1})}),df(yf,this).rels.items.map(function(e){return uf(uf({},e),{},{selected:!1})}))}},{key:"fit",value:function(e,t){df(mf,this).fit(e,t)}},{key:"resetZoom",value:function(){df(mf,this).resetZoom()}},{key:"setUseWebGLRenderer",value:function(e){df(mf,this).setRenderer(e?Ai:Ni)}},{key:"setRenderer",value:function(e){df(mf,this).setRenderer(e)}},{key:"setDisableWebGL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];df(bf,this).disableWebGL!==e&&(df(bf,this).disableWebGL=e,this.restart())}},{key:"pinNode",value:function(e){df(yf,this).nodes.update([{id:e,pinned:!0}],{})}},{key:"unPinNode",value:function(e){df(yf,this).nodes.update(e.map(function(e){return{id:e,pinned:!1}}),{})}},{key:"setLayout",value:function(e){df(yf,this).setLayout(e)}},{key:"setLayoutOptions",value:function(e){df(yf,this).setLayoutOptions(e)}},{key:"getNodesOnScreen",value:function(){return df(mf,this).getNodesOnScreen()}},{key:"getNodePositions",value:function(){return df(mf,this).getNodePositions()}},{key:"setNodePositions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];df(mf,this).setNodePositions(e,t)}},{key:"isLayoutMoving",value:function(){return df(mf,this).isLayoutMoving()}},{key:"saveToFile",value:function(e){df(mf,this).saveToFile(e)}},{key:"saveFullGraphToLargeFile",value:function(e){df(mf,this).saveFullGraphToLargeFile(e)}},{key:"setZoom",value:function(e){df(mf,this).setZoomLevel(e)}},{key:"setPan",value:function(e,t){df(mf,this).setPanCoordinates(e,t)}},{key:"setZoomAndPan",value:function(e,t,n){df(mf,this).setZoomAndPan(e,t,n)}},{key:"getScale",value:function(){return df(mf,this).getScale()}},{key:"getPan",value:function(){return df(mf,this).getPan()}},{key:"getHits",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["node","relationship"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{hitNodeMarginWidth:0},r=df(yf,this),o=r.zoom,i=r.panX,a=r.panY,s=r.webGLVisible,u=Nu(e,df(bf,this).frame,o,i,a),l=u.x,c=u.y,f=s?function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["node","relationship"],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=[],a=[],s=n.nodes,u=n.rels;return r.includes("node")&&i.push.apply(i,ol(function(e,t){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=[],a=il(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]);try{var s=function(){var a,s=n.value,u=r[s.id];if(void 0===(null==u?void 0:u.x)||void 0===u.y)return 1;var l=(null!==(a=s.size)&&void 0!==a?a:vr)*Or(),c={x:u.x-e,y:u.y-t},f=Math.pow(l,2),d=Math.pow(l+o,2),h=Math.pow(c.x,2)+Math.pow(c.y,2),p=Math.sqrt(h);if(h<d){var v=i.findIndex(function(e){return e.distance>p});i.splice(-1!==v?v:i.length,0,{data:s,targetCoordinates:{x:u.x,y:u.y},pointerCoordinates:{x:e,y:t},distanceVector:c,distance:p,insideNode:h<f})}};for(a.s();!(n=a.n()).done;)s()}catch(e){a.e(e)}finally{a.f()}return i}(e,t,s.items,s.idToPosition,o.hitNodeMarginWidth))),r.includes("relationship")&&a.push.apply(a,ol(function(e,t){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=[],i={},a=il(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]);try{var s=function(){var a=n.value,s=a.from,u=a.to;if(void 0===i["".concat(s,".").concat(u)]){var l=r[s],c=r[u];if(void 0===(null==l?void 0:l.x)||void 0===l.y)return 0;if(void 0===(null==c?void 0:c.x)||void 0===c.y)return 0;var f=La({x:l.x,y:l.y},{x:c.x,y:c.y},{x:e,y:t});if(f<=ul){var d=o.findIndex(function(e){return e.distance>f});o.splice(-1!==d?d:o.length,0,{data:a,fromTargetCoordinates:{x:l.x,y:l.y},toTargetCoordinates:{x:c.x,y:c.y},pointerCoordinates:{x:e,y:t},distance:f})}i["".concat(s,".").concat(u)]=1,i["".concat(u,".").concat(s)]=1}};for(a.s();!(n=a.n()).done;)s()}catch(e){a.e(e)}finally{a.f()}return o}(e,t,u.items,s.idToPosition))),{nodes:i,relationships:a}}(l,c,df(yf,this),t,n):function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["node","relationship"],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=[],a=[];return r.includes("node")&&i.push.apply(i,ol(n.getCanvasNodesAt({x:e,y:t},o.hitNodeMarginWidth))),r.includes("relationship")&&a.push.apply(a,ol(n.getCanvasRelsAt({x:e,y:t}))),{nodes:i,relationships:a}}(l,c,df(mf,this),t,n);return uf(uf({},e),{},{nvlTargets:f})}},{key:"getContainer",value:function(){return df(bf,this).frame}},{key:"checkWebGLCompatibility",value:function(){var e=df(bf,this).disableWebGL;if(void 0===e||!e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("canvas");try{return Boolean(void 0!==window.WebGLRenderingContext&&(null!==e.getContext("webgl")||null!==e.getContext("experimental-webgl")))}catch(e){return!1}}();if(!t){if(void 0!==e)throw new Do("Could not initialize WebGL");df(bf,this).renderer=Ni,console.warn("GPU acceleration is not available on your browser. Falling back to CPU layout and rendering. You can disable this warning by setting the disableWebGL option to true.")}void 0===e&&(df(bf,this).disableWebGL=!t)}}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lf(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function Ef(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};hf(yf,this,Ec(o)),o.minimapContainer instanceof HTMLElement||delete o.minimapContainer,hf(mf,this,new Wl(df(yf,this),o)),this.addAndUpdateElementsInGraph(n,r),df(mf,this).on("restart",this.restart.bind(this));var i,a,s=rf((i=df(vf,this).callbacks,Object.entries(i)));try{for(s.s();!(a=s.n()).done;){var u=nf(a.value,2),l=u[0];void 0!==u[1]&&df(mf,this).on(l,df(vf,this)[l].bind(df(vf,this)))}}catch(e){s.e(e)}finally{s.f()}var c=null===(e=df(bf,this).frame)||void 0===e?void 0:e.getAttribute("id");!0!==df(bf,this).disableTelemetry&&setTimeout(function(){df(mf,t).isDestroyed()||df(_f,t).trackEvent({eventPrefix:Sr.includes(c)?c:null,event:"instantiated",properties:{}})},200)}function Of(e){var t,n=e.logging;void 0!==(null==n?void 0:n.level)&&(t=n.level,Gr.setLevel(t),function(e,t){var n=e.methodFactory;e.methodFactory=function(e,r,o){var i=n(e,r,o);return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];"function"==typeof t.logger?t.logger.apply(t,[e].concat(r)):i.apply(void 0,r)}},e.setLevel(e.getLevel())}(Gr,n))}function Sf(e){var t=Array.isArray(e)?e:[e],n=df(yf,this),r=n.nodes,o=n.fitNodeIds;r.remove(t,{removed:!1}),o.length&&void 0!==t.find(function(e){return o.includes(e)})&&df(yf,this).fitNodes(o.filter(function(e){return!t.includes(e)}))}function Tf(e){var t=Array.isArray(e)?e:[e];df(yf,this).rels.remove(t,{removed:!1})}function Pf(e){var t=e.find(function(e){return!function(e){return Boolean(e)&&"string"==typeof e.id&&e.id.length>0}(e)});if(t){var n="";throw/^\d+$/.test(t.id)||(n=" Node ids need to be numeric strings. Strings that contain anything other than numbers are not yet supported."),new TypeError("Invalid node provided: ".concat(JSON.stringify(t),".").concat(n))}}function Cf(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n="",r=null,o=df(yf,this),i=o.nodes,a=o.rels,s={},u=0;u<t.length;u++){var l=t[u];s[l.id]=l}for(var c=uf(uf({},i.idToItem),s),f=a.idToItem,d=0;d<e.length;d++){var h=e[d];if(!Oc(h)){r=h,/^\d+$/.test(h.id)&&(n=" Node ids need to be numeric strings. Strings that contain anything other than numbers are not yet supported.");break}if(void 0===f[h.id]){var p=c[h.from],v=c[h.to];if(void 0===p){n=' Node with id "'.concat(h.from,'" does not exist.'),r=h;break}if(void 0===v){n=' Node with id "'.concat(h.to,'" does not exist.'),r=h;break}}}if(null!==r)throw new TypeError("Invalid relationship provided: ".concat(JSON.stringify(r),".").concat(n))}var kf={textColorForBackground:vu};const Af=xf})();var am=im.Ay;var sm=n(3536);const um=(e,t)=>{const n=(0,sm.keyBy)(e,"id"),r=(0,sm.keyBy)(t,"id"),o=(0,sm.sortBy)((0,sm.keys)(n)),i=(0,sm.sortBy)((0,sm.keys)(r)),a=[],s=[],u=[];let l=0,c=0;for(;l<o.length&&c<i.length;){const e=o[l],t=i[c];void 0!==e&&void 0!==t&&(e===t?((0,sm.isEqual)(n[e],r[t])||u.push(t),l+=1,c+=1):e<t?(s.push(e),l+=1):(a.push(t),c+=1))}for(;l<o.length;){const e=o[l];void 0!==e&&(s.push(e),l+=1)}for(;c<i.length;){const e=i[c];void 0!==e&&(a.push(e),c+=1)}return{added:a.map(e=>r[e]).filter(e=>!(0,sm.isNil)(e)),removed:s.map(e=>n[e]).filter(e=>!(0,sm.isNil)(e)),updated:u.map(e=>r[e]).filter(e=>!(0,sm.isNil)(e))}};function lm(e){const t=(0,r.useRef)();return function(e,t){return(0,sm.isEqual)(e,t)}(e,t.current)||(t.current=e),t.current}const cm=(0,r.memo)((0,r.forwardRef)((e,t)=>{let{nodes:n,rels:o,layout:i,layoutOptions:a,nvlCallbacks:s={},nvlOptions:u={},positions:l=[],onInitializationError:c,...f}=e;const d=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,()=>Object.getOwnPropertyNames(am.prototype).reduce((e,t)=>({...e,[t]:function(){return null===d.current?null:d.current[t](...arguments)}}),{}));const h=(0,r.useRef)(null),[p,v]=(0,r.useState)(n),[g,y]=(0,r.useState)(o);return(0,r.useEffect)(()=>{let e=null;if(null!==h.current&&null===d.current){const t={...u,layoutOptions:a};void 0!==i&&(t.layout=i);try{e=new am(h.current,p,g,t,s),d.current=e,y(o),v(n)}catch(qm){if("function"!==typeof c)throw qm;c(qm)}}return()=>{e?.destroy(),d.current=null}},[]),(0,r.useEffect)(()=>{if(null===d.current)return;const e=um(p,n),t=((e,t)=>{const n=(0,sm.keyBy)(e,"id");return t.map(e=>{const t=n[e.id];return void 0===t?null:(0,sm.transform)(e,(e,n,r)=>{"id"!==r&&n===t[r]||Object.assign(e,{[r]:n})})}).filter(e=>null!==e&&Object.keys(e).length>1)})(p,n),r=um(g,o);y(o),v(n),d.current.addAndUpdateElementsInGraph([...e.added,...t],[...r.added,...r.updated]),d.current.removeRelationshipsWithIds(r.removed.map(e=>e.id)),d.current.removeNodesWithIds(e.removed.map(e=>e.id))},[p,g,n,o]),(0,r.useEffect)(()=>{const e=i??u.layout;null!==d.current&&void 0!==e&&d.current.setLayout(e)},[i,u.layout]),((e,t)=>{(0,r.useEffect)(e,t.map(lm))})(()=>{const e=a??u?.layoutOptions;null!==d.current&&void 0!==e&&d.current.setLayoutOptions(e)},[a,u.layoutOptions]),(0,r.useEffect)(()=>{null!==d.current&&void 0!==u.useWebGL&&d.current.setUseWebGLRenderer(u.useWebGL)},[u.useWebGL]),(0,r.useEffect)(()=>{null!==d.current&&void 0!==u.renderer&&d.current.setRenderer(u.renderer)}),(0,r.useEffect)(()=>{null!==d.current&&void 0!==u.disableWebGL&&d.current.setDisableWebGL(u.disableWebGL)},[u.disableWebGL]),(0,r.useEffect)(()=>{null!==d.current&&0!==l.length&&d.current.setNodePositions(l)},[l]),(0,gt.jsx)("div",{id:"NVL_basic-wrapper",ref:h,style:{height:"100%",outline:"0"},...f})})),fm=10,dm=3,hm="#a9a9a9",pm="#e0e0e0",vm=[10,15],gm=.5;class ym{ctx;canvas;removeResizeListener;constructor(e){const t=document.createElement("canvas");t.style.position="absolute",t.style.top="0",t.style.bottom="0",t.style.left="0",t.style.right="0",t.style.touchAction="none",e?.appendChild(t);const n=t.getContext("2d");this.ctx=n,this.canvas=t;const r=()=>{this.fixCanvasSize(t)};e?.addEventListener("resize",r),this.removeResizeListener=()=>e?.removeEventListener("resize",r),this.fixCanvasSize(t)}fixCanvasSize(e){const t=e.parentElement;if(!t)return;const n=t.getBoundingClientRect(),{width:r}=n,{height:o}=n,i=window.devicePixelRatio||1;e.width=r*i,e.height=o*i,e.style.width=`${r}px`,e.style.height=`${o}px`}drawBox(e,t,n,r){const{ctx:o}=this;if(null===o)return;this.clear(),o.save(),o.beginPath(),o.rect(e,t,n-e,r-t),o.closePath(),o.strokeStyle=hm;const i=window.devicePixelRatio||1;o.lineWidth=dm*i,o.fillStyle=pm,o.globalAlpha=gm,o.setLineDash(vm),o.stroke(),o.fill(),o.restore()}drawLasso(e,t,n){const{ctx:r}=this;if(null===r)return;r.save(),this.clear(),r.beginPath();let o=0;for(const a of e){const{x:e,y:t}=a;0===o?r.moveTo(e,t):r.lineTo(e,t),o+=1}const i=window.devicePixelRatio||1;r.strokeStyle=hm,r.setLineDash(vm),r.lineWidth=dm*i,r.fillStyle=pm,r.globalAlpha=gm,t&&r.stroke(),n&&r.fill(),r.restore()}clear(){const{ctx:e,canvas:t}=this;if(null===e)return;const n=t.getBoundingClientRect(),r=window.devicePixelRatio||1;e.clearRect(0,0,n.width*r,n.height*r)}destroy(){const{canvas:e}=this;this.removeResizeListener(),e.remove()}}class mm{nvl;options;container;callbackMap;constructor(e,t){this.nvl=e,this.options=t,this.container=this.nvl.getContainer(),this.callbackMap=new Map}get nvlInstance(){return this.nvl}get currentOptions(){return this.options}get containerInstance(){return this.container}addEventListener=(e,t,n)=>{this.container?.addEventListener(e,t,n)};removeEventListener=(e,t,n)=>{this.container?.removeEventListener(e,t,n)};callCallbackIfRegistered=(()=>{var e=this;return function(t){const n=e.callbackMap.get(t);if("function"===typeof n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];n(...o)}}})();updateCallback=(e,t)=>{this.callbackMap.set(e,t)};removeCallback=e=>{this.callbackMap.delete(e)}}const bm=e=>Math.floor(Math.random()*Math.pow(10,e)).toString(),_m=(e,t)=>{const n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);if(n>10||r>10)return!0;return Math.pow(n,2)+Math.pow(r,2)>10},wm=(e,t)=>{const n=e.getBoundingClientRect(),r=window.devicePixelRatio||1;return{x:(t.clientX-n.left)*r,y:(t.clientY-n.top)*r}},xm=(e,t)=>{const n=e.getScale(),r=e.getPan(),o=e.getContainer(),{width:i,height:a}=o.getBoundingClientRect(),s=window.devicePixelRatio||1,u=t.x-.5*i*s,l=t.y-.5*a*s;return{x:r.x+u/n,y:r.y+l/n}};class Em extends mm{mousePosition;startWorldPosition;overlayRenderer;isBoxSelecting;constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{selectOnRelease:!1}),this.mousePosition={x:0,y:0},this.startWorldPosition={x:0,y:0},this.overlayRenderer=new ym(this.containerInstance),this.isBoxSelecting=!1,this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("mousemove",this.handleDrag,!0),this.addEventListener("mouseup",this.endBoxSelect,!0),this.addEventListener("mouseleave",this.endBoxSelect,!0)}handleMouseDown=e=>{0===e.button?this.turnOnBoxSelect(e):this.isBoxSelecting=!1};handleDrag=e=>{if(this.isBoxSelecting){const t=wm(this.containerInstance,e);this.overlayRenderer.drawBox(this.mousePosition.x,this.mousePosition.y,t.x,t.y)}else 1===e.buttons&&this.turnOnBoxSelect(e)};getHitsInBox=(e,t)=>{const n=(e,t,n)=>{const r=Math.min(t.x,n.x),o=Math.max(t.x,n.x),i=Math.min(t.y,n.y),a=Math.max(t.y,n.y);return e.x>=r&&e.x<=o&&e.y>=i&&e.y<=a},r=this.nvlInstance.getNodePositions(),o=new Set;for(const s of r)n(s,e,t)&&o.add(s.id);const i=this.nvlInstance.getRelationships(),a=[];for(const s of i)o.has(s.from)&&o.has(s.to)&&a.push(s);return{nodes:Array.from(o).map(e=>this.nvlInstance.getNodeById(e)),rels:a}};endBoxSelect=e=>{if(!this.isBoxSelecting)return;this.isBoxSelecting=!1,this.overlayRenderer.clear();const t=wm(this.containerInstance,e),n=xm(this.nvlInstance,t),{nodes:r,rels:o}=this.getHitsInBox(this.startWorldPosition,n);!0===this.currentOptions.selectOnRelease&&this.nvlInstance.updateElementsInGraph(r.map(e=>({id:e.id,selected:!0})),o.map(e=>({id:e.id,selected:!0}))),this.callCallbackIfRegistered("onBoxSelect",{nodes:r,rels:o},e)};destroy(){this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("mousemove",this.handleDrag,!0),this.removeEventListener("mouseup",this.endBoxSelect,!0),this.removeEventListener("mouseleave",this.endBoxSelect,!0),this.overlayRenderer.destroy()}turnOnBoxSelect(e){this.mousePosition=wm(this.containerInstance,e),this.startWorldPosition=xm(this.nvlInstance,this.mousePosition);this.nvlInstance.getHits(e,["node"],{hitNodeMarginWidth:fm}).nvlTargets.nodes.length>0?this.isBoxSelecting=!1:(this.isBoxSelecting=!0,this.callCallbackIfRegistered("onBoxStarted",e),!0===this.currentOptions.selectOnRelease&&this.nvlInstance.deselectAll())}}class Om extends mm{moved;mousePosition;constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{selectOnClick:!1}),this.mousePosition={x:0,y:0},this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("click",this.handleClick,!0),this.addEventListener("dblclick",this.handleDoubleClick,!0),this.addEventListener("contextmenu",this.handleRightClick,!0)}handleMouseDown=e=>{this.mousePosition={x:e.clientX,y:e.clientY}};handleRightClick=e=>{e.preventDefault();const{nvlTargets:t}=this.nvlInstance.getHits(e),{nodes:n=[],relationships:r=[]}=t;0!==n.length||0!==r.length?n.length>0?this.callCallbackIfRegistered("onNodeRightClick",n[0]?.data,t,e):r.length>0&&this.callCallbackIfRegistered("onRelationshipRightClick",r[0]?.data,t,e):this.callCallbackIfRegistered("onCanvasRightClick",e)};handleDoubleClick=e=>{const{nvlTargets:t}=this.nvlInstance.getHits(e),{nodes:n=[],relationships:r=[]}=t;0!==n.length||0!==r.length?n.length>0?this.callCallbackIfRegistered("onNodeDoubleClick",n[0]?.data,t,e):r.length>0&&this.callCallbackIfRegistered("onRelationshipDoubleClick",r[0]?.data,t,e):this.callCallbackIfRegistered("onCanvasDoubleClick",e)};handleClick=e=>{if(_m(e,this.mousePosition)||0!==e.button)return;const{nvlTargets:t}=this.nvlInstance.getHits(e),{nodes:n=[],relationships:r=[]}=t;if(0===n.length&&0===r.length)return!0===this.currentOptions.selectOnClick&&this.nvlInstance.deselectAll(),void this.callCallbackIfRegistered("onCanvasClick",e);if(n.length>0){const r=n.map(e=>e.data);if(!0===this.currentOptions.selectOnClick){const e=this.nvlInstance.getSelectedNodes(),t=this.nvlInstance.getSelectedRelationships(),n=[...r[0]?[{id:r[0].id,selected:!0}]:[],...e.map(e=>({id:e.id,selected:!1}))],o=t.map(e=>({...e,selected:!1}));this.nvlInstance.updateElementsInGraph(n,o)}this.callCallbackIfRegistered("onNodeClick",n[0]?.data,t,e)}else if(r.length>0){const n=r.map(e=>e.data);if(!0===this.currentOptions.selectOnClick){const e=this.nvlInstance.getSelectedNodes(),t=this.nvlInstance.getSelectedRelationships(),r=e.map(e=>({id:e.id,selected:!1})),o=[...n[0]?[{id:n[0].id,selected:!0}]:[],...t.map(e=>({...e,selected:!1}))];this.nvlInstance.updateElementsInGraph(r,o)}this.callCallbackIfRegistered("onRelationshipClick",r[0]?.data,t,e)}};destroy=()=>{this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("click",this.handleClick,!0),this.removeEventListener("dblclick",this.handleDoubleClick,!0),this.removeEventListener("contextmenu",this.handleRightClick,!0)}}class Sm extends mm{mousePosition;mouseDownNode;isDragging;isDrawing;selectedNodes;moveSelectedNodes;constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.mousePosition={x:0,y:0},this.isDragging=!1,this.isDrawing=!1,this.selectedNodes=[],this.moveSelectedNodes=!1,this.addEventListener("mousedown",this.handleMouseDown),this.addEventListener("mousemove",this.handleMouseMove),this.addEventListener("mouseup",this.handleMouseUp)}handleMouseDown=e=>{this.mousePosition={x:e.clientX,y:e.clientY};const t=this.nvlInstance.getHits(e,["node"],{hitNodeMarginWidth:fm}),n=t.nvlTargets.nodes.filter(e=>e.insideNode);t.nvlTargets.nodes.filter(e=>!e.insideNode).length>0?(this.isDrawing=!0,this.mouseDownNode=null):n.length>0?this.mouseDownNode=t.nvlTargets.nodes[0]??null:this.mouseDownNode=null,this.selectedNodes=this.nvlInstance.getSelectedNodes(),null!==this.mouseDownNode&&this.selectedNodes.map(e=>e.id).includes(this.mouseDownNode.data.id)?this.moveSelectedNodes=!0:this.moveSelectedNodes=!1};handleMouseMove=e=>{if(null===this.mouseDownNode||1!==e.buttons||this.isDrawing)return;if(!_m(e,this.mousePosition))return;this.isDragging||(this.moveSelectedNodes?this.callCallbackIfRegistered("onDragStart",this.selectedNodes,e):this.callCallbackIfRegistered("onDragStart",[this.mouseDownNode.data],e),this.isDragging=!0);const t=this.nvlInstance.getScale(),n=(e.clientX-this.mousePosition.x)/t*window.devicePixelRatio,r=(e.clientY-this.mousePosition.y)/t*window.devicePixelRatio;this.moveSelectedNodes?(this.nvlInstance.setNodePositions(this.selectedNodes.map(e=>({id:e.id,x:e.x+n,y:e.y+r,pinned:!0})),!0),this.callCallbackIfRegistered("onDrag",this.selectedNodes,e)):(this.nvlInstance.setNodePositions([{id:this.mouseDownNode.data.id,x:this.mouseDownNode.targetCoordinates.x+n,y:this.mouseDownNode.targetCoordinates.y+r,pinned:!0}],!0),this.callCallbackIfRegistered("onDrag",[this.mouseDownNode.data],e))};handleMouseUp=e=>{this.isDragging&&(this.moveSelectedNodes?this.callCallbackIfRegistered("onDragEnd",this.selectedNodes,e):this.callCallbackIfRegistered("onDragEnd",[this.mouseDownNode?.data],e)),this.isDragging=!1,this.mouseDownNode=null,this.isDrawing=!1,this.selectedNodes=[],this.moveSelectedNodes=!1};destroy=()=>{this.removeEventListener("mousedown",this.handleMouseDown),this.removeEventListener("mousemove",this.handleMouseMove),this.removeEventListener("mouseup",this.handleMouseUp)}}const Tm={color:"black",size:25},Pm={color:"red",width:1};class Cm extends mm{isMoved;isDrawing;isDraggingNode;mouseDownNode;newTempTargetNode;newTempRegularRelationshipToNewTempTargetNode;newTempRegularRelationshipToExistingNode;newTempSelfReferredRelationship;newTargetNodeToAdd;newRelationshipToAdd;mouseOutsideOfNvlArea;constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.isMoved=!1,this.isDrawing=!1,this.isDraggingNode=!1,this.nvlInstance.setLayout("free"),this.addEventListener("mousemove",this.handleMouseMove,!0),this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("mouseup",this.handleMouseUp,!0),this.containerInstance?.addEventListener("mouseleave",this.handleMouseLeaveNvl),this.containerInstance?.addEventListener("mouseenter",this.handleMouseEnterNvl),document.addEventListener("mouseup",this.handleMouseUpGlobal,!0)}cancelDrawing=()=>{this.nvlInstance.removeRelationshipsWithIds([this.newTempRegularRelationshipToNewTempTargetNode?.id,this.newTempRegularRelationshipToExistingNode?.id,this.newTempSelfReferredRelationship?.id].filter(e=>Boolean(e))),this.nvlInstance.removeNodesWithIds(this.newTempTargetNode?.id?[this.newTempTargetNode?.id]:[]),this.newTempTargetNode=null,this.newTempRegularRelationshipToNewTempTargetNode=null,this.newTempRegularRelationshipToExistingNode=null,this.newTempSelfReferredRelationship=null,this.isMoved=!1,this.isDrawing=!1,this.isDraggingNode=!1};handleMouseUpGlobal=e=>{this.isDrawing&&this.mouseOutsideOfNvlArea&&this.cancelDrawing()};handleMouseLeaveNvl=()=>{this.mouseOutsideOfNvlArea=!0};handleMouseEnterNvl=()=>{this.mouseOutsideOfNvlArea=!1};handleMouseMove=e=>{if(this.isMoved=!0,this.isDrawing){const t=wm(this.containerInstance,e),n=xm(this.nvlInstance,t),r=this.nvlInstance.getHits(e,["node"]),[o]=r.nvlTargets.nodes.filter(e=>e.data.id!==this.newTempTargetNode?.id),i=o?{id:o.data.id,x:o.targetCoordinates.x,y:o.targetCoordinates.y,size:o.data.size}:void 0,a=bm(13),s=i?null:{id:a,size:this.currentOptions.ghostGraphStyling?.node?.size??Tm.size,selected:!1,x:n.x,y:n.y},u=bm(13),l=this.mouseDownNode?.data?{id:u,from:this.mouseDownNode.data.id,to:i?i.id:a}:null;let{x:c,y:f}=n,d=this.currentOptions.ghostGraphStyling?.node?.size??Tm.size;o?(c=o.targetCoordinates.x,f=o.targetCoordinates.y,d=o.data.size??d,o.data.id!==this.mouseDownNode?.data.id||this.newTempSelfReferredRelationship?o.data.id===this.mouseDownNode?.data.id||this.newTempRegularRelationshipToExistingNode||(this.nvlInstance.removeRelationshipsWithIds([this.newTempSelfReferredRelationship?.id,this.newTempRegularRelationshipToNewTempTargetNode?.id].filter(e=>Boolean(e))),this.newTempSelfReferredRelationship=null,this.newTempRegularRelationshipToNewTempTargetNode=null,this.setNewRegularRelationshipToExistingNode(o.data.id),this.newTempRegularRelationshipToExistingNode&&this.nvlInstance.addElementsToGraph([],[this.newTempRegularRelationshipToExistingNode])):(this.nvlInstance.removeRelationshipsWithIds([this.newTempRegularRelationshipToNewTempTargetNode?.id,this.newTempRegularRelationshipToExistingNode?.id].filter(e=>Boolean(e))),this.newTempRegularRelationshipToNewTempTargetNode=null,this.newTempRegularRelationshipToExistingNode=null,this.setNewSelfReferredRelationship(),this.newTempSelfReferredRelationship&&this.nvlInstance.addElementsToGraph([],[this.newTempSelfReferredRelationship]))):this.newTempRegularRelationshipToNewTempTargetNode||(this.nvlInstance.removeRelationshipsWithIds([this.newTempSelfReferredRelationship?.id,this.newTempRegularRelationshipToExistingNode?.id].filter(e=>Boolean(e))),this.newTempSelfReferredRelationship=null,this.newTempRegularRelationshipToExistingNode=null,this.setNewRegularRelationshipToNewTempTargetNode(),this.nvlInstance.addElementsToGraph([],this.newTempRegularRelationshipToNewTempTargetNode?[this.newTempRegularRelationshipToNewTempTargetNode]:[])),this.newTempTargetNode&&(this.nvlInstance.setNodePositions([{id:this.newTempTargetNode.id,x:c,y:f}]),this.nvlInstance.updateElementsInGraph([{id:this.newTempTargetNode.id,x:c,y:f,size:d}],[])),this.newRelationshipToAdd=l,this.newTargetNodeToAdd=s}else if(!this.isDraggingNode){this.newRelationshipToAdd=null,this.newTargetNodeToAdd=null;const t=this.nvlInstance.getHits(e,["node"],{hitNodeMarginWidth:fm}).nvlTargets.nodes.filter(e=>!e.insideNode);if(t.length>0){const[e]=t;this.callCallbackIfRegistered("onHoverNodeMargin",e?.data)}else this.callCallbackIfRegistered("onHoverNodeMargin",null)}};setNewRegularRelationship(e){return this.mouseDownNode?{id:bm(13),from:this.mouseDownNode.data.id,to:e,color:this.currentOptions.ghostGraphStyling?.relationship?.color??Pm.color,width:this.currentOptions.ghostGraphStyling?.relationship?.width??Pm.width}:null}setNewRegularRelationshipToNewTempTargetNode(){this.mouseDownNode&&this.newTempTargetNode&&(this.newTempRegularRelationshipToNewTempTargetNode=this.setNewRegularRelationship(this.newTempTargetNode.id))}setNewRegularRelationshipToExistingNode(e){this.mouseDownNode&&(this.newTempRegularRelationshipToExistingNode=this.setNewRegularRelationship(e))}setNewSelfReferredRelationship(){this.mouseDownNode&&(this.newTempSelfReferredRelationship={id:bm(13),from:this.mouseDownNode.data.id,to:this.mouseDownNode.data.id,color:this.currentOptions.ghostGraphStyling?.relationship?.color??Pm.color,width:this.currentOptions.ghostGraphStyling?.relationship?.width??Pm.width})}handleMouseDown=e=>{this.callCallbackIfRegistered("onHoverNodeMargin",null),this.isMoved=!1,this.newRelationshipToAdd=null,this.newTargetNodeToAdd=null;const t=this.nvlInstance.getHits(e,["node"],{hitNodeMarginWidth:fm}),n=t.nvlTargets.nodes.filter(e=>e.insideNode),r=t.nvlTargets.nodes.filter(e=>!e.insideNode),o=n.length>0,i=r.length>0;if((o||i)&&(e.preventDefault(),this.containerInstance?.focus()),o)this.isDraggingNode=!0,this.isDrawing=!1;else if(i){this.isDrawing=!0,this.isDraggingNode=!1,this.mouseDownNode=r[0];const t=wm(this.containerInstance,e),n=xm(this.nvlInstance,t),o=this.currentOptions.ghostGraphStyling?.node?.color??Tm.color,i=document.createElement("div");i.style.width="110%",i.style.height="110%",i.style.position="absolute",i.style.left="-5%",i.style.top="-5%",i.style.borderRadius="50%",i.style.backgroundColor=o,this.newTempTargetNode={id:bm(13),size:this.currentOptions.ghostGraphStyling?.node?.size??Tm.size,selected:!1,x:n.x,y:n.y,html:i},this.setNewRegularRelationshipToNewTempTargetNode(),this.nvlInstance.addAndUpdateElementsInGraph([this.newTempTargetNode],this.newTempRegularRelationshipToNewTempTargetNode?[this.newTempRegularRelationshipToNewTempTargetNode]:[]),this.callCallbackIfRegistered("onDrawStarted",e)}else this.mouseDownNode=void 0,this.isDrawing=!1,this.isDraggingNode=!1};handleMouseUp=e=>{this.nvlInstance.removeRelationshipsWithIds([this.newTempRegularRelationshipToNewTempTargetNode?.id,this.newTempRegularRelationshipToExistingNode?.id,this.newTempSelfReferredRelationship?.id].filter(e=>Boolean(e))),this.nvlInstance.removeNodesWithIds(this.newTempTargetNode?.id?[this.newTempTargetNode?.id]:[]),this.isDrawing&&this.isMoved&&(this.newTargetNodeToAdd&&this.nvlInstance.setNodePositions([this.newTargetNodeToAdd]),this.nvlInstance.addAndUpdateElementsInGraph(this.newTargetNodeToAdd?[{id:this.newTargetNodeToAdd.id}]:[],this.newRelationshipToAdd?[this.newRelationshipToAdd]:[]),this.callCallbackIfRegistered("onDrawEnded",this.newRelationshipToAdd,this.newTargetNodeToAdd,e)),this.newTempTargetNode=null,this.newTempRegularRelationshipToNewTempTargetNode=null,this.newTempRegularRelationshipToExistingNode=null,this.newTempSelfReferredRelationship=null,this.isMoved=!1,this.isDrawing=!1,this.isDraggingNode=!1};destroy=()=>{this.removeEventListener("mousemove",this.handleMouseMove,!0),this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("mouseup",this.handleMouseUp,!0),this.containerInstance?.removeEventListener("mouseleave",this.handleMouseLeaveNvl),this.containerInstance?.removeEventListener("mouseenter",this.handleMouseEnterNvl),document.removeEventListener("mouseup",this.handleMouseUpGlobal,!0)}}class km extends mm{currentHoveredElement;currentHoveredElementIsNode;updates;constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{drawShadowOnHover:!1}),this.updates={nodes:[],relationships:[]},this.addEventListener("mousemove",this.handleHover,!0)}handleHover=e=>{const{nvlTargets:t}=this.nvlInstance.getHits(e),{nodes:n=[],relationships:r=[]}=t,o=n[0]??r[0],i=o?.data;this.currentElementNeedsUnHover(i?.id)&&this.unHoverCurrentElement();if(void 0!==i&&void 0!==n[0])this.updates.nodes.push({id:i.id,hovered:!0}),this.currentHoveredElement=i,this.currentHoveredElementIsNode=!0;else if(void 0!==o){const{id:e,from:t,to:n}=i;this.updates.relationships.push({id:e,from:t,to:n,hovered:!0}),this.currentHoveredElement=i,this.currentHoveredElementIsNode=!1}else this.currentHoveredElement=void 0,this.currentHoveredElementIsNode=void 0;if(this.callCallbackIfRegistered("onHover",this.currentHoveredElement,t,e),!0===this.currentOptions.drawShadowOnHover){this.nvlInstance.getNodes().length>0&&this.nvlInstance.updateElementsInGraph(this.updates.nodes,this.updates.relationships)}this.clearUpdates()};clearUpdates(){this.updates.nodes=[],this.updates.relationships=[]}currentElementNeedsUnHover(e){return void 0!==this.currentHoveredElement&&this.currentHoveredElement.id!==e}unHoverCurrentElement(){if(void 0===this.currentHoveredElement)return;const e={id:this.currentHoveredElement.id,hovered:!1};if(!0===this.currentHoveredElementIsNode)this.updates.nodes.push(e);else{const{from:t,to:n}=this.currentHoveredElement;this.updates.relationships.push({...e,from:t,to:n})}}destroy(){this.removeEventListener("mousemove",this.handleHover,!0)}}var Am=n(3863),Nm=n.n(Am);const jm=(e,t,n,r)=>{const o=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(0===o)return!1;const i=((e[1]-n[1])*(r[0]-n[0])-(e[0]-n[0])*(r[1]-n[1]))/o,a=((n[0]-e[0])*(t[1]-e[1])-(n[1]-e[1])*(t[0]-e[0]))/o;return i>0&&i<1&&a>0&&a<1},Rm=(e,t,n)=>{let r=!1;for(let o=0,i=n.length-1;o<n.length;i=o,o+=1){const a=n[o],s=n[i];if(void 0===a||void 0===s)continue;const{x:u,y:l}=a,{x:c,y:f}=s;l>t!==f>t&&e<(c-u)*(t-l)/(f-l)+u&&(r=!r)}return r};class Im extends mm{active;points;overlayRenderer;constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{selectOnRelease:!1}),this.overlayRenderer=new ym(this.containerInstance),this.active=!1,this.points=[],this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("mousemove",this.handleDrag,!0),this.addEventListener("mouseup",this.handleMouseUp,!0),this.addEventListener("mouseleave",this.endLasso,!0)}startLasso=e=>{this.nvlInstance.getHits(e,["node"],{hitNodeMarginWidth:fm}).nvlTargets.nodes.length>0?this.active=!1:(this.active=!0,this.points=[wm(this.containerInstance,e)],this.callCallbackIfRegistered("onLassoStarted",e),!0===this.currentOptions.selectOnRelease&&this.nvlInstance.deselectAll())};handleMouseDown=e=>{0!==e.button||this.active||this.startLasso(e)};handleDrag=e=>{if(this.active){const t=this.points[this.points.length-1];if(void 0===t)return;const n=wm(this.containerInstance,e),r=Math.abs(t.x-n.x),o=Math.abs(t.y-n.y);(r>10||o>10)&&(this.points.push(n),this.overlayRenderer.drawLasso(this.points,!0,!1))}};handleMouseUp=e=>{this.points.push(wm(this.containerInstance,e)),this.endLasso(e)};getLassoItems=e=>{const t=e.map(e=>xm(this.nvlInstance,e)),n=this.nvlInstance.getNodePositions(),r=new Set;for(const a of n)void 0!==a.x&&void 0!==a.y&&void 0!==a.id&&Rm(a.x,a.y,t)&&r.add(a.id);const o=this.nvlInstance.getRelationships(),i=[];for(const a of o)r.has(a.from)&&r.has(a.to)&&i.push(a);return{nodes:Array.from(r).map(e=>this.nvlInstance.getNodeById(e)),rels:i}};endLasso=e=>{if(!this.active)return;this.active=!1;const t=this.points.map(e=>[e.x,e.y]),n=(e=>{for(let t=0;t<e.length-1;t++)for(let n=t+2;n<e.length;n++){const r=e[t]??[0,0],o=e[t+1]??[0,0],i=e[n]??[0,0],a=e[n<e.length-1?n+1:0]??[0,0];if(jm(r,o,i,a))return!0}return!1})(t),r=(n?Nm()(t,2):t).map(e=>({x:e[0],y:e[1]})).filter(e=>void 0!==e.x&&void 0!==e.y);this.overlayRenderer.drawLasso(r,!1,!0),setTimeout(()=>this.overlayRenderer.clear(),500);const o=this.getLassoItems(r);!0===this.currentOptions.selectOnRelease&&this.nvlInstance.updateElementsInGraph(o.nodes.map(e=>({id:e.id,selected:!0})),o.rels.map(e=>({id:e.id,selected:!0}))),this.callCallbackIfRegistered("onLassoSelect",o,e)};destroy(){this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("mousemove",this.handleDrag,!0),this.removeEventListener("mouseup",this.endLasso,!0),this.removeEventListener("mouseleave",this.endLasso,!0),this.overlayRenderer.destroy()}}class Mm extends mm{mousePosition;targets;shouldPan;constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{excludeNodeMargin:!1}),this.mousePosition={x:0,y:0},this.targets=[],this.shouldPan=!1,this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("mousemove",this.handleMouseMove,!0),this.addEventListener("mouseup",this.handleMouseUp,!0)}updateTargets=(e,t)=>{this.targets=e,this.currentOptions.excludeNodeMargin=t};handleMouseDown=e=>{const t=this.nvlInstance.getHits(e,(0,sm.difference)(["node","relationship"],this.targets),{hitNodeMarginWidth:!0===this.currentOptions.excludeNodeMargin?fm:0});t.nvlTargets.nodes.length>0||t.nvlTargets.relationships.length>0?this.shouldPan=!1:(this.mousePosition={x:e.clientX,y:e.clientY},this.shouldPan=!0)};handleMouseMove=e=>{if(!this.shouldPan||1!==e.buttons)return;const t=this.nvlInstance.getScale(),{x:n,y:r}=this.nvlInstance.getPan(),o=(e.clientX-this.mousePosition.x)/t*window.devicePixelRatio,i=(e.clientY-this.mousePosition.y)/t*window.devicePixelRatio;this.nvlInstance.setPan(n-o,r-i),this.callCallbackIfRegistered("onPan",{x:n-o,y:r-i},e),this.mousePosition={x:e.clientX,y:e.clientY}};handleMouseUp=()=>{this.shouldPan=!1};destroy(){this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("mousemove",this.handleMouseMove,!0),this.removeEventListener("mouseup",this.handleMouseUp,!0)}}class Dm extends mm{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.addEventListener("wheel",this.handleWheel)}throttledZoom=(()=>(0,sm.throttle)(e=>{const t=this.nvlInstance.getScale(),{x:n,y:r}=this.nvlInstance.getPan(),o=t-e.deltaY/500*Math.min(1,t),i=((e,t)=>{const n=e.getBoundingClientRect(),r=window.devicePixelRatio||1;return{x:(t.clientX-n.left-.5*n.width)*r,y:(t.clientY-n.top-.5*n.height)*r}})(this.containerInstance,e),a=n+(i.x/t-i.x/o),s=r+(i.y/t-i.y/o);this.nvlInstance.setZoomAndPan(o,a,s),this.callCallbackIfRegistered("onZoom",o,e)},25,{leading:!0}))();handleWheel=e=>{e.preventDefault(),this.throttledZoom(e)};destroy=()=>{this.removeEventListener("wheel",this.handleWheel)}}const Lm=e=>{e.current?.destroy(),e.current=null},Bm=(e,t,n,o,i,a)=>{(0,r.useEffect)(()=>{const r=i.current?.getContainer();(0,sm.isNil)(r)||(!0!==n&&"function"!==typeof n||(0,sm.isNil)(i.current)?!1===n&&Lm(t):((0,sm.isNil)(t.current)&&(t.current=new e(i.current,a)),"function"===typeof n?t.current.updateCallback(o,n):(0,sm.isNil)(t.current.callbackMap[o])||t.current.removeCallback(o)))},[e,n,o,a,t,i])},Fm={selectOnClick:!1,drawShadowOnHover:!0,selectOnRelease:!1,excludeNodeMargin:!0},Um=(0,r.memo)((0,r.forwardRef)((e,t)=>{let{nodes:n,rels:o,layout:i,layoutOptions:a,onInitializationError:s,mouseEventCallbacks:u={},nvlCallbacks:l={},nvlOptions:c={},interactionOptions:f=Fm,...d}=e;const h=(0,r.useRef)(null),p=t??h,{onHover:v,onNodeClick:g,onNodeDoubleClick:y,onNodeRightClick:m,onRelationshipClick:b,onRelationshipDoubleClick:_,onRelationshipRightClick:w,onCanvasClick:x,onCanvasRightClick:E,onPan:O,onZoom:S,onDrag:T,onDragStart:P,onDragEnd:C,onDrawStarted:k,onDrawEnded:A,onHoverNodeMargin:N,onBoxStarted:j,onBoxSelect:R,onLassoStarted:I,onLassoSelect:M}=u,D=(0,r.useRef)(null),L=(0,r.useRef)(null),B=(0,r.useRef)(null),F=(0,r.useRef)(null),U=(0,r.useRef)(null),z=(0,r.useRef)(null),V=(0,r.useRef)(null),W=(0,r.useRef)(null);return Bm(km,D,v,"onHover",p,f),Bm(Om,L,g,"onNodeClick",p,f),Bm(Om,L,y,"onNodeDoubleClick",p,f),Bm(Om,L,m,"onNodeRightClick",p,f),Bm(Om,L,b,"onRelationshipClick",p,f),Bm(Om,L,_,"onRelationshipDoubleClick",p,f),Bm(Om,L,w,"onRelationshipRightClick",p,f),Bm(Om,L,x,"onCanvasClick",p,f),Bm(Om,L,E,"onCanvasRightClick",p,f),Bm(Mm,B,O,"onPan",p,f),Bm(Dm,F,S,"onZoom",p,f),Bm(Sm,U,T,"onDrag",p,f),Bm(Sm,U,P,"onDragStart",p,f),Bm(Sm,U,C,"onDragEnd",p,f),Bm(Cm,z,N,"onHoverNodeMargin",p,f),Bm(Cm,z,k,"onDrawStarted",p,f),Bm(Cm,z,A,"onDrawEnded",p,f),Bm(Em,V,j,"onBoxStarted",p,f),Bm(Em,V,R,"onBoxSelect",p,f),Bm(Im,W,I,"onLassoStarted",p,f),Bm(Im,W,M,"onLassoSelect",p,f),(0,r.useEffect)(()=>()=>{Lm(D),Lm(L),Lm(B),Lm(F),Lm(U),Lm(z),Lm(V),Lm(W)},[]),(0,gt.jsx)(cm,{ref:p,nodes:n,id:"NVL_interactive-wrapper",rels:o,nvlOptions:c,nvlCallbacks:l,layout:i,layoutOptions:a,onInitializationError:s,...d})})),zm=e=>{let{nodes:t,relationships:n,onNodeSelect:o}=e;const i=(0,r.useRef)(null),[a,s]=(0,r.useState)(!1),u=t.map(e=>({id:e.id,caption:e.caption||e.id,type:e.type,properties:{...e.properties,color:e.color},labels:e.labels||[e.type]})),l=n.map(e=>({id:e.id,from:e.from,to:e.to,caption:e.caption||e.type,type:e.type,properties:e.properties})),c={onPan:!0,onZoom:!0,onDrag:!0,onNodeClick:e=>{if(o){const n=t.find(t=>t.id===e.id);n&&o(n)}},onNodeHover:e=>{},onBackgroundClick:()=>{}},f={onLayoutDone:()=>{a||(s(!0),i.current&&u.length>0&&setTimeout(()=>{var e;null===(e=i.current)||void 0===e||e.fit()},100))}};return(0,r.useEffect)(()=>{i.current&&a&&setTimeout(()=>{var e;null===(e=i.current)||void 0===e||e.fit()},100)},[t,n,a]),0===u.length?(0,gt.jsx)("div",{className:"flex items-center justify-center h-96 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:(0,gt.jsxs)("div",{className:"text-center",children:[(0,gt.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),(0,gt.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No graph data"}),(0,gt.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"No nodes or relationships available to visualize."})]})}):(0,gt.jsx)("div",{className:"w-full h-96 lg:h-[600px] border rounded-lg overflow-hidden",children:(0,gt.jsx)(Um,{ref:i,nodes:u,rels:l,nvlOptions:{allowDynamicMinZoom:!0,disableTelemetry:!0,initialZoom:1,maxZoom:3,minZoom:.1},nvlCallbacks:f,mouseEventCallbacks:c})})},Vm=e=>{let{onRefresh:t,onSourceChange:n,currentSource:r}=e;return(0,gt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,gt.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,gt.jsx)(Ye,{className:"mr-2 text-blue-600"}),"Graph Controls"]}),(0,gt.jsxs)("div",{className:"space-y-4",children:[(0,gt.jsxs)("div",{children:[(0,gt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Source"}),(0,gt.jsxs)("div",{className:"space-y-2",children:[(0,gt.jsxs)(bt,{size:"sm",variant:"auto"===r?"primary":"secondary",onClick:()=>n("auto"),className:"w-full justify-start",children:[(0,gt.jsx)(Fe,{className:"mr-2"}),"Auto (Smart Selection)"]}),(0,gt.jsxs)(bt,{size:"sm",variant:"neo4j"===r?"primary":"secondary",onClick:()=>n("neo4j"),className:"w-full justify-start",children:[(0,gt.jsx)(We,{className:"mr-2"}),"Neo4j Knowledge Graph"]}),(0,gt.jsxs)(bt,{size:"sm",variant:"postgresql"===r?"primary":"secondary",onClick:()=>n("postgresql"),className:"w-full justify-start",children:[(0,gt.jsx)(We,{className:"mr-2"}),"PostgreSQL Database"]})]})]}),(0,gt.jsx)("div",{className:"border-t pt-4",children:(0,gt.jsxs)(bt,{size:"sm",variant:"secondary",onClick:t,className:"w-full",children:[(0,gt.jsx)(at,{className:"mr-2"}),"Refresh Graph"]})})]}),(0,gt.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,gt.jsx)("h4",{className:"text-sm font-medium text-gray-800 mb-2",children:"Legend"}),(0,gt.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,gt.jsxs)("div",{className:"flex items-center",children:[(0,gt.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),(0,gt.jsx)("span",{children:"Deck"})]}),(0,gt.jsxs)("div",{className:"flex items-center",children:[(0,gt.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),(0,gt.jsx)("span",{children:"Flashcard"})]}),(0,gt.jsxs)("div",{className:"flex items-center",children:[(0,gt.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-2"}),(0,gt.jsx)("span",{children:"Answer"})]}),(0,gt.jsxs)("div",{className:"flex items-center",children:[(0,gt.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded-full mr-2"}),(0,gt.jsx)("span",{children:"Memory"})]}),(0,gt.jsxs)("div",{className:"flex items-center",children:[(0,gt.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-2"}),(0,gt.jsx)("span",{children:"Weakness"})]})]})]}),(0,gt.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[(0,gt.jsx)("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Interaction Tips"}),(0,gt.jsxs)("ul",{className:"text-xs text-blue-700 space-y-1",children:[(0,gt.jsx)("li",{children:"\u2022 Click nodes to view details"}),(0,gt.jsx)("li",{children:"\u2022 Drag to pan the graph"}),(0,gt.jsx)("li",{children:"\u2022 Scroll to zoom in/out"}),(0,gt.jsx)("li",{children:"\u2022 Drag nodes to reposition"})]})]})]})},Wm=e=>{let{node:t,onClose:n}=e;const r=e=>null===e||void 0===e?"N/A":"object"===typeof e?JSON.stringify(e,null,2):"boolean"===typeof e?e?"Yes":"No":"string"===typeof e&&e.length>100?e.substring(0,100)+"...":String(e),o=()=>{const e={...t.properties};delete e.name,delete e.question,delete e.color;return Object.entries(e).filter(e=>{let[t,n]=e;return null!==n&&void 0!==n&&""!==n})};return(0,gt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,gt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,gt.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[(e=>{switch(e){case"deck":return(0,gt.jsx)(We,{className:"text-blue-600"});case"flashcard":return(0,gt.jsx)(tt,{className:"text-green-600"});case"answer":return(0,gt.jsx)($e,{className:"text-yellow-600"});case"memory":return(0,gt.jsx)(Fe,{className:"text-purple-600"});case"weakness":return(0,gt.jsx)(Ge,{className:"text-red-600"});default:return(0,gt.jsx)(st,{className:"text-gray-600"})}})(t.type),(0,gt.jsx)("span",{className:"ml-2",children:"Node Details"})]}),(0,gt.jsx)(bt,{size:"sm",variant:"secondary",onClick:n,className:"p-2",children:(0,gt.jsx)(lt,{})})]}),(0,gt.jsxs)("div",{className:"space-y-4",children:[(0,gt.jsxs)("div",{children:[(0,gt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,gt.jsx)("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:t.caption||t.properties.name||t.properties.question||t.id})]}),(0,gt.jsxs)("div",{children:[(0,gt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,gt.jsxs)("div",{className:"flex items-center",children:[(0,gt.jsx)("span",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:t.color}}),(0,gt.jsx)("span",{className:"text-sm text-gray-900 capitalize",children:t.type})]})]}),(0,gt.jsxs)("div",{children:[(0,gt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),(0,gt.jsx)("p",{className:"text-sm text-gray-600 font-mono bg-gray-50 p-2 rounded",children:t.id})]}),t.labels&&t.labels.length>0&&(0,gt.jsxs)("div",{children:[(0,gt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Labels"}),(0,gt.jsx)("div",{className:"flex flex-wrap gap-1",children:t.labels.map((e,t)=>(0,gt.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:e},t))})]}),o().length>0&&(0,gt.jsxs)("div",{children:[(0,gt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Properties"}),(0,gt.jsx)("div",{className:"space-y-2",children:o().map(e=>{let[t,n]=e;return(0,gt.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,gt.jsx)("div",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide mb-1",children:t.replace(/([A-Z])/g," $1").trim()}),(0,gt.jsx)("div",{className:"text-sm text-gray-900",children:r(n)})]},t)})})]}),"flashcard"===t.type&&(0,gt.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,gt.jsx)("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Flashcard Info"}),(0,gt.jsxs)("div",{className:"space-y-2 text-sm",children:[t.properties.question&&(0,gt.jsxs)("div",{children:[(0,gt.jsx)("strong",{className:"text-blue-700",children:"Question:"}),(0,gt.jsx)("p",{className:"text-blue-900 mt-1",children:t.properties.question})]}),t.properties.answer&&(0,gt.jsxs)("div",{children:[(0,gt.jsx)("strong",{className:"text-blue-700",children:"Answer:"}),(0,gt.jsx)("p",{className:"text-blue-900 mt-1",children:t.properties.answer})]}),void 0!==t.properties.score&&(0,gt.jsxs)("div",{children:[(0,gt.jsx)("strong",{className:"text-blue-700",children:"Score:"}),(0,gt.jsx)("span",{className:"text-blue-900 ml-1",children:t.properties.score})]})]})]}),"deck"===t.type&&(0,gt.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,gt.jsx)("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"Deck Info"}),(0,gt.jsxs)("div",{className:"space-y-2 text-sm",children:[t.properties.description&&(0,gt.jsxs)("div",{children:[(0,gt.jsx)("strong",{className:"text-green-700",children:"Description:"}),(0,gt.jsx)("p",{className:"text-green-900 mt-1",children:t.properties.description})]}),t.properties.createdAt&&(0,gt.jsxs)("div",{children:[(0,gt.jsx)("strong",{className:"text-green-700",children:"Created:"}),(0,gt.jsx)("span",{className:"text-green-900 ml-1",children:new Date(t.properties.createdAt).toLocaleDateString()})]})]})]}),"weakness"===t.type&&(0,gt.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[(0,gt.jsx)("h4",{className:"text-sm font-medium text-red-800 mb-2",children:"Learning Gap"}),(0,gt.jsxs)("div",{className:"space-y-2 text-sm",children:[t.properties.content&&(0,gt.jsxs)("div",{children:[(0,gt.jsx)("strong",{className:"text-red-700",children:"Details:"}),(0,gt.jsx)("p",{className:"text-red-900 mt-1",children:t.properties.content})]}),t.properties.topic&&(0,gt.jsxs)("div",{children:[(0,gt.jsx)("strong",{className:"text-red-700",children:"Topic:"}),(0,gt.jsx)("span",{className:"text-red-900 ml-1",children:t.properties.topic})]})]})]})]})]})},Hm=()=>{const[e,t]=(0,r.useState)({nodes:[],relationships:[]}),[n,o]=(0,r.useState)(null),[i,a]=(0,r.useState)(!0),[s,u]=(0,r.useState)(null),[l,c]=(0,r.useState)("auto"),[f,d]=(0,r.useState)({nodeCount:0,relationshipCount:0,source:""}),h=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto";a(!0),u(null);try{const n=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto";const t=`${ht}/graph?source=${e}`;try{const n=await fetch(t),r=await n.json();return n.ok?r:{success:!1,error:r.error||"Failed to fetch graph data",data:{nodes:[],relationships:[]},nodeCount:0,relationshipCount:0,source:e}}catch(s){return{success:!1,error:s.message||"Network error",data:{nodes:[],relationships:[]},nodeCount:0,relationshipCount:0,source:e}}}(e);n.success?(t(n.data),d({nodeCount:n.nodeCount,relationshipCount:n.relationshipCount,source:n.source})):u(n.error||"Failed to fetch graph data")}catch(n){u("Network error: Unable to fetch graph data"),console.error("Graph data fetch error:",n)}finally{a(!1)}};(0,r.useEffect)(()=>{h(l)},[l]);const p=()=>{h(l)},v=e=>{c(e)};return i?(0,gt.jsx)(mt,{className:"py-20 text-center",children:(0,gt.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,gt.jsx)(ot,{className:"text-6xl text-blue-600 animate-spin mb-4"}),(0,gt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Loading Graph Data"}),(0,gt.jsx)("p",{className:"text-gray-600",children:"Fetching knowledge graph visualization..."})]})}):s?(0,gt.jsx)(mt,{className:"py-20 text-center",children:(0,gt.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,gt.jsx)(We,{className:"text-6xl text-red-600 mb-4"}),(0,gt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Error Loading Graph"}),(0,gt.jsx)("p",{className:"text-gray-600 mb-4",children:s}),(0,gt.jsx)(bt,{onClick:p,variant:"primary",children:"Try Again"})]})}):(0,gt.jsxs)(mt,{className:"py-8",children:[(0,gt.jsxs)("div",{className:"mb-8",children:[(0,gt.jsxs)("h1",{className:"text-4xl font-extrabold text-gray-900 mb-4 flex items-center",children:[(0,gt.jsx)(et,{className:"mr-4 text-blue-600"}),"Knowledge Graph Visualization"]}),(0,gt.jsx)("p",{className:"text-xl text-gray-700 mb-6",children:"Explore the relationships between your learning materials, progress, and knowledge gaps."}),(0,gt.jsxs)("div",{className:"flex flex-wrap items-center justify-between mb-6",children:[(0,gt.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,gt.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Data Source:"}),(0,gt.jsxs)("div",{className:"flex space-x-2",children:[(0,gt.jsxs)(bt,{size:"sm",variant:"auto"===l?"primary":"secondary",onClick:()=>v("auto"),children:[(0,gt.jsx)(Fe,{className:"mr-2"}),"Auto"]}),(0,gt.jsxs)(bt,{size:"sm",variant:"neo4j"===l?"primary":"secondary",onClick:()=>v("neo4j"),children:[(0,gt.jsx)(We,{className:"mr-2"}),"Neo4j"]}),(0,gt.jsxs)(bt,{size:"sm",variant:"postgresql"===l?"primary":"secondary",onClick:()=>v("postgresql"),children:[(0,gt.jsx)(We,{className:"mr-2"}),"PostgreSQL"]})]})]}),(0,gt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,gt.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,gt.jsx)("span",{className:"font-medium",children:"Nodes:"})," ",f.nodeCount," |"," ",(0,gt.jsx)("span",{className:"font-medium",children:"Relationships:"})," ",f.relationshipCount," |"," ",(0,gt.jsx)("span",{className:"font-medium",children:"Source:"})," ",f.source]}),(0,gt.jsx)(bt,{size:"sm",variant:"secondary",onClick:p,children:"Refresh"})]})]})]}),(0,gt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,gt.jsx)("div",{className:"lg:col-span-3",children:(0,gt.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,gt.jsx)(zm,{nodes:e.nodes,relationships:e.relationships,onNodeSelect:e=>{o(e)}})})}),(0,gt.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,gt.jsx)(Vm,{onRefresh:p,onSourceChange:v,currentSource:l}),n&&(0,gt.jsx)(Wm,{node:n,onClose:()=>o(null)})]})]}),0===e.nodes.length&&(0,gt.jsxs)("div",{className:"text-center py-12",children:[(0,gt.jsx)(We,{className:"text-6xl text-gray-400 mx-auto mb-4"}),(0,gt.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Graph Data Available"}),(0,gt.jsx)("p",{className:"text-gray-600 mb-4",children:"No nodes or relationships were found in the current data source."}),(0,gt.jsx)("p",{className:"text-gray-500 text-sm",children:"Try creating some flashcard decks or importing documents to populate the graph."})]})]})};const Gm=function(){return(0,gt.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,gt.jsx)(yt,{}),(0,gt.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,gt.jsxs)(ge,{children:[(0,gt.jsx)(pe,{path:"/",element:(0,gt.jsx)(_t,{})}),(0,gt.jsx)(pe,{path:"/decks",element:(0,gt.jsx)(Ot,{})}),(0,gt.jsx)(pe,{path:"/decks/:id/play",element:(0,gt.jsx)(Pt,{})}),(0,gt.jsx)(pe,{path:"/import",element:(0,gt.jsx)(Ct,{})}),(0,gt.jsx)(pe,{path:"/text-import",element:(0,gt.jsx)(Rt,{})}),(0,gt.jsx)(pe,{path:"/feedback",element:(0,gt.jsx)(It,{})}),(0,gt.jsx)(pe,{path:"/graph",element:(0,gt.jsx)(Hm,{})})]})})]})};i.createRoot(document.getElementById("root")).render((0,gt.jsx)(r.StrictMode,{children:(0,gt.jsx)(Oe,{children:(0,gt.jsx)(Gm,{})})}))})()})();
//# sourceMappingURL=main.6d9e1dfd.js.map